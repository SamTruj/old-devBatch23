var bh=Object.defineProperty;var Ch=(e,t,n)=>t in e?bh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Vn=(e,t,n)=>(Ch(e,typeof t!="symbol"?t+"":t,n),n);function makeMap(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const GLOBALS_WHITE_LISTED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",isGloballyWhitelisted=makeMap(GLOBALS_WHITE_LISTED);function normalizeStyle(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=isString$1(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(isString$1(e))return e;if(isObject$1(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$1(e))t=e;else if(isArray$1(e))for(let n=0;n<e.length;n++){const r=normalizeClass(e[n]);r&&(t+=r+" ")}else if(isObject$1(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function normalizeProps(e){if(!e)return null;let{class:t,style:n}=e;return t&&!isString$1(t)&&(e.class=normalizeClass(t)),n&&(e.style=normalizeStyle(n)),e}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=looseEqual(e[r],t[r]);return n}function looseEqual(e,t){if(e===t)return!0;let n=isDate$1(e),r=isDate$1(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=isSymbol(e),r=isSymbol(t),n||r)return e===t;if(n=isArray$1(e),r=isArray$1(t),n||r)return n&&r?looseCompareArrays(e,t):!1;if(n=isObject$1(e),r=isObject$1(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const a in e){const u=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(u&&!l||!u&&l||!looseEqual(e[a],t[a]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(n=>looseEqual(n,t))}const toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$1(e)||isObject$1(e)&&(e.toString===objectToString$1||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$1(t)&&!isArray$1(t)&&!isPlainObject$2(t)?String(t):t,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate$1=e=>toTypeString(e)==="[object Date]",isRegExp$1=e=>toTypeString(e)==="[object RegExp]",isFunction=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$1=e=>e!==null&&typeof e=="object",isPromise$1=e=>isObject$1(e)&&isFunction(e.then)&&isFunction(e.catch),objectToString$1=Object.prototype.toString,toTypeString=e=>objectToString$1.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$2=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate$1=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},def=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString$1(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope&&activeEffectScope.cleanups.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];wasTracked(o)&&!newTracked(o)?o.delete(e):t[n++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}t.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,r)}run(){if(!this.active)return this.fn();let t=activeEffect,n=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function effect(e,t){e.effect&&(e=e.effect.fn);const n=new ReactiveEffect(e);t&&(extend(n,t),t.scope&&recordEffectScope(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function stop(e){e.effect.stop()}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,n){if(shouldTrack&&activeEffect){let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=createDep()),trackEffects(o)}}function trackEffects(e,t){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,n=!wasTracked(e)):n=!e.has(activeEffect),n&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,n,r,o,s){const a=targetMap.get(e);if(!a)return;let u=[];if(t==="clear")u=[...a.values()];else if(n==="length"&&isArray$1(e)){const l=Number(r);a.forEach((m,y)=>{(y==="length"||y>=l)&&u.push(m)})}else switch(n!==void 0&&u.push(a.get(n)),t){case"add":isArray$1(e)?isIntegerKey(n)&&u.push(a.get("length")):(u.push(a.get(ITERATE_KEY)),isMap(e)&&u.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(u.push(a.get(ITERATE_KEY)),isMap(e)&&u.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&u.push(a.get(ITERATE_KEY));break}if(u.length===1)u[0]&&triggerEffects(u[0]);else{const l=[];for(const m of u)m&&l.push(...m);triggerEffects(createDep(l))}}function triggerEffects(e,t){const n=isArray$1(e)?e:[...e];for(const r of n)r.computed&&triggerEffect(r);for(const r of n)r.computed||triggerEffect(r)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function getDepFromReactive(e,t){var n;return(n=targetMap.get(e))===null||n===void 0?void 0:n.get(t)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=toRaw(this);for(let s=0,a=this.length;s<a;s++)track(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){pauseTracking();const r=toRaw(this)[t].apply(this,n);return resetTracking(),r}}),e}function hasOwnProperty(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}function createGetter(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(r))return r;const a=isArray$1(r);if(!e){if(a&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,s);if(o==="hasOwnProperty")return hasOwnProperty}const u=Reflect.get(r,o,s);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(e||track(r,"get",o),t)?u:isRef(u)?a&&isIntegerKey(o)?u:u.value:isObject$1(u)?e?readonly(u):reactive(u):u}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(n,r,o,s){let a=n[r];if(isReadonly(a)&&isRef(a)&&!isRef(o))return!1;if(!e&&(!isShallow(o)&&!isReadonly(o)&&(a=toRaw(a),o=toRaw(o)),!isArray$1(n)&&isRef(a)&&!isRef(o)))return a.value=o,!0;const u=isArray$1(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn(n,r),l=Reflect.set(n,r,o,s);return n===toRaw(s)&&(u?hasChanged(o,a)&&trigger(n,"set",r,o):trigger(n,"add",r,o)),l}}function deleteProperty(e,t){const n=hasOwn(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&trigger(e,"delete",t,void 0),r}function has$1(e,t){const n=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),n}function ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,n=!1,r=!1){e=e.__v_raw;const o=toRaw(e),s=toRaw(t);n||(t!==s&&track(o,"get",t),track(o,"get",s));const{has:a}=getProto(o),u=r?toShallow:n?toReadonly:toReactive;if(a.call(o,t))return u(e.get(t));if(a.call(o,s))return u(e.get(s));e!==o&&e.get(t)}function has(e,t=!1){const n=this.__v_raw,r=toRaw(n),o=toRaw(e);return t||(e!==o&&track(r,"has",e),track(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function size$1(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set(e,t){t=toRaw(t);const n=toRaw(this),{has:r,get:o}=getProto(n);let s=r.call(n,e);s||(e=toRaw(e),s=r.call(n,e));const a=o.call(n,e);return n.set(e,t),s?hasChanged(t,a)&&trigger(n,"set",e,t):trigger(n,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:n,get:r}=getProto(t);let o=n.call(t,e);o||(e=toRaw(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&trigger(t,"delete",e,void 0),s}function clear(){const e=toRaw(this),t=e.size!==0,n=e.clear();return t&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,t){return function(r,o){const s=this,a=s.__v_raw,u=toRaw(a),l=t?toShallow:e?toReadonly:toReactive;return!e&&track(u,"iterate",ITERATE_KEY),a.forEach((m,y)=>r.call(o,l(m),l(y),s))}}function createIterableMethod(e,t,n){return function(...r){const o=this.__v_raw,s=toRaw(o),a=isMap(s),u=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,m=o[e](...r),y=n?toShallow:t?toReadonly:toReactive;return!t&&track(s,"iterate",l?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:d,done:f}=m.next();return f?{value:d,done:f}:{value:u?[y(d[0]),y(d[1])]:y(d),done:f}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(s){return get(this,s)},get size(){return size$1(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(s){return get(this,s,!1,!0)},get size(){return size$1(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(s){return get(this,s,!0)},get size(){return size$1(this,!0)},has(s){return has.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},r={get(s){return get(this,s,!0,!0)},get size(){return size$1(this,!0)},has(s){return has.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=createIterableMethod(s,!1,!1),n[s]=createIterableMethod(s,!0,!1),t[s]=createIterableMethod(s,!1,!0),r[s]=createIterableMethod(s,!0,!0)}),[e,n,t,r]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const n=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(hasOwn(n,o)&&o in r?n:r,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,n,r,o){if(!isObject$1(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=getTargetType(e);if(a===0)return e;const u=new Proxy(e,a===2?r:n);return o.set(e,u),u}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$1(e)?reactive(e):e,toReadonly=e=>isObject$1(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e);const n=e.dep;n&&triggerEffects(n)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const n=this.__v_isShallow||isShallow(t)||isReadonly(t);t=n?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:toReactive(t),triggerRefValue(this))}}function triggerRef(e){triggerRefValue(e)}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>unref(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return isRef(o)&&!isRef(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class CustomRefImpl{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function customRef(e){return new CustomRefImpl(e)}function toRefs(e){const t=isArray$1(e)?new Array(e.length):{};for(const n in e)t[n]=toRef(e,n);return t}class ObjectRefImpl{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function toRef(e,t,n){const r=e[t];return isRef(r)?r:new ObjectRefImpl(e,t,n)}var _a$1;class ComputedRefImpl{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}_a$1="__v_isReadonly";function computed$1(e,t,n=!1){let r,o;const s=isFunction(e);return s?(r=e,o=NOOP):(r=e.get,o=e.set),new ComputedRefImpl(r,o,s||!o,n)}function warn(e,...t){}function assertNumber(e,t){}function callWithErrorHandling(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){handleError(s,t,n)}return o}function callWithAsyncErrorHandling(e,t,n,r){if(isFunction(e)){const s=callWithErrorHandling(e,t,n,r);return s&&isPromise$1(s)&&s.catch(a=>{handleError(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(callWithAsyncErrorHandling(e[s],t,n,r));return o}function handleError(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,u=n;for(;s;){const m=s.ec;if(m){for(let y=0;y<m.length;y++)if(m[y](e,a,u)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){callWithErrorHandling(l,null,10,[e,a,u]);return}}logError(e,n,o,r)}function logError(e,t,n,r=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick$1(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const r=t+n>>>1;getId(queue[r])<e?t=r+1:n=r}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const n=queue[t];n&&n.pre&&(queue.splice(t,1),t--,n())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((n,r)=>getId(n)-getId(r)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const n=getId(e)-getId(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let devtools,buffer=[];function setDevtoolsHook(e,t){var n,r;devtools=e,devtools?(devtools.enabled=!0,buffer.forEach(({event:o,args:s})=>devtools.emit(o,...s)),buffer=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{setDevtoolsHook(s,t)}),setTimeout(()=>{devtools||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer=[])},3e3)):buffer=[]}function emit(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||EMPTY_OBJ;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const y=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:f}=r[y]||EMPTY_OBJ;f&&(o=n.map(v=>isString$1(v)?v.trim():v)),d&&(o=n.map(looseToNumber))}let u,l=r[u=toHandlerKey(t)]||r[u=toHandlerKey(camelize(t))];!l&&s&&(l=r[u=toHandlerKey(hyphenate$1(t))]),l&&callWithAsyncErrorHandling(l,e,6,o);const m=r[u+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,callWithAsyncErrorHandling(m,e,6,o)}}function normalizeEmitsOptions(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let a={},u=!1;if(!isFunction(e)){const l=m=>{const y=normalizeEmitsOptions(m,t,!0);y&&(u=!0,extend(a,y))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!u?(isObject$1(e)&&r.set(e,null),null):(isArray$1(s)?s.forEach(l=>a[l]=null):extend(a,s),isObject$1(e)&&r.set(e,a),a)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate$1(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}const withScopeId=e=>withCtx;function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(t);let a;try{a=e(...o)}finally{setCurrentRenderingInstance(s),r._d&&setBlockTracking(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[a],slots:u,attrs:l,emit:m,render:y,renderCache:d,data:f,setupState:v,ctx:A,inheritAttrs:I}=e;let P,O;const R=setCurrentRenderingInstance(e);try{if(n.shapeFlag&4){const k=o||r;P=normalizeVNode(y.call(k,k,d,s,v,f,A)),O=l}else{const k=t;P=normalizeVNode(k.length>1?k(s,{attrs:l,slots:u,emit:m}):k(s,null)),O=t.props?l:getFunctionalFallthrough(l)}}catch(k){blockStack.length=0,handleError(k,e,1),P=createVNode(Comment)}let M=P;if(O&&I!==!1){const k=Object.keys(O),{shapeFlag:U}=M;k.length&&U&7&&(a&&k.some(isModelListener)&&(O=filterModelListeners(O,a)),M=cloneVNode(M,O))}return n.dirs&&(M=cloneVNode(M),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&(M.transition=n.transition),P=M,setCurrentRenderingInstance(R),P}function filterSingleRoot(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(isVNode(r)){if(r.type!==Comment||r.children==="v-if"){if(t)return;t=r}}else return}return t}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const r in e)(!isModelListener(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function shouldUpdateComponent(e,t,n){const{props:r,children:o,component:s}=e,{props:a,children:u,patchFlag:l}=t,m=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?hasPropsChanged(r,a,m):!!a;if(l&8){const y=t.dynamicProps;for(let d=0;d<y.length;d++){const f=y[d];if(a[f]!==r[f]&&!isEmitListener(m,f))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:r===a?!1:r?a?hasPropsChanged(r,a,m):!0:!!a;return!1}function hasPropsChanged(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!isEmitListener(n,s))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const isSuspense=e=>e.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(e,t,n,r,o,s,a,u,l,m){e==null?mountSuspense(t,n,r,o,s,a,u,l,m):patchSuspense(e,t,n,r,o,a,u,l,m)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(e,t){const n=e.props&&e.props[t];isFunction(n)&&n()}function mountSuspense(e,t,n,r,o,s,a,u,l){const{p:m,o:{createElement:y}}=l,d=y("div"),f=e.suspense=createSuspenseBoundary(e,o,r,t,d,n,s,a,u,l);m(null,f.pendingBranch=e.ssContent,d,null,r,f,s,a),f.deps>0?(triggerEvent(e,"onPending"),triggerEvent(e,"onFallback"),m(null,e.ssFallback,t,n,r,null,s,a),setActiveBranch(f,e.ssFallback)):f.resolve()}function patchSuspense(e,t,n,r,o,s,a,u,{p:l,um:m,o:{createElement:y}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,v=t.ssFallback,{activeBranch:A,pendingBranch:I,isInFallback:P,isHydrating:O}=d;if(I)d.pendingBranch=f,isSameVNodeType(f,I)?(l(I,f,d.hiddenContainer,null,o,d,s,a,u),d.deps<=0?d.resolve():P&&(l(A,v,n,r,o,null,s,a,u),setActiveBranch(d,v))):(d.pendingId++,O?(d.isHydrating=!1,d.activeBranch=I):m(I,o,d),d.deps=0,d.effects.length=0,d.hiddenContainer=y("div"),P?(l(null,f,d.hiddenContainer,null,o,d,s,a,u),d.deps<=0?d.resolve():(l(A,v,n,r,o,null,s,a,u),setActiveBranch(d,v))):A&&isSameVNodeType(f,A)?(l(A,f,n,r,o,d,s,a,u),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,o,d,s,a,u),d.deps<=0&&d.resolve()));else if(A&&isSameVNodeType(f,A))l(A,f,n,r,o,d,s,a,u),setActiveBranch(d,f);else if(triggerEvent(t,"onPending"),d.pendingBranch=f,d.pendingId++,l(null,f,d.hiddenContainer,null,o,d,s,a,u),d.deps<=0)d.resolve();else{const{timeout:R,pendingId:M}=d;R>0?setTimeout(()=>{d.pendingId===M&&d.fallback(v)},R):R===0&&d.fallback(v)}}function createSuspenseBoundary(e,t,n,r,o,s,a,u,l,m,y=!1){const{p:d,m:f,um:v,n:A,o:{parentNode:I,remove:P}}=m,O=e.props?toNumber(e.props.timeout):void 0,R={vnode:e,parent:t,parentComponent:n,isSVG:a,container:r,hiddenContainer:o,anchor:s,deps:0,pendingId:0,timeout:typeof O=="number"?O:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:y,isUnmounted:!1,effects:[],resolve(M=!1){const{vnode:k,activeBranch:U,pendingBranch:Q,pendingId:B,effects:W,parentComponent:Z,container:j}=R;if(R.isHydrating)R.isHydrating=!1;else if(!M){const ae=U&&Q.transition&&Q.transition.mode==="out-in";ae&&(U.transition.afterLeave=()=>{B===R.pendingId&&f(Q,j,ne,0)});let{anchor:ne}=R;U&&(ne=A(U),v(U,Z,R,!0)),ae||f(Q,j,ne,0)}setActiveBranch(R,Q),R.pendingBranch=null,R.isInFallback=!1;let J=R.parent,ee=!1;for(;J;){if(J.pendingBranch){J.effects.push(...W),ee=!0;break}J=J.parent}ee||queuePostFlushCb(W),R.effects=[],triggerEvent(k,"onResolve")},fallback(M){if(!R.pendingBranch)return;const{vnode:k,activeBranch:U,parentComponent:Q,container:B,isSVG:W}=R;triggerEvent(k,"onFallback");const Z=A(U),j=()=>{R.isInFallback&&(d(null,M,B,Z,Q,null,W,u,l),setActiveBranch(R,M))},J=M.transition&&M.transition.mode==="out-in";J&&(U.transition.afterLeave=j),R.isInFallback=!0,v(U,Q,null,!0),J||j()},move(M,k,U){R.activeBranch&&f(R.activeBranch,M,k,U),R.container=M},next(){return R.activeBranch&&A(R.activeBranch)},registerDep(M,k){const U=!!R.pendingBranch;U&&R.deps++;const Q=M.vnode.el;M.asyncDep.catch(B=>{handleError(B,M,0)}).then(B=>{if(M.isUnmounted||R.isUnmounted||R.pendingId!==M.suspenseId)return;M.asyncResolved=!0;const{vnode:W}=M;handleSetupResult(M,B,!1),Q&&(W.el=Q);const Z=!Q&&M.subTree.el;k(M,W,I(Q||M.subTree.el),Q?null:A(M.subTree),R,a,l),Z&&P(Z),updateHOCHostEl(M,W.el),U&&--R.deps===0&&R.resolve()})},unmount(M,k){R.isUnmounted=!0,R.activeBranch&&v(R.activeBranch,n,M,k),R.pendingBranch&&v(R.pendingBranch,n,M,k)}};return R}function hydrateSuspense(e,t,n,r,o,s,a,u,l){const m=t.suspense=createSuspenseBoundary(t,r,n,e.parentNode,document.createElement("div"),null,o,s,a,u,!0),y=l(e,m.pendingBranch=t.ssContent,n,m,s,a);return m.deps===0&&m.resolve(),y}function normalizeSuspenseChildren(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=normalizeSuspenseSlot(r?n.default:n),e.ssFallback=r?normalizeSuspenseSlot(n.fallback):createVNode(Comment)}function normalizeSuspenseSlot(e){let t;if(isFunction(e)){const n=isBlockTreeEnabled&&e._c;n&&(e._d=!1,openBlock()),e=e(),n&&(e._d=!0,t=currentBlock,closeBlock())}return isArray$1(e)&&(e=filterSingleRoot(e)),e=normalizeVNode(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function setActiveBranch(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,o=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=o,updateHOCHostEl(r,o))}function provide(e,t){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[e]=t}}function inject(e,t,n=!1){const r=currentInstance||currentRenderingInstance;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&isFunction(t)?t.call(r.proxy):t}}function watchEffect(e,t){return doWatch(e,null,t)}function watchPostEffect(e,t){return doWatch(e,null,{flush:"post"})}function watchSyncEffect(e,t){return doWatch(e,null,{flush:"sync"})}const INITIAL_WATCHER_VALUE={};function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:a}=EMPTY_OBJ){const u=getCurrentScope()===(currentInstance==null?void 0:currentInstance.scope)?currentInstance:null;let l,m=!1,y=!1;if(isRef(e)?(l=()=>e.value,m=isShallow(e)):isReactive(e)?(l=()=>e,r=!0):isArray$1(e)?(y=!0,m=e.some(M=>isReactive(M)||isShallow(M)),l=()=>e.map(M=>{if(isRef(M))return M.value;if(isReactive(M))return traverse(M);if(isFunction(M))return callWithErrorHandling(M,u,2)})):isFunction(e)?t?l=()=>callWithErrorHandling(e,u,2):l=()=>{if(!(u&&u.isUnmounted))return d&&d(),callWithAsyncErrorHandling(e,u,3,[f])}:l=NOOP,t&&r){const M=l;l=()=>traverse(M())}let d,f=M=>{d=O.onStop=()=>{callWithErrorHandling(M,u,4)}},v;if(isInSSRComponentSetup)if(f=NOOP,t?n&&callWithAsyncErrorHandling(t,u,3,[l(),y?[]:void 0,f]):l(),o==="sync"){const M=useSSRContext();v=M.__watcherHandles||(M.__watcherHandles=[])}else return NOOP;let A=y?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const I=()=>{if(O.active)if(t){const M=O.run();(r||m||(y?M.some((k,U)=>hasChanged(k,A[U])):hasChanged(M,A)))&&(d&&d(),callWithAsyncErrorHandling(t,u,3,[M,A===INITIAL_WATCHER_VALUE?void 0:y&&A[0]===INITIAL_WATCHER_VALUE?[]:A,f]),A=M)}else O.run()};I.allowRecurse=!!t;let P;o==="sync"?P=I:o==="post"?P=()=>queuePostRenderEffect(I,u&&u.suspense):(I.pre=!0,u&&(I.id=u.uid),P=()=>queueJob(I));const O=new ReactiveEffect(l,P);t?n?I():A=O.run():o==="post"?queuePostRenderEffect(O.run.bind(O),u&&u.suspense):O.run();const R=()=>{O.stop(),u&&u.scope&&remove(u.scope.effects,O)};return v&&v.push(R),R}function instanceWatch(e,t,n){const r=this.proxy,o=isString$1(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let s;isFunction(t)?s=t:(s=t.handler,n=t);const a=currentInstance;setCurrentInstance(this);const u=doWatch(o,s.bind(r),n);return a?setCurrentInstance(a):unsetCurrentInstance(),u}function createPathGetter(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function traverse(e,t){if(!isObject$1(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$1(e))for(let n=0;n<e.length;n++)traverse(e[n],t);else if(isSet(e)||isMap(e))e.forEach(n=>{traverse(n,t)});else if(isPlainObject$2(e))for(const n in e)traverse(e[n],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const n=getCurrentInstance(),r=useTransitionState();let o;return()=>{const s=t.default&&getTransitionRawChildren(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const I of s)if(I.type!==Comment){a=I;break}}const u=toRaw(e),{mode:l}=u;if(r.isLeaving)return emptyPlaceholder(a);const m=getKeepAliveChild(a);if(!m)return emptyPlaceholder(a);const y=resolveTransitionHooks(m,u,r,n);setTransitionHooks(m,y);const d=n.subTree,f=d&&getKeepAliveChild(d);let v=!1;const{getTransitionKey:A}=m.type;if(A){const I=A();o===void 0?o=I:I!==o&&(o=I,v=!0)}if(f&&f.type!==Comment&&(!isSameVNodeType(m,f)||v)){const I=resolveTransitionHooks(f,u,r,n);if(setTransitionHooks(f,I),l==="out-in")return r.isLeaving=!0,I.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},emptyPlaceholder(a);l==="in-out"&&m.type!==Comment&&(I.delayLeave=(P,O,R)=>{const M=getLeavingNodesForType(r,f);M[String(f.key)]=f,P._leaveCb=()=>{O(),P._leaveCb=void 0,delete y.delayedLeave},y.delayedLeave=R})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function resolveTransitionHooks(e,t,n,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:m,onEnterCancelled:y,onBeforeLeave:d,onLeave:f,onAfterLeave:v,onLeaveCancelled:A,onBeforeAppear:I,onAppear:P,onAfterAppear:O,onAppearCancelled:R}=t,M=String(e.key),k=getLeavingNodesForType(n,e),U=(W,Z)=>{W&&callWithAsyncErrorHandling(W,r,9,Z)},Q=(W,Z)=>{const j=Z[1];U(W,Z),isArray$1(W)?W.every(J=>J.length<=1)&&j():W.length<=1&&j()},B={mode:s,persisted:a,beforeEnter(W){let Z=u;if(!n.isMounted)if(o)Z=I||u;else return;W._leaveCb&&W._leaveCb(!0);const j=k[M];j&&isSameVNodeType(e,j)&&j.el._leaveCb&&j.el._leaveCb(),U(Z,[W])},enter(W){let Z=l,j=m,J=y;if(!n.isMounted)if(o)Z=P||l,j=O||m,J=R||y;else return;let ee=!1;const ae=W._enterCb=ne=>{ee||(ee=!0,ne?U(J,[W]):U(j,[W]),B.delayedLeave&&B.delayedLeave(),W._enterCb=void 0)};Z?Q(Z,[W,ae]):ae()},leave(W,Z){const j=String(e.key);if(W._enterCb&&W._enterCb(!0),n.isUnmounting)return Z();U(d,[W]);let J=!1;const ee=W._leaveCb=ae=>{J||(J=!0,Z(),ae?U(A,[W]):U(v,[W]),W._leaveCb=void 0,k[j]===e&&delete k[j])};k[j]=e,f?Q(f,[W,ee]):ee()},clone(W){return resolveTransitionHooks(W,t,n,r)}};return B}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const u=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Fragment?(a.patchFlag&128&&o++,r=r.concat(getTransitionRawChildren(a.children,t,u))):(t||a.type!==Comment)&&r.push(u!=null?cloneVNode(a,{key:u}):a)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function defineComponent(e){return isFunction(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader;function defineAsyncComponent(e){isFunction(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:o=200,timeout:s,suspensible:a=!0,onError:u}=e;let l=null,m,y=0;const d=()=>(y++,l=null,f()),f=()=>{let v;return l||(v=l=t().catch(A=>{if(A=A instanceof Error?A:new Error(String(A)),u)return new Promise((I,P)=>{u(A,()=>I(d()),()=>P(A),y+1)});throw A}).then(A=>v!==l&&l?l:(A&&(A.__esModule||A[Symbol.toStringTag]==="Module")&&(A=A.default),m=A,A)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return m},setup(){const v=currentInstance;if(m)return()=>createInnerComp(m,v);const A=R=>{l=null,handleError(R,v,13,!r)};if(a&&v.suspense||isInSSRComponentSetup)return f().then(R=>()=>createInnerComp(R,v)).catch(R=>(A(R),()=>r?createVNode(r,{error:R}):null));const I=ref(!1),P=ref(),O=ref(!!o);return o&&setTimeout(()=>{O.value=!1},o),s!=null&&setTimeout(()=>{if(!I.value&&!P.value){const R=new Error(`Async component timed out after ${s}ms.`);A(R),P.value=R}},s),f().then(()=>{I.value=!0,v.parent&&isKeepAlive(v.parent.vnode)&&queueJob(v.parent.update)}).catch(R=>{A(R),P.value=R}),()=>{if(I.value&&m)return createInnerComp(m,v);if(P.value&&r)return createVNode(r,{error:P.value});if(n&&!O.value)return createVNode(n)}}})}function createInnerComp(e,t){const{ref:n,props:r,children:o,ce:s}=t.vnode,a=createVNode(e,r,o);return a.ref=n,a.ce=s,delete t.vnode.ce,a}const isKeepAlive=e=>e.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=getCurrentInstance(),r=n.ctx;if(!r.renderer)return()=>{const R=t.default&&t.default();return R&&R.length===1?R[0]:R};const o=new Map,s=new Set;let a=null;const u=n.suspense,{renderer:{p:l,m,um:y,o:{createElement:d}}}=r,f=d("div");r.activate=(R,M,k,U,Q)=>{const B=R.component;m(R,M,k,0,u),l(B.vnode,R,M,k,B,u,U,R.slotScopeIds,Q),queuePostRenderEffect(()=>{B.isDeactivated=!1,B.a&&invokeArrayFns(B.a);const W=R.props&&R.props.onVnodeMounted;W&&invokeVNodeHook(W,B.parent,R)},u)},r.deactivate=R=>{const M=R.component;m(R,f,null,1,u),queuePostRenderEffect(()=>{M.da&&invokeArrayFns(M.da);const k=R.props&&R.props.onVnodeUnmounted;k&&invokeVNodeHook(k,M.parent,R),M.isDeactivated=!0},u)};function v(R){resetShapeFlag(R),y(R,n,u,!0)}function A(R){o.forEach((M,k)=>{const U=getComponentName(M.type);U&&(!R||!R(U))&&I(k)})}function I(R){const M=o.get(R);!a||!isSameVNodeType(M,a)?v(M):a&&resetShapeFlag(a),o.delete(R),s.delete(R)}watch(()=>[e.include,e.exclude],([R,M])=>{R&&A(k=>matches(R,k)),M&&A(k=>!matches(M,k))},{flush:"post",deep:!0});let P=null;const O=()=>{P!=null&&o.set(P,getInnerChild(n.subTree))};return onMounted(O),onUpdated(O),onBeforeUnmount(()=>{o.forEach(R=>{const{subTree:M,suspense:k}=n,U=getInnerChild(M);if(R.type===U.type&&R.key===U.key){resetShapeFlag(U);const Q=U.component.da;Q&&queuePostRenderEffect(Q,k);return}v(R)})}),()=>{if(P=null,!t.default)return null;const R=t.default(),M=R[0];if(R.length>1)return a=null,R;if(!isVNode(M)||!(M.shapeFlag&4)&&!(M.shapeFlag&128))return a=null,M;let k=getInnerChild(M);const U=k.type,Q=getComponentName(isAsyncWrapper(k)?k.type.__asyncResolved||{}:U),{include:B,exclude:W,max:Z}=e;if(B&&(!Q||!matches(B,Q))||W&&Q&&matches(W,Q))return a=k,M;const j=k.key==null?U:k.key,J=o.get(j);return k.el&&(k=cloneVNode(k),M.shapeFlag&128&&(M.ssContent=k)),P=j,J?(k.el=J.el,k.component=J.component,k.transition&&setTransitionHooks(k,k.transition),k.shapeFlag|=512,s.delete(j),s.add(j)):(s.add(j),Z&&s.size>parseInt(Z,10)&&I(s.values().next().value)),k.shapeFlag|=256,a=k,isSuspense(M.type)?M:k}}},KeepAlive=KeepAliveImpl;function matches(e,t){return isArray$1(e)?e.some(n=>matches(n,t)):isString$1(e)?e.split(",").includes(t):isRegExp$1(e)?e.test(t):!1}function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(injectHook(t,r,n),n){let o=n.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(r,t,n,o),o=o.parent}}function injectToKeepAliveRoot(e,t,n,r){const o=injectHook(t,e,r,!0);onUnmounted(()=>{remove(r[t],o)},n)}function resetShapeFlag(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function getInnerChild(e){return e.shapeFlag&128?e.ssContent:e}function injectHook(e,t,n=currentInstance,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const u=callWithAsyncErrorHandling(t,n,e,a);return unsetCurrentInstance(),resetTracking(),u});return r?o.unshift(s):o.push(s),s}}const createHook=e=>(t,n=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...r)=>t(...r),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function withDirectives(e,t){const n=currentRenderingInstance;if(n===null)return e;const r=getExposeProxy(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,u,l,m=EMPTY_OBJ]=t[s];a&&(isFunction(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(u),o.push({dir:a,instance:r,value:u,oldValue:void 0,arg:l,modifiers:m}))}return e}function invokeDirectiveHook(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const u=o[a];s&&(u.oldValue=s[a].value);let l=u.dir[r];l&&(pauseTracking(),callWithAsyncErrorHandling(l,n,8,[e.el,u,e,t]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(e){return isString$1(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,t,n=!0,r=!1){const o=currentRenderingInstance||currentInstance;if(o){const s=o.type;if(e===COMPONENTS){const u=getComponentName(s,!1);if(u&&(u===t||u===camelize(t)||u===capitalize(camelize(t))))return s}const a=resolve(o[e]||s[e],t)||resolve(o.appContext[e],t);return!a&&r?s:a}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}function renderList(e,t,n,r){let o;const s=n&&n[r];if(isArray$1(e)||isString$1(e)){o=new Array(e.length);for(let a=0,u=e.length;a<u;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(isObject$1(e))if(e[Symbol.iterator])o=Array.from(e,(a,u)=>t(a,u,void 0,s&&s[u]));else{const a=Object.keys(e);o=new Array(a.length);for(let u=0,l=a.length;u<l;u++){const m=a[u];o[u]=t(e[m],m,u,s&&s[u])}}else o=[];return n&&(n[r]=o),o}function createSlots(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(isArray$1(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const s=r.fn(...o);return s&&(s.key=r.key),s}:r.fn)}return e}function renderSlot(e,t,n={},r,o){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return t!=="default"&&(n.name=t),createVNode("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),openBlock();const a=s&&ensureValidVNode(s(n)),u=createBlock(Fragment,{key:n.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&e._===1?64:-2);return!o&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}function ensureValidVNode(e){return e.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}function toHandlers(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:toHandlerKey(r)]=e[r];return n}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick$1.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:u,appContext:l}=e;let m;if(t[0]!=="$"){const v=a[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(hasSetupBinding(r,t))return a[t]=1,r[t];if(o!==EMPTY_OBJ&&hasOwn(o,t))return a[t]=2,o[t];if((m=e.propsOptions[0])&&hasOwn(m,t))return a[t]=3,s[t];if(n!==EMPTY_OBJ&&hasOwn(n,t))return a[t]=4,n[t];shouldCacheAccess&&(a[t]=0)}}const y=publicPropertiesMap[t];let d,f;if(y)return t==="$attrs"&&track(e,"get",t),y(e);if((d=u.__cssModules)&&(d=d[t]))return d;if(n!==EMPTY_OBJ&&hasOwn(n,t))return a[t]=4,n[t];if(f=l.config.globalProperties,hasOwn(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return hasSetupBinding(o,t)?(o[t]=n,!0):r!==EMPTY_OBJ&&hasOwn(r,t)?(r[t]=n,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let u;return!!n[a]||e!==EMPTY_OBJ&&hasOwn(e,a)||hasSetupBinding(t,a)||(u=s[0])&&hasOwn(u,a)||hasOwn(r,a)||hasOwn(publicPropertiesMap,a)||hasOwn(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},RuntimeCompiledPublicInstanceProxyHandlers=extend({},PublicInstanceProxyHandlers,{get(e,t){if(t!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(e,t,e)},has(e,t){return t[0]!=="_"&&!isGloballyWhitelisted(t)}});let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,r=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:u,provide:l,inject:m,created:y,beforeMount:d,mounted:f,beforeUpdate:v,updated:A,activated:I,deactivated:P,beforeDestroy:O,beforeUnmount:R,destroyed:M,unmounted:k,render:U,renderTracked:Q,renderTriggered:B,errorCaptured:W,serverPrefetch:Z,expose:j,inheritAttrs:J,components:ee,directives:ae,filters:ne}=t;if(m&&resolveInjections(m,r,null,e.appContext.config.unwrapInjectedRef),a)for(const Le in a){const Ge=a[Le];isFunction(Ge)&&(r[Le]=Ge.bind(n))}if(o){const Le=o.call(n,n);isObject$1(Le)&&(e.data=reactive(Le))}if(shouldCacheAccess=!0,s)for(const Le in s){const Ge=s[Le],rt=isFunction(Ge)?Ge.bind(n,n):isFunction(Ge.get)?Ge.get.bind(n,n):NOOP,me=!isFunction(Ge)&&isFunction(Ge.set)?Ge.set.bind(n):NOOP,pe=computed({get:rt,set:me});Object.defineProperty(r,Le,{enumerable:!0,configurable:!0,get:()=>pe.value,set:le=>pe.value=le})}if(u)for(const Le in u)createWatcher(u[Le],r,n,Le);if(l){const Le=isFunction(l)?l.call(n):l;Reflect.ownKeys(Le).forEach(Ge=>{provide(Ge,Le[Ge])})}y&&callHook$1(y,e,"c");function ge(Le,Ge){isArray$1(Ge)?Ge.forEach(rt=>Le(rt.bind(n))):Ge&&Le(Ge.bind(n))}if(ge(onBeforeMount,d),ge(onMounted,f),ge(onBeforeUpdate,v),ge(onUpdated,A),ge(onActivated,I),ge(onDeactivated,P),ge(onErrorCaptured,W),ge(onRenderTracked,Q),ge(onRenderTriggered,B),ge(onBeforeUnmount,R),ge(onUnmounted,k),ge(onServerPrefetch,Z),isArray$1(j))if(j.length){const Le=e.exposed||(e.exposed={});j.forEach(Ge=>{Object.defineProperty(Le,Ge,{get:()=>n[Ge],set:rt=>n[Ge]=rt})})}else e.exposed||(e.exposed={});U&&e.render===NOOP&&(e.render=U),J!=null&&(e.inheritAttrs=J),ee&&(e.components=ee),ae&&(e.directives=ae)}function resolveInjections(e,t,n=NOOP,r=!1){isArray$1(e)&&(e=normalizeInject(e));for(const o in e){const s=e[o];let a;isObject$1(s)?"default"in s?a=inject(s.from||o,s.default,!0):a=inject(s.from||o):a=inject(s),isRef(a)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:u=>a.value=u}):t[o]=a}}function callHook$1(e,t,n){callWithAsyncErrorHandling(isArray$1(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,r){const o=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString$1(e)){const s=t[e];isFunction(s)&&watch(o,s)}else if(isFunction(e))watch(o,e.bind(n));else if(isObject$1(e))if(isArray$1(e))e.forEach(s=>createWatcher(s,t,n,r));else{const s=isFunction(e.handler)?e.handler.bind(n):t[e.handler];isFunction(s)&&watch(o,s,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,u=s.get(t);let l;return u?l=u:!o.length&&!n&&!r?l=t:(l={},o.length&&o.forEach(m=>mergeOptions$1(l,m,a,!0)),mergeOptions$1(l,t,a)),isObject$1(t)&&s.set(t,l),l}function mergeOptions$1(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&mergeOptions$1(e,s,n,!0),o&&o.forEach(a=>mergeOptions$1(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const u=internalOptionMergeStrats[a]||n&&n[a];e[a]=u?u(e[a],t[a]):t[a]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(extend(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend(Object.create(null),e);for(const r in t)n[r]=mergeAsArray(e[r],t[r]);return n}function initProps(e,t,n,r=!1){const o={},s={};def(s,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:shallowReactive(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function updateProps(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,u=toRaw(o),[l]=e.propsOptions;let m=!1;if((r||a>0)&&!(a&16)){if(a&8){const y=e.vnode.dynamicProps;for(let d=0;d<y.length;d++){let f=y[d];if(isEmitListener(e.emitsOptions,f))continue;const v=t[f];if(l)if(hasOwn(s,f))v!==s[f]&&(s[f]=v,m=!0);else{const A=camelize(f);o[A]=resolvePropValue(l,u,A,v,e,!1)}else v!==s[f]&&(s[f]=v,m=!0)}}}else{setFullProps(e,t,o,s)&&(m=!0);let y;for(const d in u)(!t||!hasOwn(t,d)&&((y=hyphenate$1(d))===d||!hasOwn(t,y)))&&(l?n&&(n[d]!==void 0||n[y]!==void 0)&&(o[d]=resolvePropValue(l,u,d,void 0,e,!0)):delete o[d]);if(s!==u)for(const d in s)(!t||!hasOwn(t,d))&&(delete s[d],m=!0)}m&&trigger(e,"set","$attrs")}function setFullProps(e,t,n,r){const[o,s]=e.propsOptions;let a=!1,u;if(t)for(let l in t){if(isReservedProp(l))continue;const m=t[l];let y;o&&hasOwn(o,y=camelize(l))?!s||!s.includes(y)?n[y]=m:(u||(u={}))[y]=m:isEmitListener(e.emitsOptions,l)||(!(l in r)||m!==r[l])&&(r[l]=m,a=!0)}if(s){const l=toRaw(n),m=u||EMPTY_OBJ;for(let y=0;y<s.length;y++){const d=s[y];n[d]=resolvePropValue(o,l,d,m[d],e,!hasOwn(m,d))}}return a}function resolvePropValue(e,t,n,r,o,s){const a=e[n];if(a!=null){const u=hasOwn(a,"default");if(u&&r===void 0){const l=a.default;if(a.type!==Function&&isFunction(l)){const{propsDefaults:m}=o;n in m?r=m[n]:(setCurrentInstance(o),r=m[n]=l.call(null,t),unsetCurrentInstance())}else r=l}a[0]&&(s&&!u?r=!1:a[1]&&(r===""||r===hyphenate$1(n))&&(r=!0))}return r}function normalizePropsOptions(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,a={},u=[];let l=!1;if(!isFunction(e)){const y=d=>{l=!0;const[f,v]=normalizePropsOptions(d,t,!0);extend(a,f),v&&u.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(y),e.extends&&y(e.extends),e.mixins&&e.mixins.forEach(y)}if(!s&&!l)return isObject$1(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(s))for(let y=0;y<s.length;y++){const d=camelize(s[y]);validatePropName(d)&&(a[d]=EMPTY_OBJ)}else if(s)for(const y in s){const d=camelize(y);if(validatePropName(d)){const f=s[y],v=a[d]=isArray$1(f)||isFunction(f)?{type:f}:Object.assign({},f);if(v){const A=getTypeIndex(Boolean,v.type),I=getTypeIndex(String,v.type);v[0]=A>-1,v[1]=I<0||A<I,(A>-1||hasOwn(v,"default"))&&u.push(d)}}}const m=[a,u];return isObject$1(e)&&r.set(e,m),m}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$1(t)?t.findIndex(n=>isSameType(n,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,t,n)=>{if(t._n)return t;const r=withCtx((...o)=>normalizeSlotValue(t(...o)),n);return r._c=!1,r},normalizeObjectSlots=(e,t,n)=>{const r=e._ctx;for(const o in e){if(isInternalKey(o))continue;const s=e[o];if(isFunction(s))t[o]=normalizeSlot$1(o,s,r);else if(s!=null){const a=normalizeSlotValue(s);t[o]=()=>a}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=toRaw(t),def(t,"_",n)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=EMPTY_OBJ;if(r.shapeFlag&32){const u=t._;u?n&&u===1?s=!1:(extend(o,t),!n&&u===1&&delete o._):(s=!t.$stable,normalizeObjectSlots(t,o)),a=t}else t&&(normalizeVNodeSlots(e,t),a={default:1});if(s)for(const u in o)!isInternalKey(u)&&!(u in a)&&delete o[u]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(r,o=null){isFunction(r)||(r=Object.assign({},r)),o!=null&&!isObject$1(o)&&(o=null);const s=createAppContext(),a=new Set;let u=!1;const l=s.app={_uid:uid$1++,_component:r,_props:o,_container:null,_context:s,_instance:null,version,get config(){return s.config},set config(m){},use(m,...y){return a.has(m)||(m&&isFunction(m.install)?(a.add(m),m.install(l,...y)):isFunction(m)&&(a.add(m),m(l,...y))),l},mixin(m){return s.mixins.includes(m)||s.mixins.push(m),l},component(m,y){return y?(s.components[m]=y,l):s.components[m]},directive(m,y){return y?(s.directives[m]=y,l):s.directives[m]},mount(m,y,d){if(!u){const f=createVNode(r,o);return f.appContext=s,y&&t?t(f,m):e(f,m,d),u=!0,l._container=m,m.__vue_app__=l,getExposeProxy(f.component)||f.component.proxy}},unmount(){u&&(e(null,l._container),delete l._container.__vue_app__)},provide(m,y){return s.provides[m]=y,l}};return l}}function setRef(e,t,n,r,o=!1){if(isArray$1(e)){e.forEach((f,v)=>setRef(f,t&&(isArray$1(t)?t[v]:t),n,r,o));return}if(isAsyncWrapper(r)&&!o)return;const s=r.shapeFlag&4?getExposeProxy(r.component)||r.component.proxy:r.el,a=o?null:s,{i:u,r:l}=e,m=t&&t.r,y=u.refs===EMPTY_OBJ?u.refs={}:u.refs,d=u.setupState;if(m!=null&&m!==l&&(isString$1(m)?(y[m]=null,hasOwn(d,m)&&(d[m]=null)):isRef(m)&&(m.value=null)),isFunction(l))callWithErrorHandling(l,u,12,[a,y]);else{const f=isString$1(l),v=isRef(l);if(f||v){const A=()=>{if(e.f){const I=f?hasOwn(d,l)?d[l]:y[l]:l.value;o?isArray$1(I)&&remove(I,s):isArray$1(I)?I.includes(s)||I.push(s):f?(y[l]=[s],hasOwn(d,l)&&(d[l]=y[l])):(l.value=[s],e.k&&(y[e.k]=l.value))}else f?(y[l]=a,hasOwn(d,l)&&(d[l]=a)):v&&(l.value=a,e.k&&(y[e.k]=a))};a?(A.id=-1,queuePostRenderEffect(A,n)):A()}}}let hasMismatch=!1;const isSVGContainer=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",isComment=e=>e.nodeType===8;function createHydrationFunctions(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:s,parentNode:a,remove:u,insert:l,createComment:m}}=e,y=(O,R)=>{if(!R.hasChildNodes()){n(null,O,R),flushPostFlushCbs(),R._vnode=O;return}hasMismatch=!1,d(R.firstChild,O,null,null,null),flushPostFlushCbs(),R._vnode=O,hasMismatch&&console.error("Hydration completed but contains mismatches.")},d=(O,R,M,k,U,Q=!1)=>{const B=isComment(O)&&O.data==="[",W=()=>I(O,R,M,k,U,B),{type:Z,ref:j,shapeFlag:J,patchFlag:ee}=R;let ae=O.nodeType;R.el=O,ee===-2&&(Q=!1,R.dynamicChildren=null);let ne=null;switch(Z){case Text:ae!==3?R.children===""?(l(R.el=o(""),a(O),O),ne=O):ne=W():(O.data!==R.children&&(hasMismatch=!0,O.data=R.children),ne=s(O));break;case Comment:ae!==8||B?ne=W():ne=s(O);break;case Static:if(B&&(O=s(O),ae=O.nodeType),ae===1||ae===3){ne=O;const fe=!R.children.length;for(let ge=0;ge<R.staticCount;ge++)fe&&(R.children+=ne.nodeType===1?ne.outerHTML:ne.data),ge===R.staticCount-1&&(R.anchor=ne),ne=s(ne);return B?s(ne):ne}else W();break;case Fragment:B?ne=A(O,R,M,k,U,Q):ne=W();break;default:if(J&1)ae!==1||R.type.toLowerCase()!==O.tagName.toLowerCase()?ne=W():ne=f(O,R,M,k,U,Q);else if(J&6){R.slotScopeIds=U;const fe=a(O);if(t(R,fe,null,M,k,isSVGContainer(fe),Q),ne=B?P(O):s(O),ne&&isComment(ne)&&ne.data==="teleport end"&&(ne=s(ne)),isAsyncWrapper(R)){let ge;B?(ge=createVNode(Fragment),ge.anchor=ne?ne.previousSibling:fe.lastChild):ge=O.nodeType===3?createTextVNode(""):createVNode("div"),ge.el=O,R.component.subTree=ge}}else J&64?ae!==8?ne=W():ne=R.type.hydrate(O,R,M,k,U,Q,e,v):J&128&&(ne=R.type.hydrate(O,R,M,k,isSVGContainer(a(O)),U,Q,e,d))}return j!=null&&setRef(j,null,k,R),ne},f=(O,R,M,k,U,Q)=>{Q=Q||!!R.dynamicChildren;const{type:B,props:W,patchFlag:Z,shapeFlag:j,dirs:J}=R,ee=B==="input"&&J||B==="option";if(ee||Z!==-1){if(J&&invokeDirectiveHook(R,null,M,"created"),W)if(ee||!Q||Z&48)for(const ne in W)(ee&&ne.endsWith("value")||isOn(ne)&&!isReservedProp(ne))&&r(O,ne,null,W[ne],!1,void 0,M);else W.onClick&&r(O,"onClick",null,W.onClick,!1,void 0,M);let ae;if((ae=W&&W.onVnodeBeforeMount)&&invokeVNodeHook(ae,M,R),J&&invokeDirectiveHook(R,null,M,"beforeMount"),((ae=W&&W.onVnodeMounted)||J)&&queueEffectWithSuspense(()=>{ae&&invokeVNodeHook(ae,M,R),J&&invokeDirectiveHook(R,null,M,"mounted")},k),j&16&&!(W&&(W.innerHTML||W.textContent))){let ne=v(O.firstChild,R,O,M,k,U,Q);for(;ne;){hasMismatch=!0;const fe=ne;ne=ne.nextSibling,u(fe)}}else j&8&&O.textContent!==R.children&&(hasMismatch=!0,O.textContent=R.children)}return O.nextSibling},v=(O,R,M,k,U,Q,B)=>{B=B||!!R.dynamicChildren;const W=R.children,Z=W.length;for(let j=0;j<Z;j++){const J=B?W[j]:W[j]=normalizeVNode(W[j]);if(O)O=d(O,J,k,U,Q,B);else{if(J.type===Text&&!J.children)continue;hasMismatch=!0,n(null,J,M,null,k,U,isSVGContainer(M),Q)}}return O},A=(O,R,M,k,U,Q)=>{const{slotScopeIds:B}=R;B&&(U=U?U.concat(B):B);const W=a(O),Z=v(s(O),R,W,M,k,U,Q);return Z&&isComment(Z)&&Z.data==="]"?s(R.anchor=Z):(hasMismatch=!0,l(R.anchor=m("]"),W,Z),Z)},I=(O,R,M,k,U,Q)=>{if(hasMismatch=!0,R.el=null,Q){const Z=P(O);for(;;){const j=s(O);if(j&&j!==Z)u(j);else break}}const B=s(O),W=a(O);return u(O),n(null,R,W,B,M,k,isSVGContainer(W),U),B},P=O=>{let R=0;for(;O;)if(O=s(O),O&&isComment(O)&&(O.data==="["&&R++,O.data==="]")){if(R===0)return s(O);R--}return O};return[y,d]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function createHydrationRenderer(e){return baseCreateRenderer(e,createHydrationFunctions)}function baseCreateRenderer(e,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:u,createComment:l,setText:m,setElementText:y,parentNode:d,nextSibling:f,setScopeId:v=NOOP,insertStaticContent:A}=e,I=(Y,te,de,ye=null,Ae=null,we=null,Be=!1,ke=null,Se=!!te.dynamicChildren)=>{if(Y===te)return;Y&&!isSameVNodeType(Y,te)&&(ye=Me(Y),le(Y,Ae,we,!0),Y=null),te.patchFlag===-2&&(Se=!1,te.dynamicChildren=null);const{type:he,ref:xe,shapeFlag:He}=te;switch(he){case Text:P(Y,te,de,ye);break;case Comment:O(Y,te,de,ye);break;case Static:Y==null&&R(te,de,ye,Be);break;case Fragment:ee(Y,te,de,ye,Ae,we,Be,ke,Se);break;default:He&1?U(Y,te,de,ye,Ae,we,Be,ke,Se):He&6?ae(Y,te,de,ye,Ae,we,Be,ke,Se):(He&64||He&128)&&he.process(Y,te,de,ye,Ae,we,Be,ke,Se,je)}xe!=null&&Ae&&setRef(xe,Y&&Y.ref,we,te||Y,!te)},P=(Y,te,de,ye)=>{if(Y==null)r(te.el=u(te.children),de,ye);else{const Ae=te.el=Y.el;te.children!==Y.children&&m(Ae,te.children)}},O=(Y,te,de,ye)=>{Y==null?r(te.el=l(te.children||""),de,ye):te.el=Y.el},R=(Y,te,de,ye)=>{[Y.el,Y.anchor]=A(Y.children,te,de,ye,Y.el,Y.anchor)},M=({el:Y,anchor:te},de,ye)=>{let Ae;for(;Y&&Y!==te;)Ae=f(Y),r(Y,de,ye),Y=Ae;r(te,de,ye)},k=({el:Y,anchor:te})=>{let de;for(;Y&&Y!==te;)de=f(Y),o(Y),Y=de;o(te)},U=(Y,te,de,ye,Ae,we,Be,ke,Se)=>{Be=Be||te.type==="svg",Y==null?Q(te,de,ye,Ae,we,Be,ke,Se):Z(Y,te,Ae,we,Be,ke,Se)},Q=(Y,te,de,ye,Ae,we,Be,ke)=>{let Se,he;const{type:xe,props:He,shapeFlag:Ve,transition:Je,dirs:at}=Y;if(Se=Y.el=a(Y.type,we,He&&He.is,He),Ve&8?y(Se,Y.children):Ve&16&&W(Y.children,Se,null,ye,Ae,we&&xe!=="foreignObject",Be,ke),at&&invokeDirectiveHook(Y,null,ye,"created"),B(Se,Y,Y.scopeId,Be,ye),He){for(const dt in He)dt!=="value"&&!isReservedProp(dt)&&s(Se,dt,null,He[dt],we,Y.children,ye,Ae,Fe);"value"in He&&s(Se,"value",null,He.value),(he=He.onVnodeBeforeMount)&&invokeVNodeHook(he,ye,Y)}at&&invokeDirectiveHook(Y,null,ye,"beforeMount");const _t=(!Ae||Ae&&!Ae.pendingBranch)&&Je&&!Je.persisted;_t&&Je.beforeEnter(Se),r(Se,te,de),((he=He&&He.onVnodeMounted)||_t||at)&&queuePostRenderEffect(()=>{he&&invokeVNodeHook(he,ye,Y),_t&&Je.enter(Se),at&&invokeDirectiveHook(Y,null,ye,"mounted")},Ae)},B=(Y,te,de,ye,Ae)=>{if(de&&v(Y,de),ye)for(let we=0;we<ye.length;we++)v(Y,ye[we]);if(Ae){let we=Ae.subTree;if(te===we){const Be=Ae.vnode;B(Y,Be,Be.scopeId,Be.slotScopeIds,Ae.parent)}}},W=(Y,te,de,ye,Ae,we,Be,ke,Se=0)=>{for(let he=Se;he<Y.length;he++){const xe=Y[he]=ke?cloneIfMounted(Y[he]):normalizeVNode(Y[he]);I(null,xe,te,de,ye,Ae,we,Be,ke)}},Z=(Y,te,de,ye,Ae,we,Be)=>{const ke=te.el=Y.el;let{patchFlag:Se,dynamicChildren:he,dirs:xe}=te;Se|=Y.patchFlag&16;const He=Y.props||EMPTY_OBJ,Ve=te.props||EMPTY_OBJ;let Je;de&&toggleRecurse(de,!1),(Je=Ve.onVnodeBeforeUpdate)&&invokeVNodeHook(Je,de,te,Y),xe&&invokeDirectiveHook(te,Y,de,"beforeUpdate"),de&&toggleRecurse(de,!0);const at=Ae&&te.type!=="foreignObject";if(he?j(Y.dynamicChildren,he,ke,de,ye,at,we):Be||Ge(Y,te,ke,null,de,ye,at,we,!1),Se>0){if(Se&16)J(ke,te,He,Ve,de,ye,Ae);else if(Se&2&&He.class!==Ve.class&&s(ke,"class",null,Ve.class,Ae),Se&4&&s(ke,"style",He.style,Ve.style,Ae),Se&8){const _t=te.dynamicProps;for(let dt=0;dt<_t.length;dt++){const It=_t[dt],V=He[It],gn=Ve[It];(gn!==V||It==="value")&&s(ke,It,V,gn,Ae,Y.children,de,ye,Fe)}}Se&1&&Y.children!==te.children&&y(ke,te.children)}else!Be&&he==null&&J(ke,te,He,Ve,de,ye,Ae);((Je=Ve.onVnodeUpdated)||xe)&&queuePostRenderEffect(()=>{Je&&invokeVNodeHook(Je,de,te,Y),xe&&invokeDirectiveHook(te,Y,de,"updated")},ye)},j=(Y,te,de,ye,Ae,we,Be)=>{for(let ke=0;ke<te.length;ke++){const Se=Y[ke],he=te[ke],xe=Se.el&&(Se.type===Fragment||!isSameVNodeType(Se,he)||Se.shapeFlag&70)?d(Se.el):de;I(Se,he,xe,null,ye,Ae,we,Be,!0)}},J=(Y,te,de,ye,Ae,we,Be)=>{if(de!==ye){if(de!==EMPTY_OBJ)for(const ke in de)!isReservedProp(ke)&&!(ke in ye)&&s(Y,ke,de[ke],null,Be,te.children,Ae,we,Fe);for(const ke in ye){if(isReservedProp(ke))continue;const Se=ye[ke],he=de[ke];Se!==he&&ke!=="value"&&s(Y,ke,he,Se,Be,te.children,Ae,we,Fe)}"value"in ye&&s(Y,"value",de.value,ye.value)}},ee=(Y,te,de,ye,Ae,we,Be,ke,Se)=>{const he=te.el=Y?Y.el:u(""),xe=te.anchor=Y?Y.anchor:u("");let{patchFlag:He,dynamicChildren:Ve,slotScopeIds:Je}=te;Je&&(ke=ke?ke.concat(Je):Je),Y==null?(r(he,de,ye),r(xe,de,ye),W(te.children,de,xe,Ae,we,Be,ke,Se)):He>0&&He&64&&Ve&&Y.dynamicChildren?(j(Y.dynamicChildren,Ve,de,Ae,we,Be,ke),(te.key!=null||Ae&&te===Ae.subTree)&&traverseStaticChildren(Y,te,!0)):Ge(Y,te,de,xe,Ae,we,Be,ke,Se)},ae=(Y,te,de,ye,Ae,we,Be,ke,Se)=>{te.slotScopeIds=ke,Y==null?te.shapeFlag&512?Ae.ctx.activate(te,de,ye,Be,Se):ne(te,de,ye,Ae,we,Be,Se):fe(Y,te,Se)},ne=(Y,te,de,ye,Ae,we,Be)=>{const ke=Y.component=createComponentInstance(Y,ye,Ae);if(isKeepAlive(Y)&&(ke.ctx.renderer=je),setupComponent(ke),ke.asyncDep){if(Ae&&Ae.registerDep(ke,ge),!Y.el){const Se=ke.subTree=createVNode(Comment);O(null,Se,te,de)}return}ge(ke,Y,te,de,Ae,we,Be)},fe=(Y,te,de)=>{const ye=te.component=Y.component;if(shouldUpdateComponent(Y,te,de))if(ye.asyncDep&&!ye.asyncResolved){Le(ye,te,de);return}else ye.next=te,invalidateJob(ye.update),ye.update();else te.el=Y.el,ye.vnode=te},ge=(Y,te,de,ye,Ae,we,Be)=>{const ke=()=>{if(Y.isMounted){let{next:xe,bu:He,u:Ve,parent:Je,vnode:at}=Y,_t=xe,dt;toggleRecurse(Y,!1),xe?(xe.el=at.el,Le(Y,xe,Be)):xe=at,He&&invokeArrayFns(He),(dt=xe.props&&xe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(dt,Je,xe,at),toggleRecurse(Y,!0);const It=renderComponentRoot(Y),V=Y.subTree;Y.subTree=It,I(V,It,d(V.el),Me(V),Y,Ae,we),xe.el=It.el,_t===null&&updateHOCHostEl(Y,It.el),Ve&&queuePostRenderEffect(Ve,Ae),(dt=xe.props&&xe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(dt,Je,xe,at),Ae)}else{let xe;const{el:He,props:Ve}=te,{bm:Je,m:at,parent:_t}=Y,dt=isAsyncWrapper(te);if(toggleRecurse(Y,!1),Je&&invokeArrayFns(Je),!dt&&(xe=Ve&&Ve.onVnodeBeforeMount)&&invokeVNodeHook(xe,_t,te),toggleRecurse(Y,!0),He&&Ke){const It=()=>{Y.subTree=renderComponentRoot(Y),Ke(He,Y.subTree,Y,Ae,null)};dt?te.type.__asyncLoader().then(()=>!Y.isUnmounted&&It()):It()}else{const It=Y.subTree=renderComponentRoot(Y);I(null,It,de,ye,Y,Ae,we),te.el=It.el}if(at&&queuePostRenderEffect(at,Ae),!dt&&(xe=Ve&&Ve.onVnodeMounted)){const It=te;queuePostRenderEffect(()=>invokeVNodeHook(xe,_t,It),Ae)}(te.shapeFlag&256||_t&&isAsyncWrapper(_t.vnode)&&_t.vnode.shapeFlag&256)&&Y.a&&queuePostRenderEffect(Y.a,Ae),Y.isMounted=!0,te=de=ye=null}},Se=Y.effect=new ReactiveEffect(ke,()=>queueJob(he),Y.scope),he=Y.update=()=>Se.run();he.id=Y.uid,toggleRecurse(Y,!0),he()},Le=(Y,te,de)=>{te.component=Y;const ye=Y.vnode.props;Y.vnode=te,Y.next=null,updateProps(Y,te.props,ye,de),updateSlots(Y,te.children,de),pauseTracking(),flushPreFlushCbs(),resetTracking()},Ge=(Y,te,de,ye,Ae,we,Be,ke,Se=!1)=>{const he=Y&&Y.children,xe=Y?Y.shapeFlag:0,He=te.children,{patchFlag:Ve,shapeFlag:Je}=te;if(Ve>0){if(Ve&128){me(he,He,de,ye,Ae,we,Be,ke,Se);return}else if(Ve&256){rt(he,He,de,ye,Ae,we,Be,ke,Se);return}}Je&8?(xe&16&&Fe(he,Ae,we),He!==he&&y(de,He)):xe&16?Je&16?me(he,He,de,ye,Ae,we,Be,ke,Se):Fe(he,Ae,we,!0):(xe&8&&y(de,""),Je&16&&W(He,de,ye,Ae,we,Be,ke,Se))},rt=(Y,te,de,ye,Ae,we,Be,ke,Se)=>{Y=Y||EMPTY_ARR,te=te||EMPTY_ARR;const he=Y.length,xe=te.length,He=Math.min(he,xe);let Ve;for(Ve=0;Ve<He;Ve++){const Je=te[Ve]=Se?cloneIfMounted(te[Ve]):normalizeVNode(te[Ve]);I(Y[Ve],Je,de,null,Ae,we,Be,ke,Se)}he>xe?Fe(Y,Ae,we,!0,!1,He):W(te,de,ye,Ae,we,Be,ke,Se,He)},me=(Y,te,de,ye,Ae,we,Be,ke,Se)=>{let he=0;const xe=te.length;let He=Y.length-1,Ve=xe-1;for(;he<=He&&he<=Ve;){const Je=Y[he],at=te[he]=Se?cloneIfMounted(te[he]):normalizeVNode(te[he]);if(isSameVNodeType(Je,at))I(Je,at,de,null,Ae,we,Be,ke,Se);else break;he++}for(;he<=He&&he<=Ve;){const Je=Y[He],at=te[Ve]=Se?cloneIfMounted(te[Ve]):normalizeVNode(te[Ve]);if(isSameVNodeType(Je,at))I(Je,at,de,null,Ae,we,Be,ke,Se);else break;He--,Ve--}if(he>He){if(he<=Ve){const Je=Ve+1,at=Je<xe?te[Je].el:ye;for(;he<=Ve;)I(null,te[he]=Se?cloneIfMounted(te[he]):normalizeVNode(te[he]),de,at,Ae,we,Be,ke,Se),he++}}else if(he>Ve)for(;he<=He;)le(Y[he],Ae,we,!0),he++;else{const Je=he,at=he,_t=new Map;for(he=at;he<=Ve;he++){const kt=te[he]=Se?cloneIfMounted(te[he]):normalizeVNode(te[he]);kt.key!=null&&_t.set(kt.key,he)}let dt,It=0;const V=Ve-at+1;let gn=!1,Qn=0;const An=new Array(V);for(he=0;he<V;he++)An[he]=0;for(he=Je;he<=He;he++){const kt=Y[he];if(It>=V){le(kt,Ae,we,!0);continue}let Ut;if(kt.key!=null)Ut=_t.get(kt.key);else for(dt=at;dt<=Ve;dt++)if(An[dt-at]===0&&isSameVNodeType(kt,te[dt])){Ut=dt;break}Ut===void 0?le(kt,Ae,we,!0):(An[Ut-at]=he+1,Ut>=Qn?Qn=Ut:gn=!0,I(kt,te[Ut],de,null,Ae,we,Be,ke,Se),It++)}const or=gn?getSequence(An):EMPTY_ARR;for(dt=or.length-1,he=V-1;he>=0;he--){const kt=at+he,Ut=te[kt],ar=kt+1<xe?te[kt+1].el:ye;An[he]===0?I(null,Ut,de,ar,Ae,we,Be,ke,Se):gn&&(dt<0||he!==or[dt]?pe(Ut,de,ar,2):dt--)}}},pe=(Y,te,de,ye,Ae=null)=>{const{el:we,type:Be,transition:ke,children:Se,shapeFlag:he}=Y;if(he&6){pe(Y.component.subTree,te,de,ye);return}if(he&128){Y.suspense.move(te,de,ye);return}if(he&64){Be.move(Y,te,de,je);return}if(Be===Fragment){r(we,te,de);for(let He=0;He<Se.length;He++)pe(Se[He],te,de,ye);r(Y.anchor,te,de);return}if(Be===Static){M(Y,te,de);return}if(ye!==2&&he&1&&ke)if(ye===0)ke.beforeEnter(we),r(we,te,de),queuePostRenderEffect(()=>ke.enter(we),Ae);else{const{leave:He,delayLeave:Ve,afterLeave:Je}=ke,at=()=>r(we,te,de),_t=()=>{He(we,()=>{at(),Je&&Je()})};Ve?Ve(we,at,_t):_t()}else r(we,te,de)},le=(Y,te,de,ye=!1,Ae=!1)=>{const{type:we,props:Be,ref:ke,children:Se,dynamicChildren:he,shapeFlag:xe,patchFlag:He,dirs:Ve}=Y;if(ke!=null&&setRef(ke,null,de,Y,!0),xe&256){te.ctx.deactivate(Y);return}const Je=xe&1&&Ve,at=!isAsyncWrapper(Y);let _t;if(at&&(_t=Be&&Be.onVnodeBeforeUnmount)&&invokeVNodeHook(_t,te,Y),xe&6)Ee(Y.component,de,ye);else{if(xe&128){Y.suspense.unmount(de,ye);return}Je&&invokeDirectiveHook(Y,null,te,"beforeUnmount"),xe&64?Y.type.remove(Y,te,de,Ae,je,ye):he&&(we!==Fragment||He>0&&He&64)?Fe(he,te,de,!1,!0):(we===Fragment&&He&384||!Ae&&xe&16)&&Fe(Se,te,de),ye&&De(Y)}(at&&(_t=Be&&Be.onVnodeUnmounted)||Je)&&queuePostRenderEffect(()=>{_t&&invokeVNodeHook(_t,te,Y),Je&&invokeDirectiveHook(Y,null,te,"unmounted")},de)},De=Y=>{const{type:te,el:de,anchor:ye,transition:Ae}=Y;if(te===Fragment){G(de,ye);return}if(te===Static){k(Y);return}const we=()=>{o(de),Ae&&!Ae.persisted&&Ae.afterLeave&&Ae.afterLeave()};if(Y.shapeFlag&1&&Ae&&!Ae.persisted){const{leave:Be,delayLeave:ke}=Ae,Se=()=>Be(de,we);ke?ke(Y.el,we,Se):Se()}else we()},G=(Y,te)=>{let de;for(;Y!==te;)de=f(Y),o(Y),Y=de;o(te)},Ee=(Y,te,de)=>{const{bum:ye,scope:Ae,update:we,subTree:Be,um:ke}=Y;ye&&invokeArrayFns(ye),Ae.stop(),we&&(we.active=!1,le(Be,Y,te,de)),ke&&queuePostRenderEffect(ke,te),queuePostRenderEffect(()=>{Y.isUnmounted=!0},te),te&&te.pendingBranch&&!te.isUnmounted&&Y.asyncDep&&!Y.asyncResolved&&Y.suspenseId===te.pendingId&&(te.deps--,te.deps===0&&te.resolve())},Fe=(Y,te,de,ye=!1,Ae=!1,we=0)=>{for(let Be=we;Be<Y.length;Be++)le(Y[Be],te,de,ye,Ae)},Me=Y=>Y.shapeFlag&6?Me(Y.component.subTree):Y.shapeFlag&128?Y.suspense.next():f(Y.anchor||Y.el),ze=(Y,te,de)=>{Y==null?te._vnode&&le(te._vnode,null,null,!0):I(te._vnode||null,Y,te,null,null,null,de),flushPreFlushCbs(),flushPostFlushCbs(),te._vnode=Y},je={p:I,um:le,m:pe,r:De,mt:ne,mc:W,pc:Ge,pbc:j,n:Me,o:e};let Te,Ke;return t&&([Te,Ke]=t(je)),{render:ze,hydrate:Te,createApp:createAppAPI(ze,Te)}}function toggleRecurse({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function traverseStaticChildren(e,t,n=!1){const r=e.children,o=t.children;if(isArray$1(r)&&isArray$1(o))for(let s=0;s<r.length;s++){const a=r[s];let u=o[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[s]=cloneIfMounted(o[s]),u.el=a.el),n||traverseStaticChildren(a,u)),u.type===Text&&(u.el=a.el)}}function getSequence(e){const t=e.slice(),n=[0];let r,o,s,a,u;const l=e.length;for(r=0;r<l;r++){const m=e[r];if(m!==0){if(o=n[n.length-1],e[o]<m){t[r]=o,n.push(r);continue}for(s=0,a=n.length-1;s<a;)u=s+a>>1,e[n[u]]<m?s=u+1:a=u;m<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,resolveTarget=(e,t)=>{const n=e&&e.to;return isString$1(n)?t?t(n):null:n},TeleportImpl={__isTeleport:!0,process(e,t,n,r,o,s,a,u,l,m){const{mc:y,pc:d,pbc:f,o:{insert:v,querySelector:A,createText:I,createComment:P}}=m,O=isTeleportDisabled(t.props);let{shapeFlag:R,children:M,dynamicChildren:k}=t;if(e==null){const U=t.el=I(""),Q=t.anchor=I("");v(U,n,r),v(Q,n,r);const B=t.target=resolveTarget(t.props,A),W=t.targetAnchor=I("");B&&(v(W,B),a=a||isTargetSVG(B));const Z=(j,J)=>{R&16&&y(M,j,J,o,s,a,u,l)};O?Z(n,Q):B&&Z(B,W)}else{t.el=e.el;const U=t.anchor=e.anchor,Q=t.target=e.target,B=t.targetAnchor=e.targetAnchor,W=isTeleportDisabled(e.props),Z=W?n:Q,j=W?U:B;if(a=a||isTargetSVG(Q),k?(f(e.dynamicChildren,k,Z,o,s,a,u),traverseStaticChildren(e,t,!0)):l||d(e,t,Z,j,o,s,a,u,!1),O)W||moveTeleport(t,n,U,m,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const J=t.target=resolveTarget(t.props,A);J&&moveTeleport(t,J,null,m,0)}else W&&moveTeleport(t,Q,B,m,1)}updateCssVars(t)},remove(e,t,n,r,{um:o,o:{remove:s}},a){const{shapeFlag:u,children:l,anchor:m,targetAnchor:y,target:d,props:f}=e;if(d&&s(y),(a||!isTeleportDisabled(f))&&(s(m),u&16))for(let v=0;v<l.length;v++){const A=l[v];o(A,t,n,!0,!!A.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,n,{o:{insert:r},m:o},s=2){s===0&&r(e.targetAnchor,t,n);const{el:a,anchor:u,shapeFlag:l,children:m,props:y}=e,d=s===2;if(d&&r(a,t,n),(!d||isTeleportDisabled(y))&&l&16)for(let f=0;f<m.length;f++)o(m[f],t,n,2);d&&r(u,t,n)}function hydrateTeleport(e,t,n,r,o,s,{o:{nextSibling:a,parentNode:u,querySelector:l}},m){const y=t.target=resolveTarget(t.props,l);if(y){const d=y._lpa||y.firstChild;if(t.shapeFlag&16)if(isTeleportDisabled(t.props))t.anchor=m(a(e),t,u(e),n,r,o,s),t.targetAnchor=d;else{t.anchor=a(e);let f=d;for(;f;)if(f=a(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,y._lpa=t.targetAnchor&&a(t.targetAnchor);break}m(d,t,y,n,r,o,s)}updateCssVars(t)}return t.anchor&&a(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,r,o,s){return setupBlock(createBaseVNode(e,t,n,r,o,s,!0))}function createBlock(e,t,n,r,o){return setupBlock(createVNode(e,t,n,r,o,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}function transformVNodeArgs(e){}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>e!=null?isString$1(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null;function createBaseVNode(e,t=null,n=null,r=0,o=null,s=e===Fragment?0:1,a=!1,u=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return u?(normalizeChildren(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&currentBlock.push(l),l}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const u=cloneVNode(e,t,!0);return n&&normalizeChildren(u,n),isBlockTreeEnabled>0&&!s&&currentBlock&&(u.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=u:currentBlock.push(u)),u.patchFlag|=-2,u}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:u,style:l}=t;u&&!isString$1(u)&&(t.class=normalizeClass(u)),isObject$1(l)&&(isProxy(l)&&!isArray$1(l)&&(l=extend({},l)),t.style=normalizeStyle(l))}const a=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$1(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,n,r,o,a,s,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=e,u=t?mergeProps(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&normalizeKey(u),ref:t&&t.ref?n&&o?isArray$1(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createStaticVNode(e,t){const n=createVNode(Static,null,e);return n.staticCount=t,n}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(isArray$1(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),normalizeChildren(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),r&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=normalizeClass([t.class,r.class]));else if(o==="style")t.style=normalizeStyle([t.style,r.style]);else if(isOn(o)){const s=t[o],a=r[o];a&&s!==a&&!(isArray$1(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=r[o])}return t}function invokeVNodeHook(e,t,n,r=null){callWithAsyncErrorHandling(e,t,7,[n,r])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||emptyAppContext,s={uid:uid$2++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=emit.bind(null,s),e.ce&&e.ce(s),s}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:n,children:r}=e.vnode,o=isStatefulComponent(e);initProps(e,n,o,t),initSlots(e,r);const s=o?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const s=callWithErrorHandling(r,e,0,[e.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),t)return s.then(a=>{handleSetupResult(e,a,t)}).catch(a=>{handleError(a,e,0)});e.asyncDep=s}else handleSetupResult(e,s,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,n){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$1(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,n)}let compile,installWithProxy;function registerRuntimeCompiler(e){compile=e,installWithProxy=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}}const isRuntimeOnly=()=>!compile;function finishComponentSetup(e,t,n){const r=e.type;if(!e.render){if(!t&&compile&&!r.render){const o=r.template||resolveMergedOptions(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:u,compilerOptions:l}=r,m=extend(extend({isCustomElement:s,delimiters:u},a),l);r.render=compile(o,m)}}e.render=r.render||NOOP,installWithProxy&&installWithProxy(e)}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,n){return track(e,"get","$attrs"),t[n]}})}function createSetupContext(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}}))}function getComponentName(e,t=!0){return isFunction(e)?e.displayName||e.name:e.name||t&&e.__name}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function defineProps(){return null}function defineEmits(){return null}function defineExpose(e){}function withDefaults(e,t){return null}function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function getContext(){const e=getCurrentInstance();return e.setupContext||(e.setupContext=createSetupContext(e))}function mergeDefaults(e,t){const n=isArray$1(e)?e.reduce((r,o)=>(r[o]={},r),{}):e;for(const r in t){const o=n[r];o?isArray$1(o)||isFunction(o)?n[r]={type:o,default:t[r]}:o.default=t[r]:o===null&&(n[r]={default:t[r]})}return n}function createPropsRestProxy(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function withAsyncContext(e){const t=getCurrentInstance();let n=e();return unsetCurrentInstance(),isPromise$1(n)&&(n=n.catch(r=>{throw setCurrentInstance(t),r})),[n,()=>setCurrentInstance(t)]}function h(e,t,n){const r=arguments.length;return r===2?isObject$1(t)&&!isArray$1(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&isVNode(n)&&(n=[n]),createVNode(e,t,n))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey);function initCustomFormatter(){}function withMemo(e,t,n,r){const o=n[r];if(o&&isMemoSame(o,e))return o;const s=t();return s.memo=e.slice(),n[r]=s}function isMemoSame(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(hasChanged(n[r],t[r]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),!0}const version="3.2.47",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?doc.createElementNS(svgNS,e):doc.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{templateContainer.innerHTML=r?`<svg>${e}</svg>`:e;const u=templateContainer.content;if(r){const l=u.firstChild;for(;l.firstChild;)u.appendChild(l.firstChild);u.removeChild(l)}t.insertBefore(u,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function patchClass(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,n){const r=e.style,o=isString$1(n);if(n&&!o){if(t&&!isString$1(t))for(const s in t)n[s]==null&&setStyle(r,s,"");for(const s in n)setStyle(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray$1(n))n.forEach(r=>setStyle(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate$1(r),n.replace(importantRE,""),"important"):e[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let r=camelize(t);if(r!=="filter"&&r in e)return prefixCache[t]=r;r=capitalize(r);for(let o=0;o<prefixes.length;o++){const s=prefixes[o]+r;if(s in e)return prefixCache[t]=s}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n);else{const s=isSpecialBooleanAttr(t);n==null||s&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function patchDOMProp(e,t,n,r,o,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,o,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=includeBooleanAttr(n):n==null&&l==="string"?(n="",u=!0):l==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function addEventListener$1(e,t,n,r){e.addEventListener(t,n,r)}function removeEventListener$2(e,t,n,r){e.removeEventListener(t,n,r)}function patchEvent(e,t,n,r,o=null){const s=e._vei||(e._vei={}),a=s[t];if(r&&a)a.value=r;else{const[u,l]=parseName(t);if(r){const m=s[t]=createInvoker(r,o);addEventListener$1(e,u,m,l)}else a&&(removeEventListener$2(e,u,a,l),s[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate$1(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),t,5,[r])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray$1(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,n,r,o=!1,s,a,u,l)=>{t==="class"?patchClass(e,r,o):t==="style"?patchStyle(e,n,r):isOn(t)?isModelListener(t)||patchEvent(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,r,o))?patchDOMProp(e,t,r,s,a,u,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),patchAttr(e,t,r,o))};function shouldSetAsProp(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$1(n)?!1:t in e}function defineCustomElement(e,t){const n=defineComponent(e);class r extends VueElement{constructor(s){super(n,s,t)}}return r.def=n,r}const defineSSRCustomElement=e=>defineCustomElement(e,hydrate),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick$1(()=>{this._connected||(render$2(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const o of r)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const t=(r,o=!1)=>{const{props:s,styles:a}=r;let u;if(s&&!isArray$1(s))for(const l in s){const m=s[l];(m===Number||m&&m.type===Number)&&(l in this._props&&(this._props[l]=toNumber(this._props[l])),(u||(u=Object.create(null)))[camelize(l)]=!0)}this._numberProps=u,o&&this._resolveProps(r),this._applyStyles(a),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=isArray$1(n)?n:Object.keys(n||{});for(const o of Object.keys(this))o[0]!=="_"&&r.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of r.map(camelize))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(s){this._setProp(o,s)}})}_setAttr(t){let n=this.getAttribute(t);const r=camelize(t);this._numberProps&&this._numberProps[r]&&(n=toNumber(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,o=!0){n!==this._props[t]&&(this._props[t]=n,o&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(hyphenate$1(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(hyphenate$1(t),n+""):n||this.removeAttribute(hyphenate$1(t))))}_update(){render$2(this._createVNode(),this.shadowRoot)}_createVNode(){const t=createVNode(this._def,extend({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};n.emit=(s,...a)=>{r(s,a),hyphenate$1(s)!==s&&r(hyphenate$1(s),a)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof VueElement){n.parent=o._instance,n.provides=o._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function useCssModule(e="$style"){{const t=getCurrentInstance();if(!t)return EMPTY_OBJ;const n=t.type.__cssModules;if(!n)return EMPTY_OBJ;const r=n[e];return r||EMPTY_OBJ}}function useCssVars(e){const t=getCurrentInstance();if(!t)return;const n=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>setVarsOnNode(s,o))},r=()=>{const o=e(t.proxy);setVarsOnVNode(t.subTree,o),n(o)};watchPostEffect(r),onMounted(()=>{const o=new MutationObserver(r);o.observe(t.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>o.disconnect())})}function setVarsOnVNode(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{setVarsOnVNode(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)setVarsOnNode(e.el,t);else if(e.type===Fragment)e.children.forEach(n=>setVarsOnVNode(n,t));else if(e.type===Static){let{el:n,anchor:r}=e;for(;n&&(setVarsOnNode(n,t),n!==r);)n=n.nextSibling}}function setVarsOnNode(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const TRANSITION="transition",ANIMATION="animation",Transition=(e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(e,t=[])=>{isArray$1(e)?e.forEach(n=>n(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray$1(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const ee in e)ee in DOMTransitionPropsValidators||(t[ee]=e[ee]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:m=a,appearToClass:y=u,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,A=normalizeDuration(o),I=A&&A[0],P=A&&A[1],{onBeforeEnter:O,onEnter:R,onEnterCancelled:M,onLeave:k,onLeaveCancelled:U,onBeforeAppear:Q=O,onAppear:B=R,onAppearCancelled:W=M}=t,Z=(ee,ae,ne)=>{removeTransitionClass(ee,ae?y:u),removeTransitionClass(ee,ae?m:a),ne&&ne()},j=(ee,ae)=>{ee._isLeaving=!1,removeTransitionClass(ee,d),removeTransitionClass(ee,v),removeTransitionClass(ee,f),ae&&ae()},J=ee=>(ae,ne)=>{const fe=ee?B:R,ge=()=>Z(ae,ee,ne);callHook(fe,[ae,ge]),nextFrame$1(()=>{removeTransitionClass(ae,ee?l:s),addTransitionClass(ae,ee?y:u),hasExplicitCallback(fe)||whenTransitionEnds(ae,r,I,ge)})};return extend(t,{onBeforeEnter(ee){callHook(O,[ee]),addTransitionClass(ee,s),addTransitionClass(ee,a)},onBeforeAppear(ee){callHook(Q,[ee]),addTransitionClass(ee,l),addTransitionClass(ee,m)},onEnter:J(!1),onAppear:J(!0),onLeave(ee,ae){ee._isLeaving=!0;const ne=()=>j(ee,ae);addTransitionClass(ee,d),forceReflow(),addTransitionClass(ee,f),nextFrame$1(()=>{ee._isLeaving&&(removeTransitionClass(ee,d),addTransitionClass(ee,v),hasExplicitCallback(k)||whenTransitionEnds(ee,r,P,ne))}),callHook(k,[ee,ne])},onEnterCancelled(ee){Z(ee,!1),callHook(M,[ee])},onAppearCancelled(ee){Z(ee,!0),callHook(W,[ee])},onLeaveCancelled(ee){j(ee),callHook(U,[ee])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$1(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function nextFrame$1(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,n,r){const o=e._endId=++endId,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:u,propCount:l}=getTransitionInfo(e,t);if(!a)return r();const m=a+"end";let y=0;const d=()=>{e.removeEventListener(m,f),s()},f=v=>{v.target===e&&++y>=l&&d()};setTimeout(()=>{y<l&&d()},u+1),e.addEventListener(m,f)}function getTransitionInfo(e,t){const n=window.getComputedStyle(e),r=A=>(n[A]||"").split(", "),o=r(`${TRANSITION}Delay`),s=r(`${TRANSITION}Duration`),a=getTimeout(o,s),u=r(`${ANIMATION}Delay`),l=r(`${ANIMATION}Duration`),m=getTimeout(u,l);let y=null,d=0,f=0;t===TRANSITION?a>0&&(y=TRANSITION,d=a,f=s.length):t===ANIMATION?m>0&&(y=ANIMATION,d=m,f=l.length):(d=Math.max(a,m),y=d>0?a>m?TRANSITION:ANIMATION:null,f=y?y===TRANSITION?s.length:l.length:0);const v=y===TRANSITION&&/\b(transform|all)(,|$)/.test(r(`${TRANSITION}Property`).toString());return{type:y,timeout:d,propCount:f,hasTransform:v}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>toMs(n)+toMs(e[r])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=getCurrentInstance(),r=useTransitionState();let o,s;return onUpdated(()=>{if(!o.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!hasCSSTransform(o[0].el,n.vnode.el,a))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const u=o.filter(applyTranslation);forceReflow(),u.forEach(l=>{const m=l.el,y=m.style;addTransitionClass(m,a),y.transform=y.webkitTransform=y.transitionDuration="";const d=m._moveCb=f=>{f&&f.target!==m||(!f||/transform$/.test(f.propertyName))&&(m.removeEventListener("transitionend",d),m._moveCb=null,removeTransitionClass(m,a))};m.addEventListener("transitionend",d)})}),()=>{const a=toRaw(e),u=resolveTransitionProps(a);let l=a.tag||Fragment;o=s,s=t.default?getTransitionRawChildren(t.default()):[];for(let m=0;m<s.length;m++){const y=s[m];y.key!=null&&setTransitionHooks(y,resolveTransitionHooks(y,u,r,n))}if(o)for(let m=0;m<o.length;m++){const y=o[m];setTransitionHooks(y,resolveTransitionHooks(y,u,r,n)),positionMap.set(y,y.el.getBoundingClientRect())}return createVNode(l,null,s)}}},removeMode=e=>delete e.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function recordPosition(e){newPositionMap.set(e,e.el.getBoundingClientRect())}function applyTranslation(e){const t=positionMap.get(e),n=newPositionMap.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${o}px)`,s.transitionDuration="0s",e}}function hasCSSTransform(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:s}=getTransitionInfo(r);return o.removeChild(r),s}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$1(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=getModelAssigner(o);const s=r||o.props&&o.props.type==="number";addEventListener$1(e,t?"change":"input",a=>{if(a.target.composing)return;let u=e.value;n&&(u=u.trim()),s&&(u=looseToNumber(u)),e._assign(u)}),n&&addEventListener$1(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener$1(e,"compositionstart",onCompositionStart),addEventListener$1(e,"compositionend",onCompositionEnd),addEventListener$1(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},s){if(e._assign=getModelAssigner(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(o||e.type==="number")&&looseToNumber(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},vModelCheckbox={deep:!0,created(e,t,n){e._assign=getModelAssigner(n),addEventListener$1(e,"change",()=>{const r=e._modelValue,o=getValue(e),s=e.checked,a=e._assign;if(isArray$1(r)){const u=looseIndexOf(r,o),l=u!==-1;if(s&&!l)a(r.concat(o));else if(!s&&l){const m=[...r];m.splice(u,1),a(m)}}else if(isSet(r)){const u=new Set(r);s?u.add(o):u.delete(o),a(u)}else a(getCheckboxValue(e,s))})},mounted:setChecked,beforeUpdate(e,t,n){e._assign=getModelAssigner(n),setChecked(e,t,n)}};function setChecked(e,{value:t,oldValue:n},r){e._modelValue=t,isArray$1(t)?e.checked=looseIndexOf(t,r.props.value)>-1:isSet(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=looseEqual(t,getCheckboxValue(e,!0)))}const vModelRadio={created(e,{value:t},n){e.checked=looseEqual(t,n.props.value),e._assign=getModelAssigner(n),addEventListener$1(e,"change",()=>{e._assign(getValue(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=getModelAssigner(r),t!==n&&(e.checked=looseEqual(t,r.props.value))}},vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=isSet(t);addEventListener$1(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?looseToNumber(getValue(a)):getValue(a));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=getModelAssigner(r)},mounted(e,{value:t}){setSelected(e,t)},beforeUpdate(e,t,n){e._assign=getModelAssigner(n)},updated(e,{value:t}){setSelected(e,t)}};function setSelected(e,t){const n=e.multiple;if(!(n&&!isArray$1(t)&&!isSet(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],a=getValue(s);if(n)isArray$1(t)?s.selected=looseIndexOf(t,a)>-1:s.selected=t.has(a);else if(looseEqual(getValue(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const vModelDynamic={created(e,t,n){callModelHook(e,t,n,null,"created")},mounted(e,t,n){callModelHook(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){callModelHook(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){callModelHook(e,t,n,r,"updated")}};function resolveDynamicModel(e,t){switch(e){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(t){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(e,t,n,r,o){const a=resolveDynamicModel(e.tagName,n.props&&n.props.type)[o];a&&a(e,t,n,r)}function initVModelForSSR(){vModelText.getSSRProps=({value:e})=>({value:e}),vModelRadio.getSSRProps=({value:e},t)=>{if(t.props&&looseEqual(t.props.value,e))return{checked:!0}},vModelCheckbox.getSSRProps=({value:e},t)=>{if(isArray$1(e)){if(t.props&&looseIndexOf(e,t.props.value)>-1)return{checked:!0}}else if(isSet(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},vModelDynamic.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=resolveDynamicModel(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(n=>e[`${n}Key`]&&!t.includes(n))},withModifiers=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=modifierGuards[t[o]];if(s&&s(n,t))return}return e(n,...r)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>n=>{if(!("key"in n))return;const r=hyphenate$1(n.key);if(t.some(o=>o===r||keyNames[o]===r))return e(n)},vShow={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),setDisplay(e,!0),r.enter(e)):r.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const rendererOptions=extend({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render$2=(...e)=>{ensureRenderer().render(...e)},hydrate=(...e)=>{ensureHydrationRenderer().hydrate(...e)},createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=normalizeContainer(r);if(!o)return;const s=t._component;!isFunction(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t},createSSRApp=(...e)=>{const t=ensureHydrationRenderer().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=normalizeContainer(r);if(o)return n(o,!0,o instanceof SVGElement)},t};function normalizeContainer(e){return isString$1(e)?document.querySelector(e):e}let ssrDirectiveInitialized=!1;const initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())},objectToString=Object.prototype.toString;function isError(e){switch(objectToString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(e,Error)}}function isBuiltin(e,t){return objectToString.call(e)===`[object ${t}]`}function isErrorEvent$1(e){return isBuiltin(e,"ErrorEvent")}function isDOMError(e){return isBuiltin(e,"DOMError")}function isDOMException(e){return isBuiltin(e,"DOMException")}function isString(e){return isBuiltin(e,"String")}function isPrimitive(e){return e===null||typeof e!="object"&&typeof e!="function"}function isPlainObject$1(e){return isBuiltin(e,"Object")}function isEvent(e){return typeof Event<"u"&&isInstanceOf(e,Event)}function isElement$1(e){return typeof Element<"u"&&isInstanceOf(e,Element)}function isRegExp(e){return isBuiltin(e,"RegExp")}function isThenable(e){return!!(e&&e.then&&typeof e.then=="function")}function isSyntheticEvent(e){return isPlainObject$1(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function isNaN$1(e){return typeof e=="number"&&e!==e}function isInstanceOf(e,t){try{return e instanceof t}catch{return!1}}function isGlobalObj(e){return e&&e.Math==Math?e:void 0}const GLOBAL_OBJ=typeof globalThis=="object"&&isGlobalObj(globalThis)||typeof window=="object"&&isGlobalObj(window)||typeof self=="object"&&isGlobalObj(self)||typeof global=="object"&&isGlobalObj(global)||function(){return this}()||{};function getGlobalObject(){return GLOBAL_OBJ}function getGlobalSingleton(e,t,n){const r=n||GLOBAL_OBJ,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}const WINDOW$5=getGlobalObject(),DEFAULT_MAX_STRING_LENGTH=80;function htmlTreeAsString(e,t={}){try{let n=e;const r=5,o=[];let s=0,a=0;const u=" > ",l=u.length;let m;const y=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||DEFAULT_MAX_STRING_LENGTH;for(;n&&s++<r&&(m=_htmlElementAsString(n,y),!(m==="html"||s>1&&a+o.length*l+m.length>=d));)o.push(m),a+=m.length,n=n.parentNode;return o.reverse().join(u)}catch{return"<unknown>"}}function _htmlElementAsString(e,t){const n=e,r=[];let o,s,a,u,l;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const m=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(m&&m.length)m.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&isString(o))for(s=o.split(/\s+/),l=0;l<s.length;l++)r.push(`.${s[l]}`);const y=["aria-label","type","name","title","alt"];for(l=0;l<y.length;l++)a=y[l],u=n.getAttribute(a),u&&r.push(`[${a}="${u}"]`);return r.join("")}function getLocationHref(){try{return WINDOW$5.document.location.href}catch{return""}}class SentryError extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function isValidProtocol(e){return e==="http"||e==="https"}function dsnToString(e,t=!1){const{host:n,path:r,pass:o,port:s,projectId:a,protocol:u,publicKey:l}=e;return`${u}://${l}${t&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${a}`}function dsnFromString(e){const t=DSN_REGEX.exec(e);if(!t)throw new SentryError(`Invalid Sentry Dsn: ${e}`);const[n,r,o="",s,a="",u]=t.slice(1);let l="",m=u;const y=m.split("/");if(y.length>1&&(l=y.slice(0,-1).join("/"),m=y.pop()),m){const d=m.match(/^\d+/);d&&(m=d[0])}return dsnFromComponents({host:s,pass:o,path:l,projectId:m,port:a,protocol:n,publicKey:r})}function dsnFromComponents(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function validateDsn(e){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:t,projectId:n,protocol:r}=e;if(["protocol","publicKey","host","projectId"].forEach(s=>{if(!e[s])throw new SentryError(`Invalid Sentry Dsn: ${s} missing`)}),!n.match(/^\d+$/))throw new SentryError(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!isValidProtocol(r))throw new SentryError(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(t&&isNaN(parseInt(t,10)))throw new SentryError(`Invalid Sentry Dsn: Invalid port ${t}`);return!0}function makeDsn(e){const t=typeof e=="string"?dsnFromString(e):dsnFromComponents(e);return validateDsn(t),t}const PREFIX="Sentry Logger ",CONSOLE_LEVELS=["debug","info","warn","error","log","assert","trace"];function consoleSandbox(e){if(!("console"in GLOBAL_OBJ))return e();const t=GLOBAL_OBJ.console,n={};CONSOLE_LEVELS.forEach(r=>{const o=t[r]&&t[r].__sentry_original__;r in t&&o&&(n[r]=t[r],t[r]=o)});try{return e()}finally{Object.keys(n).forEach(r=>{t[r]=n[r]})}}function makeLogger(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?CONSOLE_LEVELS.forEach(n=>{t[n]=(...r)=>{e&&consoleSandbox(()=>{GLOBAL_OBJ.console[n](`${PREFIX}[${n}]:`,...r)})}}):CONSOLE_LEVELS.forEach(n=>{t[n]=()=>{}}),t}let logger;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?logger=getGlobalSingleton("logger",makeLogger):logger=makeLogger();function truncate(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function safeJoin(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const o=e[r];try{n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function isMatchingPattern(e,t,n=!1){return isString(e)?isRegExp(t)?t.test(e):isString(t)?n?e===t:e.includes(t):!1:!1}function stringMatchesSomePattern(e,t=[],n=!1){return t.some(r=>isMatchingPattern(e,r,n))}function fill(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);if(typeof o=="function")try{markFunctionWrapped(o,r)}catch{}e[t]=o}function addNonEnumerableProperty(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function markFunctionWrapped(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,addNonEnumerableProperty(e,"__sentry_original__",t)}function getOriginalFunction(e){return e.__sentry_original__}function urlEncode(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function convertToPlainObject(e){if(isError(e))return{message:e.message,name:e.name,stack:e.stack,...getOwnProperties(e)};if(isEvent(e)){const t={type:e.type,target:serializeEventTarget(e.target),currentTarget:serializeEventTarget(e.currentTarget),...getOwnProperties(e)};return typeof CustomEvent<"u"&&isInstanceOf(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function serializeEventTarget(e){try{return isElement$1(e)?htmlTreeAsString(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function getOwnProperties(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function extractExceptionKeysForMessage(e,t=40){const n=Object.keys(convertToPlainObject(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return truncate(n[0],t);for(let r=n.length;r>0;r--){const o=n.slice(0,r).join(", ");if(!(o.length>t))return r===n.length?o:truncate(o,t)}return""}function dropUndefinedKeys(e){return _dropUndefinedKeys(e,new Map)}function _dropUndefinedKeys(e,t){if(isPlainObject$1(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const o of Object.keys(e))typeof e[o]<"u"&&(r[o]=_dropUndefinedKeys(e[o],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(o=>{r.push(_dropUndefinedKeys(o,t))}),r}return e}const STACKTRACE_FRAME_LIMIT=50,WEBPACK_ERROR_REGEXP=/\(error: (.*)\)/;function createStackParser(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const o=[],s=n.split(`
`);for(let a=r;a<s.length;a++){const u=s[a];if(u.length>1024)continue;const l=WEBPACK_ERROR_REGEXP.test(u)?u.replace(WEBPACK_ERROR_REGEXP,"$1"):u;if(!l.match(/\S*Error: /)){for(const m of t){const y=m(l);if(y){o.push(y);break}}if(o.length>=STACKTRACE_FRAME_LIMIT)break}}return stripSentryFramesAndReverse(o)}}function stackParserFromStackParserOptions(e){return Array.isArray(e)?createStackParser(...e):e}function stripSentryFramesAndReverse(e){if(!e.length)return[];const t=e.slice(0,STACKTRACE_FRAME_LIMIT),n=t[t.length-1].function;n&&/sentryWrapped/.test(n)&&t.pop(),t.reverse();const r=t[t.length-1].function;return r&&/captureMessage|captureException/.test(r)&&t.pop(),t.map(o=>({...o,filename:o.filename||t[t.length-1].filename,function:o.function||"?"}))}const defaultFunctionName="<anonymous>";function getFunctionName(e){try{return!e||typeof e!="function"?defaultFunctionName:e.name||defaultFunctionName}catch{return defaultFunctionName}}const WINDOW$4=getGlobalObject();function supportsFetch(){if(!("fetch"in WINDOW$4))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function isNativeFetch(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function supportsNativeFetch(){if(!supportsFetch())return!1;if(isNativeFetch(WINDOW$4.fetch))return!0;let e=!1;const t=WINDOW$4.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=isNativeFetch(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const WINDOW$3=getGlobalObject();function supportsHistory(){const e=WINDOW$3.chrome,t=e&&e.app&&e.app.runtime,n="history"in WINDOW$3&&!!WINDOW$3.history.pushState&&!!WINDOW$3.history.replaceState;return!t&&n}const WINDOW$2=getGlobalObject(),SENTRY_XHR_DATA_KEY="__sentry_xhr_v2__",handlers={},instrumented={};function instrument(e){if(!instrumented[e])switch(instrumented[e]=!0,e){case"console":instrumentConsole();break;case"dom":instrumentDOM();break;case"xhr":instrumentXHR();break;case"fetch":instrumentFetch();break;case"history":instrumentHistory();break;case"error":instrumentError();break;case"unhandledrejection":instrumentUnhandledRejection();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("unknown instrumentation type:",e);return}}function addInstrumentationHandler(e,t){handlers[e]=handlers[e]||[],handlers[e].push(t),instrument(e)}function triggerHandlers(e,t){if(!(!e||!handlers[e]))for(const n of handlers[e]||[])try{n(t)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${getFunctionName(n)}
Error:`,r)}}function instrumentConsole(){"console"in WINDOW$2&&CONSOLE_LEVELS.forEach(function(e){e in WINDOW$2.console&&fill(WINDOW$2.console,e,function(t){return function(...n){triggerHandlers("console",{args:n,level:e}),t&&t.apply(WINDOW$2.console,n)}})})}function instrumentFetch(){supportsNativeFetch()&&fill(WINDOW$2,"fetch",function(e){return function(...t){const{method:n,url:r}=parseFetchArgs(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return triggerHandlers("fetch",{...o}),e.apply(WINDOW$2,t).then(s=>(triggerHandlers("fetch",{...o,endTimestamp:Date.now(),response:s}),s),s=>{throw triggerHandlers("fetch",{...o,endTimestamp:Date.now(),error:s}),s})}})}function hasProp(e,t){return!!e&&typeof e=="object"&&!!e[t]}function getUrlFromResource(e){return typeof e=="string"?e:e?hasProp(e,"url")?e.url:e.toString?e.toString():"":""}function parseFetchArgs(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:getUrlFromResource(n),method:hasProp(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:getUrlFromResource(t),method:hasProp(t,"method")?String(t.method).toUpperCase():"GET"}}function instrumentXHR(){if(!("XMLHttpRequest"in WINDOW$2))return;const e=XMLHttpRequest.prototype;fill(e,"open",function(t){return function(...n){const r=n[1],o=this[SENTRY_XHR_DATA_KEY]={method:isString(n[0])?n[0].toUpperCase():n[0],url:n[1],request_headers:{}};isString(r)&&o.method==="POST"&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const a=this[SENTRY_XHR_DATA_KEY];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}triggerHandlers("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?fill(this,"onreadystatechange",function(a){return function(...u){return s(),a.apply(this,u)}}):this.addEventListener("readystatechange",s),fill(this,"setRequestHeader",function(a){return function(...u){const[l,m]=u,y=this[SENTRY_XHR_DATA_KEY];return y&&(y.request_headers[l.toLowerCase()]=m),a.apply(this,u)}}),t.apply(this,n)}}),fill(e,"send",function(t){return function(...n){const r=this[SENTRY_XHR_DATA_KEY];return r&&n[0]!==void 0&&(r.body=n[0]),triggerHandlers("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),t.apply(this,n)}})}let lastHref;function instrumentHistory(){if(!supportsHistory())return;const e=WINDOW$2.onpopstate;WINDOW$2.onpopstate=function(...n){const r=WINDOW$2.location.href,o=lastHref;if(lastHref=r,triggerHandlers("history",{from:o,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const o=r.length>2?r[2]:void 0;if(o){const s=lastHref,a=String(o);lastHref=a,triggerHandlers("history",{from:s,to:a})}return n.apply(this,r)}}fill(WINDOW$2.history,"pushState",t),fill(WINDOW$2.history,"replaceState",t)}const debounceDuration=1e3;let debounceTimerID,lastCapturedEvent;function shouldShortcircuitPreviousDebounce(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function shouldSkipDOMEvent(e){if(e.type!=="keypress")return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function makeDOMEventHandler(e,t=!1){return n=>{if(!n||lastCapturedEvent===n||shouldSkipDOMEvent(n))return;const r=n.type==="keypress"?"input":n.type;debounceTimerID===void 0?(e({event:n,name:r,global:t}),lastCapturedEvent=n):shouldShortcircuitPreviousDebounce(lastCapturedEvent,n)&&(e({event:n,name:r,global:t}),lastCapturedEvent=n),clearTimeout(debounceTimerID),debounceTimerID=WINDOW$2.setTimeout(()=>{debounceTimerID=void 0},debounceDuration)}}function instrumentDOM(){if(!("document"in WINDOW$2))return;const e=triggerHandlers.bind(null,"dom"),t=makeDOMEventHandler(e,!0);WINDOW$2.document.addEventListener("click",t,!1),WINDOW$2.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=WINDOW$2[n]&&WINDOW$2[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(fill(r,"addEventListener",function(o){return function(s,a,u){if(s==="click"||s=="keypress")try{const l=this,m=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},y=m[s]=m[s]||{refCount:0};if(!y.handler){const d=makeDOMEventHandler(e);y.handler=d,o.call(this,s,d,u)}y.refCount++}catch{}return o.call(this,s,a,u)}}),fill(r,"removeEventListener",function(o){return function(s,a,u){if(s==="click"||s=="keypress")try{const l=this,m=l.__sentry_instrumentation_handlers__||{},y=m[s];y&&(y.refCount--,y.refCount<=0&&(o.call(this,s,y.handler,u),y.handler=void 0,delete m[s]),Object.keys(m).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return o.call(this,s,a,u)}}))})}let _oldOnErrorHandler=null;function instrumentError(){_oldOnErrorHandler=WINDOW$2.onerror,WINDOW$2.onerror=function(e,t,n,r,o){return triggerHandlers("error",{column:r,error:o,line:n,msg:e,url:t}),_oldOnErrorHandler&&!_oldOnErrorHandler.__SENTRY_LOADER__?_oldOnErrorHandler.apply(this,arguments):!1},WINDOW$2.onerror.__SENTRY_INSTRUMENTED__=!0}let _oldOnUnhandledRejectionHandler=null;function instrumentUnhandledRejection(){_oldOnUnhandledRejectionHandler=WINDOW$2.onunhandledrejection,WINDOW$2.onunhandledrejection=function(e){return triggerHandlers("unhandledrejection",e),_oldOnUnhandledRejectionHandler&&!_oldOnUnhandledRejectionHandler.__SENTRY_LOADER__?_oldOnUnhandledRejectionHandler.apply(this,arguments):!0},WINDOW$2.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function memoBuilder(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let s=0;s<t.length;s++)if(t[s]===o)return!0;return t.push(o),!1}function r(o){if(e)t.delete(o);else for(let s=0;s<t.length;s++)if(t[s]===o){t.splice(s,1);break}}return[n,r]}function uuid4(){const e=GLOBAL_OBJ,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function getFirstException(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function getEventDescription(e){const{message:t,event_id:n}=e;if(t)return t;const r=getFirstException(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function addExceptionTypeValue(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function addExceptionMechanism(e,t){const n=getFirstException(e);if(!n)return;const r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){const s={...o&&o.data,...t.data};n.mechanism.data=s}}function checkOrSetAlreadyCaught(e){if(e&&e.__sentry_captured__)return!0;try{addNonEnumerableProperty(e,"__sentry_captured__",!0)}catch{}return!1}function arrayify(e){return Array.isArray(e)?e:[e]}function isBrowserBundle(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function getSDKSource(){return"npm"}function isNodeEnv(){return!isBrowserBundle()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function dynamicRequire(e,t){return e.require(t)}function normalize(e,t=100,n=1/0){try{return visit("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function normalizeToSize(e,t=3,n=100*1024){const r=normalize(e,t);return jsonSize(r)>n?normalizeToSize(e,t-1,n):r}function visit(e,t,n=1/0,r=1/0,o=memoBuilder()){const[s,a]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!isNaN$1(t))return t;const u=stringifyValue(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return u.replace("object ","");if(s(t))return"[Circular ~]";const m=t;if(m&&typeof m.toJSON=="function")try{const v=m.toJSON();return visit("",v,l-1,r,o)}catch{}const y=Array.isArray(t)?[]:{};let d=0;const f=convertToPlainObject(t);for(const v in f){if(!Object.prototype.hasOwnProperty.call(f,v))continue;if(d>=r){y[v]="[MaxProperties ~]";break}const A=f[v];y[v]=visit(v,A,l-1,r,o),d++}return a(t),y}function stringifyValue(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(isSyntheticEvent(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${getFunctionName(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=getConstructorName(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function getConstructorName(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function utf8Length$1(e){return~-encodeURI(e).split(/%..|./).length}function jsonSize(e){return utf8Length$1(JSON.stringify(e))}var States;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(States||(States={}));function resolvedSyncPromise(e){return new SyncPromise(t=>{t(e)})}function rejectedSyncPromise(e){return new SyncPromise((t,n)=>{n(e)})}class SyncPromise{__init(){this._state=States.PENDING}__init2(){this._handlers=[]}constructor(t){SyncPromise.prototype.__init.call(this),SyncPromise.prototype.__init2.call(this),SyncPromise.prototype.__init3.call(this),SyncPromise.prototype.__init4.call(this),SyncPromise.prototype.__init5.call(this),SyncPromise.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new SyncPromise((r,o)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(a){o(a)}},s=>{if(!n)o(s);else try{r(n(s))}catch(a){o(a)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new SyncPromise((n,r)=>{let o,s;return this.then(a=>{s=!1,o=a,t&&t()},a=>{s=!0,o=a,t&&t()}).then(()=>{if(s){r(o);return}n(o)})})}__init3(){this._resolve=t=>{this._setResult(States.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(States.REJECTED,t)}}__init5(){this._setResult=(t,n)=>{if(this._state===States.PENDING){if(isThenable(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===States.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===States.RESOLVED&&n[1](this._value),this._state===States.REJECTED&&n[2](this._value),n[0]=!0)})}}}function makePromiseBuffer(e){const t=[];function n(){return e===void 0||t.length<e}function r(a){return t.splice(t.indexOf(a),1)[0]}function o(a){if(!n())return rejectedSyncPromise(new SentryError("Not adding Promise because buffer limit was reached."));const u=a();return t.indexOf(u)===-1&&t.push(u),u.then(()=>r(u)).then(null,()=>r(u).then(null,()=>{})),u}function s(a){return new SyncPromise((u,l)=>{let m=t.length;if(!m)return u(!0);const y=setTimeout(()=>{a&&a>0&&u(!1)},a);t.forEach(d=>{resolvedSyncPromise(d).then(()=>{--m||(clearTimeout(y),u(!0))},l)})})}return{$:t,add:o,drain:s}}function parseUrl(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const validSeverityLevels=["fatal","error","warning","log","info","debug"];function severityLevelFromString(e){return e==="warn"?"warning":validSeverityLevels.includes(e)?e:"log"}const WINDOW$1=getGlobalObject(),dateTimestampSource={nowSeconds:()=>Date.now()/1e3};function getBrowserPerformance(){const{performance:e}=WINDOW$1;if(!e||!e.now)return;const t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function getNodePerformance(){try{return dynamicRequire(module,"perf_hooks").performance}catch{return}}const platformPerformance=isNodeEnv()?getNodePerformance():getBrowserPerformance(),timestampSource=platformPerformance===void 0?dateTimestampSource:{nowSeconds:()=>(platformPerformance.timeOrigin+platformPerformance.now())/1e3},dateTimestampInSeconds=dateTimestampSource.nowSeconds.bind(dateTimestampSource),timestampInSeconds=timestampSource.nowSeconds.bind(timestampSource);(()=>{const{performance:e}=WINDOW$1;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=o<t,a=e.timing&&e.timing.navigationStart,l=typeof a=="number"?Math.abs(a+n-r):t,m=l<t;return s||m?o<=l?e.timeOrigin:a:r})();function createEnvelope(e,t=[]){return[e,t]}function addItemToEnvelope(e,t){const[n,r]=e;return[n,[...r,t]]}function forEachEnvelopeItem(e,t){const n=e[1];for(const r of n){const o=r[0].type;if(t(r,o))return!0}return!1}function encodeUTF8(e,t){return(t||new TextEncoder).encode(e)}function serializeEnvelope(e,t){const[n,r]=e;let o=JSON.stringify(n);function s(a){typeof o=="string"?o=typeof a=="string"?o+a:[encodeUTF8(o,t),a]:o.push(typeof a=="string"?encodeUTF8(a,t):a)}for(const a of r){const[u,l]=a;if(s(`
${JSON.stringify(u)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let m;try{m=JSON.stringify(l)}catch{m=JSON.stringify(normalize(l))}s(m)}}return typeof o=="string"?o:concatBuffers(o)}function concatBuffers(e){const t=e.reduce((o,s)=>o+s.length,0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}function createAttachmentEnvelopeItem(e,t){const n=typeof e.data=="string"?encodeUTF8(e.data,t):e.data;return[dropUndefinedKeys({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const ITEM_TYPE_TO_DATA_CATEGORY_MAP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function envelopeItemTypeToDataCategory(e){return ITEM_TYPE_TO_DATA_CATEGORY_MAP[e]}function getSdkMetadataForEnvelopeHeader(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function createEventEnvelopeHeaders(e,t,n,r){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&{dsn:dsnToString(r)},...o&&{trace:dropUndefinedKeys({...o})}}}function createClientReportEnvelope(e,t,n){const r=[{type:"client_report"},{timestamp:n||dateTimestampInSeconds(),discarded_events:e}];return createEnvelope(t?{dsn:t}:{},[r])}const DEFAULT_RETRY_AFTER=60*1e3;function parseRetryAfterHeader(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?DEFAULT_RETRY_AFTER:r-t}function disabledUntil(e,t){return e[t]||e.all||0}function isRateLimited(e,t,n=Date.now()){return disabledUntil(e,t)>n}function updateRateLimits(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(const u of s.trim().split(",")){const[l,m]=u.split(":",2),y=parseInt(l,10),d=(isNaN(y)?60:y)*1e3;if(!m)o.all=r+d;else for(const f of m.split(";"))o[f]=r+d}else a?o.all=r+parseRetryAfterHeader(a,r):t===429&&(o.all=r+60*1e3);return o}const DEFAULT_ENVIRONMENT="production";function makeSession(e){const t=timestampInSeconds(),n={sid:uuid4(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>sessionToJSON(n)};return e&&updateSession(n,e),n}function updateSession(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||timestampInSeconds(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:uuid4()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function closeSession(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),updateSession(e,n)}function sessionToJSON(e){return dropUndefinedKeys({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const DEFAULT_MAX_BREADCRUMBS=100;class Scope{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const n=new Scope;return t&&(n._breadcrumbs=[...t._breadcrumbs],n._tags={...t._tags},n._extra={...t._extra},n._contexts={...t._contexts},n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=[...t._eventProcessors],n._requestSession=t._requestSession,n._attachments=[...t._attachments],n._sdkProcessingMetadata={...t._sdkProcessingMetadata}),n}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&updateSession(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const n=t(this);return n instanceof Scope?n:this}return t instanceof Scope?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):isPlainObject$1(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,n){const r=typeof n=="number"?n:DEFAULT_MAX_BREADCRUMBS;if(r<=0)return this;const o={timestamp:dateTimestampInSeconds(),...t};return this._breadcrumbs=[...this._breadcrumbs,o].slice(-r),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,n={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const r=this._span.transaction;if(r){t.sdkProcessingMetadata={dynamicSamplingContext:r.getDynamicSamplingContext(),...t.sdkProcessingMetadata};const o=r.name;o&&(t.tags={transaction:o,...t.tags})}}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...getGlobalEventProcessors(),...this._eventProcessors],t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,n,r,o=0){return new SyncPromise((s,a)=>{const u=t[o];if(n===null||typeof u!="function")s(n);else{const l=u({...n},r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.id&&l===null&&logger.log(`Event processor "${u.id}" dropped event`),isThenable(l)?l.then(m=>this._notifyEventProcessors(t,m,r,o+1).then(s)).then(null,a):this._notifyEventProcessors(t,l,r,o+1).then(s).then(null,a)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?arrayify(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function getGlobalEventProcessors(){return getGlobalSingleton("globalEventProcessors",()=>[])}function addGlobalEventProcessor(e){getGlobalEventProcessors().push(e)}const API_VERSION=4,DEFAULT_BREADCRUMBS=100;class Hub{constructor(t,n=new Scope,r=API_VERSION){this._version=r,this._stack=[{scope:n}],t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();try{t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:uuid4(),o=new Error("Sentry syntheticException");return this._withClient((s,a)=>{s.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},a)}),r}captureMessage(t,n,r){const o=this._lastEventId=r&&r.event_id?r.event_id:uuid4(),s=new Error(t);return this._withClient((a,u)=>{a.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:o},u)}),o}captureEvent(t,n){const r=n&&n.event_id?n.event_id:uuid4();return t.type||(this._lastEventId=r),this._withClient((o,s)=>{o.captureEvent(t,{...n,event_id:r},s)}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:o}=this.getStackTop();if(!o)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=DEFAULT_BREADCRUMBS}=o.getOptions&&o.getOptions()||{};if(a<=0)return;const l={timestamp:dateTimestampInSeconds(),...t},m=s?consoleSandbox(()=>s(l,n)):l;m!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",m,n),r.addBreadcrumb(m,a))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=makeMain(this);try{t(this)}finally{makeMain(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!r&&console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&closeSession(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:o,environment:s=DEFAULT_ENVIRONMENT}=r&&r.getOptions()||{},{userAgent:a}=GLOBAL_OBJ.navigator||{},u=makeSession({release:o,environment:s,user:n.getUser(),...a&&{userAgent:a},...t}),l=n.getSession&&n.getSession();return l&&l.status==="ok"&&updateSession(l,{status:"exited"}),this.endSession(),n.setSession(u),u}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_withClient(t){const{scope:n,client:r}=this.getStackTop();r&&t(r,n)}_callExtensionMethod(t,...n){const o=getMainCarrier().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function getMainCarrier(){return GLOBAL_OBJ.__SENTRY__=GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},GLOBAL_OBJ}function makeMain(e){const t=getMainCarrier(),n=getHubFromCarrier(t);return setHubOnCarrier(t,e),n}function getCurrentHub(){const e=getMainCarrier();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return getGlobalHub(e)}function getGlobalHub(e=getMainCarrier()){return(!hasHubOnCarrier(e)||getHubFromCarrier(e).isOlderThan(API_VERSION))&&setHubOnCarrier(e,new Hub),getHubFromCarrier(e)}function hasHubOnCarrier(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function getHubFromCarrier(e){return getGlobalSingleton("hub",()=>new Hub,e)}function setHubOnCarrier(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function hasTracingEnabled(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=getCurrentHub().getClient(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function captureException(e,t){return getCurrentHub().captureException(e,{captureContext:t})}function captureMessage(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return getCurrentHub().captureMessage(e,n,r)}function configureScope(e){getCurrentHub().configureScope(e)}function addBreadcrumb(e){getCurrentHub().addBreadcrumb(e)}function withScope(e){getCurrentHub().withScope(e)}const SENTRY_API_VERSION="7";function getBaseApiEndpoint(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function _getIngestEndpoint(e){return`${getBaseApiEndpoint(e)}${e.projectId}/envelope/`}function _encodedAuth(e,t){return urlEncode({sentry_key:e.publicKey,sentry_version:SENTRY_API_VERSION,...t&&{sentry_client:`${t.name}/${t.version}`}})}function getEnvelopeEndpointWithUrlEncodedAuth(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${_getIngestEndpoint(e)}?${_encodedAuth(e,r)}`}function enhanceEventWithSdkInfo(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function createSessionEnvelope(e,t,n,r){const o=getSdkMetadataForEnvelopeHeader(n),s={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&{dsn:dsnToString(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e];return createEnvelope(s,[a])}function createEventEnvelope(e,t,n,r){const o=getSdkMetadataForEnvelopeHeader(n),s=e.type&&e.type!=="replay_event"?e.type:"event";enhanceEventWithSdkInfo(e,n&&n.sdk);const a=createEventEnvelopeHeaders(e,o,r,t);return delete e.sdkProcessingMetadata,createEnvelope(a,[[{type:s},e]])}const installedIntegrations=[];function filterDuplicates(e){const t={};return e.forEach(n=>{const{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function getIntegrationsToSetup(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(a=>{a.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=arrayify(n(t)):r=t;const o=filterDuplicates(r),s=findIndex$1(o,a=>a.name==="Debug");if(s!==-1){const[a]=o.splice(s,1);o.push(a)}return o}function setupIntegrations(e){const t={};return e.forEach(n=>{n&&setupIntegration(n,t)}),t}function setupIntegration(e,t){t[e.name]=e,installedIntegrations.indexOf(e.name)===-1&&(e.setupOnce(addGlobalEventProcessor,getCurrentHub),installedIntegrations.push(e.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`Integration installed: ${e.name}`))}function findIndex$1(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function prepareEvent(e,t,n,r){const{normalizeDepth:o=3,normalizeMaxBreadth:s=1e3}=e,a={...t,event_id:t.event_id||n.event_id||uuid4(),timestamp:t.timestamp||dateTimestampInSeconds()},u=n.integrations||e.integrations.map(y=>y.name);applyClientOptions(a,e),applyIntegrationsMetadata(a,u),t.type===void 0&&applyDebugMetadata(a,e.stackParser);let l=r;n.captureContext&&(l=Scope.clone(l).update(n.captureContext));let m=resolvedSyncPromise(a);if(l){if(l.getAttachments){const y=[...n.attachments||[],...l.getAttachments()];y.length&&(n.attachments=y)}m=l.applyToEvent(a,n)}return m.then(y=>typeof o=="number"&&o>0?normalizeEvent(y,o,s):y)}function applyClientOptions(e,t){const{environment:n,release:r,dist:o,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:DEFAULT_ENVIRONMENT),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=truncate(e.message,s));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=truncate(a.value,s));const u=e.request;u&&u.url&&(u.url=truncate(u.url,s))}const debugIdStackParserCache=new WeakMap;function applyDebugMetadata(e,t){const n=GLOBAL_OBJ._sentryDebugIds;if(!n)return;let r;const o=debugIdStackParserCache.get(t);o?r=o:(r=new Map,debugIdStackParserCache.set(t,r));const s=Object.keys(n).reduce((l,m)=>{let y;const d=r.get(m);d?y=d:(y=t(m),r.set(m,y));for(let f=y.length-1;f>=0;f--){const v=y[f];if(v.filename){l[v.filename]=n[m];break}}return l},{}),a=new Set;try{e.exception.values.forEach(l=>{l.stacktrace.frames.forEach(m=>{m.filename&&a.add(m.filename)})})}catch{}e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const u=e.debug_meta.images;a.forEach(l=>{s[l]&&u.push({type:"sourcemap",code_file:l,debug_id:s[l]})})}function applyIntegrationsMetadata(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function normalizeEvent(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:normalize(o.data,t,n)}}))},...e.user&&{user:normalize(e.user,t,n)},...e.contexts&&{contexts:normalize(e.contexts,t,n)},...e.extra&&{extra:normalize(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=normalize(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>(o.data&&(o.data=normalize(o.data,t,n)),o))),r}const ALREADY_SEEN_ERROR="Not capturing exception because it's already been captured.";class BaseClient{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(t){if(BaseClient.prototype.__init.call(this),BaseClient.prototype.__init2.call(this),BaseClient.prototype.__init3.call(this),BaseClient.prototype.__init4.call(this),BaseClient.prototype.__init5.call(this),this._options=t,t.dsn){this._dsn=makeDsn(t.dsn);const n=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("No DSN provided, client will not do anything.")}captureException(t,n,r){if(checkOrSetAlreadyCaught(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(ALREADY_SEEN_ERROR);return}let o=n&&n.event_id;return this._process(this.eventFromException(t,n).then(s=>this._captureEvent(s,n,r)).then(s=>{o=s})),o}captureMessage(t,n,r,o){let s=r&&r.event_id;const a=isPrimitive(t)?this.eventFromMessage(String(t),n,r):this.eventFromException(t,r);return this._process(a.then(u=>this._captureEvent(u,r,o)).then(u=>{s=u})),s}captureEvent(t,n,r){if(n&&n.originalException&&checkOrSetAlreadyCaught(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(ALREADY_SEEN_ERROR);return}let o=n&&n.event_id;return this._process(this._captureEvent(t,n,r).then(s=>{o=s})),o}captureSession(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),updateSession(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o)):resolvedSyncPromise(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=setupIntegrations(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){setupIntegration(t,this._integrations)}sendEvent(t,n={}){if(this._dsn){let r=createEventEnvelope(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=addItemToEnvelope(r,createAttachmentEnvelopeItem(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const o=this._sendEnvelope(r);o&&o.then(s=>this.emit("afterSendEvent",t,s),null)}}sendSession(t){if(this._dsn){const n=createSessionEnvelope(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const o=`${t}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`Adding outcome: "${o}"`),this._outcomes[o]=this._outcomes[o]+1||1}}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_updateSessionFromEvent(t,n){let r=!1,o=!1;const s=n.exception&&n.exception.values;if(s){o=!0;for(const l of s){const m=l.mechanism;if(m&&m.handled===!1){r=!0;break}}}const a=t.status==="ok";(a&&t.errors===0||a&&r)&&(updateSession(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new SyncPromise(n=>{let r=0;const o=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=o,t&&r>=t&&(clearInterval(s),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(t,n,r){const o=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),prepareEvent(o,t,n,r)}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(o=>o.event_id,o=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const s=o;s.logLevel==="log"?logger.log(s.message):logger.warn(s)}})}_processEvent(t,n,r){const o=this.getOptions(),{sampleRate:s}=o;if(!this._isEnabled())return rejectedSyncPromise(new SentryError("SDK not enabled, will not capture event.","log"));const a=isTransactionEvent(t),u=isErrorEvent(t),l=t.type||"error",m=`before send for type \`${l}\``;if(u&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),rejectedSyncPromise(new SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const y=l==="replay_event"?"replay":l;return this._prepareEvent(t,n,r).then(d=>{if(d===null)throw this.recordDroppedEvent("event_processor",y,t),new SentryError("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return d;const v=processBeforeSend(o,d,n);return _validateBeforeSendResult(v,m)}).then(d=>{if(d===null)throw this.recordDroppedEvent("before_send",y,t),new SentryError(`${m} returned \`null\`, will not send event.`,"log");const f=r&&r.getSession();!a&&f&&this._updateSessionFromEvent(f,d);const v=d.transaction_info;if(a&&v&&d.transaction!==t.transaction){const A="custom";d.transaction_info={...v,source:A}}return this.sendEvent(d,n),d}).then(null,d=>{throw d instanceof SentryError?d:(this.captureException(d,{data:{__sentry__:!0},originalException:d}),new SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${d}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",t),this._transport.send(t).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("Error while sending event:",n)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,o]=n.split(":");return{reason:r,category:o,quantity:t[n]}})}}function _validateBeforeSendResult(e,t){const n=`${t} must return \`null\` or a valid event.`;if(isThenable(e))return e.then(r=>{if(!isPlainObject$1(r)&&r!==null)throw new SentryError(n);return r},r=>{throw new SentryError(`${t} rejected with ${r}`)});if(!isPlainObject$1(e)&&e!==null)throw new SentryError(n);return e}function processBeforeSend(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;return isErrorEvent(t)&&r?r(t,n):isTransactionEvent(t)&&o?o(t,n):t}function isErrorEvent(e){return e.type===void 0}function isTransactionEvent(e){return e.type==="transaction"}function initAndBind(e,t){t.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?logger.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=getCurrentHub();n.getScope().update(t.initialScope);const o=new e(t);n.bindClient(o)}const DEFAULT_TRANSPORT_BUFFER_SIZE=30;function createTransport(e,t,n=makePromiseBuffer(e.bufferSize||DEFAULT_TRANSPORT_BUFFER_SIZE)){let r={};const o=a=>n.drain(a);function s(a){const u=[];if(forEachEnvelopeItem(a,(d,f)=>{const v=envelopeItemTypeToDataCategory(f);if(isRateLimited(r,v)){const A=getEventForEnvelopeItem(d,f);e.recordDroppedEvent("ratelimit_backoff",v,A)}else u.push(d)}),u.length===0)return resolvedSyncPromise();const l=createEnvelope(a[0],u),m=d=>{forEachEnvelopeItem(l,(f,v)=>{const A=getEventForEnvelopeItem(f,v);e.recordDroppedEvent(d,envelopeItemTypeToDataCategory(v),A)})},y=()=>t({body:serializeEnvelope(l,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=updateRateLimits(r,d),d),d=>{throw m("network_error"),d});return n.add(y).then(d=>d,d=>{if(d instanceof SentryError)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("Skipped sending event because buffer is full."),m("queue_overflow"),resolvedSyncPromise();throw d})}return s.__sentry__baseTransport__=!0,{send:s,flush:o}}function getEventForEnvelopeItem(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const SDK_VERSION="7.51.0";let originalFunctionToString;class FunctionToString{constructor(){FunctionToString.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=FunctionToString.id}setupOnce(){originalFunctionToString=Function.prototype.toString;try{Function.prototype.toString=function(...t){const n=getOriginalFunction(this)||this;return originalFunctionToString.apply(n,t)}}catch{}}}FunctionToString.__initStatic();const DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class InboundFilters{static __initStatic(){this.id="InboundFilters"}__init(){this.name=InboundFilters.id}constructor(t={}){this._options=t,InboundFilters.prototype.__init.call(this)}setupOnce(t,n){const r=o=>{const s=n();if(s){const a=s.getIntegration(InboundFilters);if(a){const u=s.getClient(),l=u?u.getOptions():{},m=_mergeOptions(a._options,l);return _shouldDropEvent$1(o,m)?null:o}}return o};r.id=this.name,t(r)}}InboundFilters.__initStatic();function _mergeOptions(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...DEFAULT_IGNORE_ERRORS],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function _shouldDropEvent$1(e,t){return t.ignoreInternal&&_isSentryError(e)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Event dropped due to being internal Sentry Error.
Event: ${getEventDescription(e)}`),!0):_isIgnoredError(e,t.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${getEventDescription(e)}`),!0):_isIgnoredTransaction(e,t.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${getEventDescription(e)}`),!0):_isDeniedUrl(e,t.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${getEventDescription(e)}.
Url: ${_getEventFilterUrl(e)}`),!0):_isAllowedUrl(e,t.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${getEventDescription(e)}.
Url: ${_getEventFilterUrl(e)}`),!0)}function _isIgnoredError(e,t){return e.type||!t||!t.length?!1:_getPossibleEventMessages(e).some(n=>stringMatchesSomePattern(n,t))}function _isIgnoredTransaction(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?stringMatchesSomePattern(n,t):!1}function _isDeniedUrl(e,t){if(!t||!t.length)return!1;const n=_getEventFilterUrl(e);return n?stringMatchesSomePattern(n,t):!1}function _isAllowedUrl(e,t){if(!t||!t.length)return!0;const n=_getEventFilterUrl(e);return n?stringMatchesSomePattern(n,t):!0}function _getPossibleEventMessages(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error(`Cannot extract message for event ${getEventDescription(e)}`),[]}return[]}function _isSentryError(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function _getLastValidUrl(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function _getEventFilterUrl(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?_getLastValidUrl(t):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error(`Cannot extract url for event ${getEventDescription(e)}`),null}}const WINDOW=GLOBAL_OBJ;let ignoreOnError=0;function shouldIgnoreOnError(){return ignoreOnError>0}function ignoreNextOnError(){ignoreOnError++,setTimeout(()=>{ignoreOnError--})}function wrap(e,t={},n){if(typeof e!="function")return e;try{const o=e.__sentry_wrapped__;if(o)return o;if(getOriginalFunction(e))return e}catch{return e}const r=function(){const o=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=o.map(a=>wrap(a,t));return e.apply(this,s)}catch(s){throw ignoreNextOnError(),withScope(a=>{a.addEventProcessor(u=>(t.mechanism&&(addExceptionTypeValue(u,void 0,void 0),addExceptionMechanism(u,t.mechanism)),u.extra={...u.extra,arguments:o},u)),captureException(s)}),s}};try{for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}markFunctionWrapped(r,e),addNonEnumerableProperty(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function exceptionFromError(e,t){const n=parseStackFrames(e,t),r={type:t&&t.name,value:extractMessage(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function eventFromPlainObject(e,t,n,r){const s=getCurrentHub().getClient(),a=s&&s.getOptions().normalizeDepth,u={exception:{values:[{type:isEvent(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${extractExceptionKeysForMessage(t)}`}]},extra:{__serialized__:normalizeToSize(t,a)}};if(n){const l=parseStackFrames(e,n);l.length&&(u.exception.values[0].stacktrace={frames:l})}return u}function eventFromError(e,t){return{exception:{values:[exceptionFromError(e,t)]}}}function parseStackFrames(e,t){const n=t.stacktrace||t.stack||"",r=getPopSize(t);try{return e(n,r)}catch{}return[]}const reactMinifiedRegexp=/Minified React error #\d+;/i;function getPopSize(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(reactMinifiedRegexp.test(e.message))return 1}return 0}function extractMessage(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function eventFromException(e,t,n,r){const o=n&&n.syntheticException||void 0,s=eventFromUnknownInput(e,t,o,r);return addExceptionMechanism(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),resolvedSyncPromise(s)}function eventFromMessage(e,t,n="info",r,o){const s=r&&r.syntheticException||void 0,a=eventFromString(e,t,s,o);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),resolvedSyncPromise(a)}function eventFromUnknownInput(e,t,n,r,o){let s;if(isErrorEvent$1(t)&&t.error)return eventFromError(e,t.error);if(isDOMError(t)||isDOMException(t)){const a=t;if("stack"in t)s=eventFromError(e,t);else{const u=a.name||(isDOMError(a)?"DOMError":"DOMException"),l=a.message?`${u}: ${a.message}`:u;s=eventFromString(e,l,n,r),addExceptionTypeValue(s,l)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return isError(t)?eventFromError(e,t):isPlainObject$1(t)||isEvent(t)?(s=eventFromPlainObject(e,t,n,o),addExceptionMechanism(s,{synthetic:!0}),s):(s=eventFromString(e,t,n,r),addExceptionTypeValue(s,`${t}`,void 0),addExceptionMechanism(s,{synthetic:!0}),s)}function eventFromString(e,t,n,r){const o={message:t};if(r&&n){const s=parseStackFrames(e,n);s.length&&(o.exception={values:[{value:t,stacktrace:{frames:s}}]})}return o}const MAX_ALLOWED_STRING_LENGTH=1024,BREADCRUMB_INTEGRATION_ID="Breadcrumbs";class Breadcrumbs{static __initStatic(){this.id=BREADCRUMB_INTEGRATION_ID}__init(){this.name=Breadcrumbs.id}constructor(t){Breadcrumbs.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){this.options.console&&addInstrumentationHandler("console",_consoleBreadcrumb),this.options.dom&&addInstrumentationHandler("dom",_domBreadcrumb(this.options.dom)),this.options.xhr&&addInstrumentationHandler("xhr",_xhrBreadcrumb),this.options.fetch&&addInstrumentationHandler("fetch",_fetchBreadcrumb),this.options.history&&addInstrumentationHandler("history",_historyBreadcrumb)}addSentryBreadcrumb(t){this.options.sentry&&getCurrentHub().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:getEventDescription(t)},{event:t})}}Breadcrumbs.__initStatic();function _domBreadcrumb(e){function t(n){let r,o=typeof e=="object"?e.serializeAttribute:void 0,s=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;s&&s>MAX_ALLOWED_STRING_LENGTH&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`\`dom.maxStringLength\` cannot exceed ${MAX_ALLOWED_STRING_LENGTH}, but a value of ${s} was configured. Sentry will use ${MAX_ALLOWED_STRING_LENGTH} instead.`),s=MAX_ALLOWED_STRING_LENGTH),typeof o=="string"&&(o=[o]);try{const a=n.event;r=_isEvent(a)?htmlTreeAsString(a.target,{keyAttrs:o,maxStringLength:s}):htmlTreeAsString(a,{keyAttrs:o,maxStringLength:s})}catch{r="<unknown>"}r.length!==0&&getCurrentHub().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}return t}function _consoleBreadcrumb(e){for(let n=0;n<e.args.length;n++)if(e.args[n]==="ref=Ref<"){e.args[n+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:severityLevelFromString(e.level),message:safeJoin(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message=`Assertion failed: ${safeJoin(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;getCurrentHub().addBreadcrumb(t,{input:e.args,level:e.level})}function _xhrBreadcrumb(e){const{startTimestamp:t,endTimestamp:n}=e,r=e.xhr[SENTRY_XHR_DATA_KEY];if(!t||!n||!r)return;const{method:o,url:s,status_code:a,body:u}=r,l={method:o,url:s,status_code:a},m={xhr:e.xhr,input:u,startTimestamp:t,endTimestamp:n};getCurrentHub().addBreadcrumb({category:"xhr",data:l,type:"http"},m)}function _fetchBreadcrumb(e){const{startTimestamp:t,endTimestamp:n}=e;if(n&&!(e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"))if(e.error){const r=e.fetchData,o={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};getCurrentHub().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},o)}else{const r={...e.fetchData,status_code:e.response&&e.response.status},o={input:e.args,response:e.response,startTimestamp:t,endTimestamp:n};getCurrentHub().addBreadcrumb({category:"fetch",data:r,type:"http"},o)}}function _historyBreadcrumb(e){let t=e.from,n=e.to;const r=parseUrl(WINDOW.location.href);let o=parseUrl(t);const s=parseUrl(n);o.path||(o=r),r.protocol===s.protocol&&r.host===s.host&&(n=s.relative),r.protocol===o.protocol&&r.host===o.host&&(t=o.relative),getCurrentHub().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}function _isEvent(e){return e&&!!e.target}function createUserFeedbackEnvelope(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:dsnToString(r)}},s=createUserFeedbackEnvelopeItem(e);return createEnvelope(o,[s])}function createUserFeedbackEnvelopeItem(e){return[{type:"user_report"},e]}class BrowserClient extends BaseClient{constructor(t){const n=WINDOW.SENTRY_SDK_SOURCE||getSDKSource();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:SDK_VERSION}],version:SDK_VERSION},super(t),t.sendClientReports&&WINDOW.document&&WINDOW.document.addEventListener("visibilitychange",()=>{WINDOW.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return eventFromException(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return eventFromMessage(this._options.stackParser,t,n,r,this._options.attachStacktrace)}sendEvent(t,n){const r=this.getIntegrationById(BREADCRUMB_INTEGRATION_ID);r&&r.addSentryBreadcrumb&&r.addSentryBreadcrumb(t),super.sendEvent(t,n)}captureUserFeedback(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("SDK not enabled, will not capture user feedback.");return}const n=createUserFeedbackEnvelope(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("Sending outcomes:",t);const n=createClientReportEnvelope(t,this._options.tunnel&&dsnToString(this._dsn));this._sendEnvelope(n)}}let cachedFetchImpl;function getNativeFetchImplementation(){if(cachedFetchImpl)return cachedFetchImpl;if(isNativeFetch(WINDOW.fetch))return cachedFetchImpl=WINDOW.fetch.bind(WINDOW);const e=WINDOW.document;let t=WINDOW.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return cachedFetchImpl=t.bind(WINDOW)}function clearCachedFetchImplementation(){cachedFetchImpl=void 0}function makeFetchTransport(e,t=getNativeFetchImplementation()){let n=0,r=0;function o(s){const a=s.body.length;n+=a,r++;const u={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,u).then(l=>(n-=a,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return clearCachedFetchImplementation(),n-=a,r--,rejectedSyncPromise(l)}}return createTransport(e,o)}const XHR_READYSTATE_DONE=4;function makeXHRTransport(e){function t(n){return new SyncPromise((r,o)=>{const s=new XMLHttpRequest;s.onerror=o,s.onreadystatechange=()=>{s.readyState===XHR_READYSTATE_DONE&&r({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const a in e.headers)Object.prototype.hasOwnProperty.call(e.headers,a)&&s.setRequestHeader(a,e.headers[a]);s.send(n.body)})}return createTransport(e,t)}const UNKNOWN_FUNCTION="?",CHROME_PRIORITY=30,WINJS_PRIORITY=40,GECKO_PRIORITY=50;function createFrame(e,t,n,r){const o={filename:e,function:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}const chromeRegex=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,chromeEvalRegex=/\((\S*)(?::(\d+))(?::(\d+))\)/,chrome=e=>{const t=chromeRegex.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const s=chromeEvalRegex.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}const[r,o]=extractSafariExtensionDetails(t[1]||UNKNOWN_FUNCTION,t[2]);return createFrame(o,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},chromeStackLineParser=[CHROME_PRIORITY,chrome],geckoREgex=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,geckoEvalRegex=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gecko=e=>{const t=geckoREgex.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=geckoEvalRegex.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],o=t[1]||UNKNOWN_FUNCTION;return[o,r]=extractSafariExtensionDetails(o,r),createFrame(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},geckoStackLineParser=[GECKO_PRIORITY,gecko],winjsRegex=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,winjs=e=>{const t=winjsRegex.exec(e);return t?createFrame(t[2],t[1]||UNKNOWN_FUNCTION,+t[3],t[4]?+t[4]:void 0):void 0},winjsStackLineParser=[WINJS_PRIORITY,winjs],defaultStackLineParsers=[chromeStackLineParser,geckoStackLineParser,winjsStackLineParser],defaultStackParser=createStackParser(...defaultStackLineParsers),extractSafariExtensionDetails=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:UNKNOWN_FUNCTION,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};class GlobalHandlers{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=GlobalHandlers.id}__init2(){this._installFunc={onerror:_installGlobalOnErrorHandler,onunhandledrejection:_installGlobalOnUnhandledRejectionHandler}}constructor(t){GlobalHandlers.prototype.__init.call(this),GlobalHandlers.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;const t=this._options;for(const n in t){const r=this._installFunc[n];r&&t[n]&&(globalHandlerLog(n),r(),this._installFunc[n]=void 0)}}}GlobalHandlers.__initStatic();function _installGlobalOnErrorHandler(){addInstrumentationHandler("error",e=>{const[t,n,r]=getHubAndOptions();if(!t.getIntegration(GlobalHandlers))return;const{msg:o,url:s,line:a,column:u,error:l}=e;if(shouldIgnoreOnError()||l&&l.__sentry_own_request__)return;const m=l===void 0&&isString(o)?_eventFromIncompleteOnError(o,s,a,u):_enhanceEventWithInitialFrame(eventFromUnknownInput(n,l||o,void 0,r,!1),s,a,u);m.level="error",addMechanismAndCapture(t,l,m,"onerror")})}function _installGlobalOnUnhandledRejectionHandler(){addInstrumentationHandler("unhandledrejection",e=>{const[t,n,r]=getHubAndOptions();if(!t.getIntegration(GlobalHandlers))return;let o=e;try{"reason"in e?o=e.reason:"detail"in e&&"reason"in e.detail&&(o=e.detail.reason)}catch{}if(shouldIgnoreOnError()||o&&o.__sentry_own_request__)return!0;const s=isPrimitive(o)?_eventFromRejectionWithPrimitive(o):eventFromUnknownInput(n,o,void 0,r,!0);s.level="error",addMechanismAndCapture(t,o,s,"onunhandledrejection")})}function _eventFromRejectionWithPrimitive(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function _eventFromIncompleteOnError(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=isErrorEvent$1(e)?e.message:e,a="Error";const u=s.match(o);return u&&(a=u[1],s=u[2]),_enhanceEventWithInitialFrame({exception:{values:[{type:a,value:s}]}},t,n,r)}function _enhanceEventWithInitialFrame(e,t,n,r){const o=e.exception=e.exception||{},s=o.values=o.values||[],a=s[0]=s[0]||{},u=a.stacktrace=a.stacktrace||{},l=u.frames=u.frames||[],m=isNaN(parseInt(r,10))?void 0:r,y=isNaN(parseInt(n,10))?void 0:n,d=isString(t)&&t.length>0?t:getLocationHref();return l.length===0&&l.push({colno:m,filename:d,function:"?",in_app:!0,lineno:y}),e}function globalHandlerLog(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`Global Handler attached: ${e}`)}function addMechanismAndCapture(e,t,n,r){addExceptionMechanism(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function getHubAndOptions(){const e=getCurrentHub(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}const DEFAULT_EVENT_TARGET=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class TryCatch{static __initStatic(){this.id="TryCatch"}__init(){this.name=TryCatch.id}constructor(t){TryCatch.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&fill(WINDOW,"setTimeout",_wrapTimeFunction),this._options.setInterval&&fill(WINDOW,"setInterval",_wrapTimeFunction),this._options.requestAnimationFrame&&fill(WINDOW,"requestAnimationFrame",_wrapRAF),this._options.XMLHttpRequest&&"XMLHttpRequest"in WINDOW&&fill(XMLHttpRequest.prototype,"send",_wrapXHR);const t=this._options.eventTarget;t&&(Array.isArray(t)?t:DEFAULT_EVENT_TARGET).forEach(_wrapEventTarget)}}TryCatch.__initStatic();function _wrapTimeFunction(e){return function(...t){const n=t[0];return t[0]=wrap(n,{mechanism:{data:{function:getFunctionName(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function _wrapRAF(e){return function(t){return e.apply(this,[wrap(t,{mechanism:{data:{function:"requestAnimationFrame",handler:getFunctionName(e)},handled:!0,type:"instrument"}})])}}function _wrapXHR(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&fill(n,o,function(s){const a={mechanism:{data:{function:o,handler:getFunctionName(s)},handled:!0,type:"instrument"}},u=getOriginalFunction(s);return u&&(a.mechanism.data.handler=getFunctionName(u)),wrap(s,a)})}),e.apply(this,t)}}function _wrapEventTarget(e){const t=WINDOW,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(fill(n,"addEventListener",function(r){return function(o,s,a){try{typeof s.handleEvent=="function"&&(s.handleEvent=wrap(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:getFunctionName(s),target:e},handled:!0,type:"instrument"}}))}catch{}return r.apply(this,[o,wrap(s,{mechanism:{data:{function:"addEventListener",handler:getFunctionName(s),target:e},handled:!0,type:"instrument"}}),a])}}),fill(n,"removeEventListener",function(r){return function(o,s,a){const u=s;try{const l=u&&u.__sentry_wrapped__;l&&r.call(this,o,l,a)}catch{}return r.call(this,o,u,a)}}))}const DEFAULT_KEY="cause",DEFAULT_LIMIT=5;class LinkedErrors{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=LinkedErrors.id}constructor(t={}){LinkedErrors.prototype.__init.call(this),this._key=t.key||DEFAULT_KEY,this._limit=t.limit||DEFAULT_LIMIT}setupOnce(){const t=getCurrentHub().getClient();t&&addGlobalEventProcessor((n,r)=>{const o=getCurrentHub().getIntegration(LinkedErrors);return o?_handler(t.getOptions().stackParser,o._key,o._limit,n,r):n})}}LinkedErrors.__initStatic();function _handler(e,t,n,r,o){if(!r.exception||!r.exception.values||!o||!isInstanceOf(o.originalException,Error))return r;const s=_walkErrorTree(e,n,o.originalException,t);return r.exception.values=[...s,...r.exception.values],r}function _walkErrorTree(e,t,n,r,o=[]){if(!isInstanceOf(n[r],Error)||o.length+1>=t)return o;const s=exceptionFromError(e,n[r]);return _walkErrorTree(e,t,n[r],r,[s,...o])}class HttpContext{constructor(){HttpContext.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=HttpContext.id}setupOnce(){addGlobalEventProcessor(t=>{if(getCurrentHub().getIntegration(HttpContext)){if(!WINDOW.navigator&&!WINDOW.location&&!WINDOW.document)return t;const n=t.request&&t.request.url||WINDOW.location&&WINDOW.location.href,{referrer:r}=WINDOW.document||{},{userAgent:o}=WINDOW.navigator||{},s={...t.request&&t.request.headers,...r&&{Referer:r},...o&&{"User-Agent":o}},a={...t.request,...n&&{url:n},headers:s};return{...t,request:a}}return t})}}HttpContext.__initStatic();class Dedupe{constructor(){Dedupe.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Dedupe.id}setupOnce(t,n){const r=o=>{if(o.type)return o;const s=n().getIntegration(Dedupe);if(s){try{if(_shouldDropEvent(o,s._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return s._previousEvent=o}return s._previousEvent=o}return o};r.id=this.name,t(r)}}Dedupe.__initStatic();function _shouldDropEvent(e,t){return t?!!(_isSameMessageEvent(e,t)||_isSameExceptionEvent(e,t)):!1}function _isSameMessageEvent(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!_isSameFingerprint(e,t)||!_isSameStacktrace(e,t))}function _isSameExceptionEvent(e,t){const n=_getExceptionFromEvent(t),r=_getExceptionFromEvent(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!_isSameFingerprint(e,t)||!_isSameStacktrace(e,t))}function _isSameStacktrace(e,t){let n=_getFramesFromEvent(e),r=_getFramesFromEvent(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}function _isSameFingerprint(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function _getExceptionFromEvent(e){return e.exception&&e.exception.values&&e.exception.values[0]}function _getFramesFromEvent(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const defaultIntegrations=[new InboundFilters,new FunctionToString,new TryCatch,new Breadcrumbs,new GlobalHandlers,new LinkedErrors,new Dedupe,new HttpContext];function init$2(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=defaultIntegrations),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),WINDOW.SENTRY_RELEASE&&WINDOW.SENTRY_RELEASE.id&&(e.release=WINDOW.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:stackParserFromStackParserOptions(e.stackParser||defaultStackParser),integrations:getIntegrationsToSetup(e),transport:e.transport||(supportsFetch()?makeFetchTransport:makeXHRTransport)};initAndBind(BrowserClient,t),e.autoSessionTracking&&startSessionTracking()}function startSessionOnHub(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function startSessionTracking(){if(typeof WINDOW.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const e=getCurrentHub();e.captureSession&&(startSessionOnHub(e),addInstrumentationHandler("history",({from:t,to:n})=>{t===void 0||t===n||startSessionOnHub(getCurrentHub())}))}const DEFAULT_HOOKS=["activate","mount","update"],classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,""),ROOT_COMPONENT_NAME="<Root>",ANONYMOUS_COMPONENT_NAME="<Anonymous>",repeat$1=(e,t)=>e.repeat?e.repeat(t):e,formatComponentName=(e,t)=>{if(!e)return ANONYMOUS_COMPONENT_NAME;if(e.$root===e)return ROOT_COMPONENT_NAME;if(!e.$options)return ANONYMOUS_COMPONENT_NAME;const n=e.$options;let r=n.name||n._componentTag;const o=n.__file;if(!r&&o){const s=o.match(/([^/\\]+)\.vue$/);s&&(r=s[1])}return(r?`<${classify(r)}>`:ANONYMOUS_COMPONENT_NAME)+(o&&t!==!1?` at ${o}`:"")},generateComponentTrace=e=>{if(e&&(e._isVue||e.__isVue)&&e.$parent){const t=[];let n=0;for(;e;){if(t.length>0){const o=t[t.length-1];if(o.constructor===e.constructor){n++,e=e.$parent;continue}else n>0&&(t[t.length-1]=[o,n],n=0)}t.push(e),e=e.$parent}return`

found in

${t.map((o,s)=>`${(s===0?"---> ":repeat$1(" ",5+s*2))+(Array.isArray(o)?`${formatComponentName(o[0])}... (${o[1]} recursive calls)`:formatComponentName(o))}`).join(`
`)}`}return`

(found in ${formatComponentName(e)})`},attachErrorHandler=(e,t)=>{const{errorHandler:n,warnHandler:r,silent:o}=e.config;e.config.errorHandler=(s,a,u)=>{const l=formatComponentName(a,!1),m=a?generateComponentTrace(a):"",y={componentName:l,lifecycleHook:u,trace:m};if(t.attachProps&&a&&(a.$options&&a.$options.propsData?y.propsData=a.$options.propsData:a.$props&&(y.propsData=a.$props)),setTimeout(()=>{getCurrentHub().withScope(d=>{d.setContext("vue",y),getCurrentHub().captureException(s)})}),typeof n=="function"&&n.call(e,s,a,u),t.logErrors){const d=typeof console<"u",f=`Error in ${u}: "${s&&s.toString()}"`;r?r.call(null,f,a,m):d&&!o&&console.error(`[Vue warn]: ${f}${m}`)}}},VUE_OP="ui.vue",HOOKS={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function getActiveTransaction(){const e=getCurrentHub().getScope();return e&&e.getTransaction()}function finishRootSpan(e,t,n){e.$_sentryRootSpanTimer&&clearTimeout(e.$_sentryRootSpanTimer),e.$_sentryRootSpanTimer=setTimeout(()=>{e.$root&&e.$root.$_sentryRootSpan&&(e.$root.$_sentryRootSpan.finish(t),e.$root.$_sentryRootSpan=void 0)},n)}const createTracingMixins=e=>{const t=(e.hooks||[]).concat(DEFAULT_HOOKS).filter((r,o,s)=>s.indexOf(r)===o),n={};for(const r of t){const o=HOOKS[r];if(!o){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Unknown hook: ${r}`);continue}for(const s of o)n[s]=function(){const a=this.$root===this;if(a){const m=getActiveTransaction();m&&(this.$_sentryRootSpan=this.$_sentryRootSpan||m.startChild({description:"Application Render",op:`${VUE_OP}.render`}))}const u=formatComponentName(this,!1),l=Array.isArray(e.trackComponents)?e.trackComponents.indexOf(u)>-1:e.trackComponents;if(!(!a&&!l))if(this.$_sentrySpans=this.$_sentrySpans||{},s==o[0]){const m=this.$root&&this.$root.$_sentryRootSpan||getActiveTransaction();if(m){const y=this.$_sentrySpans[r];y&&!y.endTimestamp&&y.finish(),this.$_sentrySpans[r]=m.startChild({description:`Vue <${u}>`,op:`${VUE_OP}.${r}`})}}else{const m=this.$_sentrySpans[r];if(!m)return;m.finish(),finishRootSpan(this,timestampInSeconds(),e.timeout)}}}return n},globalWithVue=GLOBAL_OBJ,DEFAULT_CONFIG={Vue:globalWithVue.Vue,attachProps:!0,logErrors:!0,hooks:DEFAULT_HOOKS,timeout:2e3,trackComponents:!1,_metadata:{sdk:{name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:SDK_VERSION}],version:SDK_VERSION}}};function init$1(e={}){const t={...DEFAULT_CONFIG,...e};if(init$2(t),!t.Vue&&!t.app){console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured.\nUpdate your `Sentry.init` call with an appropriate config option:\n`app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).");return}t.app?arrayify(t.app).forEach(r=>vueInit(r,t)):t.Vue&&vueInit(t.Vue,t)}const vueInit=(e,t)=>{const n=e;(n._instance&&n._instance.isMounted)===!0&&console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`."),attachErrorHandler(e,t),hasTracingEnabled(t)&&e.mixin(createTracingMixins({...t,...t.tracingOptions}))};var isVue2=!1;function getDevtoolsGlobalHook(){return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__}function getTarget(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const isProxyAvailable=typeof Proxy=="function",HOOK_SETUP="devtools-plugin:setup",HOOK_PLUGIN_SETTINGS_SET="plugin:settings:set";let supported,perf;function isPerformanceSupported(){var e;return supported!==void 0||(typeof window<"u"&&window.performance?(supported=!0,perf=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(supported=!0,perf=global.perf_hooks.performance):supported=!1),supported}function now(){return isPerformanceSupported()?perf.now():Date.now()}class ApiProxy{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const a in t.settings){const u=t.settings[a];r[a]=u.defaultValue}const o=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(o),u=JSON.parse(a);Object.assign(s,u)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(o,JSON.stringify(a))}catch{}s=a},now(){return now()}},n&&n.on(HOOK_PLUGIN_SETTINGS_SET,(a,u)=>{a===this.plugin.id&&this.fallbacks.setSettings(u)}),this.proxiedOn=new Proxy({},{get:(a,u)=>this.target?this.target.on[u]:(...l)=>{this.onQueue.push({method:u,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,u)=>this.target?this.target[u]:u==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(u)?(...l)=>(this.targetQueue.push({method:u,args:l,resolve:()=>{}}),this.fallbacks[u](...l)):(...l)=>new Promise(m=>{this.targetQueue.push({method:u,args:l,resolve:m})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function setupDevtoolsPlugin(e,t){const n=e,r=getTarget(),o=getDevtoolsGlobalHook(),s=isProxyAvailable&&n.enableEarlyProxy;if(o&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))o.emit(HOOK_SETUP,e,t);else{const a=s?new ApiProxy(n,o):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:a}),a&&t(a.proxiedTarget)}}/*!
  * pinia v2.0.35
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const e=effectScope(!0),t=e.run(()=>ref({}));let n=[],r=[];const o=markRaw({install(s){setActivePinia(o),o._a=s,s.provide(piniaSymbol,o),s.config.globalProperties.$pinia=o,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!isVue2?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const noop$1=()=>{};function addSubscription(e,t,n,r=noop$1){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&getCurrentScope()&&onScopeDispose(o),o}function triggerSubscriptions(e,...t){e.slice().forEach(n=>{n(...t)})}function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];isPlainObject(o)&&isPlainObject(r)&&e.hasOwnProperty(n)&&!isRef(r)&&!isReactive(r)?e[n]=mergeReactiveObjects(o,r):e[n]=r}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,t,n,r){const{state:o,actions:s,getters:a}=t,u=n.state.value[e];let l;function m(){u||(n.state.value[e]=o?o():{});const y=toRefs(n.state.value[e]);return assign$3(y,s,Object.keys(a||{}).reduce((d,f)=>(d[f]=markRaw(computed(()=>{setActivePinia(n);const v=n._s.get(e);return a[f].call(v,v)})),d),{}))}return l=createSetupStore(e,m,t,n,r,!0),l}function createSetupStore(e,t,n={},r,o,s){let a;const u=assign$3({actions:{}},n),l={deep:!0};let m,y,d=markRaw([]),f=markRaw([]),v;const A=r.state.value[e];!s&&!A&&(r.state.value[e]={}),ref({});let I;function P(B){let W;m=y=!1,typeof B=="function"?(B(r.state.value[e]),W={type:MutationType.patchFunction,storeId:e,events:v}):(mergeReactiveObjects(r.state.value[e],B),W={type:MutationType.patchObject,payload:B,storeId:e,events:v});const Z=I=Symbol();nextTick$1().then(()=>{I===Z&&(m=!0)}),y=!0,triggerSubscriptions(d,W,r.state.value[e])}const O=s?function(){const{state:W}=n,Z=W?W():{};this.$patch(j=>{assign$3(j,Z)})}:noop$1;function R(){a.stop(),d=[],f=[],r._s.delete(e)}function M(B,W){return function(){setActivePinia(r);const Z=Array.from(arguments),j=[],J=[];function ee(fe){j.push(fe)}function ae(fe){J.push(fe)}triggerSubscriptions(f,{args:Z,name:B,store:U,after:ee,onError:ae});let ne;try{ne=W.apply(this&&this.$id===e?this:U,Z)}catch(fe){throw triggerSubscriptions(J,fe),fe}return ne instanceof Promise?ne.then(fe=>(triggerSubscriptions(j,fe),fe)).catch(fe=>(triggerSubscriptions(J,fe),Promise.reject(fe))):(triggerSubscriptions(j,ne),ne)}}const k={_p:r,$id:e,$onAction:addSubscription.bind(null,f),$patch:P,$reset:O,$subscribe(B,W={}){const Z=addSubscription(d,B,W.detached,()=>j()),j=a.run(()=>watch(()=>r.state.value[e],J=>{(W.flush==="sync"?y:m)&&B({storeId:e,type:MutationType.direct,events:v},J)},assign$3({},l,W)));return Z},$dispose:R},U=reactive(k);r._s.set(e,U);const Q=r._e.run(()=>(a=effectScope(),a.run(()=>t())));for(const B in Q){const W=Q[B];if(isRef(W)&&!isComputed(W)||isReactive(W))s||(A&&shouldHydrate(W)&&(isRef(W)?W.value=A[B]:mergeReactiveObjects(W,A[B])),r.state.value[e][B]=W);else if(typeof W=="function"){const Z=M(B,W);Q[B]=Z,u.actions[B]=W}}return assign$3(U,Q),assign$3(toRaw(U),Q),Object.defineProperty(U,"$state",{get:()=>r.state.value[e],set:B=>{P(W=>{assign$3(W,B)})}}),r._p.forEach(B=>{assign$3(U,a.run(()=>B({store:U,app:r._a,pinia:r,options:u})))}),A&&s&&n.hydrate&&n.hydrate(U.$state,A),m=!0,y=!0,U}function defineStore(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function a(u,l){const m=getCurrentInstance();return u=u||m&&inject(piniaSymbol,null),u&&setActivePinia(u),u=activePinia,u._s.has(r)||(s?createSetupStore(r,t,o,u):createOptionsStore(r,o,u)),u._s.get(r)}return a.$id=r,a}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var s=Function.bind.apply(t,o);return new s}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var piniaLogger={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PiniaLogger=void 0;const t=(o=new Date)=>{const s=o.getHours().toString().padStart(2,"0"),a=o.getMinutes().toString().padStart(2,"0"),u=o.getSeconds().toString().padStart(2,"0"),l=o.getMilliseconds().toString();return`${s}:${a}:${u}:${l}`},n={logErrors:!0,disabled:!1,expanded:!0,showStoreName:!0,showDuration:!1,showTime:!0,showPineapple:!0,actions:void 0,filter:()=>!0},r=(o=n)=>s=>{const a=Object.assign(Object.assign(Object.assign({},n),o),typeof s.options.logger=="object"?s.options.logger:{});a.disabled||s.options.logger===!1||s.store.$onAction(u=>{var l;if(Array.isArray(a.actions)&&!(!((l=a.actions)===null||l===void 0)&&l.includes(u.name)))return;const m=Date.now(),y=Object.assign({},s.store.$state),d=(f,v)=>{const I=Date.now()-m+"ms",P=Object.assign({},s.store.$state),O=u.store.$id,R=`action ${a.showPineapple?"🍍 ":""}${a.showStoreName?`[${O}] `:""}${u.name} ${f?`failed ${a.showDuration?`after ${I} `:""}`:""}${a.showTime?`@ ${t()}`:""}`;console[a.expanded?"group":"groupCollapsed"](`%c${R}`,`font-weight: bold; ${f?"color: #ed4981;":""}`),console.log("%cprev state","font-weight: bold; color: grey;",y),console.log("%caction","font-weight: bold; color: #69B7FF;",Object.assign(Object.assign(Object.assign({type:u.name,args:u.args.length>0?Object.assign({},u.args):void 0},a.showStoreName&&{store:u.store.$id}),a.showDuration&&{duration:I}),f&&{error:v})),console.log("%cnext state","font-weight: bold; color: #4caf50;",P),console.groupEnd()};u.after(()=>{var f;((f=a.filter&&a.filter(u))!==null&&f!==void 0?f:!1)&&d()}),a.logErrors&&u.onError(f=>{d(!0,f)})})};e.PiniaLogger=r,e.default=e.PiniaLogger})(piniaLogger);function getBasePlacement(e){return e.split("-")[0]}function getAlignment(e){return e.split("-")[1]}function getMainAxisFromPlacement(e){return["top","bottom"].includes(getBasePlacement(e))?"x":"y"}function getLengthFromAxis(e){return e==="y"?"height":"width"}function computeCoordsFromPlacement(e){let{reference:t,floating:n,placement:r}=e;const o=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2;let a;switch(getBasePlacement(r)){case"top":a={x:o,y:t.y-n.height};break;case"bottom":a={x:o,y:t.y+t.height};break;case"right":a={x:t.x+t.width,y:s};break;case"left":a={x:t.x-n.width,y:s};break;default:a={x:t.x,y:t.y}}const u=getMainAxisFromPlacement(r),l=getLengthFromAxis(u);switch(getAlignment(r)){case"start":a[u]=a[u]-(t[l]/2-n[l]/2);break;case"end":a[u]=a[u]+(t[l]/2-n[l]/2);break}return a}const computePosition$1=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n;let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:l,y:m}=computeCoordsFromPlacement({...u,placement:r}),y=r,d={};for(let f=0;f<s.length;f++){const{name:v,fn:A}=s[f],{x:I,y:P,data:O,reset:R}=await A({x:l,y:m,initialPlacement:r,placement:y,strategy:o,middlewareData:d,rects:u,platform:a,elements:{reference:e,floating:t}});if(l=I??l,m=P??m,d={...d,[v]:O??{}},R){typeof R=="object"&&(R.placement&&(y=R.placement),R.rects&&(u=R.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):R.rects),{x:l,y:m}=computeCoordsFromPlacement({...u,placement:y})),f=-1;continue}}return{x:l,y:m,placement:y,strategy:o,middlewareData:d}};function expandPaddingObject(e){return{top:0,right:0,bottom:0,left:0,...e}}function getSideObjectFromPadding(e){return typeof e!="number"?expandPaddingObject(e):{top:e,right:e,bottom:e,left:e}}function rectToClientRect(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function detectOverflow(e,t){t===void 0&&(t={});const{x:n,y:r,platform:o,rects:s,elements:a,strategy:u}=e,{boundary:l="clippingParents",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:d=!1,padding:f=0}=t,v=getSideObjectFromPadding(f),I=a[d?y==="floating"?"reference":"floating":y],P=await o.getClippingClientRect({element:await o.isElement(I)?I:I.contextElement||await o.getDocumentElement({element:a.floating}),boundary:l,rootBoundary:m}),O=rectToClientRect(await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y==="floating"?{...s.floating,x:n,y:r}:s.reference,offsetParent:await o.getOffsetParent({element:a.floating}),strategy:u}));return{top:P.top-O.top+v.top,bottom:O.bottom-P.bottom+v.bottom,left:P.left-O.left+v.left,right:O.right-P.right+v.right}}const min$1=Math.min,max$1=Math.max;function within(e,t,n){return max$1(e,min$1(t,n))}const arrow=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:o,y:s,placement:a,rects:u,platform:l}=t;if(n==null)return{};const m=getSideObjectFromPadding(r),y={x:o,y:s},d=getBasePlacement(a),f=getMainAxisFromPlacement(d),v=getLengthFromAxis(f),A=await l.getDimensions({element:n}),I=f==="y"?"top":"left",P=f==="y"?"bottom":"right",O=u.reference[v]+u.reference[f]-y[f]-u.floating[v],R=y[f]-u.reference[f],M=await l.getOffsetParent({element:n}),k=M?f==="y"?M.clientHeight||0:M.clientWidth||0:0,U=O/2-R/2,Q=m[I],B=k-A[v]-m[P],W=k/2-A[v]/2+U,Z=within(Q,W,B);return{data:{[f]:Z,centerOffset:W-Z}}}}),hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,t=>hash$1[t])}function getAlignmentSides(e,t){const n=getAlignment(e)==="start",r=getMainAxisFromPlacement(e),o=getLengthFromAxis(r);let s=r==="x"?n?"right":"left":n?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=getOppositePlacement(s)),{main:s,cross:getOppositePlacement(s)}}const hash={start:"end",end:"start"};function getOppositeAlignmentPlacement(e){return e.replace(/start|end/g,t=>hash[t])}const basePlacements=["top","right","bottom","left"],allPlacements=basePlacements.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function getPlacementList(e,t,n){return(e?[...n.filter(o=>getAlignment(o)===e),...n.filter(o=>getAlignment(o)!==e)]:n.filter(o=>getBasePlacement(o)===o)).filter(o=>e?getAlignment(o)===e||(t?getOppositeAlignmentPlacement(o)!==o:!1):!0)}const autoPlacement=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o,s,a,u;const{x:l,y:m,rects:y,middlewareData:d,placement:f}=t,{alignment:v=null,allowedPlacements:A=allPlacements,autoAlignment:I=!0,...P}=e;if((n=d.autoPlacement)!=null&&n.skip)return{};const O=getPlacementList(v,I,A),R=await detectOverflow(t,P),M=(r=(o=d.autoPlacement)==null?void 0:o.index)!=null?r:0,k=O[M],{main:U,cross:Q}=getAlignmentSides(k,y);if(f!==k)return{x:l,y:m,reset:{placement:O[0]}};const B=[R[getBasePlacement(k)],R[U],R[Q]],W=[...(s=(a=d.autoPlacement)==null?void 0:a.overflows)!=null?s:[],{placement:k,overflows:B}],Z=O[M+1];if(Z)return{data:{index:M+1,overflows:W},reset:{placement:Z}};const j=W.slice().sort((ee,ae)=>ee.overflows[0]-ae.overflows[0]),J=(u=j.find(ee=>{let{overflows:ae}=ee;return ae.every(ne=>ne<=0)}))==null?void 0:u.placement;return{data:{skip:!0},reset:{placement:J??j[0].placement}}}}};function getExpandedPlacements(e){const t=getOppositePlacement(e);return[getOppositeAlignmentPlacement(e),t,getOppositeAlignmentPlacement(t)]}const flip=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:a,initialPlacement:u}=t;if((n=s.flip)!=null&&n.skip)return{};const{mainAxis:l=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:d="bestFit",flipAlignment:f=!0,...v}=e,A=getBasePlacement(o),P=y||(A===u||!f?[getOppositePlacement(u)]:getExpandedPlacements(u)),O=[u,...P],R=await detectOverflow(t,v),M=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(l&&M.push(R[A]),m){const{main:W,cross:Z}=getAlignmentSides(o,a);M.push(R[W],R[Z])}if(k=[...k,{placement:o,overflows:M}],!M.every(W=>W<=0)){var U,Q;const W=((U=(Q=s.flip)==null?void 0:Q.index)!=null?U:0)+1,Z=O[W];if(Z)return{data:{index:W,overflows:k},reset:{placement:Z}};let j="bottom";switch(d){case"bestFit":{var B;const J=(B=k.slice().sort((ee,ae)=>ee.overflows.filter(ne=>ne>0).reduce((ne,fe)=>ne+fe,0)-ae.overflows.filter(ne=>ne>0).reduce((ne,fe)=>ne+fe,0))[0])==null?void 0:B.placement;J&&(j=J);break}case"initialPlacement":j=u;break}return{data:{skip:!0},reset:{placement:j}}}return{}}}};function convertValueToCoords(e){let{placement:t,rects:n,value:r}=e;const o=getBasePlacement(t),s=["left","top"].includes(o)?-1:1,a=typeof r=="function"?r({...n,placement:t}):r,{mainAxis:u,crossAxis:l}=typeof a=="number"?{mainAxis:a,crossAxis:0}:{mainAxis:0,crossAxis:0,...a};return getMainAxisFromPlacement(o)==="x"?{x:l,y:u*s}:{x:u*s,y:l}}const offset=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(t){const{x:n,y:r,placement:o,rects:s}=t,a=convertValueToCoords({placement:o,rects:s,value:e});return{x:n+a.x,y:r+a.y,data:a}}}};function getCrossAxis(e){return e==="x"?"y":"x"}const shift=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:u={fn:P=>{let{x:O,y:R}=P;return{x:O,y:R}}},...l}=e,m={x:n,y:r},y=await detectOverflow(t,l),d=getMainAxisFromPlacement(getBasePlacement(o)),f=getCrossAxis(d);let v=m[d],A=m[f];if(s){const P=d==="y"?"top":"left",O=d==="y"?"bottom":"right",R=v+y[P],M=v-y[O];v=within(R,v,M)}if(a){const P=f==="y"?"top":"left",O=f==="y"?"bottom":"right",R=A+y[P],M=A-y[O];A=within(R,A,M)}const I=u.fn({...t,[d]:v,[f]:A});return{...I,data:{x:I.x-n,y:I.y-r}}}}},size=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n;const{placement:r,rects:o,middlewareData:s}=t,{apply:a,...u}=e;if((n=s.size)!=null&&n.skip)return{};const l=await detectOverflow(t,u),m=getBasePlacement(r),y=getAlignment(r)==="end";let d,f;m==="top"||m==="bottom"?(d=m,f=y?"left":"right"):(f=m,d=y?"top":"bottom");const v=max$1(l.left,0),A=max$1(l.right,0),I=max$1(l.top,0),P=max$1(l.bottom,0),O={height:o.floating.height-(["left","right"].includes(r)?2*(I!==0||P!==0?I+P:max$1(l.top,l.bottom)):l[d]),width:o.floating.width-(["top","bottom"].includes(r)?2*(v!==0||A!==0?v+A:max$1(l.left,l.right)):l[f])};return a==null||a({...O,...o}),{data:{skip:!0},reset:{rects:!0}}}}};function isWindow(e){return(e==null?void 0:e.toString())==="[object Window]"}function getWindow(e){if(e==null)return window;if(!isWindow(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function getComputedStyle$1(e){return getWindow(e).getComputedStyle(e)}function getNodeName(e){return isWindow(e)?"":e?(e.nodeName||"").toLowerCase():""}function isHTMLElement(e){return e instanceof getWindow(e).HTMLElement}function isElement(e){return e instanceof getWindow(e).Element}function isNode(e){return e instanceof getWindow(e).Node}function isShadowRoot(e){const t=getWindow(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function isScrollParent(e){const{overflow:t,overflowX:n,overflowY:r}=getComputedStyle$1(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function isTableElement(e){return["table","td","th"].includes(getNodeName(e))}function isContainingBlock(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=getComputedStyle$1(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}const min=Math.min,max=Math.max,round=Math.round;function getBoundingClientRect(e,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect();let r=1,o=1;return t&&isHTMLElement(e)&&(r=e.offsetWidth>0&&round(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&round(n.height)/e.offsetHeight||1),{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function getDocumentElement(e){return((isNode(e)?e.ownerDocument:e.document)||window.document).documentElement}function getNodeScroll(e){return isWindow(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getNodeScroll(e).scrollLeft}function isScaled(e){const t=getBoundingClientRect(e);return round(t.width)!==e.offsetWidth||round(t.height)!==e.offsetHeight}function getRectRelativeToOffsetParent(e,t,n){const r=isHTMLElement(t),o=getDocumentElement(t),s=getBoundingClientRect(e,r&&isScaled(t));let a={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(r||!r&&n!=="fixed")if((getNodeName(t)!=="body"||isScrollParent(o))&&(a=getNodeScroll(t)),isHTMLElement(t)){const l=getBoundingClientRect(t,!0);u.x=l.x+t.clientLeft,u.y=l.y+t.clientTop}else o&&(u.x=getWindowScrollBarX(o));return{x:s.left+a.scrollLeft-u.x,y:s.top+a.scrollTop-u.y,width:s.width,height:s.height}}function getParentNode(e){return getNodeName(e)==="html"?e:e.assignedSlot||e.parentNode||(isShadowRoot(e)?e.host:null)||getDocumentElement(e)}function getTrueOffsetParent(e){return!isHTMLElement(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function getContainingBlock(e){let t=getParentNode(e);for(;isHTMLElement(t)&&!["html","body"].includes(getNodeName(t));){if(isContainingBlock(t))return t;t=t.parentNode}return null}function getOffsetParent(e){const t=getWindow(e);let n=getTrueOffsetParent(e);for(;n&&isTableElement(n)&&getComputedStyle(n).position==="static";)n=getTrueOffsetParent(n);return n&&(getNodeName(n)==="html"||getNodeName(n)==="body"&&getComputedStyle(n).position==="static"&&!isContainingBlock(n))?t:n||getContainingBlock(e)||t}function getDimensions(e){return{width:e.offsetWidth,height:e.offsetHeight}}function convertOffsetParentRelativeRectToViewportRelativeRect(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=isHTMLElement(n),s=getDocumentElement(n);if(n===s)return t;let a={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if((o||!o&&r!=="fixed")&&((getNodeName(n)!=="body"||isScrollParent(s))&&(a=getNodeScroll(n)),isHTMLElement(n))){const l=getBoundingClientRect(n,!0);u.x=l.x+n.clientLeft,u.y=l.y+n.clientTop}return{...t,x:t.x-a.scrollLeft+u.x,y:t.y-a.scrollTop+u.y}}function getViewportRect(e){const t=getWindow(e),n=getDocumentElement(e),r=t.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,u=0;return r&&(o=r.width,s=r.height,Math.abs(t.innerWidth/r.scale-r.width)<.01&&(a=r.offsetLeft,u=r.offsetTop)),{width:o,height:s,x:a,y:u}}function getDocumentRect(e){var t;const n=getDocumentElement(e),r=getNodeScroll(e),o=(t=e.ownerDocument)==null?void 0:t.body,s=max(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=max(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let u=-r.scrollLeft+getWindowScrollBarX(e);const l=-r.scrollTop;return getComputedStyle$1(o||n).direction==="rtl"&&(u+=max(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:a,x:u,y:l}}function getScrollParent(e){return["html","body","#document"].includes(getNodeName(e))?e.ownerDocument.body:isHTMLElement(e)&&isScrollParent(e)?e:getScrollParent(getParentNode(e))}function getScrollParents(e,t){var n;t===void 0&&(t=[]);const r=getScrollParent(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),s=getWindow(r),a=o?[s].concat(s.visualViewport||[],isScrollParent(r)?r:[]):r,u=t.concat(a);return o?u:u.concat(getScrollParents(getParentNode(a)))}function contains$1(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&isShadowRoot(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function getInnerBoundingClientRect(e){const t=getBoundingClientRect(e),n=t.top+e.clientTop,r=t.left+e.clientLeft;return{top:n,left:r,x:r,y:n,right:r+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function getClientRectFromClippingParent(e,t){return t==="viewport"?rectToClientRect(getViewportRect(e)):isElement(t)?getInnerBoundingClientRect(t):rectToClientRect(getDocumentRect(getDocumentElement(e)))}function getClippingParents(e){const t=getScrollParents(getParentNode(e)),r=["absolute","fixed"].includes(getComputedStyle$1(e).position)&&isHTMLElement(e)?getOffsetParent(e):e;return isElement(r)?t.filter(o=>isElement(o)&&contains$1(o,r)&&getNodeName(o)!=="body"):[]}function getClippingClientRect(e){let{element:t,boundary:n,rootBoundary:r}=e;const s=[...n==="clippingParents"?getClippingParents(t):[].concat(n),r],a=s[0],u=s.reduce((l,m)=>{const y=getClientRectFromClippingParent(t,m);return l.top=max(y.top,l.top),l.right=min(y.right,l.right),l.bottom=min(y.bottom,l.bottom),l.left=max(y.left,l.left),l},getClientRectFromClippingParent(t,a));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}const platform={getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:getRectRelativeToOffsetParent(t,getOffsetParent(n),r),floating:{...getDimensions(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:e=>convertOffsetParentRelativeRectToViewportRelativeRect(e),getOffsetParent:e=>{let{element:t}=e;return getOffsetParent(t)},isElement:e=>isElement(e),getDocumentElement:e=>{let{element:t}=e;return getDocumentElement(t)},getClippingClientRect:e=>getClippingClientRect(e),getDimensions:e=>{let{element:t}=e;return getDimensions(t)},getClientRects:e=>{let{element:t}=e;return t.getClientRects()}},computePosition=(e,t,n)=>computePosition$1(e,t,{platform,...n});var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,n)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__spreadValues=(e,t)=>{for(var n in t||(t={}))__hasOwnProp.call(t,n)&&__defNormalProp(e,n,t[n]);if(__getOwnPropSymbols)for(var n of __getOwnPropSymbols(t))__propIsEnum.call(t,n)&&__defNormalProp(e,n,t[n]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t));function assign$2(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(typeof t[n]=="object"&&e[n]?assign$2(e[n],t[n]):e[n]=t[n])}const config={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:e=>[...e,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function getDefaultConfig(e,t){let n=config.themes[e]||{},r;do r=n[t],typeof r>"u"?n.$extend?n=config.themes[n.$extend]||{}:(n=null,r=config[t]):n=null;while(n);return r}function getThemeClasses(e){const t=[e];let n=config.themes[e]||{};do n.$extend&&!n.$resetCss?(t.push(n.$extend),n=config.themes[n.$extend]||{}):n=null;while(n);return t.map(r=>`v-popper--theme-${r}`)}function getAllParentThemes(e){const t=[e];let n=config.themes[e]||{};do n.$extend?(t.push(n.$extend),n=config.themes[n.$extend]||{}):n=null;while(n);return t}let supportsPassive=!1;if(typeof window<"u"){supportsPassive=!1;try{const e=Object.defineProperty({},"passive",{get(){supportsPassive=!0}});window.addEventListener("test",null,e)}catch{}}let isIOS=!1;typeof window<"u"&&typeof navigator<"u"&&(isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const placements=["auto","top","bottom","left","right"].reduce((e,t)=>e.concat([t,`${t}-start`,`${t}-end`]),[]),SHOW_EVENT_MAP={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart"},HIDE_EVENT_MAP={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend"};function removeFromArray(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1)}function nextFrame(){return new Promise(e=>requestAnimationFrame(()=>{requestAnimationFrame(e)}))}const shownPoppers=[];let hidingPopper=null;const shownPoppersByTheme={};function getShownPoppersByTheme(e){let t=shownPoppersByTheme[e];return t||(t=shownPoppersByTheme[e]=[]),t}let Element$1=function(){};typeof window<"u"&&(Element$1=window.Element);function defaultPropFactory(e){return function(t){return getDefaultConfig(t.theme,e)}}const PROVIDE_KEY="__floating-vue__popper";var PrivatePopper=()=>defineComponent({name:"VPopper",provide(){return{[PROVIDE_KEY]:{parentPopper:this}}},inject:{[PROVIDE_KEY]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:defaultPropFactory("disabled")},positioningDisabled:{type:Boolean,default:defaultPropFactory("positioningDisabled")},placement:{type:String,default:defaultPropFactory("placement"),validator:e=>placements.includes(e)},delay:{type:[String,Number,Object],default:defaultPropFactory("delay")},distance:{type:[Number,String],default:defaultPropFactory("distance")},skidding:{type:[Number,String],default:defaultPropFactory("skidding")},triggers:{type:Array,default:defaultPropFactory("triggers")},showTriggers:{type:[Array,Function],default:defaultPropFactory("showTriggers")},hideTriggers:{type:[Array,Function],default:defaultPropFactory("hideTriggers")},popperTriggers:{type:Array,default:defaultPropFactory("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:defaultPropFactory("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:defaultPropFactory("popperHideTriggers")},container:{type:[String,Object,Element$1,Boolean],default:defaultPropFactory("container")},boundary:{type:[String,Element$1],default:defaultPropFactory("boundary")},strategy:{type:String,validator:e=>["absolute","fixed"].includes(e),default:defaultPropFactory("strategy")},autoHide:{type:[Boolean,Function],default:defaultPropFactory("autoHide")},handleResize:{type:Boolean,default:defaultPropFactory("handleResize")},instantMove:{type:Boolean,default:defaultPropFactory("instantMove")},eagerMount:{type:Boolean,default:defaultPropFactory("eagerMount")},popperClass:{type:[String,Array,Object],default:defaultPropFactory("popperClass")},computeTransformOrigin:{type:Boolean,default:defaultPropFactory("computeTransformOrigin")},autoMinSize:{type:Boolean,default:defaultPropFactory("autoMinSize")},autoSize:{type:[Boolean,String],default:defaultPropFactory("autoSize")},autoMaxSize:{type:Boolean,default:defaultPropFactory("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:defaultPropFactory("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:defaultPropFactory("preventOverflow")},overflowPadding:{type:[Number,String],default:defaultPropFactory("overflowPadding")},arrowPadding:{type:[Number,String],default:defaultPropFactory("arrowPadding")},arrowOverflow:{type:Boolean,default:defaultPropFactory("arrowOverflow")},flip:{type:Boolean,default:defaultPropFactory("flip")},shift:{type:Boolean,default:defaultPropFactory("shift")},shiftCrossAxis:{type:Boolean,default:defaultPropFactory("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:defaultPropFactory("noAutoFocus")}},emits:["show","hide","update:shown","apply-show","apply-hide","close-group","close-directive","auto-hide","resize","dispose"],data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:__spreadProps(__spreadValues({},this.classes),{popperClass:this.popperClass}),result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var e;return(e=this[PROVIDE_KEY])==null?void 0:e.parentPopper},hasPopperShowTriggerHover(){var e,t;return((e=this.popperTriggers)==null?void 0:e.includes("hover"))||((t=this.popperShowTriggers)==null?void 0:t.includes("hover"))}},watch:__spreadValues(__spreadValues({shown:"$_autoShowHide",disabled(e){e?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())}},["triggers","positioningDisabled"].reduce((e,t)=>(e[t]="$_refreshListeners",e),{})),["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((e,t)=>(e[t]="$_computePosition",e),{})),created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(e=>e.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:e=null,skipDelay:t=!1,force:n=!1}={}){var r,o;(r=this.parentPopper)!=null&&r.lockedChild&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(n||!this.disabled)&&(((o=this.parentPopper)==null?void 0:o.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(e,t),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:e=null,skipDelay:t=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:t}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(e,t),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var e,t;this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=(t=(e=this.referenceNode)==null?void 0:e.call(this))!=null?t:this.$el,this.$_targetNodes=this.targetNodes().filter(n=>n.nodeType===n.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){var e;if(this.$_isDisposed||this.positioningDisabled)return;const t={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&t.middleware.push(offset({mainAxis:this.distance,crossAxis:this.skidding}));const n=this.placement.startsWith("auto");if(n?t.middleware.push(autoPlacement({alignment:(e=this.placement.split("-")[1])!=null?e:""})):t.placement=this.placement,this.preventOverflow&&(this.shift&&t.middleware.push(shift({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!n&&this.flip&&t.middleware.push(flip({padding:this.overflowPadding,boundary:this.boundary}))),t.middleware.push(arrow({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&t.middleware.push({name:"arrowOverflow",fn:({placement:o,rects:s,middlewareData:a})=>{let u;const{centerOffset:l}=a.arrow;return o.startsWith("top")||o.startsWith("bottom")?u=Math.abs(l)>s.reference.width/2:u=Math.abs(l)>s.reference.height/2,{data:{overflow:u}}}}),this.autoMinSize||this.autoSize){const o=this.autoSize?this.autoSize:this.autoMinSize?"min":null;t.middleware.push({name:"autoSize",fn:({rects:s,placement:a,middlewareData:u})=>{var l;if((l=u.autoSize)!=null&&l.skip)return{};let m,y;return a.startsWith("top")||a.startsWith("bottom")?m=s.reference.width:y=s.reference.height,this.$_innerNode.style[o==="min"?"minWidth":o==="max"?"maxWidth":"width"]=m!=null?`${m}px`:null,this.$_innerNode.style[o==="min"?"minHeight":o==="max"?"maxHeight":"height"]=y!=null?`${y}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,t.middleware.push(size({boundary:this.boundary,padding:this.overflowPadding,apply:({width:o,height:s})=>{this.$_innerNode.style.maxWidth=o!=null?`${o}px`:null,this.$_innerNode.style.maxHeight=s!=null?`${s}px`:null}})));const r=await computePosition(this.$_referenceNode,this.$_popperNode,t);Object.assign(this.result,{x:r.x,y:r.y,placement:r.placement,strategy:r.strategy,arrow:__spreadValues(__spreadValues({},r.middlewareData.arrow),r.middlewareData.arrowOverflow)})},$_scheduleShow(e=null,t=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),hidingPopper&&this.instantMove&&hidingPopper.instantMove&&hidingPopper!==this.parentPopper){hidingPopper.$_applyHide(!0),this.$_applyShow(!0);return}t?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(e=null,t=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(hidingPopper=this),t?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(e){const t=this.delay;return parseInt(t&&t[e]||t||0)},async $_applyShow(e=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=e,!this.isShown&&(this.$_ensureTeleport(),await nextFrame(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...getScrollParents(this.$_referenceNode),...getScrollParents(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const t=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),r=n.parentNode.getBoundingClientRect(),o=t.x+t.width/2-(r.left+n.offsetLeft),s=t.y+t.height/2-(r.top+n.offsetTop);this.result.transformOrigin=`${o}px ${s}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const e=this.showGroup;if(e){let t;for(let n=0;n<shownPoppers.length;n++)t=shownPoppers[n],t.showGroup!==e&&(t.hide(),t.$emit("close-group"))}shownPoppers.push(this),document.body.classList.add("v-popper--some-open");for(const t of getAllParentThemes(this.theme))getShownPoppersByTheme(t).push(this),document.body.classList.add(`v-popper--some-open--${t}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await nextFrame(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(e=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=e,removeFromArray(shownPoppers,this),shownPoppers.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of getAllParentThemes(this.theme)){const r=getShownPoppersByTheme(n);removeFromArray(r,this),r.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}hidingPopper===this&&(hidingPopper=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const t=getDefaultConfig(this.theme,"disposeTimeout");t!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},t)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await nextFrame(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let e=this.container;if(typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=this.$_targetNodes[0].parentNode),!e)throw new Error("No container for popover: "+this.container);e.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const e=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,SHOW_EVENT_MAP,this.triggers,this.showTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],SHOW_EVENT_MAP,this.popperTriggers,this.popperShowTriggers,e);const t=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,HIDE_EVENT_MAP,this.triggers,this.hideTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],HIDE_EVENT_MAP,this.popperTriggers,this.popperHideTriggers,t)},$_registerEventListeners(e,t,n){this.$_events.push({targetNodes:e,eventType:t,handler:n}),e.forEach(r=>r.addEventListener(t,n,supportsPassive?{passive:!0}:void 0))},$_registerTriggerListeners(e,t,n,r,o){let s=n;r!=null&&(s=typeof r=="function"?r(s):r),s.forEach(a=>{const u=t[a];u&&this.$_registerEventListeners(e,u,o)})},$_removeEventListeners(e){const t=[];this.$_events.forEach(n=>{const{targetNodes:r,eventType:o,handler:s}=n;!e||e===o?r.forEach(a=>a.removeEventListener(o,s)):t.push(n)}),this.$_events=t},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(e,t=!1){this.$_showFrameLocked||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),t&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(e,t){for(const n of this.$_targetNodes){const r=n.getAttribute(e);r&&(n.removeAttribute(e),n.setAttribute(t,r))}},$_applyAttrsToTarget(e){for(const t of this.$_targetNodes)for(const n in e){const r=e[n];r==null?t.removeAttribute(n):t.setAttribute(n,r)}},$_updateParentShownChildren(e){let t=this.parentPopper;for(;t;)e?t.shownChildren.add(this.randomId):(t.shownChildren.delete(this.randomId),t.$_pendingHide&&t.hide()),t=t.parentPopper},$_isAimingPopper(){const e=this.$_referenceNode.getBoundingClientRect();if(mouseX>=e.left&&mouseX<=e.right&&mouseY>=e.top&&mouseY<=e.bottom){const t=this.$_popperNode.getBoundingClientRect(),n=mouseX-mousePreviousX,r=mouseY-mousePreviousY,s=t.left+t.width/2-mousePreviousX+(t.top+t.height/2)-mousePreviousY+t.width+t.height,a=mousePreviousX+n*s,u=mousePreviousY+r*s;return lineIntersectsLine(mousePreviousX,mousePreviousY,a,u,t.left,t.top,t.left,t.bottom)||lineIntersectsLine(mousePreviousX,mousePreviousY,a,u,t.left,t.top,t.right,t.top)||lineIntersectsLine(mousePreviousX,mousePreviousY,a,u,t.right,t.top,t.right,t.bottom)||lineIntersectsLine(mousePreviousX,mousePreviousY,a,u,t.left,t.bottom,t.right,t.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});typeof document<"u"&&typeof window<"u"&&(isIOS?(document.addEventListener("touchstart",handleGlobalMousedown,supportsPassive?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",handleGlobalTouchend,supportsPassive?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",handleGlobalMousedown,!0),window.addEventListener("click",handleGlobalClick,!0)),window.addEventListener("resize",computePositionAllShownPoppers));function handleGlobalMousedown(e){for(let t=0;t<shownPoppers.length;t++){const n=shownPoppers[t];try{const r=n.popperNode();n.$_mouseDownContains=r.contains(e.target)}catch{}}}function handleGlobalClick(e){handleGlobalClose(e)}function handleGlobalTouchend(e){handleGlobalClose(e,!0)}function handleGlobalClose(e,t=!1){const n={};for(let r=shownPoppers.length-1;r>=0;r--){const o=shownPoppers[r];try{const s=o.$_containsGlobalTarget=isContainingEventTarget(o,e);o.$_pendingHide=!1,requestAnimationFrame(()=>{if(o.$_pendingHide=!1,!n[o.randomId]&&shouldAutoHide(o,s,e)){if(o.$_handleGlobalClose(e,t),!e.closeAllPopover&&e.closePopover&&s){let u=o.parentPopper;for(;u;)n[u.randomId]=!0,u=u.parentPopper;return}let a=o.parentPopper;for(;a&&shouldAutoHide(a,a.$_containsGlobalTarget,e);){a.$_handleGlobalClose(e,t);a=a.parentPopper}}})}catch{}}}function isContainingEventTarget(e,t){const n=e.popperNode();return e.$_mouseDownContains||n.contains(t.target)}function shouldAutoHide(e,t,n){return n.closeAllPopover||n.closePopover&&t||getAutoHideResult(e,n)&&!t}function getAutoHideResult(e,t){if(typeof e.autoHide=="function"){const n=e.autoHide(t);return e.lastAutoHide=n,n}return e.autoHide}function computePositionAllShownPoppers(e){for(let t=0;t<shownPoppers.length;t++)shownPoppers[t].$_computePosition(e)}let mousePreviousX=0,mousePreviousY=0,mouseX=0,mouseY=0;typeof window<"u"&&window.addEventListener("mousemove",e=>{mousePreviousX=mouseX,mousePreviousY=mouseY,mouseX=e.clientX,mouseY=e.clientY},supportsPassive?{passive:!0}:void 0);function lineIntersectsLine(e,t,n,r,o,s,a,u){const l=((a-o)*(t-s)-(u-s)*(e-o))/((u-s)*(n-e)-(a-o)*(r-t)),m=((n-e)*(t-s)-(r-t)*(e-o))/((u-s)*(n-e)-(a-o)*(r-t));return l>=0&&l<=1&&m>=0&&m<=1}var _export_sfc$1=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};const _sfc_main$6$1={extends:PrivatePopper()};function _sfc_render$3$1(e,t,n,r,o,s){return openBlock(),createElementBlock("div",{ref:"reference",class:normalizeClass(["v-popper",{"v-popper--shown":e.slotData.isShown}])},[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps(e.slotData)))],2)}var Popper$1=_export_sfc$1(_sfc_main$6$1,[["render",_sfc_render$3$1]]);function getInternetExplorerVersion(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var o=e.indexOf("Edge/");return o>0?parseInt(e.substring(o+5,e.indexOf(".",o)),10):-1}let isIE;function initCompat(){initCompat.init||(initCompat.init=!0,isIE=getInternetExplorerVersion()!==-1)}var script={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){initCompat(),nextTick$1(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",isIE&&this.$el.appendChild(e),e.data="about:blank",isIE||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!isIE&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const _withId=withScopeId();pushScopeId("data-v-b329ee4c");const _hoisted_1$2$1={class:"resize-observer",tabindex:"-1"};popScopeId();const render$1=_withId((e,t,n,r,o,s)=>(openBlock(),createBlock("div",_hoisted_1$2$1)));script.render=render$1;script.__scopeId="data-v-b329ee4c";script.__file="src/components/ResizeObserver.vue";var PrivateThemeClass=(e="theme")=>({computed:{themeClass(){return getThemeClasses(this[e])}}});const _sfc_main$5$1=defineComponent({name:"VPopperContent",components:{ResizeObserver:script},mixins:[PrivateThemeClass()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(e){return e!=null&&!isNaN(e)?`${e}px`:null}}}),_hoisted_1$1$1=["id","aria-hidden","tabindex","data-popper-placement"],_hoisted_2$1$1={ref:"inner",class:"v-popper__inner"},_hoisted_3$g=createBaseVNode("div",{class:"v-popper__arrow-outer"},null,-1),_hoisted_4$d=createBaseVNode("div",{class:"v-popper__arrow-inner"},null,-1),_hoisted_5$a=[_hoisted_3$g,_hoisted_4$d];function _sfc_render$2$1(e,t,n,r,o,s){const a=resolveComponent("ResizeObserver");return openBlock(),createElementBlock("div",{id:e.popperId,ref:"popover",class:normalizeClass(["v-popper__popper",[e.themeClass,e.classes.popperClass,{"v-popper__popper--shown":e.shown,"v-popper__popper--hidden":!e.shown,"v-popper__popper--show-from":e.classes.showFrom,"v-popper__popper--show-to":e.classes.showTo,"v-popper__popper--hide-from":e.classes.hideFrom,"v-popper__popper--hide-to":e.classes.hideTo,"v-popper__popper--skip-transition":e.skipTransition,"v-popper__popper--arrow-overflow":e.result&&e.result.arrow.overflow,"v-popper__popper--no-positioning":!e.result}]]),style:normalizeStyle(e.result?{position:e.result.strategy,transform:`translate3d(${Math.round(e.result.x)}px,${Math.round(e.result.y)}px,0)`}:void 0),"aria-hidden":e.shown?"false":"true",tabindex:e.autoHide?0:void 0,"data-popper-placement":e.result?e.result.placement:void 0,onKeyup:t[2]||(t[2]=withKeys(u=>e.autoHide&&e.$emit("hide"),["esc"]))},[createBaseVNode("div",{class:"v-popper__backdrop",onClick:t[0]||(t[0]=u=>e.autoHide&&e.$emit("hide"))}),createBaseVNode("div",{class:"v-popper__wrapper",style:normalizeStyle(e.result?{transformOrigin:e.result.transformOrigin}:void 0)},[createBaseVNode("div",_hoisted_2$1$1,[e.mounted?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",null,[renderSlot(e.$slots,"default")]),e.handleResize?(openBlock(),createBlock(a,{key:0,onNotify:t[1]||(t[1]=u=>e.$emit("resize",u))})):createCommentVNode("",!0)],64)):createCommentVNode("",!0)],512),createBaseVNode("div",{ref:"arrow",class:"v-popper__arrow-container",style:normalizeStyle(e.result?{left:e.toPx(e.result.arrow.x),top:e.toPx(e.result.arrow.y)}:void 0)},_hoisted_5$a,4)],4)],46,_hoisted_1$1$1)}var PrivatePopperContent=_export_sfc$1(_sfc_main$5$1,[["render",_sfc_render$2$1]]),PrivatePopperMethods={methods:{show(...e){return this.$refs.popper.show(...e)},hide(...e){return this.$refs.popper.hide(...e)},dispose(...e){return this.$refs.popper.dispose(...e)},onResize(...e){return this.$refs.popper.onResize(...e)}}};const _sfc_main$4$1=defineComponent({name:"VPopperWrapper",components:{Popper:Popper$1,PopperContent:PrivatePopperContent},mixins:[PrivatePopperMethods,PrivateThemeClass("finalTheme")],props:{theme:{type:String,default:null}},computed:{finalTheme(){var e;return(e=this.theme)!=null?e:this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(e=>e!==this.$refs.popperContent.$el)}}});function _sfc_render$1$1(e,t,n,r,o,s){const a=resolveComponent("PopperContent"),u=resolveComponent("Popper");return openBlock(),createBlock(u,{ref:"popper",theme:e.finalTheme,"target-nodes":e.getTargetNodes,"popper-node":()=>e.$refs.popperContent.$el,class:normalizeClass([e.themeClass])},{default:withCtx(({popperId:l,isShown:m,shouldMountContent:y,skipTransition:d,autoHide:f,show:v,hide:A,handleResize:I,onResize:P,classes:O,result:R})=>[renderSlot(e.$slots,"default",{shown:m,show:v,hide:A}),createVNode(a,{ref:"popperContent","popper-id":l,theme:e.finalTheme,shown:m,mounted:y,"skip-transition":d,"auto-hide":f,"handle-resize":I,classes:O,result:R,onHide:A,onResize:P},{default:withCtx(()=>[renderSlot(e.$slots,"popper",{shown:m,hide:A})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},8,["theme","target-nodes","popper-node","class"])}var PrivatePopperWrapper=_export_sfc$1(_sfc_main$4$1,[["render",_sfc_render$1$1]]);const _sfc_main$3$1=defineComponent(__spreadProps(__spreadValues({},PrivatePopperWrapper),{name:"VDropdown",vPopperTheme:"dropdown"})),_sfc_main$2$1=defineComponent(__spreadProps(__spreadValues({},PrivatePopperWrapper),{name:"VMenu",vPopperTheme:"menu"})),_sfc_main$1$1=defineComponent(__spreadProps(__spreadValues({},PrivatePopperWrapper),{name:"VTooltip",vPopperTheme:"tooltip"})),_sfc_main$v=defineComponent({name:"VTooltipDirective",components:{Popper:PrivatePopper(),PopperContent:PrivatePopperContent},mixins:[PrivatePopperMethods],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:e=>getDefaultConfig(e.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:e=>getDefaultConfig(e.theme,"loadingContent")}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(e){if(typeof this.content=="function"&&this.$_isShown&&(e||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const t=++this.$_fetchId,n=this.content(this);n.then?n.then(r=>this.onResult(t,r)):this.onResult(t,n)}},onResult(e,t){e===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=t)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),_hoisted_1$m=["innerHTML"],_hoisted_2$k=["textContent"];function _sfc_render$i(e,t,n,r,o,s){const a=resolveComponent("PopperContent"),u=resolveComponent("Popper");return openBlock(),createBlock(u,mergeProps({ref:"popper"},e.$attrs,{theme:e.theme,"popper-node":()=>e.$refs.popperContent.$el,onApplyShow:e.onShow,onApplyHide:e.onHide}),{default:withCtx(({popperId:l,isShown:m,shouldMountContent:y,skipTransition:d,autoHide:f,hide:v,handleResize:A,onResize:I,classes:P,result:O})=>[createVNode(a,{ref:"popperContent",class:normalizeClass({"v-popper--tooltip-loading":e.loading}),"popper-id":l,theme:e.theme,shown:m,mounted:y,"skip-transition":d,"auto-hide":f,"handle-resize":A,classes:P,result:O,onHide:v,onResize:I},{default:withCtx(()=>[e.html?(openBlock(),createElementBlock("div",{key:0,innerHTML:e.finalContent},null,8,_hoisted_1$m)):(openBlock(),createElementBlock("div",{key:1,textContent:toDisplayString(e.finalContent)},null,8,_hoisted_2$k))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","popper-node","onApplyShow","onApplyHide"])}var PrivateTooltipDirective=_export_sfc$1(_sfc_main$v,[["render",_sfc_render$i]]);const TARGET_CLASS="v-popper--has-tooltip";function getPlacement(e,t){let n=e.placement;if(!n&&t)for(const r of placements)t[r]&&(n=r);return n||(n=getDefaultConfig(e.theme||"tooltip","placement")),n}function getOptions(e,t,n){let r;const o=typeof t;return o==="string"?r={content:t}:t&&o==="object"?r=t:r={content:!1},r.placement=getPlacement(r,n),r.targetNodes=()=>[e],r.referenceNode=()=>e,r}let directiveApp,directives,uid=0;function ensureDirectiveApp(){if(directiveApp)return;directives=ref([]),directiveApp=createApp({name:"VTooltipDirectiveApp",setup(){return{directives}},render(){return this.directives.map(t=>h(PrivateTooltipDirective,__spreadProps(__spreadValues({},t.options),{shown:t.shown||t.options.shown,key:t.id})))},devtools:{hide:!0}});const e=document.createElement("div");document.body.appendChild(e),directiveApp.mount(e)}function createTooltip(e,t,n){ensureDirectiveApp();const r=ref(getOptions(e,t,n)),o=ref(!1),s={id:uid++,options:r,shown:o};return directives.value.push(s),e.classList&&e.classList.add(TARGET_CLASS),e.$_popper={options:r,item:s,show(){o.value=!0},hide(){o.value=!1}}}function destroyTooltip(e){if(e.$_popper){const t=directives.value.indexOf(e.$_popper.item);t!==-1&&directives.value.splice(t,1),delete e.$_popper,delete e.$_popperOldShown,delete e.$_popperMountTarget}e.classList&&e.classList.remove(TARGET_CLASS)}function bind(e,{value:t,modifiers:n}){const r=getOptions(e,t,n);if(!r.content||getDefaultConfig(r.theme||"tooltip","disabled"))destroyTooltip(e);else{let o;e.$_popper?(o=e.$_popper,o.options.value=r):o=createTooltip(e,t,n),typeof t.shown<"u"&&t.shown!==e.$_popperOldShown&&(e.$_popperOldShown=t.shown,t.shown?o.show():o.hide())}}var PrivateVTooltip={beforeMount:bind,updated:bind,beforeUnmount(e){destroyTooltip(e)}};function addListeners(e){e.addEventListener("click",onClick),e.addEventListener("touchstart",onTouchStart,supportsPassive?{passive:!0}:!1)}function removeListeners(e){e.removeEventListener("click",onClick),e.removeEventListener("touchstart",onTouchStart),e.removeEventListener("touchend",onTouchEnd),e.removeEventListener("touchcancel",onTouchCancel)}function onClick(e){const t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function onTouchStart(e){if(e.changedTouches.length===1){const t=e.currentTarget;t.$_vclosepopover_touch=!0;const n=e.changedTouches[0];t.$_vclosepopover_touchPoint=n,t.addEventListener("touchend",onTouchEnd),t.addEventListener("touchcancel",onTouchCancel)}}function onTouchEnd(e){const t=e.currentTarget;if(t.$_vclosepopover_touch=!1,e.changedTouches.length===1){const n=e.changedTouches[0],r=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(n.screenY-r.screenY)<20&&Math.abs(n.screenX-r.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function onTouchCancel(e){const t=e.currentTarget;t.$_vclosepopover_touch=!1}var PrivateVClosePopper={beforeMount(e,{value:t,modifiers:n}){e.$_closePopoverModifiers=n,(typeof t>"u"||t)&&addListeners(e)},updated(e,{value:t,oldValue:n,modifiers:r}){e.$_closePopoverModifiers=r,t!==n&&(typeof t>"u"||t?addListeners(e):removeListeners(e))},beforeUnmount(e){removeListeners(e)}};const VTooltip=PrivateVTooltip,VClosePopper=PrivateVClosePopper,Dropdown=_sfc_main$3$1,Tooltip$1=_sfc_main$1$1;function install(e,t={}){e.$_vTooltipInstalled||(e.$_vTooltipInstalled=!0,assign$2(config,t),e.directive("tooltip",PrivateVTooltip),e.directive("close-popper",PrivateVClosePopper),e.component("VTooltip",_sfc_main$1$1),e.component("VDropdown",_sfc_main$3$1),e.component("VMenu",_sfc_main$2$1))}const plugin={version:"2.0.0-beta.20",install,options:config},style="";function isEmpty(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",m=500,y="__lodash_placeholder__",d=1,f=2,v=4,A=1,I=2,P=1,O=2,R=4,M=8,k=16,U=32,Q=64,B=128,W=256,Z=512,j=30,J="...",ee=800,ae=16,ne=1,fe=2,ge=3,Le=1/0,Ge=9007199254740991,rt=17976931348623157e292,me=0/0,pe=4294967295,le=pe-1,De=pe>>>1,G=[["ary",B],["bind",P],["bindKey",O],["curry",M],["curryRight",k],["flip",Z],["partial",U],["partialRight",Q],["rearg",W]],Ee="[object Arguments]",Fe="[object Array]",Me="[object AsyncFunction]",ze="[object Boolean]",je="[object Date]",Te="[object DOMException]",Ke="[object Error]",Y="[object Function]",te="[object GeneratorFunction]",de="[object Map]",ye="[object Number]",Ae="[object Null]",we="[object Object]",Be="[object Promise]",ke="[object Proxy]",Se="[object RegExp]",he="[object Set]",xe="[object String]",He="[object Symbol]",Ve="[object Undefined]",Je="[object WeakMap]",at="[object WeakSet]",_t="[object ArrayBuffer]",dt="[object DataView]",It="[object Float32Array]",V="[object Float64Array]",gn="[object Int8Array]",Qn="[object Int16Array]",An="[object Int32Array]",or="[object Uint8Array]",kt="[object Uint8ClampedArray]",Ut="[object Uint16Array]",ar="[object Uint32Array]",uo=/\b__p \+= '';/g,lo=/\b(__p \+=) '' \+/g,Lr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bn=/&(?:amp|lt|gt|quot|#39);/g,_r=/[&<>"']/g,Cn=RegExp(bn.source),Vt=RegExp(_r.source),Rt=/<%-([\s\S]+?)%>/g,kr=/<%([\s\S]+?)%>/g,co=/<%=([\s\S]+?)%>/g,$s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hs=/^\w*$/,In=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,cn=RegExp(oe.source),mo=/^\s+/,xr=/\s/,qs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vs=/\{\n\/\* \[wrapped with (.+)\] \*/,Qs=/,? & /,Qo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ws=/[()=,{}\[\]\/\s]/,Ft=/\\(\\)?/g,Ys=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fo=/\w*$/,Wo=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,zt=/^\[object .+?Constructor\]$/,js=/^0o[0-7]+$/i,en=/^(?:0|[1-9]\d*)$/,Ks=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fr=/($^)/,Js=/['\n\r\u2028\u2029\\]/g,Gr="\\ud800-\\udfff",Xs="\\u0300-\\u036f",Zs="\\ufe20-\\ufe2f",Yo="\\u20d0-\\u20ff",Br=Xs+Zs+Yo,Ne="\\u2700-\\u27bf",xt="a-z\\xdf-\\xf6\\xf8-\\xff",ea="\\xac\\xb1\\xd7\\xf7",ta="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wn="\\u2000-\\u206f",Ht=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ur="A-Z\\xc0-\\xd6\\xd8-\\xde",At="\\ufe0e\\ufe0f",Rn=ea+ta+Wn+Ht,po="['’]",Ie="["+Gr+"]",jo="["+Rn+"]",Er="["+Br+"]",Ko="\\d+",na="["+Ne+"]",Jo="["+xt+"]",Xo="[^"+Gr+Rn+Ko+Ne+xt+Ur+"]",zr="\\ud83c[\\udffb-\\udfff]",ra="(?:"+Er+"|"+zr+")",Zo="[^"+Gr+"]",ir="(?:\\ud83c[\\udde6-\\uddff]){2}",ur="[\\ud800-\\udbff][\\udc00-\\udfff]",Dn="["+Ur+"]",$r="\\u200d",Hr="(?:"+Jo+"|"+Xo+")",ho="(?:"+Dn+"|"+Xo+")",qr="(?:"+po+"(?:d|ll|m|re|s|t|ve))?",es="(?:"+po+"(?:D|LL|M|RE|S|T|VE))?",go=ra+"?",_o="["+At+"]?",ts="(?:"+$r+"(?:"+[Zo,ir,ur].join("|")+")"+_o+go+")*",On="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",oa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ns=_o+go+ts,sa="(?:"+[na,ir,ur].join("|")+")"+ns,aa="(?:"+[Zo+Er+"?",Er,ir,ur,Ie].join("|")+")",ia=RegExp(po,"g"),ua=RegExp(Er,"g"),Eo=RegExp(zr+"(?="+zr+")|"+aa+ns,"g"),la=RegExp([Dn+"?"+Jo+"+"+qr+"(?="+[jo,Dn,"$"].join("|")+")",ho+"+"+es+"(?="+[jo,Dn+Hr,"$"].join("|")+")",Dn+"?"+Hr+"+"+qr,Dn+"+"+es,oa,On,Ko,sa].join("|"),"g"),ca=RegExp("["+$r+Gr+Br+At+"]"),yo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,da=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ma=-1,Ct={};Ct[It]=Ct[V]=Ct[gn]=Ct[Qn]=Ct[An]=Ct[or]=Ct[kt]=Ct[Ut]=Ct[ar]=!0,Ct[Ee]=Ct[Fe]=Ct[_t]=Ct[ze]=Ct[dt]=Ct[je]=Ct[Ke]=Ct[Y]=Ct[de]=Ct[ye]=Ct[we]=Ct[Se]=Ct[he]=Ct[xe]=Ct[Je]=!1;var bt={};bt[Ee]=bt[Fe]=bt[_t]=bt[dt]=bt[ze]=bt[je]=bt[It]=bt[V]=bt[gn]=bt[Qn]=bt[An]=bt[de]=bt[ye]=bt[we]=bt[Se]=bt[he]=bt[xe]=bt[He]=bt[or]=bt[kt]=bt[Ut]=bt[ar]=!0,bt[Ke]=bt[Y]=bt[Je]=!1;var fa={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},pa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ha={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ga={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_a=parseFloat,Ea=parseInt,rs=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,os=typeof self=="object"&&self&&self.Object===Object&&self,Gt=rs||os||Function("return this")(),To=t&&!t.nodeType&&t,kn=To&&!0&&e&&!e.nodeType&&e,ss=kn&&kn.exports===To,So=ss&&rs.process,tn=function(){try{var ie=kn&&kn.require&&kn.require("util").types;return ie||So&&So.binding&&So.binding("util")}catch{}}(),wn=tn&&tn.isArrayBuffer,Vr=tn&&tn.isDate,Qr=tn&&tn.isMap,Wr=tn&&tn.isRegExp,vo=tn&&tn.isSet,Ao=tn&&tn.isTypedArray;function Qt(ie,ve,_e){switch(_e.length){case 0:return ie.call(ve);case 1:return ie.call(ve,_e[0]);case 2:return ie.call(ve,_e[0],_e[1]);case 3:return ie.call(ve,_e[0],_e[1],_e[2])}return ie.apply(ve,_e)}function ya(ie,ve,_e,qe){for(var nt=-1,Et=ie==null?0:ie.length;++nt<Et;){var Ot=ie[nt];ve(qe,Ot,_e(Ot),ie)}return qe}function nn(ie,ve){for(var _e=-1,qe=ie==null?0:ie.length;++_e<qe&&ve(ie[_e],_e,ie)!==!1;);return ie}function Ta(ie,ve){for(var _e=ie==null?0:ie.length;_e--&&ve(ie[_e],_e,ie)!==!1;);return ie}function as(ie,ve){for(var _e=-1,qe=ie==null?0:ie.length;++_e<qe;)if(!ve(ie[_e],_e,ie))return!1;return!0}function xn(ie,ve){for(var _e=-1,qe=ie==null?0:ie.length,nt=0,Et=[];++_e<qe;){var Ot=ie[_e];ve(Ot,_e,ie)&&(Et[nt++]=Ot)}return Et}function Yr(ie,ve){var _e=ie==null?0:ie.length;return!!_e&&Fn(ie,ve,0)>-1}function bo(ie,ve,_e){for(var qe=-1,nt=ie==null?0:ie.length;++qe<nt;)if(_e(ve,ie[qe]))return!0;return!1}function Dt(ie,ve){for(var _e=-1,qe=ie==null?0:ie.length,nt=Array(qe);++_e<qe;)nt[_e]=ve(ie[_e],_e,ie);return nt}function Nn(ie,ve){for(var _e=-1,qe=ve.length,nt=ie.length;++_e<qe;)ie[nt+_e]=ve[_e];return ie}function Co(ie,ve,_e,qe){var nt=-1,Et=ie==null?0:ie.length;for(qe&&Et&&(_e=ie[++nt]);++nt<Et;)_e=ve(_e,ie[nt],nt,ie);return _e}function Sa(ie,ve,_e,qe){var nt=ie==null?0:ie.length;for(qe&&nt&&(_e=ie[--nt]);nt--;)_e=ve(_e,ie[nt],nt,ie);return _e}function yr(ie,ve){for(var _e=-1,qe=ie==null?0:ie.length;++_e<qe;)if(ve(ie[_e],_e,ie))return!0;return!1}var is=Tr("length");function va(ie){return ie.split("")}function Io(ie){return ie.match(Qo)||[]}function jr(ie,ve,_e){var qe;return _e(ie,function(nt,Et,Ot){if(ve(nt,Et,Ot))return qe=Et,!1}),qe}function lr(ie,ve,_e,qe){for(var nt=ie.length,Et=_e+(qe?1:-1);qe?Et--:++Et<nt;)if(ve(ie[Et],Et,ie))return Et;return-1}function Fn(ie,ve,_e){return ve===ve?Na(ie,ve,_e):lr(ie,Kr,_e)}function Ro(ie,ve,_e,qe){for(var nt=_e-1,Et=ie.length;++nt<Et;)if(qe(ie[nt],ve))return nt;return-1}function Kr(ie){return ie!==ie}function Yn(ie,ve){var _e=ie==null?0:ie.length;return _e?vr(ie,ve)/_e:me}function Tr(ie){return function(ve){return ve==null?n:ve[ie]}}function Sr(ie){return function(ve){return ie==null?n:ie[ve]}}function Jr(ie,ve,_e,qe,nt){return nt(ie,function(Et,Ot,Tt){_e=qe?(qe=!1,Et):ve(_e,Et,Ot,Tt)}),_e}function Do(ie,ve){var _e=ie.length;for(ie.sort(ve);_e--;)ie[_e]=ie[_e].value;return ie}function vr(ie,ve){for(var _e,qe=-1,nt=ie.length;++qe<nt;){var Et=ve(ie[qe]);Et!==n&&(_e=_e===n?Et:_e+Et)}return _e}function Ar(ie,ve){for(var _e=-1,qe=Array(ie);++_e<ie;)qe[_e]=ve(_e);return qe}function Oo(ie,ve){return Dt(ve,function(_e){return[_e,ie[_e]]})}function us(ie){return ie&&ie.slice(0,ms(ie)+1).replace(mo,"")}function jt(ie){return function(ve){return ie(ve)}}function wo(ie,ve){return Dt(ve,function(_e){return ie[_e]})}function br(ie,ve){return ie.has(ve)}function ls(ie,ve){for(var _e=-1,qe=ie.length;++_e<qe&&Fn(ve,ie[_e],0)>-1;);return _e}function cs(ie,ve){for(var _e=ie.length;_e--&&Fn(ve,ie[_e],0)>-1;);return _e}function Aa(ie,ve){for(var _e=ie.length,qe=0;_e--;)ie[_e]===ve&&++qe;return qe}var ba=Sr(fa),Ca=Sr(pa);function Ia(ie){return"\\"+ga[ie]}function Ra(ie,ve){return ie==null?n:ie[ve]}function cr(ie){return ca.test(ie)}function Da(ie){return yo.test(ie)}function Oa(ie){for(var ve,_e=[];!(ve=ie.next()).done;)_e.push(ve.value);return _e}function No(ie){var ve=-1,_e=Array(ie.size);return ie.forEach(function(qe,nt){_e[++ve]=[nt,qe]}),_e}function ds(ie,ve){return function(_e){return ie(ve(_e))}}function Gn(ie,ve){for(var _e=-1,qe=ie.length,nt=0,Et=[];++_e<qe;){var Ot=ie[_e];(Ot===ve||Ot===y)&&(ie[_e]=y,Et[nt++]=_e)}return Et}function Xr(ie){var ve=-1,_e=Array(ie.size);return ie.forEach(function(qe){_e[++ve]=qe}),_e}function wa(ie){var ve=-1,_e=Array(ie.size);return ie.forEach(function(qe){_e[++ve]=[qe,qe]}),_e}function Na(ie,ve,_e){for(var qe=_e-1,nt=ie.length;++qe<nt;)if(ie[qe]===ve)return qe;return-1}function Pa(ie,ve,_e){for(var qe=_e+1;qe--;)if(ie[qe]===ve)return qe;return qe}function dr(ie){return cr(ie)?La(ie):is(ie)}function dn(ie){return cr(ie)?ka(ie):va(ie)}function ms(ie){for(var ve=ie.length;ve--&&xr.test(ie.charAt(ve)););return ve}var Ma=Sr(ha);function La(ie){for(var ve=Eo.lastIndex=0;Eo.test(ie);)++ve;return ve}function ka(ie){return ie.match(Eo)||[]}function xa(ie){return ie.match(la)||[]}var Po=function ie(ve){ve=ve==null?Gt:Bn.defaults(Gt.Object(),ve,Bn.pick(Gt,da));var _e=ve.Array,qe=ve.Date,nt=ve.Error,Et=ve.Function,Ot=ve.Math,Tt=ve.Object,Cr=ve.RegExp,Fa=ve.String,Kt=ve.TypeError,rn=_e.prototype,C=Et.prototype,L=Tt.prototype,N=ve["__core-js_shared__"],x=C.toString,$=L.hasOwnProperty,q=0,K=function(){var c=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),ce=L.toString,Oe=x.call(Tt),be=Gt._,Qe=Cr("^"+x.call($).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=ss?ve.Buffer:n,pt=ve.Symbol,We=ve.Uint8Array,it=mt?mt.allocUnsafe:n,Ue=ds(Tt.getPrototypeOf,Tt),tt=Tt.create,St=L.propertyIsEnumerable,ht=rn.splice,_n=pt?pt.isConcatSpreadable:n,Un=pt?pt.iterator:n,zn=pt?pt.toStringTag:n,fs=function(){try{var c=wr(Tt,"defineProperty");return c({},"",{}),c}catch{}}(),_l=ve.clearTimeout!==Gt.clearTimeout&&ve.clearTimeout,El=qe&&qe.now!==Gt.Date.now&&qe.now,yl=ve.setTimeout!==Gt.setTimeout&&ve.setTimeout,ps=Ot.ceil,hs=Ot.floor,Ga=Tt.getOwnPropertySymbols,Tl=mt?mt.isBuffer:n,Mi=ve.isFinite,Sl=rn.join,vl=ds(Tt.keys,Tt),Bt=Ot.max,Wt=Ot.min,Al=qe.now,bl=ve.parseInt,Li=Ot.random,Cl=rn.reverse,Ba=wr(ve,"DataView"),Mo=wr(ve,"Map"),Ua=wr(ve,"Promise"),Zr=wr(ve,"Set"),Lo=wr(ve,"WeakMap"),ko=wr(Tt,"create"),gs=Lo&&new Lo,eo={},Il=Nr(Ba),Rl=Nr(Mo),Dl=Nr(Ua),Ol=Nr(Zr),wl=Nr(Lo),_s=pt?pt.prototype:n,xo=_s?_s.valueOf:n,ki=_s?_s.toString:n;function z(c){if(Nt(c)&&!st(c)&&!(c instanceof gt)){if(c instanceof En)return c;if($.call(c,"__wrapped__"))return xu(c)}return new En(c)}var to=function(){function c(){}return function(g){if(!wt(g))return{};if(tt)return tt(g);c.prototype=g;var b=new c;return c.prototype=n,b}}();function Es(){}function En(c,g){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}z.templateSettings={escape:Rt,evaluate:kr,interpolate:co,variable:"",imports:{_:z}},z.prototype=Es.prototype,z.prototype.constructor=z,En.prototype=to(Es.prototype),En.prototype.constructor=En;function gt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function Nl(){var c=new gt(this.__wrapped__);return c.__actions__=sn(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=sn(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=sn(this.__views__),c}function Pl(){if(this.__filtered__){var c=new gt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function Ml(){var c=this.__wrapped__.value(),g=this.__dir__,b=st(c),w=g<0,F=b?c.length:0,H=Yc(0,F,this.__views__),X=H.start,se=H.end,ue=se-X,Ce=w?se:X-1,Re=this.__iteratees__,Pe=Re.length,$e=0,Ye=Wt(ue,this.__takeCount__);if(!b||!w&&F==ue&&Ye==ue)return su(c,this.__actions__);var Ze=[];e:for(;ue--&&$e<Ye;){Ce+=g;for(var lt=-1,et=c[Ce];++lt<Pe;){var ft=Re[lt],yt=ft.iteratee,pn=ft.type,Zt=yt(et);if(pn==fe)et=Zt;else if(!Zt){if(pn==ne)continue e;break e}}Ze[$e++]=et}return Ze}gt.prototype=to(Es.prototype),gt.prototype.constructor=gt;function Ir(c){var g=-1,b=c==null?0:c.length;for(this.clear();++g<b;){var w=c[g];this.set(w[0],w[1])}}function Ll(){this.__data__=ko?ko(null):{},this.size=0}function kl(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g}function xl(c){var g=this.__data__;if(ko){var b=g[c];return b===l?n:b}return $.call(g,c)?g[c]:n}function Fl(c){var g=this.__data__;return ko?g[c]!==n:$.call(g,c)}function Gl(c,g){var b=this.__data__;return this.size+=this.has(c)?0:1,b[c]=ko&&g===n?l:g,this}Ir.prototype.clear=Ll,Ir.prototype.delete=kl,Ir.prototype.get=xl,Ir.prototype.has=Fl,Ir.prototype.set=Gl;function jn(c){var g=-1,b=c==null?0:c.length;for(this.clear();++g<b;){var w=c[g];this.set(w[0],w[1])}}function Bl(){this.__data__=[],this.size=0}function Ul(c){var g=this.__data__,b=ys(g,c);if(b<0)return!1;var w=g.length-1;return b==w?g.pop():ht.call(g,b,1),--this.size,!0}function zl(c){var g=this.__data__,b=ys(g,c);return b<0?n:g[b][1]}function $l(c){return ys(this.__data__,c)>-1}function Hl(c,g){var b=this.__data__,w=ys(b,c);return w<0?(++this.size,b.push([c,g])):b[w][1]=g,this}jn.prototype.clear=Bl,jn.prototype.delete=Ul,jn.prototype.get=zl,jn.prototype.has=$l,jn.prototype.set=Hl;function Kn(c){var g=-1,b=c==null?0:c.length;for(this.clear();++g<b;){var w=c[g];this.set(w[0],w[1])}}function ql(){this.size=0,this.__data__={hash:new Ir,map:new(Mo||jn),string:new Ir}}function Vl(c){var g=Ns(this,c).delete(c);return this.size-=g?1:0,g}function Ql(c){return Ns(this,c).get(c)}function Wl(c){return Ns(this,c).has(c)}function Yl(c,g){var b=Ns(this,c),w=b.size;return b.set(c,g),this.size+=b.size==w?0:1,this}Kn.prototype.clear=ql,Kn.prototype.delete=Vl,Kn.prototype.get=Ql,Kn.prototype.has=Wl,Kn.prototype.set=Yl;function Rr(c){var g=-1,b=c==null?0:c.length;for(this.__data__=new Kn;++g<b;)this.add(c[g])}function jl(c){return this.__data__.set(c,l),this}function Kl(c){return this.__data__.has(c)}Rr.prototype.add=Rr.prototype.push=jl,Rr.prototype.has=Kl;function Pn(c){var g=this.__data__=new jn(c);this.size=g.size}function Jl(){this.__data__=new jn,this.size=0}function Xl(c){var g=this.__data__,b=g.delete(c);return this.size=g.size,b}function Zl(c){return this.__data__.get(c)}function ec(c){return this.__data__.has(c)}function tc(c,g){var b=this.__data__;if(b instanceof jn){var w=b.__data__;if(!Mo||w.length<o-1)return w.push([c,g]),this.size=++b.size,this;b=this.__data__=new Kn(w)}return b.set(c,g),this.size=b.size,this}Pn.prototype.clear=Jl,Pn.prototype.delete=Xl,Pn.prototype.get=Zl,Pn.prototype.has=ec,Pn.prototype.set=tc;function xi(c,g){var b=st(c),w=!b&&Pr(c),F=!b&&!w&&gr(c),H=!b&&!w&&!F&&so(c),X=b||w||F||H,se=X?Ar(c.length,Fa):[],ue=se.length;for(var Ce in c)(g||$.call(c,Ce))&&!(X&&(Ce=="length"||F&&(Ce=="offset"||Ce=="parent")||H&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||er(Ce,ue)))&&se.push(Ce);return se}function Fi(c){var g=c.length;return g?c[Ja(0,g-1)]:n}function nc(c,g){return Ps(sn(c),Dr(g,0,c.length))}function rc(c){return Ps(sn(c))}function za(c,g,b){(b!==n&&!Mn(c[g],b)||b===n&&!(g in c))&&Jn(c,g,b)}function Fo(c,g,b){var w=c[g];(!($.call(c,g)&&Mn(w,b))||b===n&&!(g in c))&&Jn(c,g,b)}function ys(c,g){for(var b=c.length;b--;)if(Mn(c[b][0],g))return b;return-1}function oc(c,g,b,w){return mr(c,function(F,H,X){g(w,F,b(F),X)}),w}function Gi(c,g){return c&&Hn(g,$t(g),c)}function sc(c,g){return c&&Hn(g,un(g),c)}function Jn(c,g,b){g=="__proto__"&&fs?fs(c,g,{configurable:!0,enumerable:!0,value:b,writable:!0}):c[g]=b}function $a(c,g){for(var b=-1,w=g.length,F=_e(w),H=c==null;++b<w;)F[b]=H?n:Ai(c,g[b]);return F}function Dr(c,g,b){return c===c&&(b!==n&&(c=c<=b?c:b),g!==n&&(c=c>=g?c:g)),c}function yn(c,g,b,w,F,H){var X,se=g&d,ue=g&f,Ce=g&v;if(b&&(X=F?b(c,w,F,H):b(c)),X!==n)return X;if(!wt(c))return c;var Re=st(c);if(Re){if(X=Kc(c),!se)return sn(c,X)}else{var Pe=Yt(c),$e=Pe==Y||Pe==te;if(gr(c))return uu(c,se);if(Pe==we||Pe==Ee||$e&&!F){if(X=ue||$e?{}:Ru(c),!se)return ue?Bc(c,sc(X,c)):Gc(c,Gi(X,c))}else{if(!bt[Pe])return F?c:{};X=Jc(c,Pe,se)}}H||(H=new Pn);var Ye=H.get(c);if(Ye)return Ye;H.set(c,X),nl(c)?c.forEach(function(et){X.add(yn(et,g,b,et,c,H))}):el(c)&&c.forEach(function(et,ft){X.set(ft,yn(et,g,b,ft,c,H))});var Ze=Ce?ue?ui:ii:ue?un:$t,lt=Re?n:Ze(c);return nn(lt||c,function(et,ft){lt&&(ft=et,et=c[ft]),Fo(X,ft,yn(et,g,b,ft,c,H))}),X}function ac(c){var g=$t(c);return function(b){return Bi(b,c,g)}}function Bi(c,g,b){var w=b.length;if(c==null)return!w;for(c=Tt(c);w--;){var F=b[w],H=g[F],X=c[F];if(X===n&&!(F in c)||!H(X))return!1}return!0}function Ui(c,g,b){if(typeof c!="function")throw new Kt(a);return qo(function(){c.apply(n,b)},g)}function Go(c,g,b,w){var F=-1,H=Yr,X=!0,se=c.length,ue=[],Ce=g.length;if(!se)return ue;b&&(g=Dt(g,jt(b))),w?(H=bo,X=!1):g.length>=o&&(H=br,X=!1,g=new Rr(g));e:for(;++F<se;){var Re=c[F],Pe=b==null?Re:b(Re);if(Re=w||Re!==0?Re:0,X&&Pe===Pe){for(var $e=Ce;$e--;)if(g[$e]===Pe)continue e;ue.push(Re)}else H(g,Pe,w)||ue.push(Re)}return ue}var mr=fu($n),zi=fu(qa,!0);function ic(c,g){var b=!0;return mr(c,function(w,F,H){return b=!!g(w,F,H),b}),b}function Ts(c,g,b){for(var w=-1,F=c.length;++w<F;){var H=c[w],X=g(H);if(X!=null&&(se===n?X===X&&!fn(X):b(X,se)))var se=X,ue=H}return ue}function uc(c,g,b,w){var F=c.length;for(b=ut(b),b<0&&(b=-b>F?0:F+b),w=w===n||w>F?F:ut(w),w<0&&(w+=F),w=b>w?0:ol(w);b<w;)c[b++]=g;return c}function $i(c,g){var b=[];return mr(c,function(w,F,H){g(w,F,H)&&b.push(w)}),b}function qt(c,g,b,w,F){var H=-1,X=c.length;for(b||(b=Zc),F||(F=[]);++H<X;){var se=c[H];g>0&&b(se)?g>1?qt(se,g-1,b,w,F):Nn(F,se):w||(F[F.length]=se)}return F}var Ha=pu(),Hi=pu(!0);function $n(c,g){return c&&Ha(c,g,$t)}function qa(c,g){return c&&Hi(c,g,$t)}function Ss(c,g){return xn(g,function(b){return tr(c[b])})}function Or(c,g){g=pr(g,c);for(var b=0,w=g.length;c!=null&&b<w;)c=c[qn(g[b++])];return b&&b==w?c:n}function qi(c,g,b){var w=g(c);return st(c)?w:Nn(w,b(c))}function Jt(c){return c==null?c===n?Ve:Ae:zn&&zn in Tt(c)?Wc(c):ad(c)}function Va(c,g){return c>g}function lc(c,g){return c!=null&&$.call(c,g)}function cc(c,g){return c!=null&&g in Tt(c)}function dc(c,g,b){return c>=Wt(g,b)&&c<Bt(g,b)}function Qa(c,g,b){for(var w=b?bo:Yr,F=c[0].length,H=c.length,X=H,se=_e(H),ue=1/0,Ce=[];X--;){var Re=c[X];X&&g&&(Re=Dt(Re,jt(g))),ue=Wt(Re.length,ue),se[X]=!b&&(g||F>=120&&Re.length>=120)?new Rr(X&&Re):n}Re=c[0];var Pe=-1,$e=se[0];e:for(;++Pe<F&&Ce.length<ue;){var Ye=Re[Pe],Ze=g?g(Ye):Ye;if(Ye=b||Ye!==0?Ye:0,!($e?br($e,Ze):w(Ce,Ze,b))){for(X=H;--X;){var lt=se[X];if(!(lt?br(lt,Ze):w(c[X],Ze,b)))continue e}$e&&$e.push(Ze),Ce.push(Ye)}}return Ce}function mc(c,g,b,w){return $n(c,function(F,H,X){g(w,b(F),H,X)}),w}function Bo(c,g,b){g=pr(g,c),c=Nu(c,g);var w=c==null?c:c[qn(Sn(g))];return w==null?n:Qt(w,c,b)}function Vi(c){return Nt(c)&&Jt(c)==Ee}function fc(c){return Nt(c)&&Jt(c)==_t}function pc(c){return Nt(c)&&Jt(c)==je}function Uo(c,g,b,w,F){return c===g?!0:c==null||g==null||!Nt(c)&&!Nt(g)?c!==c&&g!==g:hc(c,g,b,w,Uo,F)}function hc(c,g,b,w,F,H){var X=st(c),se=st(g),ue=X?Fe:Yt(c),Ce=se?Fe:Yt(g);ue=ue==Ee?we:ue,Ce=Ce==Ee?we:Ce;var Re=ue==we,Pe=Ce==we,$e=ue==Ce;if($e&&gr(c)){if(!gr(g))return!1;X=!0,Re=!1}if($e&&!Re)return H||(H=new Pn),X||so(c)?bu(c,g,b,w,F,H):Vc(c,g,ue,b,w,F,H);if(!(b&A)){var Ye=Re&&$.call(c,"__wrapped__"),Ze=Pe&&$.call(g,"__wrapped__");if(Ye||Ze){var lt=Ye?c.value():c,et=Ze?g.value():g;return H||(H=new Pn),F(lt,et,b,w,H)}}return $e?(H||(H=new Pn),Qc(c,g,b,w,F,H)):!1}function gc(c){return Nt(c)&&Yt(c)==de}function Wa(c,g,b,w){var F=b.length,H=F,X=!w;if(c==null)return!H;for(c=Tt(c);F--;){var se=b[F];if(X&&se[2]?se[1]!==c[se[0]]:!(se[0]in c))return!1}for(;++F<H;){se=b[F];var ue=se[0],Ce=c[ue],Re=se[1];if(X&&se[2]){if(Ce===n&&!(ue in c))return!1}else{var Pe=new Pn;if(w)var $e=w(Ce,Re,ue,c,g,Pe);if(!($e===n?Uo(Re,Ce,A|I,w,Pe):$e))return!1}}return!0}function Qi(c){if(!wt(c)||td(c))return!1;var g=tr(c)?Qe:zt;return g.test(Nr(c))}function _c(c){return Nt(c)&&Jt(c)==Se}function Ec(c){return Nt(c)&&Yt(c)==he}function yc(c){return Nt(c)&&Gs(c.length)&&!!Ct[Jt(c)]}function Wi(c){return typeof c=="function"?c:c==null?ln:typeof c=="object"?st(c)?Ki(c[0],c[1]):ji(c):hl(c)}function Ya(c){if(!Ho(c))return vl(c);var g=[];for(var b in Tt(c))$.call(c,b)&&b!="constructor"&&g.push(b);return g}function vc(c){if(!wt(c))return sd(c);var g=Ho(c),b=[];for(var w in c)w=="constructor"&&(g||!$.call(c,w))||b.push(w);return b}function ja(c,g){return c<g}function Yi(c,g){var b=-1,w=an(c)?_e(c.length):[];return mr(c,function(F,H,X){w[++b]=g(F,H,X)}),w}function ji(c){var g=ci(c);return g.length==1&&g[0][2]?Ou(g[0][0],g[0][1]):function(b){return b===c||Wa(b,c,g)}}function Ki(c,g){return mi(c)&&Du(g)?Ou(qn(c),g):function(b){var w=Ai(b,c);return w===n&&w===g?bi(b,c):Uo(g,w,A|I)}}function vs(c,g,b,w,F){c!==g&&Ha(g,function(H,X){if(F||(F=new Pn),wt(H))Ac(c,g,X,b,vs,w,F);else{var se=w?w(pi(c,X),H,X+"",c,g,F):n;se===n&&(se=H),za(c,X,se)}},un)}function Ac(c,g,b,w,F,H,X){var se=pi(c,b),ue=pi(g,b),Ce=X.get(ue);if(Ce){za(c,b,Ce);return}var Re=H?H(se,ue,b+"",c,g,X):n,Pe=Re===n;if(Pe){var $e=st(ue),Ye=!$e&&gr(ue),Ze=!$e&&!Ye&&so(ue);Re=ue,$e||Ye||Ze?st(se)?Re=se:Pt(se)?Re=sn(se):Ye?(Pe=!1,Re=uu(ue,!0)):Ze?(Pe=!1,Re=lu(ue,!0)):Re=[]:Vo(ue)||Pr(ue)?(Re=se,Pr(se)?Re=sl(se):(!wt(se)||tr(se))&&(Re=Ru(ue))):Pe=!1}Pe&&(X.set(ue,Re),F(Re,ue,w,H,X),X.delete(ue)),za(c,b,Re)}function Ji(c,g){var b=c.length;if(b)return g+=g<0?b:0,er(g,b)?c[g]:n}function Xi(c,g,b){g.length?g=Dt(g,function(H){return st(H)?function(X){return Or(X,H.length===1?H[0]:H)}:H}):g=[ln];var w=-1;g=Dt(g,jt(Xe()));var F=Yi(c,function(H,X,se){var ue=Dt(g,function(Ce){return Ce(H)});return{criteria:ue,index:++w,value:H}});return Do(F,function(H,X){return Fc(H,X,b)})}function bc(c,g){return Zi(c,g,function(b,w){return bi(c,w)})}function Zi(c,g,b){for(var w=-1,F=g.length,H={};++w<F;){var X=g[w],se=Or(c,X);b(se,X)&&zo(H,pr(X,c),se)}return H}function Cc(c){return function(g){return Or(g,c)}}function Ka(c,g,b,w){var F=w?Ro:Fn,H=-1,X=g.length,se=c;for(c===g&&(g=sn(g)),b&&(se=Dt(c,jt(b)));++H<X;)for(var ue=0,Ce=g[H],Re=b?b(Ce):Ce;(ue=F(se,Re,ue,w))>-1;)se!==c&&ht.call(se,ue,1),ht.call(c,ue,1);return c}function eu(c,g){for(var b=c?g.length:0,w=b-1;b--;){var F=g[b];if(b==w||F!==H){var H=F;er(F)?ht.call(c,F,1):ei(c,F)}}return c}function Ja(c,g){return c+hs(Li()*(g-c+1))}function Ic(c,g,b,w){for(var F=-1,H=Bt(ps((g-c)/(b||1)),0),X=_e(H);H--;)X[w?H:++F]=c,c+=b;return X}function Xa(c,g){var b="";if(!c||g<1||g>Ge)return b;do g%2&&(b+=c),g=hs(g/2),g&&(c+=c);while(g);return b}function ct(c,g){return hi(wu(c,g,ln),c+"")}function Rc(c){return Fi(ao(c))}function Oc(c,g){var b=ao(c);return Ps(b,Dr(g,0,b.length))}function zo(c,g,b,w){if(!wt(c))return c;g=pr(g,c);for(var F=-1,H=g.length,X=H-1,se=c;se!=null&&++F<H;){var ue=qn(g[F]),Ce=b;if(ue==="__proto__"||ue==="constructor"||ue==="prototype")return c;if(F!=X){var Re=se[ue];Ce=w?w(Re,ue,se):n,Ce===n&&(Ce=wt(Re)?Re:er(g[F+1])?[]:{})}Fo(se,ue,Ce),se=se[ue]}return c}var tu=gs?function(c,g){return gs.set(c,g),c}:ln,wc=fs?function(c,g){return fs(c,"toString",{configurable:!0,enumerable:!1,value:Ii(g),writable:!0})}:ln;function Nc(c){return Ps(ao(c))}function Tn(c,g,b){var w=-1,F=c.length;g<0&&(g=-g>F?0:F+g),b=b>F?F:b,b<0&&(b+=F),F=g>b?0:b-g>>>0,g>>>=0;for(var H=_e(F);++w<F;)H[w]=c[w+g];return H}function Pc(c,g){var b;return mr(c,function(w,F,H){return b=g(w,F,H),!b}),!!b}function As(c,g,b){var w=0,F=c==null?w:c.length;if(typeof g=="number"&&g===g&&F<=De){for(;w<F;){var H=w+F>>>1,X=c[H];X!==null&&!fn(X)&&(b?X<=g:X<g)?w=H+1:F=H}return F}return Za(c,g,ln,b)}function Za(c,g,b,w){var F=0,H=c==null?0:c.length;if(H===0)return 0;g=b(g);for(var X=g!==g,se=g===null,ue=fn(g),Ce=g===n;F<H;){var Re=hs((F+H)/2),Pe=b(c[Re]),$e=Pe!==n,Ye=Pe===null,Ze=Pe===Pe,lt=fn(Pe);if(X)var et=w||Ze;else Ce?et=Ze&&(w||$e):se?et=Ze&&$e&&(w||!Ye):ue?et=Ze&&$e&&!Ye&&(w||!lt):Ye||lt?et=!1:et=w?Pe<=g:Pe<g;et?F=Re+1:H=Re}return Wt(H,le)}function nu(c,g){for(var b=-1,w=c.length,F=0,H=[];++b<w;){var X=c[b],se=g?g(X):X;if(!b||!Mn(se,ue)){var ue=se;H[F++]=X===0?0:X}}return H}function ru(c){return typeof c=="number"?c:fn(c)?me:+c}function mn(c){if(typeof c=="string")return c;if(st(c))return Dt(c,mn)+"";if(fn(c))return ki?ki.call(c):"";var g=c+"";return g=="0"&&1/c==-Le?"-0":g}function fr(c,g,b){var w=-1,F=Yr,H=c.length,X=!0,se=[],ue=se;if(b)X=!1,F=bo;else if(H>=o){var Ce=g?null:Hc(c);if(Ce)return Xr(Ce);X=!1,F=br,ue=new Rr}else ue=g?[]:se;e:for(;++w<H;){var Re=c[w],Pe=g?g(Re):Re;if(Re=b||Re!==0?Re:0,X&&Pe===Pe){for(var $e=ue.length;$e--;)if(ue[$e]===Pe)continue e;g&&ue.push(Pe),se.push(Re)}else F(ue,Pe,b)||(ue!==se&&ue.push(Pe),se.push(Re))}return se}function ei(c,g){return g=pr(g,c),c=Nu(c,g),c==null||delete c[qn(Sn(g))]}function ou(c,g,b,w){return zo(c,g,b(Or(c,g)),w)}function bs(c,g,b,w){for(var F=c.length,H=w?F:-1;(w?H--:++H<F)&&g(c[H],H,c););return b?Tn(c,w?0:H,w?H+1:F):Tn(c,w?H+1:0,w?F:H)}function su(c,g){var b=c;return b instanceof gt&&(b=b.value()),Co(g,function(w,F){return F.func.apply(F.thisArg,Nn([w],F.args))},b)}function ti(c,g,b){var w=c.length;if(w<2)return w?fr(c[0]):[];for(var F=-1,H=_e(w);++F<w;)for(var X=c[F],se=-1;++se<w;)se!=F&&(H[F]=Go(H[F]||X,c[se],g,b));return fr(qt(H,1),g,b)}function au(c,g,b){for(var w=-1,F=c.length,H=g.length,X={};++w<F;){var se=w<H?g[w]:n;b(X,c[w],se)}return X}function ni(c){return Pt(c)?c:[]}function ri(c){return typeof c=="function"?c:ln}function pr(c,g){return st(c)?c:mi(c,g)?[c]:ku(vt(c))}var Mc=ct;function hr(c,g,b){var w=c.length;return b=b===n?w:b,!g&&b>=w?c:Tn(c,g,b)}var iu=_l||function(c){return Gt.clearTimeout(c)};function uu(c,g){if(g)return c.slice();var b=c.length,w=it?it(b):new c.constructor(b);return c.copy(w),w}function oi(c){var g=new c.constructor(c.byteLength);return new We(g).set(new We(c)),g}function Lc(c,g){var b=g?oi(c.buffer):c.buffer;return new c.constructor(b,c.byteOffset,c.byteLength)}function kc(c){var g=new c.constructor(c.source,fo.exec(c));return g.lastIndex=c.lastIndex,g}function xc(c){return xo?Tt(xo.call(c)):{}}function lu(c,g){var b=g?oi(c.buffer):c.buffer;return new c.constructor(b,c.byteOffset,c.length)}function cu(c,g){if(c!==g){var b=c!==n,w=c===null,F=c===c,H=fn(c),X=g!==n,se=g===null,ue=g===g,Ce=fn(g);if(!se&&!Ce&&!H&&c>g||H&&X&&ue&&!se&&!Ce||w&&X&&ue||!b&&ue||!F)return 1;if(!w&&!H&&!Ce&&c<g||Ce&&b&&F&&!w&&!H||se&&b&&F||!X&&F||!ue)return-1}return 0}function Fc(c,g,b){for(var w=-1,F=c.criteria,H=g.criteria,X=F.length,se=b.length;++w<X;){var ue=cu(F[w],H[w]);if(ue){if(w>=se)return ue;var Ce=b[w];return ue*(Ce=="desc"?-1:1)}}return c.index-g.index}function du(c,g,b,w){for(var F=-1,H=c.length,X=b.length,se=-1,ue=g.length,Ce=Bt(H-X,0),Re=_e(ue+Ce),Pe=!w;++se<ue;)Re[se]=g[se];for(;++F<X;)(Pe||F<H)&&(Re[b[F]]=c[F]);for(;Ce--;)Re[se++]=c[F++];return Re}function mu(c,g,b,w){for(var F=-1,H=c.length,X=-1,se=b.length,ue=-1,Ce=g.length,Re=Bt(H-se,0),Pe=_e(Re+Ce),$e=!w;++F<Re;)Pe[F]=c[F];for(var Ye=F;++ue<Ce;)Pe[Ye+ue]=g[ue];for(;++X<se;)($e||F<H)&&(Pe[Ye+b[X]]=c[F++]);return Pe}function sn(c,g){var b=-1,w=c.length;for(g||(g=_e(w));++b<w;)g[b]=c[b];return g}function Hn(c,g,b,w){var F=!b;b||(b={});for(var H=-1,X=g.length;++H<X;){var se=g[H],ue=w?w(b[se],c[se],se,b,c):n;ue===n&&(ue=c[se]),F?Jn(b,se,ue):Fo(b,se,ue)}return b}function Gc(c,g){return Hn(c,di(c),g)}function Bc(c,g){return Hn(c,Cu(c),g)}function Cs(c,g){return function(b,w){var F=st(b)?ya:oc,H=g?g():{};return F(b,c,Xe(w,2),H)}}function no(c){return ct(function(g,b){var w=-1,F=b.length,H=F>1?b[F-1]:n,X=F>2?b[2]:n;for(H=c.length>3&&typeof H=="function"?(F--,H):n,X&&Xt(b[0],b[1],X)&&(H=F<3?n:H,F=1),g=Tt(g);++w<F;){var se=b[w];se&&c(g,se,w,H)}return g})}function fu(c,g){return function(b,w){if(b==null)return b;if(!an(b))return c(b,w);for(var F=b.length,H=g?F:-1,X=Tt(b);(g?H--:++H<F)&&w(X[H],H,X)!==!1;);return b}}function pu(c){return function(g,b,w){for(var F=-1,H=Tt(g),X=w(g),se=X.length;se--;){var ue=X[c?se:++F];if(b(H[ue],ue,H)===!1)break}return g}}function Uc(c,g,b){var w=g&P,F=$o(c);function H(){var X=this&&this!==Gt&&this instanceof H?F:c;return X.apply(w?b:this,arguments)}return H}function hu(c){return function(g){g=vt(g);var b=cr(g)?dn(g):n,w=b?b[0]:g.charAt(0),F=b?hr(b,1).join(""):g.slice(1);return w[c]()+F}}function ro(c){return function(g){return Co(fl(ml(g).replace(ia,"")),c,"")}}function $o(c){return function(){var g=arguments;switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3]);case 5:return new c(g[0],g[1],g[2],g[3],g[4]);case 6:return new c(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new c(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var b=to(c.prototype),w=c.apply(b,g);return wt(w)?w:b}}function zc(c,g,b){var w=$o(c);function F(){for(var H=arguments.length,X=_e(H),se=H,ue=oo(F);se--;)X[se]=arguments[se];var Ce=H<3&&X[0]!==ue&&X[H-1]!==ue?[]:Gn(X,ue);if(H-=Ce.length,H<b)return Tu(c,g,Is,F.placeholder,n,X,Ce,n,n,b-H);var Re=this&&this!==Gt&&this instanceof F?w:c;return Qt(Re,this,X)}return F}function gu(c){return function(g,b,w){var F=Tt(g);if(!an(g)){var H=Xe(b,3);g=$t(g),b=function(se){return H(F[se],se,F)}}var X=c(g,b,w);return X>-1?F[H?g[X]:X]:n}}function _u(c){return Zn(function(g){var b=g.length,w=b,F=En.prototype.thru;for(c&&g.reverse();w--;){var H=g[w];if(typeof H!="function")throw new Kt(a);if(F&&!X&&ws(H)=="wrapper")var X=new En([],!0)}for(w=X?w:b;++w<b;){H=g[w];var se=ws(H),ue=se=="wrapper"?li(H):n;ue&&fi(ue[0])&&ue[1]==(B|M|U|W)&&!ue[4].length&&ue[9]==1?X=X[ws(ue[0])].apply(X,ue[3]):X=H.length==1&&fi(H)?X[se]():X.thru(H)}return function(){var Ce=arguments,Re=Ce[0];if(X&&Ce.length==1&&st(Re))return X.plant(Re).value();for(var Pe=0,$e=b?g[Pe].apply(this,Ce):Re;++Pe<b;)$e=g[Pe].call(this,$e);return $e}})}function Is(c,g,b,w,F,H,X,se,ue,Ce){var Re=g&B,Pe=g&P,$e=g&O,Ye=g&(M|k),Ze=g&Z,lt=$e?n:$o(c);function et(){for(var ft=arguments.length,yt=_e(ft),pn=ft;pn--;)yt[pn]=arguments[pn];if(Ye)var Zt=oo(et),hn=Aa(yt,Zt);if(w&&(yt=du(yt,w,F,Ye)),H&&(yt=mu(yt,H,X,Ye)),ft-=hn,Ye&&ft<Ce){var Mt=Gn(yt,Zt);return Tu(c,g,Is,et.placeholder,b,yt,Mt,se,ue,Ce-ft)}var Ln=Pe?b:this,rr=$e?Ln[c]:c;return ft=yt.length,se?yt=id(yt,se):Ze&&ft>1&&yt.reverse(),Re&&ue<ft&&(yt.length=ue),this&&this!==Gt&&this instanceof et&&(rr=lt||$o(rr)),rr.apply(Ln,yt)}return et}function Eu(c,g){return function(b,w){return mc(b,c,g(w),{})}}function Rs(c,g){return function(b,w){var F;if(b===n&&w===n)return g;if(b!==n&&(F=b),w!==n){if(F===n)return w;typeof b=="string"||typeof w=="string"?(b=mn(b),w=mn(w)):(b=ru(b),w=ru(w)),F=c(b,w)}return F}}function si(c){return Zn(function(g){return g=Dt(g,jt(Xe())),ct(function(b){var w=this;return c(g,function(F){return Qt(F,w,b)})})})}function Ds(c,g){g=g===n?" ":mn(g);var b=g.length;if(b<2)return b?Xa(g,c):g;var w=Xa(g,ps(c/dr(g)));return cr(g)?hr(dn(w),0,c).join(""):w.slice(0,c)}function $c(c,g,b,w){var F=g&P,H=$o(c);function X(){for(var se=-1,ue=arguments.length,Ce=-1,Re=w.length,Pe=_e(Re+ue),$e=this&&this!==Gt&&this instanceof X?H:c;++Ce<Re;)Pe[Ce]=w[Ce];for(;ue--;)Pe[Ce++]=arguments[++se];return Qt($e,F?b:this,Pe)}return X}function yu(c){return function(g,b,w){return w&&typeof w!="number"&&Xt(g,b,w)&&(b=w=n),g=nr(g),b===n?(b=g,g=0):b=nr(b),w=w===n?g<b?1:-1:nr(w),Ic(g,b,w,c)}}function Os(c){return function(g,b){return typeof g=="string"&&typeof b=="string"||(g=vn(g),b=vn(b)),c(g,b)}}function Tu(c,g,b,w,F,H,X,se,ue,Ce){var Re=g&M,Pe=Re?X:n,$e=Re?n:X,Ye=Re?H:n,Ze=Re?n:H;g|=Re?U:Q,g&=~(Re?Q:U),g&R||(g&=~(P|O));var lt=[c,g,F,Ye,Pe,Ze,$e,se,ue,Ce],et=b.apply(n,lt);return fi(c)&&Pu(et,lt),et.placeholder=w,Mu(et,c,g)}function ai(c){var g=Ot[c];return function(b,w){if(b=vn(b),w=w==null?0:Wt(ut(w),292),w&&Mi(b)){var F=(vt(b)+"e").split("e"),H=g(F[0]+"e"+(+F[1]+w));return F=(vt(H)+"e").split("e"),+(F[0]+"e"+(+F[1]-w))}return g(b)}}var Hc=Zr&&1/Xr(new Zr([,-0]))[1]==Le?function(c){return new Zr(c)}:Oi;function Su(c){return function(g){var b=Yt(g);return b==de?No(g):b==he?wa(g):Oo(g,c(g))}}function Xn(c,g,b,w,F,H,X,se){var ue=g&O;if(!ue&&typeof c!="function")throw new Kt(a);var Ce=w?w.length:0;if(Ce||(g&=~(U|Q),w=F=n),X=X===n?X:Bt(ut(X),0),se=se===n?se:ut(se),Ce-=F?F.length:0,g&Q){var Re=w,Pe=F;w=F=n}var $e=ue?n:li(c),Ye=[c,g,b,w,F,Re,Pe,H,X,se];if($e&&od(Ye,$e),c=Ye[0],g=Ye[1],b=Ye[2],w=Ye[3],F=Ye[4],se=Ye[9]=Ye[9]===n?ue?0:c.length:Bt(Ye[9]-Ce,0),!se&&g&(M|k)&&(g&=~(M|k)),!g||g==P)var Ze=Uc(c,g,b);else g==M||g==k?Ze=zc(c,g,se):(g==U||g==(P|U))&&!F.length?Ze=$c(c,g,b,w):Ze=Is.apply(n,Ye);var lt=$e?tu:Pu;return Mu(lt(Ze,Ye),c,g)}function vu(c,g,b,w){return c===n||Mn(c,L[b])&&!$.call(w,b)?g:c}function Au(c,g,b,w,F,H){return wt(c)&&wt(g)&&(H.set(g,c),vs(c,g,n,Au,H),H.delete(g)),c}function qc(c){return Vo(c)?n:c}function bu(c,g,b,w,F,H){var X=b&A,se=c.length,ue=g.length;if(se!=ue&&!(X&&ue>se))return!1;var Ce=H.get(c),Re=H.get(g);if(Ce&&Re)return Ce==g&&Re==c;var Pe=-1,$e=!0,Ye=b&I?new Rr:n;for(H.set(c,g),H.set(g,c);++Pe<se;){var Ze=c[Pe],lt=g[Pe];if(w)var et=X?w(lt,Ze,Pe,g,c,H):w(Ze,lt,Pe,c,g,H);if(et!==n){if(et)continue;$e=!1;break}if(Ye){if(!yr(g,function(ft,yt){if(!br(Ye,yt)&&(Ze===ft||F(Ze,ft,b,w,H)))return Ye.push(yt)})){$e=!1;break}}else if(!(Ze===lt||F(Ze,lt,b,w,H))){$e=!1;break}}return H.delete(c),H.delete(g),$e}function Vc(c,g,b,w,F,H,X){switch(b){case dt:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case _t:return!(c.byteLength!=g.byteLength||!H(new We(c),new We(g)));case ze:case je:case ye:return Mn(+c,+g);case Ke:return c.name==g.name&&c.message==g.message;case Se:case xe:return c==g+"";case de:var se=No;case he:var ue=w&A;if(se||(se=Xr),c.size!=g.size&&!ue)return!1;var Ce=X.get(c);if(Ce)return Ce==g;w|=I,X.set(c,g);var Re=bu(se(c),se(g),w,F,H,X);return X.delete(c),Re;case He:if(xo)return xo.call(c)==xo.call(g)}return!1}function Qc(c,g,b,w,F,H){var X=b&A,se=ii(c),ue=se.length,Ce=ii(g),Re=Ce.length;if(ue!=Re&&!X)return!1;for(var Pe=ue;Pe--;){var $e=se[Pe];if(!(X?$e in g:$.call(g,$e)))return!1}var Ye=H.get(c),Ze=H.get(g);if(Ye&&Ze)return Ye==g&&Ze==c;var lt=!0;H.set(c,g),H.set(g,c);for(var et=X;++Pe<ue;){$e=se[Pe];var ft=c[$e],yt=g[$e];if(w)var pn=X?w(yt,ft,$e,g,c,H):w(ft,yt,$e,c,g,H);if(!(pn===n?ft===yt||F(ft,yt,b,w,H):pn)){lt=!1;break}et||(et=$e=="constructor")}if(lt&&!et){var Zt=c.constructor,hn=g.constructor;Zt!=hn&&"constructor"in c&&"constructor"in g&&!(typeof Zt=="function"&&Zt instanceof Zt&&typeof hn=="function"&&hn instanceof hn)&&(lt=!1)}return H.delete(c),H.delete(g),lt}function Zn(c){return hi(wu(c,n,Bu),c+"")}function ii(c){return qi(c,$t,di)}function ui(c){return qi(c,un,Cu)}var li=gs?function(c){return gs.get(c)}:Oi;function ws(c){for(var g=c.name+"",b=eo[g],w=$.call(eo,g)?b.length:0;w--;){var F=b[w],H=F.func;if(H==null||H==c)return F.name}return g}function oo(c){var g=$.call(z,"placeholder")?z:c;return g.placeholder}function Xe(){var c=z.iteratee||Ri;return c=c===Ri?Wi:c,arguments.length?c(arguments[0],arguments[1]):c}function Ns(c,g){var b=c.__data__;return ed(g)?b[typeof g=="string"?"string":"hash"]:b.map}function ci(c){for(var g=$t(c),b=g.length;b--;){var w=g[b],F=c[w];g[b]=[w,F,Du(F)]}return g}function wr(c,g){var b=Ra(c,g);return Qi(b)?b:n}function Wc(c){var g=$.call(c,zn),b=c[zn];try{c[zn]=n;var w=!0}catch{}var F=ce.call(c);return w&&(g?c[zn]=b:delete c[zn]),F}var di=Ga?function(c){return c==null?[]:(c=Tt(c),xn(Ga(c),function(g){return St.call(c,g)}))}:wi,Cu=Ga?function(c){for(var g=[];c;)Nn(g,di(c)),c=Ue(c);return g}:wi,Yt=Jt;(Ba&&Yt(new Ba(new ArrayBuffer(1)))!=dt||Mo&&Yt(new Mo)!=de||Ua&&Yt(Ua.resolve())!=Be||Zr&&Yt(new Zr)!=he||Lo&&Yt(new Lo)!=Je)&&(Yt=function(c){var g=Jt(c),b=g==we?c.constructor:n,w=b?Nr(b):"";if(w)switch(w){case Il:return dt;case Rl:return de;case Dl:return Be;case Ol:return he;case wl:return Je}return g});function Yc(c,g,b){for(var w=-1,F=b.length;++w<F;){var H=b[w],X=H.size;switch(H.type){case"drop":c+=X;break;case"dropRight":g-=X;break;case"take":g=Wt(g,c+X);break;case"takeRight":c=Bt(c,g-X);break}}return{start:c,end:g}}function jc(c){var g=c.match(Vs);return g?g[1].split(Qs):[]}function Iu(c,g,b){g=pr(g,c);for(var w=-1,F=g.length,H=!1;++w<F;){var X=qn(g[w]);if(!(H=c!=null&&b(c,X)))break;c=c[X]}return H||++w!=F?H:(F=c==null?0:c.length,!!F&&Gs(F)&&er(X,F)&&(st(c)||Pr(c)))}function Kc(c){var g=c.length,b=new c.constructor(g);return g&&typeof c[0]=="string"&&$.call(c,"index")&&(b.index=c.index,b.input=c.input),b}function Ru(c){return typeof c.constructor=="function"&&!Ho(c)?to(Ue(c)):{}}function Jc(c,g,b){var w=c.constructor;switch(g){case _t:return oi(c);case ze:case je:return new w(+c);case dt:return Lc(c,b);case It:case V:case gn:case Qn:case An:case or:case kt:case Ut:case ar:return lu(c,b);case de:return new w;case ye:case xe:return new w(c);case Se:return kc(c);case he:return new w;case He:return xc(c)}}function Xc(c,g){var b=g.length;if(!b)return c;var w=b-1;return g[w]=(b>1?"& ":"")+g[w],g=g.join(b>2?", ":" "),c.replace(qs,`{
/* [wrapped with `+g+`] */
`)}function Zc(c){return st(c)||Pr(c)||!!(_n&&c&&c[_n])}function er(c,g){var b=typeof c;return g=g??Ge,!!g&&(b=="number"||b!="symbol"&&en.test(c))&&c>-1&&c%1==0&&c<g}function Xt(c,g,b){if(!wt(b))return!1;var w=typeof g;return(w=="number"?an(b)&&er(g,b.length):w=="string"&&g in b)?Mn(b[g],c):!1}function mi(c,g){if(st(c))return!1;var b=typeof c;return b=="number"||b=="symbol"||b=="boolean"||c==null||fn(c)?!0:Hs.test(c)||!$s.test(c)||g!=null&&c in Tt(g)}function ed(c){var g=typeof c;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?c!=="__proto__":c===null}function fi(c){var g=ws(c),b=z[g];if(typeof b!="function"||!(g in gt.prototype))return!1;if(c===b)return!0;var w=li(b);return!!w&&c===w[0]}function td(c){return!!K&&K in c}var nd=N?tr:Ni;function Ho(c){var g=c&&c.constructor,b=typeof g=="function"&&g.prototype||L;return c===b}function Du(c){return c===c&&!wt(c)}function Ou(c,g){return function(b){return b==null?!1:b[c]===g&&(g!==n||c in Tt(b))}}function rd(c){var g=xs(c,function(w){return b.size===m&&b.clear(),w}),b=g.cache;return g}function od(c,g){var b=c[1],w=g[1],F=b|w,H=F<(P|O|B),X=w==B&&b==M||w==B&&b==W&&c[7].length<=g[8]||w==(B|W)&&g[7].length<=g[8]&&b==M;if(!(H||X))return c;w&P&&(c[2]=g[2],F|=b&P?0:R);var se=g[3];if(se){var ue=c[3];c[3]=ue?du(ue,se,g[4]):se,c[4]=ue?Gn(c[3],y):g[4]}return se=g[5],se&&(ue=c[5],c[5]=ue?mu(ue,se,g[6]):se,c[6]=ue?Gn(c[5],y):g[6]),se=g[7],se&&(c[7]=se),w&B&&(c[8]=c[8]==null?g[8]:Wt(c[8],g[8])),c[9]==null&&(c[9]=g[9]),c[0]=g[0],c[1]=F,c}function sd(c){var g=[];if(c!=null)for(var b in Tt(c))g.push(b);return g}function ad(c){return ce.call(c)}function wu(c,g,b){return g=Bt(g===n?c.length-1:g,0),function(){for(var w=arguments,F=-1,H=Bt(w.length-g,0),X=_e(H);++F<H;)X[F]=w[g+F];F=-1;for(var se=_e(g+1);++F<g;)se[F]=w[F];return se[g]=b(X),Qt(c,this,se)}}function Nu(c,g){return g.length<2?c:Or(c,Tn(g,0,-1))}function id(c,g){for(var b=c.length,w=Wt(g.length,b),F=sn(c);w--;){var H=g[w];c[w]=er(H,b)?F[H]:n}return c}function pi(c,g){if(!(g==="constructor"&&typeof c[g]=="function")&&g!="__proto__")return c[g]}var Pu=Lu(tu),qo=yl||function(c,g){return Gt.setTimeout(c,g)},hi=Lu(wc);function Mu(c,g,b){var w=g+"";return hi(c,Xc(w,ud(jc(w),b)))}function Lu(c){var g=0,b=0;return function(){var w=Al(),F=ae-(w-b);if(b=w,F>0){if(++g>=ee)return arguments[0]}else g=0;return c.apply(n,arguments)}}function Ps(c,g){var b=-1,w=c.length,F=w-1;for(g=g===n?w:g;++b<g;){var H=Ja(b,F),X=c[H];c[H]=c[b],c[b]=X}return c.length=g,c}var ku=rd(function(c){var g=[];return c.charCodeAt(0)===46&&g.push(""),c.replace(In,function(b,w,F,H){g.push(F?H.replace(Ft,"$1"):w||b)}),g});function qn(c){if(typeof c=="string"||fn(c))return c;var g=c+"";return g=="0"&&1/c==-Le?"-0":g}function Nr(c){if(c!=null){try{return x.call(c)}catch{}try{return c+""}catch{}}return""}function ud(c,g){return nn(G,function(b){var w="_."+b[0];g&b[1]&&!Yr(c,w)&&c.push(w)}),c.sort()}function xu(c){if(c instanceof gt)return c.clone();var g=new En(c.__wrapped__,c.__chain__);return g.__actions__=sn(c.__actions__),g.__index__=c.__index__,g.__values__=c.__values__,g}function ld(c,g,b){(b?Xt(c,g,b):g===n)?g=1:g=Bt(ut(g),0);var w=c==null?0:c.length;if(!w||g<1)return[];for(var F=0,H=0,X=_e(ps(w/g));F<w;)X[H++]=Tn(c,F,F+=g);return X}function cd(c){for(var g=-1,b=c==null?0:c.length,w=0,F=[];++g<b;){var H=c[g];H&&(F[w++]=H)}return F}function dd(){var c=arguments.length;if(!c)return[];for(var g=_e(c-1),b=arguments[0],w=c;w--;)g[w-1]=arguments[w];return Nn(st(b)?sn(b):[b],qt(g,1))}var md=ct(function(c,g){return Pt(c)?Go(c,qt(g,1,Pt,!0)):[]}),fd=ct(function(c,g){var b=Sn(g);return Pt(b)&&(b=n),Pt(c)?Go(c,qt(g,1,Pt,!0),Xe(b,2)):[]}),pd=ct(function(c,g){var b=Sn(g);return Pt(b)&&(b=n),Pt(c)?Go(c,qt(g,1,Pt,!0),n,b):[]});function hd(c,g,b){var w=c==null?0:c.length;return w?(g=b||g===n?1:ut(g),Tn(c,g<0?0:g,w)):[]}function gd(c,g,b){var w=c==null?0:c.length;return w?(g=b||g===n?1:ut(g),g=w-g,Tn(c,0,g<0?0:g)):[]}function _d(c,g){return c&&c.length?bs(c,Xe(g,3),!0,!0):[]}function Ed(c,g){return c&&c.length?bs(c,Xe(g,3),!0):[]}function yd(c,g,b,w){var F=c==null?0:c.length;return F?(b&&typeof b!="number"&&Xt(c,g,b)&&(b=0,w=F),uc(c,g,b,w)):[]}function Fu(c,g,b){var w=c==null?0:c.length;if(!w)return-1;var F=b==null?0:ut(b);return F<0&&(F=Bt(w+F,0)),lr(c,Xe(g,3),F)}function Gu(c,g,b){var w=c==null?0:c.length;if(!w)return-1;var F=w-1;return b!==n&&(F=ut(b),F=b<0?Bt(w+F,0):Wt(F,w-1)),lr(c,Xe(g,3),F,!0)}function Bu(c){var g=c==null?0:c.length;return g?qt(c,1):[]}function Td(c){var g=c==null?0:c.length;return g?qt(c,Le):[]}function Sd(c,g){var b=c==null?0:c.length;return b?(g=g===n?1:ut(g),qt(c,g)):[]}function vd(c){for(var g=-1,b=c==null?0:c.length,w={};++g<b;){var F=c[g];w[F[0]]=F[1]}return w}function Uu(c){return c&&c.length?c[0]:n}function Ad(c,g,b){var w=c==null?0:c.length;if(!w)return-1;var F=b==null?0:ut(b);return F<0&&(F=Bt(w+F,0)),Fn(c,g,F)}function bd(c){var g=c==null?0:c.length;return g?Tn(c,0,-1):[]}var Cd=ct(function(c){var g=Dt(c,ni);return g.length&&g[0]===c[0]?Qa(g):[]}),Id=ct(function(c){var g=Sn(c),b=Dt(c,ni);return g===Sn(b)?g=n:b.pop(),b.length&&b[0]===c[0]?Qa(b,Xe(g,2)):[]}),Rd=ct(function(c){var g=Sn(c),b=Dt(c,ni);return g=typeof g=="function"?g:n,g&&b.pop(),b.length&&b[0]===c[0]?Qa(b,n,g):[]});function Dd(c,g){return c==null?"":Sl.call(c,g)}function Sn(c){var g=c==null?0:c.length;return g?c[g-1]:n}function Od(c,g,b){var w=c==null?0:c.length;if(!w)return-1;var F=w;return b!==n&&(F=ut(b),F=F<0?Bt(w+F,0):Wt(F,w-1)),g===g?Pa(c,g,F):lr(c,Kr,F,!0)}function wd(c,g){return c&&c.length?Ji(c,ut(g)):n}var Nd=ct(zu);function zu(c,g){return c&&c.length&&g&&g.length?Ka(c,g):c}function Pd(c,g,b){return c&&c.length&&g&&g.length?Ka(c,g,Xe(b,2)):c}function Md(c,g,b){return c&&c.length&&g&&g.length?Ka(c,g,n,b):c}var Ld=Zn(function(c,g){var b=c==null?0:c.length,w=$a(c,g);return eu(c,Dt(g,function(F){return er(F,b)?+F:F}).sort(cu)),w});function kd(c,g){var b=[];if(!(c&&c.length))return b;var w=-1,F=[],H=c.length;for(g=Xe(g,3);++w<H;){var X=c[w];g(X,w,c)&&(b.push(X),F.push(w))}return eu(c,F),b}function gi(c){return c==null?c:Cl.call(c)}function xd(c,g,b){var w=c==null?0:c.length;return w?(b&&typeof b!="number"&&Xt(c,g,b)?(g=0,b=w):(g=g==null?0:ut(g),b=b===n?w:ut(b)),Tn(c,g,b)):[]}function Fd(c,g){return As(c,g)}function Gd(c,g,b){return Za(c,g,Xe(b,2))}function Bd(c,g){var b=c==null?0:c.length;if(b){var w=As(c,g);if(w<b&&Mn(c[w],g))return w}return-1}function Ud(c,g){return As(c,g,!0)}function zd(c,g,b){return Za(c,g,Xe(b,2),!0)}function $d(c,g){var b=c==null?0:c.length;if(b){var w=As(c,g,!0)-1;if(Mn(c[w],g))return w}return-1}function Hd(c){return c&&c.length?nu(c):[]}function qd(c,g){return c&&c.length?nu(c,Xe(g,2)):[]}function Vd(c){var g=c==null?0:c.length;return g?Tn(c,1,g):[]}function Qd(c,g,b){return c&&c.length?(g=b||g===n?1:ut(g),Tn(c,0,g<0?0:g)):[]}function Wd(c,g,b){var w=c==null?0:c.length;return w?(g=b||g===n?1:ut(g),g=w-g,Tn(c,g<0?0:g,w)):[]}function Yd(c,g){return c&&c.length?bs(c,Xe(g,3),!1,!0):[]}function jd(c,g){return c&&c.length?bs(c,Xe(g,3)):[]}var Kd=ct(function(c){return fr(qt(c,1,Pt,!0))}),Jd=ct(function(c){var g=Sn(c);return Pt(g)&&(g=n),fr(qt(c,1,Pt,!0),Xe(g,2))}),Xd=ct(function(c){var g=Sn(c);return g=typeof g=="function"?g:n,fr(qt(c,1,Pt,!0),n,g)});function Zd(c){return c&&c.length?fr(c):[]}function em(c,g){return c&&c.length?fr(c,Xe(g,2)):[]}function tm(c,g){return g=typeof g=="function"?g:n,c&&c.length?fr(c,n,g):[]}function Ei(c){if(!(c&&c.length))return[];var g=0;return c=xn(c,function(b){if(Pt(b))return g=Bt(b.length,g),!0}),Ar(g,function(b){return Dt(c,Tr(b))})}function $u(c,g){if(!(c&&c.length))return[];var b=Ei(c);return g==null?b:Dt(b,function(w){return Qt(g,n,w)})}var nm=ct(function(c,g){return Pt(c)?Go(c,g):[]}),rm=ct(function(c){return ti(xn(c,Pt))}),om=ct(function(c){var g=Sn(c);return Pt(g)&&(g=n),ti(xn(c,Pt),Xe(g,2))}),sm=ct(function(c){var g=Sn(c);return g=typeof g=="function"?g:n,ti(xn(c,Pt),n,g)}),am=ct(Ei);function im(c,g){return au(c||[],g||[],Fo)}function um(c,g){return au(c||[],g||[],zo)}var lm=ct(function(c){var g=c.length,b=g>1?c[g-1]:n;return b=typeof b=="function"?(c.pop(),b):n,$u(c,b)});function Hu(c){var g=z(c);return g.__chain__=!0,g}function cm(c,g){return g(c),c}function Ms(c,g){return g(c)}var dm=Zn(function(c){var g=c.length,b=g?c[0]:0,w=this.__wrapped__,F=function(H){return $a(H,c)};return g>1||this.__actions__.length||!(w instanceof gt)||!er(b)?this.thru(F):(w=w.slice(b,+b+(g?1:0)),w.__actions__.push({func:Ms,args:[F],thisArg:n}),new En(w,this.__chain__).thru(function(H){return g&&!H.length&&H.push(n),H}))});function mm(){return Hu(this)}function fm(){return new En(this.value(),this.__chain__)}function pm(){this.__values__===n&&(this.__values__=rl(this.value()));var c=this.__index__>=this.__values__.length,g=c?n:this.__values__[this.__index__++];return{done:c,value:g}}function hm(){return this}function gm(c){for(var g,b=this;b instanceof Es;){var w=xu(b);w.__index__=0,w.__values__=n,g?F.__wrapped__=w:g=w;var F=w;b=b.__wrapped__}return F.__wrapped__=c,g}function _m(){var c=this.__wrapped__;if(c instanceof gt){var g=c;return this.__actions__.length&&(g=new gt(this)),g=g.reverse(),g.__actions__.push({func:Ms,args:[gi],thisArg:n}),new En(g,this.__chain__)}return this.thru(gi)}function Em(){return su(this.__wrapped__,this.__actions__)}var ym=Cs(function(c,g,b){$.call(c,b)?++c[b]:Jn(c,b,1)});function Tm(c,g,b){var w=st(c)?as:ic;return b&&Xt(c,g,b)&&(g=n),w(c,Xe(g,3))}function Sm(c,g){var b=st(c)?xn:$i;return b(c,Xe(g,3))}var vm=gu(Fu),Am=gu(Gu);function bm(c,g){return qt(Ls(c,g),1)}function Cm(c,g){return qt(Ls(c,g),Le)}function Im(c,g,b){return b=b===n?1:ut(b),qt(Ls(c,g),b)}function qu(c,g){var b=st(c)?nn:mr;return b(c,Xe(g,3))}function Vu(c,g){var b=st(c)?Ta:zi;return b(c,Xe(g,3))}var Rm=Cs(function(c,g,b){$.call(c,b)?c[b].push(g):Jn(c,b,[g])});function Dm(c,g,b,w){c=an(c)?c:ao(c),b=b&&!w?ut(b):0;var F=c.length;return b<0&&(b=Bt(F+b,0)),Bs(c)?b<=F&&c.indexOf(g,b)>-1:!!F&&Fn(c,g,b)>-1}var Om=ct(function(c,g,b){var w=-1,F=typeof g=="function",H=an(c)?_e(c.length):[];return mr(c,function(X){H[++w]=F?Qt(g,X,b):Bo(X,g,b)}),H}),wm=Cs(function(c,g,b){Jn(c,b,g)});function Ls(c,g){var b=st(c)?Dt:Yi;return b(c,Xe(g,3))}function Nm(c,g,b,w){return c==null?[]:(st(g)||(g=g==null?[]:[g]),b=w?n:b,st(b)||(b=b==null?[]:[b]),Xi(c,g,b))}var Pm=Cs(function(c,g,b){c[b?0:1].push(g)},function(){return[[],[]]});function Mm(c,g,b){var w=st(c)?Co:Jr,F=arguments.length<3;return w(c,Xe(g,4),b,F,mr)}function Lm(c,g,b){var w=st(c)?Sa:Jr,F=arguments.length<3;return w(c,Xe(g,4),b,F,zi)}function km(c,g){var b=st(c)?xn:$i;return b(c,Fs(Xe(g,3)))}function xm(c){var g=st(c)?Fi:Rc;return g(c)}function Fm(c,g,b){(b?Xt(c,g,b):g===n)?g=1:g=ut(g);var w=st(c)?nc:Oc;return w(c,g)}function Gm(c){var g=st(c)?rc:Nc;return g(c)}function Bm(c){if(c==null)return 0;if(an(c))return Bs(c)?dr(c):c.length;var g=Yt(c);return g==de||g==he?c.size:Ya(c).length}function Um(c,g,b){var w=st(c)?yr:Pc;return b&&Xt(c,g,b)&&(g=n),w(c,Xe(g,3))}var zm=ct(function(c,g){if(c==null)return[];var b=g.length;return b>1&&Xt(c,g[0],g[1])?g=[]:b>2&&Xt(g[0],g[1],g[2])&&(g=[g[0]]),Xi(c,qt(g,1),[])}),ks=El||function(){return Gt.Date.now()};function $m(c,g){if(typeof g!="function")throw new Kt(a);return c=ut(c),function(){if(--c<1)return g.apply(this,arguments)}}function Qu(c,g,b){return g=b?n:g,g=c&&g==null?c.length:g,Xn(c,B,n,n,n,n,g)}function Wu(c,g){var b;if(typeof g!="function")throw new Kt(a);return c=ut(c),function(){return--c>0&&(b=g.apply(this,arguments)),c<=1&&(g=n),b}}var yi=ct(function(c,g,b){var w=P;if(b.length){var F=Gn(b,oo(yi));w|=U}return Xn(c,w,g,b,F)}),Yu=ct(function(c,g,b){var w=P|O;if(b.length){var F=Gn(b,oo(Yu));w|=U}return Xn(g,w,c,b,F)});function ju(c,g,b){g=b?n:g;var w=Xn(c,M,n,n,n,n,n,g);return w.placeholder=ju.placeholder,w}function Ku(c,g,b){g=b?n:g;var w=Xn(c,k,n,n,n,n,n,g);return w.placeholder=Ku.placeholder,w}function Ju(c,g,b){var w,F,H,X,se,ue,Ce=0,Re=!1,Pe=!1,$e=!0;if(typeof c!="function")throw new Kt(a);g=vn(g)||0,wt(b)&&(Re=!!b.leading,Pe="maxWait"in b,H=Pe?Bt(vn(b.maxWait)||0,g):H,$e="trailing"in b?!!b.trailing:$e);function Ye(Mt){var Ln=w,rr=F;return w=F=n,Ce=Mt,X=c.apply(rr,Ln),X}function Ze(Mt){return Ce=Mt,se=qo(ft,g),Re?Ye(Mt):X}function lt(Mt){var Ln=Mt-ue,rr=Mt-Ce,gl=g-Ln;return Pe?Wt(gl,H-rr):gl}function et(Mt){var Ln=Mt-ue,rr=Mt-Ce;return ue===n||Ln>=g||Ln<0||Pe&&rr>=H}function ft(){var Mt=ks();if(et(Mt))return yt(Mt);se=qo(ft,lt(Mt))}function yt(Mt){return se=n,$e&&w?Ye(Mt):(w=F=n,X)}function pn(){se!==n&&iu(se),Ce=0,w=ue=F=se=n}function Zt(){return se===n?X:yt(ks())}function hn(){var Mt=ks(),Ln=et(Mt);if(w=arguments,F=this,ue=Mt,Ln){if(se===n)return Ze(ue);if(Pe)return iu(se),se=qo(ft,g),Ye(ue)}return se===n&&(se=qo(ft,g)),X}return hn.cancel=pn,hn.flush=Zt,hn}var Hm=ct(function(c,g){return Ui(c,1,g)}),qm=ct(function(c,g,b){return Ui(c,vn(g)||0,b)});function Vm(c){return Xn(c,Z)}function xs(c,g){if(typeof c!="function"||g!=null&&typeof g!="function")throw new Kt(a);var b=function(){var w=arguments,F=g?g.apply(this,w):w[0],H=b.cache;if(H.has(F))return H.get(F);var X=c.apply(this,w);return b.cache=H.set(F,X)||H,X};return b.cache=new(xs.Cache||Kn),b}xs.Cache=Kn;function Fs(c){if(typeof c!="function")throw new Kt(a);return function(){var g=arguments;switch(g.length){case 0:return!c.call(this);case 1:return!c.call(this,g[0]);case 2:return!c.call(this,g[0],g[1]);case 3:return!c.call(this,g[0],g[1],g[2])}return!c.apply(this,g)}}function Qm(c){return Wu(2,c)}var Wm=Mc(function(c,g){g=g.length==1&&st(g[0])?Dt(g[0],jt(Xe())):Dt(qt(g,1),jt(Xe()));var b=g.length;return ct(function(w){for(var F=-1,H=Wt(w.length,b);++F<H;)w[F]=g[F].call(this,w[F]);return Qt(c,this,w)})}),Ti=ct(function(c,g){var b=Gn(g,oo(Ti));return Xn(c,U,n,g,b)}),Xu=ct(function(c,g){var b=Gn(g,oo(Xu));return Xn(c,Q,n,g,b)}),Ym=Zn(function(c,g){return Xn(c,W,n,n,n,g)});function jm(c,g){if(typeof c!="function")throw new Kt(a);return g=g===n?g:ut(g),ct(c,g)}function Km(c,g){if(typeof c!="function")throw new Kt(a);return g=g==null?0:Bt(ut(g),0),ct(function(b){var w=b[g],F=hr(b,0,g);return w&&Nn(F,w),Qt(c,this,F)})}function Jm(c,g,b){var w=!0,F=!0;if(typeof c!="function")throw new Kt(a);return wt(b)&&(w="leading"in b?!!b.leading:w,F="trailing"in b?!!b.trailing:F),Ju(c,g,{leading:w,maxWait:g,trailing:F})}function Xm(c){return Qu(c,1)}function Zm(c,g){return Ti(ri(g),c)}function ef(){if(!arguments.length)return[];var c=arguments[0];return st(c)?c:[c]}function tf(c){return yn(c,v)}function nf(c,g){return g=typeof g=="function"?g:n,yn(c,v,g)}function rf(c){return yn(c,d|v)}function of(c,g){return g=typeof g=="function"?g:n,yn(c,d|v,g)}function sf(c,g){return g==null||Bi(c,g,$t(g))}function Mn(c,g){return c===g||c!==c&&g!==g}var af=Os(Va),uf=Os(function(c,g){return c>=g}),Pr=Vi(function(){return arguments}())?Vi:function(c){return Nt(c)&&$.call(c,"callee")&&!St.call(c,"callee")},st=_e.isArray,lf=wn?jt(wn):fc;function an(c){return c!=null&&Gs(c.length)&&!tr(c)}function Pt(c){return Nt(c)&&an(c)}function cf(c){return c===!0||c===!1||Nt(c)&&Jt(c)==ze}var gr=Tl||Ni,df=Vr?jt(Vr):pc;function mf(c){return Nt(c)&&c.nodeType===1&&!Vo(c)}function ff(c){if(c==null)return!0;if(an(c)&&(st(c)||typeof c=="string"||typeof c.splice=="function"||gr(c)||so(c)||Pr(c)))return!c.length;var g=Yt(c);if(g==de||g==he)return!c.size;if(Ho(c))return!Ya(c).length;for(var b in c)if($.call(c,b))return!1;return!0}function pf(c,g){return Uo(c,g)}function hf(c,g,b){b=typeof b=="function"?b:n;var w=b?b(c,g):n;return w===n?Uo(c,g,n,b):!!w}function Si(c){if(!Nt(c))return!1;var g=Jt(c);return g==Ke||g==Te||typeof c.message=="string"&&typeof c.name=="string"&&!Vo(c)}function gf(c){return typeof c=="number"&&Mi(c)}function tr(c){if(!wt(c))return!1;var g=Jt(c);return g==Y||g==te||g==Me||g==ke}function Zu(c){return typeof c=="number"&&c==ut(c)}function Gs(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Ge}function wt(c){var g=typeof c;return c!=null&&(g=="object"||g=="function")}function Nt(c){return c!=null&&typeof c=="object"}var el=Qr?jt(Qr):gc;function _f(c,g){return c===g||Wa(c,g,ci(g))}function Ef(c,g,b){return b=typeof b=="function"?b:n,Wa(c,g,ci(g),b)}function yf(c){return tl(c)&&c!=+c}function Tf(c){if(nd(c))throw new nt(s);return Qi(c)}function Sf(c){return c===null}function vf(c){return c==null}function tl(c){return typeof c=="number"||Nt(c)&&Jt(c)==ye}function Vo(c){if(!Nt(c)||Jt(c)!=we)return!1;var g=Ue(c);if(g===null)return!0;var b=$.call(g,"constructor")&&g.constructor;return typeof b=="function"&&b instanceof b&&x.call(b)==Oe}var vi=Wr?jt(Wr):_c;function Af(c){return Zu(c)&&c>=-Ge&&c<=Ge}var nl=vo?jt(vo):Ec;function Bs(c){return typeof c=="string"||!st(c)&&Nt(c)&&Jt(c)==xe}function fn(c){return typeof c=="symbol"||Nt(c)&&Jt(c)==He}var so=Ao?jt(Ao):yc;function bf(c){return c===n}function Cf(c){return Nt(c)&&Yt(c)==Je}function If(c){return Nt(c)&&Jt(c)==at}var Rf=Os(ja),Df=Os(function(c,g){return c<=g});function rl(c){if(!c)return[];if(an(c))return Bs(c)?dn(c):sn(c);if(Un&&c[Un])return Oa(c[Un]());var g=Yt(c),b=g==de?No:g==he?Xr:ao;return b(c)}function nr(c){if(!c)return c===0?c:0;if(c=vn(c),c===Le||c===-Le){var g=c<0?-1:1;return g*rt}return c===c?c:0}function ut(c){var g=nr(c),b=g%1;return g===g?b?g-b:g:0}function ol(c){return c?Dr(ut(c),0,pe):0}function vn(c){if(typeof c=="number")return c;if(fn(c))return me;if(wt(c)){var g=typeof c.valueOf=="function"?c.valueOf():c;c=wt(g)?g+"":g}if(typeof c!="string")return c===0?c:+c;c=us(c);var b=ot.test(c);return b||js.test(c)?Ea(c.slice(2),b?2:8):Wo.test(c)?me:+c}function sl(c){return Hn(c,un(c))}function Of(c){return c?Dr(ut(c),-Ge,Ge):c===0?c:0}function vt(c){return c==null?"":mn(c)}var wf=no(function(c,g){if(Ho(g)||an(g)){Hn(g,$t(g),c);return}for(var b in g)$.call(g,b)&&Fo(c,b,g[b])}),al=no(function(c,g){Hn(g,un(g),c)}),Us=no(function(c,g,b,w){Hn(g,un(g),c,w)}),Nf=no(function(c,g,b,w){Hn(g,$t(g),c,w)}),Pf=Zn($a);function Mf(c,g){var b=to(c);return g==null?b:Gi(b,g)}var Lf=ct(function(c,g){c=Tt(c);var b=-1,w=g.length,F=w>2?g[2]:n;for(F&&Xt(g[0],g[1],F)&&(w=1);++b<w;)for(var H=g[b],X=un(H),se=-1,ue=X.length;++se<ue;){var Ce=X[se],Re=c[Ce];(Re===n||Mn(Re,L[Ce])&&!$.call(c,Ce))&&(c[Ce]=H[Ce])}return c}),kf=ct(function(c){return c.push(n,Au),Qt(il,n,c)});function xf(c,g){return jr(c,Xe(g,3),$n)}function Ff(c,g){return jr(c,Xe(g,3),qa)}function Gf(c,g){return c==null?c:Ha(c,Xe(g,3),un)}function Bf(c,g){return c==null?c:Hi(c,Xe(g,3),un)}function Uf(c,g){return c&&$n(c,Xe(g,3))}function zf(c,g){return c&&qa(c,Xe(g,3))}function $f(c){return c==null?[]:Ss(c,$t(c))}function Hf(c){return c==null?[]:Ss(c,un(c))}function Ai(c,g,b){var w=c==null?n:Or(c,g);return w===n?b:w}function qf(c,g){return c!=null&&Iu(c,g,lc)}function bi(c,g){return c!=null&&Iu(c,g,cc)}var Vf=Eu(function(c,g,b){g!=null&&typeof g.toString!="function"&&(g=ce.call(g)),c[g]=b},Ii(ln)),Qf=Eu(function(c,g,b){g!=null&&typeof g.toString!="function"&&(g=ce.call(g)),$.call(c,g)?c[g].push(b):c[g]=[b]},Xe),Wf=ct(Bo);function $t(c){return an(c)?xi(c):Ya(c)}function un(c){return an(c)?xi(c,!0):vc(c)}function Yf(c,g){var b={};return g=Xe(g,3),$n(c,function(w,F,H){Jn(b,g(w,F,H),w)}),b}function jf(c,g){var b={};return g=Xe(g,3),$n(c,function(w,F,H){Jn(b,F,g(w,F,H))}),b}var Kf=no(function(c,g,b){vs(c,g,b)}),il=no(function(c,g,b,w){vs(c,g,b,w)}),Jf=Zn(function(c,g){var b={};if(c==null)return b;var w=!1;g=Dt(g,function(H){return H=pr(H,c),w||(w=H.length>1),H}),Hn(c,ui(c),b),w&&(b=yn(b,d|f|v,qc));for(var F=g.length;F--;)ei(b,g[F]);return b});function Xf(c,g){return ul(c,Fs(Xe(g)))}var Zf=Zn(function(c,g){return c==null?{}:bc(c,g)});function ul(c,g){if(c==null)return{};var b=Dt(ui(c),function(w){return[w]});return g=Xe(g),Zi(c,b,function(w,F){return g(w,F[0])})}function ep(c,g,b){g=pr(g,c);var w=-1,F=g.length;for(F||(F=1,c=n);++w<F;){var H=c==null?n:c[qn(g[w])];H===n&&(w=F,H=b),c=tr(H)?H.call(c):H}return c}function tp(c,g,b){return c==null?c:zo(c,g,b)}function np(c,g,b,w){return w=typeof w=="function"?w:n,c==null?c:zo(c,g,b,w)}var ll=Su($t),cl=Su(un);function rp(c,g,b){var w=st(c),F=w||gr(c)||so(c);if(g=Xe(g,4),b==null){var H=c&&c.constructor;F?b=w?new H:[]:wt(c)?b=tr(H)?to(Ue(c)):{}:b={}}return(F?nn:$n)(c,function(X,se,ue){return g(b,X,se,ue)}),b}function sp(c,g){return c==null?!0:ei(c,g)}function ap(c,g,b){return c==null?c:ou(c,g,ri(b))}function ip(c,g,b,w){return w=typeof w=="function"?w:n,c==null?c:ou(c,g,ri(b),w)}function ao(c){return c==null?[]:wo(c,$t(c))}function up(c){return c==null?[]:wo(c,un(c))}function lp(c,g,b){return b===n&&(b=g,g=n),b!==n&&(b=vn(b),b=b===b?b:0),g!==n&&(g=vn(g),g=g===g?g:0),Dr(vn(c),g,b)}function cp(c,g,b){return g=nr(g),b===n?(b=g,g=0):b=nr(b),c=vn(c),dc(c,g,b)}function dp(c,g,b){if(b&&typeof b!="boolean"&&Xt(c,g,b)&&(g=b=n),b===n&&(typeof g=="boolean"?(b=g,g=n):typeof c=="boolean"&&(b=c,c=n)),c===n&&g===n?(c=0,g=1):(c=nr(c),g===n?(g=c,c=0):g=nr(g)),c>g){var w=c;c=g,g=w}if(b||c%1||g%1){var F=Li();return Wt(c+F*(g-c+_a("1e-"+((F+"").length-1))),g)}return Ja(c,g)}var mp=ro(function(c,g,b){return g=g.toLowerCase(),c+(b?dl(g):g)});function dl(c){return Ci(vt(c).toLowerCase())}function ml(c){return c=vt(c),c&&c.replace(Ks,ba).replace(ua,"")}function fp(c,g,b){c=vt(c),g=mn(g);var w=c.length;b=b===n?w:Dr(ut(b),0,w);var F=b;return b-=g.length,b>=0&&c.slice(b,F)==g}function pp(c){return c=vt(c),c&&Vt.test(c)?c.replace(_r,Ca):c}function hp(c){return c=vt(c),c&&cn.test(c)?c.replace(oe,"\\$&"):c}var gp=ro(function(c,g,b){return c+(b?"-":"")+g.toLowerCase()}),_p=ro(function(c,g,b){return c+(b?" ":"")+g.toLowerCase()}),Ep=hu("toLowerCase");function yp(c,g,b){c=vt(c),g=ut(g);var w=g?dr(c):0;if(!g||w>=g)return c;var F=(g-w)/2;return Ds(hs(F),b)+c+Ds(ps(F),b)}function Tp(c,g,b){c=vt(c),g=ut(g);var w=g?dr(c):0;return g&&w<g?c+Ds(g-w,b):c}function Sp(c,g,b){c=vt(c),g=ut(g);var w=g?dr(c):0;return g&&w<g?Ds(g-w,b)+c:c}function vp(c,g,b){return b||g==null?g=0:g&&(g=+g),bl(vt(c).replace(mo,""),g||0)}function Ap(c,g,b){return(b?Xt(c,g,b):g===n)?g=1:g=ut(g),Xa(vt(c),g)}function bp(){var c=arguments,g=vt(c[0]);return c.length<3?g:g.replace(c[1],c[2])}var Cp=ro(function(c,g,b){return c+(b?"_":"")+g.toLowerCase()});function Ip(c,g,b){return b&&typeof b!="number"&&Xt(c,g,b)&&(g=b=n),b=b===n?pe:b>>>0,b?(c=vt(c),c&&(typeof g=="string"||g!=null&&!vi(g))&&(g=mn(g),!g&&cr(c))?hr(dn(c),0,b):c.split(g,b)):[]}var Rp=ro(function(c,g,b){return c+(b?" ":"")+Ci(g)});function Dp(c,g,b){return c=vt(c),b=b==null?0:Dr(ut(b),0,c.length),g=mn(g),c.slice(b,b+g.length)==g}function Op(c,g,b){var w=z.templateSettings;b&&Xt(c,g,b)&&(g=n),c=vt(c),g=Us({},g,w,vu);var F=Us({},g.imports,w.imports,vu),H=$t(F),X=wo(F,H),se,ue,Ce=0,Re=g.interpolate||Fr,Pe="__p += '",$e=Cr((g.escape||Fr).source+"|"+Re.source+"|"+(Re===co?Ys:Fr).source+"|"+(g.evaluate||Fr).source+"|$","g"),Ye="//# sourceURL="+($.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ma+"]")+`
`;c.replace($e,function(et,ft,yt,pn,Zt,hn){return yt||(yt=pn),Pe+=c.slice(Ce,hn).replace(Js,Ia),ft&&(se=!0,Pe+=`' +
__e(`+ft+`) +
'`),Zt&&(ue=!0,Pe+=`';
`+Zt+`;
__p += '`),yt&&(Pe+=`' +
((__t = (`+yt+`)) == null ? '' : __t) +
'`),Ce=hn+et.length,et}),Pe+=`';
`;var Ze=$.call(g,"variable")&&g.variable;if(!Ze)Pe=`with (obj) {
`+Pe+`
}
`;else if(Ws.test(Ze))throw new nt(u);Pe=(ue?Pe.replace(uo,""):Pe).replace(lo,"$1").replace(Lr,"$1;"),Pe="function("+(Ze||"obj")+`) {
`+(Ze?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(se?", __e = _.escape":"")+(ue?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pe+`return __p
}`;var lt=pl(function(){return Et(H,Ye+"return "+Pe).apply(n,X)});if(lt.source=Pe,Si(lt))throw lt;return lt}function wp(c){return vt(c).toLowerCase()}function Np(c){return vt(c).toUpperCase()}function Pp(c,g,b){if(c=vt(c),c&&(b||g===n))return us(c);if(!c||!(g=mn(g)))return c;var w=dn(c),F=dn(g),H=ls(w,F),X=cs(w,F)+1;return hr(w,H,X).join("")}function Mp(c,g,b){if(c=vt(c),c&&(b||g===n))return c.slice(0,ms(c)+1);if(!c||!(g=mn(g)))return c;var w=dn(c),F=cs(w,dn(g))+1;return hr(w,0,F).join("")}function Lp(c,g,b){if(c=vt(c),c&&(b||g===n))return c.replace(mo,"");if(!c||!(g=mn(g)))return c;var w=dn(c),F=ls(w,dn(g));return hr(w,F).join("")}function kp(c,g){var b=j,w=J;if(wt(g)){var F="separator"in g?g.separator:F;b="length"in g?ut(g.length):b,w="omission"in g?mn(g.omission):w}c=vt(c);var H=c.length;if(cr(c)){var X=dn(c);H=X.length}if(b>=H)return c;var se=b-dr(w);if(se<1)return w;var ue=X?hr(X,0,se).join(""):c.slice(0,se);if(F===n)return ue+w;if(X&&(se+=ue.length-se),vi(F)){if(c.slice(se).search(F)){var Ce,Re=ue;for(F.global||(F=Cr(F.source,vt(fo.exec(F))+"g")),F.lastIndex=0;Ce=F.exec(Re);)var Pe=Ce.index;ue=ue.slice(0,Pe===n?se:Pe)}}else if(c.indexOf(mn(F),se)!=se){var $e=ue.lastIndexOf(F);$e>-1&&(ue=ue.slice(0,$e))}return ue+w}function xp(c){return c=vt(c),c&&Cn.test(c)?c.replace(bn,Ma):c}var Fp=ro(function(c,g,b){return c+(b?" ":"")+g.toUpperCase()}),Ci=hu("toUpperCase");function fl(c,g,b){return c=vt(c),g=b?n:g,g===n?Da(c)?xa(c):Io(c):c.match(g)||[]}var pl=ct(function(c,g){try{return Qt(c,n,g)}catch(b){return Si(b)?b:new nt(b)}}),Gp=Zn(function(c,g){return nn(g,function(b){b=qn(b),Jn(c,b,yi(c[b],c))}),c});function Bp(c){var g=c==null?0:c.length,b=Xe();return c=g?Dt(c,function(w){if(typeof w[1]!="function")throw new Kt(a);return[b(w[0]),w[1]]}):[],ct(function(w){for(var F=-1;++F<g;){var H=c[F];if(Qt(H[0],this,w))return Qt(H[1],this,w)}})}function Up(c){return ac(yn(c,d))}function Ii(c){return function(){return c}}function zp(c,g){return c==null||c!==c?g:c}var $p=_u(),Hp=_u(!0);function ln(c){return c}function Ri(c){return Wi(typeof c=="function"?c:yn(c,d))}function qp(c){return ji(yn(c,d))}function Vp(c,g){return Ki(c,yn(g,d))}var Qp=ct(function(c,g){return function(b){return Bo(b,c,g)}}),Wp=ct(function(c,g){return function(b){return Bo(c,b,g)}});function Di(c,g,b){var w=$t(g),F=Ss(g,w);b==null&&!(wt(g)&&(F.length||!w.length))&&(b=g,g=c,c=this,F=Ss(g,$t(g)));var H=!(wt(b)&&"chain"in b)||!!b.chain,X=tr(c);return nn(F,function(se){var ue=g[se];c[se]=ue,X&&(c.prototype[se]=function(){var Ce=this.__chain__;if(H||Ce){var Re=c(this.__wrapped__),Pe=Re.__actions__=sn(this.__actions__);return Pe.push({func:ue,args:arguments,thisArg:c}),Re.__chain__=Ce,Re}return ue.apply(c,Nn([this.value()],arguments))})}),c}function Yp(){return Gt._===this&&(Gt._=be),this}function Oi(){}function jp(c){return c=ut(c),ct(function(g){return Ji(g,c)})}var Kp=si(Dt),Jp=si(as),Xp=si(yr);function hl(c){return mi(c)?Tr(qn(c)):Cc(c)}function Zp(c){return function(g){return c==null?n:Or(c,g)}}var eh=yu(),th=yu(!0);function wi(){return[]}function Ni(){return!1}function nh(){return{}}function rh(){return""}function oh(){return!0}function sh(c,g){if(c=ut(c),c<1||c>Ge)return[];var b=pe,w=Wt(c,pe);g=Xe(g),c-=pe;for(var F=Ar(w,g);++b<c;)g(b);return F}function ah(c){return st(c)?Dt(c,qn):fn(c)?[c]:sn(ku(vt(c)))}function ih(c){var g=++q;return vt(c)+g}var uh=Rs(function(c,g){return c+g},0),lh=ai("ceil"),dh=Rs(function(c,g){return c/g},1),mh=ai("floor");function fh(c){return c&&c.length?Ts(c,ln,Va):n}function ph(c,g){return c&&c.length?Ts(c,Xe(g,2),Va):n}function hh(c){return Yn(c,ln)}function gh(c,g){return Yn(c,Xe(g,2))}function _h(c){return c&&c.length?Ts(c,ln,ja):n}function Eh(c,g){return c&&c.length?Ts(c,Xe(g,2),ja):n}var yh=Rs(function(c,g){return c*g},1),Th=ai("round"),Sh=Rs(function(c,g){return c-g},0);function vh(c){return c&&c.length?vr(c,ln):0}function Ah(c,g){return c&&c.length?vr(c,Xe(g,2)):0}return z.after=$m,z.ary=Qu,z.assign=wf,z.assignIn=al,z.assignInWith=Us,z.assignWith=Nf,z.at=Pf,z.before=Wu,z.bind=yi,z.bindAll=Gp,z.bindKey=Yu,z.castArray=ef,z.chain=Hu,z.chunk=ld,z.compact=cd,z.concat=dd,z.cond=Bp,z.conforms=Up,z.constant=Ii,z.countBy=ym,z.create=Mf,z.curry=ju,z.curryRight=Ku,z.debounce=Ju,z.defaults=Lf,z.defaultsDeep=kf,z.defer=Hm,z.delay=qm,z.difference=md,z.differenceBy=fd,z.differenceWith=pd,z.drop=hd,z.dropRight=gd,z.dropRightWhile=_d,z.dropWhile=Ed,z.fill=yd,z.filter=Sm,z.flatMap=bm,z.flatMapDeep=Cm,z.flatMapDepth=Im,z.flatten=Bu,z.flattenDeep=Td,z.flattenDepth=Sd,z.flip=Vm,z.flow=$p,z.flowRight=Hp,z.fromPairs=vd,z.functions=$f,z.functionsIn=Hf,z.groupBy=Rm,z.initial=bd,z.intersection=Cd,z.intersectionBy=Id,z.intersectionWith=Rd,z.invert=Vf,z.invertBy=Qf,z.invokeMap=Om,z.iteratee=Ri,z.keyBy=wm,z.keys=$t,z.keysIn=un,z.map=Ls,z.mapKeys=Yf,z.mapValues=jf,z.matches=qp,z.matchesProperty=Vp,z.memoize=xs,z.merge=Kf,z.mergeWith=il,z.method=Qp,z.methodOf=Wp,z.mixin=Di,z.negate=Fs,z.nthArg=jp,z.omit=Jf,z.omitBy=Xf,z.once=Qm,z.orderBy=Nm,z.over=Kp,z.overArgs=Wm,z.overEvery=Jp,z.overSome=Xp,z.partial=Ti,z.partialRight=Xu,z.partition=Pm,z.pick=Zf,z.pickBy=ul,z.property=hl,z.propertyOf=Zp,z.pull=Nd,z.pullAll=zu,z.pullAllBy=Pd,z.pullAllWith=Md,z.pullAt=Ld,z.range=eh,z.rangeRight=th,z.rearg=Ym,z.reject=km,z.remove=kd,z.rest=jm,z.reverse=gi,z.sampleSize=Fm,z.set=tp,z.setWith=np,z.shuffle=Gm,z.slice=xd,z.sortBy=zm,z.sortedUniq=Hd,z.sortedUniqBy=qd,z.split=Ip,z.spread=Km,z.tail=Vd,z.take=Qd,z.takeRight=Wd,z.takeRightWhile=Yd,z.takeWhile=jd,z.tap=cm,z.throttle=Jm,z.thru=Ms,z.toArray=rl,z.toPairs=ll,z.toPairsIn=cl,z.toPath=ah,z.toPlainObject=sl,z.transform=rp,z.unary=Xm,z.union=Kd,z.unionBy=Jd,z.unionWith=Xd,z.uniq=Zd,z.uniqBy=em,z.uniqWith=tm,z.unset=sp,z.unzip=Ei,z.unzipWith=$u,z.update=ap,z.updateWith=ip,z.values=ao,z.valuesIn=up,z.without=nm,z.words=fl,z.wrap=Zm,z.xor=rm,z.xorBy=om,z.xorWith=sm,z.zip=am,z.zipObject=im,z.zipObjectDeep=um,z.zipWith=lm,z.entries=ll,z.entriesIn=cl,z.extend=al,z.extendWith=Us,Di(z,z),z.add=uh,z.attempt=pl,z.camelCase=mp,z.capitalize=dl,z.ceil=lh,z.clamp=lp,z.clone=tf,z.cloneDeep=rf,z.cloneDeepWith=of,z.cloneWith=nf,z.conformsTo=sf,z.deburr=ml,z.defaultTo=zp,z.divide=dh,z.endsWith=fp,z.eq=Mn,z.escape=pp,z.escapeRegExp=hp,z.every=Tm,z.find=vm,z.findIndex=Fu,z.findKey=xf,z.findLast=Am,z.findLastIndex=Gu,z.findLastKey=Ff,z.floor=mh,z.forEach=qu,z.forEachRight=Vu,z.forIn=Gf,z.forInRight=Bf,z.forOwn=Uf,z.forOwnRight=zf,z.get=Ai,z.gt=af,z.gte=uf,z.has=qf,z.hasIn=bi,z.head=Uu,z.identity=ln,z.includes=Dm,z.indexOf=Ad,z.inRange=cp,z.invoke=Wf,z.isArguments=Pr,z.isArray=st,z.isArrayBuffer=lf,z.isArrayLike=an,z.isArrayLikeObject=Pt,z.isBoolean=cf,z.isBuffer=gr,z.isDate=df,z.isElement=mf,z.isEmpty=ff,z.isEqual=pf,z.isEqualWith=hf,z.isError=Si,z.isFinite=gf,z.isFunction=tr,z.isInteger=Zu,z.isLength=Gs,z.isMap=el,z.isMatch=_f,z.isMatchWith=Ef,z.isNaN=yf,z.isNative=Tf,z.isNil=vf,z.isNull=Sf,z.isNumber=tl,z.isObject=wt,z.isObjectLike=Nt,z.isPlainObject=Vo,z.isRegExp=vi,z.isSafeInteger=Af,z.isSet=nl,z.isString=Bs,z.isSymbol=fn,z.isTypedArray=so,z.isUndefined=bf,z.isWeakMap=Cf,z.isWeakSet=If,z.join=Dd,z.kebabCase=gp,z.last=Sn,z.lastIndexOf=Od,z.lowerCase=_p,z.lowerFirst=Ep,z.lt=Rf,z.lte=Df,z.max=fh,z.maxBy=ph,z.mean=hh,z.meanBy=gh,z.min=_h,z.minBy=Eh,z.stubArray=wi,z.stubFalse=Ni,z.stubObject=nh,z.stubString=rh,z.stubTrue=oh,z.multiply=yh,z.nth=wd,z.noConflict=Yp,z.noop=Oi,z.now=ks,z.pad=yp,z.padEnd=Tp,z.padStart=Sp,z.parseInt=vp,z.random=dp,z.reduce=Mm,z.reduceRight=Lm,z.repeat=Ap,z.replace=bp,z.result=ep,z.round=Th,z.runInContext=ie,z.sample=xm,z.size=Bm,z.snakeCase=Cp,z.some=Um,z.sortedIndex=Fd,z.sortedIndexBy=Gd,z.sortedIndexOf=Bd,z.sortedLastIndex=Ud,z.sortedLastIndexBy=zd,z.sortedLastIndexOf=$d,z.startCase=Rp,z.startsWith=Dp,z.subtract=Sh,z.sum=vh,z.sumBy=Ah,z.template=Op,z.times=sh,z.toFinite=nr,z.toInteger=ut,z.toLength=ol,z.toLower=wp,z.toNumber=vn,z.toSafeInteger=Of,z.toString=vt,z.toUpper=Np,z.trim=Pp,z.trimEnd=Mp,z.trimStart=Lp,z.truncate=kp,z.unescape=xp,z.uniqueId=ih,z.upperCase=Fp,z.upperFirst=Ci,z.each=qu,z.eachRight=Vu,z.first=Uu,Di(z,function(){var c={};return $n(z,function(g,b){$.call(z.prototype,b)||(c[b]=g)}),c}(),{chain:!1}),z.VERSION=r,nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){z[c].placeholder=z}),nn(["drop","take"],function(c,g){gt.prototype[c]=function(b){b=b===n?1:Bt(ut(b),0);var w=this.__filtered__&&!g?new gt(this):this.clone();return w.__filtered__?w.__takeCount__=Wt(b,w.__takeCount__):w.__views__.push({size:Wt(b,pe),type:c+(w.__dir__<0?"Right":"")}),w},gt.prototype[c+"Right"]=function(b){return this.reverse()[c](b).reverse()}}),nn(["filter","map","takeWhile"],function(c,g){var b=g+1,w=b==ne||b==ge;gt.prototype[c]=function(F){var H=this.clone();return H.__iteratees__.push({iteratee:Xe(F,3),type:b}),H.__filtered__=H.__filtered__||w,H}}),nn(["head","last"],function(c,g){var b="take"+(g?"Right":"");gt.prototype[c]=function(){return this[b](1).value()[0]}}),nn(["initial","tail"],function(c,g){var b="drop"+(g?"":"Right");gt.prototype[c]=function(){return this.__filtered__?new gt(this):this[b](1)}}),gt.prototype.compact=function(){return this.filter(ln)},gt.prototype.find=function(c){return this.filter(c).head()},gt.prototype.findLast=function(c){return this.reverse().find(c)},gt.prototype.invokeMap=ct(function(c,g){return typeof c=="function"?new gt(this):this.map(function(b){return Bo(b,c,g)})}),gt.prototype.reject=function(c){return this.filter(Fs(Xe(c)))},gt.prototype.slice=function(c,g){c=ut(c);var b=this;return b.__filtered__&&(c>0||g<0)?new gt(b):(c<0?b=b.takeRight(-c):c&&(b=b.drop(c)),g!==n&&(g=ut(g),b=g<0?b.dropRight(-g):b.take(g-c)),b)},gt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},gt.prototype.toArray=function(){return this.take(pe)},$n(gt.prototype,function(c,g){var b=/^(?:filter|find|map|reject)|While$/.test(g),w=/^(?:head|last)$/.test(g),F=z[w?"take"+(g=="last"?"Right":""):g],H=w||/^find/.test(g);F&&(z.prototype[g]=function(){var X=this.__wrapped__,se=w?[1]:arguments,ue=X instanceof gt,Ce=se[0],Re=ue||st(X),Pe=function(ft){var yt=F.apply(z,Nn([ft],se));return w&&$e?yt[0]:yt};Re&&b&&typeof Ce=="function"&&Ce.length!=1&&(ue=Re=!1);var $e=this.__chain__,Ye=!!this.__actions__.length,Ze=H&&!$e,lt=ue&&!Ye;if(!H&&Re){X=lt?X:new gt(this);var et=c.apply(X,se);return et.__actions__.push({func:Ms,args:[Pe],thisArg:n}),new En(et,$e)}return Ze&&lt?c.apply(this,se):(et=this.thru(Pe),Ze?w?et.value()[0]:et.value():et)})}),nn(["pop","push","shift","sort","splice","unshift"],function(c){var g=rn[c],b=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",w=/^(?:pop|shift)$/.test(c);z.prototype[c]=function(){var F=arguments;if(w&&!this.__chain__){var H=this.value();return g.apply(st(H)?H:[],F)}return this[b](function(X){return g.apply(st(X)?X:[],F)})}}),$n(gt.prototype,function(c,g){var b=z[g];if(b){var w=b.name+"";$.call(eo,w)||(eo[w]=[]),eo[w].push({name:g,func:b})}}),eo[Is(n,O).name]=[{name:"wrapper",func:n}],gt.prototype.clone=Nl,gt.prototype.reverse=Pl,gt.prototype.value=Ml,z.prototype.at=dm,z.prototype.chain=mm,z.prototype.commit=fm,z.prototype.next=pm,z.prototype.plant=gm,z.prototype.reverse=_m,z.prototype.toJSON=z.prototype.valueOf=z.prototype.value=Em,z.prototype.first=z.prototype.head,Un&&(z.prototype[Un]=hm),z},Bn=Po();kn?((kn.exports=Bn)._=Bn,To._=Bn):Gt._=Bn}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;const _=getDefaultExportFromCjs(lodashExports),BuildConstants={NodeEnvs:{DEV:"development",PROD:"production",TEST:"test"},BundleLocations:{NONE:"none",LOCAL:"local"},BackendEnvs:{DEV:"dev",STAGING:"staging",PROD:"prod",LOCAL:"local"},localBackendEnvOptions:{QUIZIZZ_REPO_GAME_BUNDLE_LOCATION:"../quizizz/assets/mobile/",QUIZIZZ_REPO_GAME_FILE_CONFIG_LOCATION:"../quizizz/src/paths/mobile.json"},UploadDetails:{STATIC_SERVER_BASE_LOCATION:"https://cf.quizizz.com",JS_ASSETS_PATH:"assets/scripts/mobile",TRANLSATION_ASSETS_PATH:"assets/translations/game",BUILD_META_PATH:"assets/buidMeta"},OutputDirs:{DIST:"dist",DIST_TEMP:"dist/temp",DIST_BUILD:"dist/build",DIST_UPLOAD:"dist/upload"},OutputFileNames:{MAIN:"bundle",STATS:"stats",BUILD_INFO:"buildInfo"},TRANSLATIONS_FOLDER_NAME:"translations"},ThemeNames={CLASSIC:"classic",SYNTHWAVE:"synthwave",DOGSVILLE:"dogsville",THE_8_BIT:"the8Bit",ANIME:"anime",FOOTBALL:"football",NINETIES:"nineties",MYSTIC_PEAK:"mystic-peak"},Constants={NodeEnvs:BuildConstants.NodeEnvs,BackendEnvs:BuildConstants.BackendEnvs,GameType:{LIVE:"live",ASYNC:"async",SOLO:"solo"},GameMode:{NORMAL:"normal",TEAM:"team",TEST:"test",CHALLENGE:"challenge",TEACHER_PACED:"tp",PRESENTATION:"pres",FLASHCARD:"flashcard",MYSTIC_PEAK:"mystic_peak",MASTERY_MODE:"mastery_mode"},ServerOnlyGameTypes:{LIVE_PRESENTATION:"pres_tp",SOLO_PRESENTATION:"pres_solo",ASYNC_PRESENTATION:"pres_async",FLASHCARD:"flashcard"},GameState:{WAITING:"waiting",RUNNING:"running",COMPLETED:"completed",STOPPED:"stopped",SCHEDULED:"scheduled"},GameCardsList:{RECENT:"recent",RUNNING:"running",COMPLETED:"completed",FEATURED:"featured",MY_QUIZZES:"myQuizzes",SEARCH:"search",RECOMMENDATION_HOME_LIST:"featuredRecommendation",RECOMMENDATION_TOPICS_PAGE:"featuredRecommendationTopic"},ThemeNames,DeviceType:{PHONE:"mobile",TABLET:"tablet",DESKTOP:"desktop"},MemeTypes:{THREE_IN_ROW:"threeRow",SEVEN_IN_ROW:"sevenRow",TEN_IN_ROW:"tenRow",COMEBACK:"comeback",TOO_FAST:"tooFast",HALFWAY:"halfway",PERFECT:"perfect",CORRECT:"correct",INCORRECT:"incorrect"},MemeCategories:{GENERAL:"general",SPECIAL:"special"},supportedQuestionTypes:{MCQ:3,MSQ:3,OPEN:4,BLANK:4,SLIDE:3,SLIDEV2:2,DRAW:2,AUDIO:2,VIDEO:2,MATCH:2,REORDER:2,DRAGNDROP:3,DROPDOWN:3,EQUATION:3,GRAPHING:2,DND_IMAGE:3,HOTSPOT:3,CLASSIFICATION:2},raiseHandConfig:[{issueIcon:"https://cf.quizizz.com/img/RaiseHands/help-icon-3x.png",issueText:"I need help"},{issueIcon:"https://cf.quizizz.com/img/RaiseHands/time-icon-3x.png",issueText:"I need more time"}],AppStates:{KILLED:"killed",INACTIVE:"inactive",BACKGROUND:"background",ACTIVE:"active"},DEFAULT_MEME_SET_ID:"default",showSpecialMemes:!0,SpecialMemesConfig:{threeRow:{bgColor:"#26C6DA",icon:"https://cf.quizizz.com/join/img/achievements/threeRow.png",fontColor:"#fff",textBg:"https://cf.quizizz.com/join/img/achievements/threeRowRibbon.png"},sevenRow:{bgColor:"#9D73F9",icon:"https://cf.quizizz.com/join/img/achievements/sevenRow.png",fontColor:"#fff",textBg:"https://cf.quizizz.com/join/img/achievements/sevenRowRibbon.png"},tenRow:{bgColor:"#7CB342",icon:"https://cf.quizizz.com/join/img/achievements/tenRow.png",fontColor:"#fff",textBg:"https://cf.quizizz.com/join/img/achievements/tenRowRibbon.png"},comeback:{bgColor:"#536DFE",icon:"https://cf.quizizz.com/join/img/achievements/comeback.png",fontColor:"#fff",textBg:"https://cf.quizizz.com/join/img/achievements/comebackRibbon.png"},tooFast:{bgColor:"#EF5350",icon:"https://cf.quizizz.com/join/img/achievements/tooFast.png",fontColor:"#fff",textBg:"https://cf.quizizz.com/join/img/achievements/tooFastRibbon.png"},halfway:{bgColor:"#794F87",icon:"https://cf.quizizz.com/join/img/achievements/halfway.png",fontColor:"#fff",textBg:"https://cf.quizizz.com/join/img/achievements/halfwayRibbon.png"},perfect:{bgColor:"#9012FE",icon:"https://cf.quizizz.com/join/img/achievements/perfect.png",fontColor:"#fff",textBg:"https://cf.quizizz.com/join/img/achievements/perfectRibbon.png"}},Languages:[{lang:"English",locale:"en",flag:"https://cf.quizizz.com/img/flag_icons/us.png"},{lang:"Español",locale:"es",flag:"https://cf.quizizz.com/img/flag_icons/es.png"},{lang:"Français",locale:"fr",flag:"https://cf.quizizz.com/img/flag_icons/fr.png"},{lang:"Polski",locale:"pl",flag:"https://cf.quizizz.com/img/flag_icons/pl.png"},{lang:"Русский",locale:"ru",flag:"https://cf.quizizz.com/img/flag_icons/ru.png"},{lang:"Bahasa Indonesia",locale:"id",flag:"https://cf.quizizz.com/img/flag_icons/id.png"},{lang:"Melayu",locale:"ms",flag:"https://cf.quizizz.com/img/flag_icons/my.png"},{lang:"Filipino",locale:"tl",flag:"https://cf.quizizz.com/img/flag_icons/ph.png"},{lang:"Deutsch",locale:"de",flag:"https://cf.quizizz.com/img/flag_icons/de.png"},{lang:"Tiếng Việt",locale:"vi",flag:"https://cf.quizizz.com/img/flag_icons/vn.png"},{lang:"ไทย",locale:"th",flag:"https://cf.quizizz.com/img/flag_icons/th.png"},{lang:"Azərbaycan",locale:"az",flag:"https://cf.quizizz.com/img/flag_icons/az.png"},{lang:"Português",locale:"pt-br",flag:"https://cf.quizizz.com/img/flag_icons/br.png"},{lang:"中国人（简化）",locale:"zh-CN",flag:"https://cf.quizizz.com/img/flag_icons/cn.png"},{lang:"中國人（傳統的）",locale:"zh-TW",flag:"https://cf.quizizz.com/img/flag_icons/tw.png"},{lang:"Türk",locale:"tr",flag:"https://cf.quizizz.com/img/flag_icons/tr.png"},{lang:"Italiano",locale:"it",flag:"https://cf.quizizz.com/img/flag_icons/it.png"},{lang:"日本国",locale:"ja",flag:"https://cf.quizizz.com/img/flag_icons/ja.png"},{lang:"қазақша",locale:"kk",flag:"https://cf.quizizz.com/img/flag_icons/kz.png"}],ExitGameSource:{START_NEW:"start_new",BACK_BTN:"back_btn",EXIT_ICON:"exit_icon",FROM_MENU:"from_menu",MISC:"misc",SYNC_OVERLAY:"sync_overlay",SERVER_NOT_REACHABLE_OVERLAY:"server_not_reachable_overlay"},ReviewDrawerHandleActions:{SWIPE_OPEN:"swipe_open",CLICK_OPEN:"click_open",SWIPE_CLOSE:"swipe_close",CLICK_CLOSE:"click_close"},MediaServerImageDimensions:[90,200,400,600,900,1280],ClientType:{APP:"app",WEB:"web"},DEFAULT_SEARCH_QUERY:"",NotificationTypes:{NONE:"",RECONNECTING:"reconnecting",RECONNECTED:"reconnected"},QuestionResponseStatuses:{NOT_SENT:"not_sent",SENDING:"sending",SENT:"sent"},SyncOverlayTypes:{PRE_GAMEOVER:"pre_gameover",ON_EXIT:"on_exit",ON_UNLOAD:"on_unload"},ALLOWED_PLAYER_NAME_LENGTH:60,UserOccupations:{TEACHER_SCHOOL:"teacher_school",TEACHER_UNIVERSITY:"teacher_university",TEACHER:"teacher",STUDENT:"student",OTHER:"other",CORPORATE:"corporate",CORPORATE_TEACHER:"corporate_teacher",CORPORATE_LEARNER:"corporate_learner"},CallInProgressUpdationStatus:{IN_PROGRESS:"inProgress",DONE:"done"},RecentActivityConfig:{MAX_ATTEMPTS:12,MAX_RUNNING_GAMES:8,MAX_COMPLETED_GAMES:6,MIN_ATTEMPTS:3},CallResolveStatuses:{DONE:"done",FAILED:"failed",SUCCESS:"success"},VALID_PASSWORD_MIN_LENGTH:6,SearchTopics:{MATHEMATICS:"Mathematics",ENGLISH:"English",HISTORY:"History",GEOGRAPHY:"Geography",BIOLOGY:"Biology",PHYSICS:"Physics",SCIENCE:"Science"},SearchInput:{INJECTED:"inj",TYPED:"typed"},MaxUserSessionTime:28*24*60*60,ALLOWED_VERSION_OF_GAME_SETTINGS:3,VALID_ROOM_HASH_LENGTH:24,GameGroupType:{NONE:"none",GROUP_CREATION:"groupCreation",ONLY_ASSIGNED:"onlyAssigned"},GroupJoinModalTypes:{FROM_LINK:"fromLink",FROM_GAME_CODE:"fromGameCode",FROM_CLASS_CODE:"fromClassCode"},Grades:[{key:0,value:"Kindergarten"},{key:1,value:"1st Grade"},{key:2,value:"2nd Grade"},{key:3,value:"3rd Grade"},{key:4,value:"4th Grade"},{key:5,value:"5th Grade"},{key:6,value:"6th Grade"},{key:7,value:"7th Grade"},{key:8,value:"8th Grade"},{key:9,value:"9th Grade"},{key:10,value:"10th Grade"},{key:11,value:"11th Grade"},{key:12,value:"12th Grade"},{key:13,value:"University"}],SHOULD_SHOW_QUIZ_ZOOM_BTN:!1,ALLOWED_LENGTHS_OF_GAME_CODE:[6,7,8],APP_STORE_LINK_WAITING:"https://share.quizizz.com/Dozf5qBBLK?utm_source=web_download_banner&utm_campaign=apppushdownload",APP_STORE_LINK_SUMMARY:"https://share.quizizz.com/Sj6HWhdJQK?utm_source=web_download_banner&utm_campaign=apppushdownload",SEARCH_QUIZZES_PAGE_SIZE:{DESKTOP_LARGE:16,DESKTOP:16,TABLET:16,MOBILE:16},Orientation:{PORTRAIT:"portrait",LANDSCAPE:"landscape"},QuizPreviewActionType:{REPLAY:"replay",PRACTICE:"practice",COMPLETE:"complete",START:"start",CANCEL_ICON:"cancel_icon",CANCEL_OUTSIDE:"cancel_outside",START_GROUP_ASSIGNED:"start_group_assigned",START_CHALLENGE_GAME:"start_challenge_game",REPLAY_CHALLENGE_GAME:"replay_challenge_game"},W_MODAL_TYPES:{QUIZ_INFO:"QUIZ_INFO",AUTH:"AUTH",APP_SETTINGS:"APP_SETTINGS",AVATAR_PICKER:"AVATAR_PICKER",GROUP_JOIN:"GROUP_JOIN",GAME_ASSIGNED_NOTIF:"gameAssigned",IMAGE_ZOOM_PREVIEW:"IMAGE_ZOOM_PREVIEW",REPORT_AD:"REPORT_AD",POWERUP_DRAWER:"POWERUP_DRAWER",USER_SURVEY:"USER_SURVEY",SOLO_PRESENTATION_ONBOARDING:"SOLO_PRESENTATION_ONBOARDING",CHALLENGE_REPLAY_NOTIF:"CHALLENGE_REPLAY_NOTIF",PRESENTATION_SURVEY:"PRESENTATION_SURVEY",CLASS_CODE:"CLASS_CODE",GAME_CHANGER_CERTIFICATE:"GAME_CHANGER_CERTIFICATE"},W_MAX_AVATAR_LOOP_COUNT:6,DeviceDimensionRanges:{MIN_DESKTOP_WIDTH:1025,MIN_DESKTOP_HEIGHT:768,MAX_TABLET_WIDTH:1024,MIN_TABLET_WIDTH:576,MIN_SMARTPHONE_WIDTH:360},ActivitySubRouteNames:{CREATED:"created",RUNNING:"running",COMPLETED:"completed"},AuthModalActions:{REDIRECT_TO_LOGIN:"REDIRECT_TO_LOGIN",REDIRECT_TO_LOGIN_FROM_SUMMARY:"REDIRECT_TO_LOGIN_FROM_SUMMARY",REDIRECT_TO_LOGIN_FROM_DUPLICATE_NAME:"REDIRECT_TO_LOGIN_FROM_DUPLICATE_NAME",REDIRECT_TO_SIGNUP:"REDIRECT_TO_SIGNUP",REDIRECT_TO_SIGNUP_FROM_USER_DROPDOWN:"REDIRECT_TO_SIGNUP_FROM_USER_DROPDOWN",REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING:"REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING",REDIRECT_TO_SIGNUP_FROM_HEADER:"REDIRECT_TO_SIGNUP_FROM_HEADER",REDIRECT_TO_SIGNUP_FROM_HEADER_CLASSES:"REDIRECT_TO_SIGNUP_FROM_HEADER_CLASSES",REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO_MOBILE:"REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO_MOBILE",REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO:"REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO",REDIRECT_TO_SIGNUP_FROM_ACTIVITY_MOBILE:"REDIRECT_TO_SIGNUP_FROM_ACTIVITY_MOBILE",REDIRECT_TO_SIGNUP_FROM_CLASS_LINK:"REDIRECT_TO_SIGNUP_FROM_CLASS_LINK",REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY:"REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY",REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE:"REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE",REDIRECT_TO_SIGNUP_FROM_LOCKED_THEME:"REDIRECT_TO_SIGNUP_FROM_LOCKED_THEME"},NUM_MISS_RESPONSES_TO_STOP_AFTER:4,MAX_TIME_FOR_TOO_FAST:2e3,AppPlatforms:{ANDROID:"android",IOS:"ios"},AppDeepLinkingURISchemes:{ANDROID:"quizizzgame://open/",IOS:"quizizz://"},MemesetCardSizes:{LARGE:"large",MEDIUM:"medium",SMALL:"small"},Score:{BASE:600,TIMER:400,TIMER_WHEN_REDEMPTION:0},QuestionResponseTypes:{ORIGINAL:"original",REDEMPTION:"redemption",EXTRA_LIFE:"extraLife",REATTEMPT:"reattempt"},QuestionResponseStates:{ATTEMPTED:"attempted",TIMED_OUT:"timedOut",ATTEMPTED_SILENTLY:"attemptedSilently",SEEN:"seen",DRAFT:"draft",AUTO_ATTEMPTED:"autoAttempted",PASSED:"passed"},QuestionResultTypes:{PARTIALLY_CORRECT:"PARTIALLY_CORRECT",INCORRECT:"INCORRECT",CORRECT:"CORRECT"},Streak:{RETRACTION_THRESHOLD:450,FIRST:{START:1,END:3},SECOND:{START:4,END:6},THIRD:{START:7,END:9}},ExtraLifeStatus:{IN_PROGRESS:"IN_PROGRESS",UTILISED:"UTILISED"},GameOptionsValues:{ExtraLife:{ENABLED:"ENABLED",DISABLED:"DISABLED"},Redemption:{NO:"no",YES:"yes"},hasRedemptionPass:{NO:"no",YES:"yes"},Powerups:{NO:"no",YES:"yes"},StudentLeaderboard:{YES:!0,NO:!1},ShowAnswers:{NEVER:"never",ALWAYS:"always",PARTIAL:"partial"},StudentQuizReview:{YES:"yes",QONLY:"qonly",NO:"no"},Timer:{OFF:"off",CLASSIC:"classic",STRICT:"strict"},BreakRoom:{YES:!0,NO:!1}},TopLanguages:[{code:"en",name:"English"},{code:"es",name:"Spanish; Castilian"},{code:"pl",name:"Polish"},{code:"fr",name:"French"},{code:"zh",name:"Chinese"},{code:"ms",name:"Malay"},{code:"id",name:"Indonesian"},{code:"th",name:"Thai"},{code:"nl",name:"Dutch"},{code:"de",name:"German"},{code:"pt",name:"Portuguese"},{code:"ar",name:"Arabic"},{code:"it",name:"Italian"},{code:"ru",name:"Russian"},{code:"he",name:"Hebrew (modern)"},{code:"et",name:"Estonian"},{code:"tr",name:"Turkish"},{code:"ca",name:"Catalan; Valencian"},{code:"sv",name:"Swedish"},{code:"hu",name:"Hungarian"},{code:"fi",name:"Finnish"},{code:"ja",name:"Japanese"}],Nicknames:{MAX_NICKNAME_TO_BE_GENERATED:3,MIN_ALLITRATED_NAMES_REQUIRED:1},PowerupStatuses:{AWARDED:"AWARDED",ACTIVATED:"ACTIVATED",ARCHIVED:"ARCHIVED"},PowerupEffectStatuses:{ACTIVATED:"ACTIVATED",DESTROYED:"DESTROYED"},PowerupTypes:{POSITIVE:"positive",NEGATIVE:"negative",ACTIVATOR:"activator"},LOCALSTORAGE_PREVIOUS_CONTEXT_KEY_NAME:"previousContext",LOCALSTORAGE_REFRESH_ROSTER_TRIES:"refRosterTry",SearchSources:{MAIN_HEADER:"MainHeader",FILTER_COMPONENT:"FilterComponent",BROWSER_LOAD:"BrowserLoad",ON_SEARCH_NAVIGATION:"OnSearchNav"},PLAYER_ACCURACY_TIERS:{PERFECT:"PERFECT",GOOD:"GOOD",AVERAGE:"AVERAGE",POOR:"POOR"},PreGameSubRouteNames:{SOLO_START:"solo_start",RUNNING_START:"running_start",CHALLENGE_START:"challenge_start"},SoloApis:{PLAY_APIS:"v2"},STRIPE_PRODUCTS:{DEV:{MYSTERY_BOX_TEST:{SKU_ID:"sku_GplnZRloJenhhC"}},PROD:{MYSTERY_BOX_TEST:{SKU_ID:"sku_GqWzyxfi9YgvqT"}}},SlideElementTypes:{TABLE:"TABLE",MEDIA:"MEDIA",SHAPE2D:"SHAPE2D",TEXT:"TEXT"},QuestionTypes:{MCQ:"MCQ",MSQ:"MSQ",BLANK:"BLANK",OPEN:"OPEN",DRAW:"DRAW",CONTENT_SLIDE:"SLIDE",CONTENT_SLIDE_V2:"SLIDEV2",AUDIO:"AUDIO",VIDEO:"VIDEO",REORDER:"REORDER",MATCH:"MATCH",DRAGNDROP:"DRAGNDROP",DROPDOWN:"DROPDOWN",EQUATION:"EQUATION",DND_IMAGE:"DND_IMAGE",HOTSPOT:"HOTSPOT",GRAPHING:"GRAPHING",WORDCLOUD:"WORDCLOUD",CLASSIFICATION:"CLASSIFICATION"},DisplayVariantNames:{WORDCLOUD:"word_cloud",BLANK:{SINGLE_BLANK:"single_blank",BOX:"box"}},AnswerResponseTypes:{TargetOptionObject:"TargetOptionObject",OptionObject:"OptionObject",Latex:"Latex",PlotObject:"PlotObject",Media:"Media"},AnswerResponseDescriptors:{Answer:"Answer",Upload:"Upload"},TypedQuestionResponseTypes:{STRING:"string",NUMBER:"number",LATEX:"latex"},SlidesFlowControlTypes:{NONE:"none",FULL:"full",PARTIAL:"partial"},SlideTypes:{TITLE_SUBTITLE:"TITLE_SUBTITLE",TITLE_PARA:"TITLE_PARA",TITLE_BULLETS:"TITLE_BULLETS",MEDIA_SUBTITLE:"MEDIA_SUBTITLE",TITLE_PARA_MEDIA:"TITLE_PARA_MEDIA",TITLE_BULLETS_MEDIA:"TITLE_BULLETS_MEDIA",EMBED_WEBPAGE:"EMBED_WEBPAGE"},SlideMediaTypes:{YOUTUBE:"youtube",IMAGE:"image",AUDIO:"audio",VIDEO:"video"},SlideStates:{INACTIVE:"inactive",ACTIVE:"active",WAITING:"waiting",REVEAL:"reveal",COMPLETED:"completed"},SlideMediaLayouts:{FILL:"fill",FIT:"fit",STRETCH:"stretch"},QuizTypes:{QUIZ:"quiz",PRESENTATION:"presentation"},OnboardingKeys:{SOLO_PRESENTATION:"sp",THEME_STREAK:"ts",POWERUP:"pu",PRESENTATION_SURVEY:"ps"},AppSettingsValues:{GAME_HEADER:{STANDARD:"standard",MINIMAL:"minimal"}},CurrentBannerData:{IMG_MOBILE:"https://cf.quizizz.com/game/img/misc/bvz_artwork_mobile.png",IMG_TABLET:"https://cf.quizizz.com/game/img/misc/bvz_artwork_tablet.png",IMG_DESKTOP:"https://cf.quizizz.com/game/img/misc/bvz_artwork_desktop.png",IMG_MOBILE_NO_CTA:"https://cf.quizizz.com/img/Upsells/bvz/bvz_no_cta_mobile.png",IMG_TABLET_NO_CTA:"https://cf.quizizz.com/img/Upsells/bvz/bvz_no_cta_tablet.png",IMG_DESKTOP_NO_CTA:"https://cf.quizizz.com/img/Upsells/bvz/bvz_no_cta_desktop.png",SHOULD_SHOW_BANNER:!1},DEFAULT_PLAYER_NAME:"me",QuestionTimerEventsTypes:{START:"start",PAUSE:"pause",RESTART:"restart",RESET:"reset",FREEZE:"freeze"},ThemeSettings:{DEFAULT_THEME:ThemeNames.CLASSIC,NEXT_THEME_TO_BE_SET_ONCE:ThemeNames.CLASSIC},DrawQuestionTools:{PEN:"PEN",HIGHLIGHTER:"HIGHLIGHTER",ERASER:"ERASER"},LiveWhiteboardActions:{SHOW_CANVAS:"canvas/show",HIDE_CANVAS:"canvas/hide",CLEAR_CANVAS:"canvas/clear",CLEAR_ALL_CANVAS:"canvas/clearAll",UPDATE_CANVAS:"canvas/update",CREATE_ELEMENT:"element/create",UPDATE_ELEMENT:"element/update",DELETE_ELEMENT:"element/delete",ENABLE_PLAYER_CANVAS:"player/canvas/enable",DISABLE_PLAYER_CANVAS:"player/canvas/disable",REFRESH_HOST_CANVAS:"host/canvas/refresh",REFRESH_PLAYER_CANVAS:"player/canvas/refresh"},LiveWhiteboardElementTypes:{PATH:"PATH",CIRCLE:"CIRCLE",TEXT:"TEXT"},ResponseVersion:{TWO_POINT_ZERO:"2.0",ONE:1},GlobalLoaderNames:{ROUTE_NAVIGATION:"routeNavigation"},PowerupNudgeTypes:{POST_ANSWER:"postAnswer",WHILE_ANSWERING:"whileAnswering",PRE_QUESTION:"preQuestion"},NPSFeedBack:{configUrl:"https://cf.quizizz.com/game/data/NPSFeedback/feedBackConfig.json"},ReviewAndSubmit:{discoveryFlag:"https://cf.quizizz.com/img/ReviewAndSubmit/review-discovery-flag.png",discoveryTicks:"https://cf.quizizz.com/img/ReviewAndSubmit/review-discovery-ticks.png",flagSelected:"https://cf.quizizz.com/img/ReviewAndSubmit/flag_selected.png",flagUnSelected:"https://cf.quizizz.com/img/ReviewAndSubmit/flag_unselected.png"},ActivityTypes:{PLAYER_EXITED:"playerExited",PLAYER_RESUMED:"playerResumed",PLAYER_QUIT:"playerQuit"},PowerupBoxAwardProgress:{NIL:-1,START:0,Powerups:[[1,2,3],[4,5,6],[7,8,9]],Indices:{POPPING_IN:0,TRANSLATE_DOWN:1,DONE:2}},ToastTypes:{DEFAULT:"DEFAULT",ERROR:"ERROR",SUCCESS:"SUCCESS",ALERT:"ALERT"},SocketEntityKinds:{PLAYER:"player",HOST:"host"},IntentPageCountries:["IN","US"],SKIP_QUESTION_GRACE_PERIOD:10*1e3,GS_RELOAD_NEEDED:{JUMBLE:"jumble",JUMBLE_ANSWER:"jumbleAnswers"},MYSTIC_PEAK_SUMMARY_MEDALS:{iron:"https://cf.quizizz.com/join/img/mystic_peak/Iron_Summary.png",bronze:"https://cf.quizizz.com/join/img/mystic_peak/Bronze_Summary.png",diamond:"https://cf.quizizz.com/join/img/mystic_peak/Diamond_Summary.png",gold:"https://cf.quizizz.com/join/img/mystic_peak/Gold_Summary.png",silver:"https://cf.quizizz.com/join/img/mystic_peak/Silver_Summary.png"},ANGLE_MODE:{DEGREE:"degree",RADIAN:"radian"},Accents:{A:["A","À","Á","Â","Ã","Ä","Å","Ā"],C:["C","Ç","Ć","Č"],E:["E","È","É","Ê","Ë","Ē","Ė","Ę"],I:["I","Ì","Í","Î","Ï","Ī","Į"],N:["N","Ñ","Ń"],O:["O","Ò","Ó","Ô","Õ","Ö","Ō"],S:["S","Ś","Š"],U:["U","Ù","Ú","Û","Ü","Ū"],Y:["Y","Ÿ"],Z:["Z","Ź","Ż","Ž"]}},GameConstants={ANSWER_LATER_RESPONSE_STATES:[Constants.QuestionResponseStates.DRAFT,Constants.QuestionResponseStates.SEEN],ANSWER_LATER_BTN:{TOOLTIP_SEEN:"answer_later_tooltip_seen",REATTEMPT_TOOLTIP_SEEN:"answer_later_reattempt_tooltip_seen"},REVIEW_AND_SUBMIT_RESPONSE_STATES:[Constants.QuestionResponseStates.ATTEMPTED,Constants.QuestionResponseStates.DRAFT,Constants.QuestionResponseStates.SEEN],MASTERY_MODE_ANIMATION_PRESETS:{IN_GAME:"IN_GAME",INITIAL:"INITIAL",INCREASED:"INCREASED",DECREASED:"DECREASED",ACHIEVED_WITH_UNSEEN:"ACHIEVED_WITH_UNSEEN",ACHIEVED_WITH_SEEN:"ACHIEVED_WITH_SEEN"},MASTERY_MODE_REATTEMPTS:{unlimited:"unlimited",1:1,2:2}};class Cartographer{constructor(t){Vn(this,"List",{});this.List=t,Constants.NodeEnvs.DEV==="production"&&parseListToVerify(this.List,"","",!1)}get(t){return _getSourceValue(t)}isExactly(t,n){const r=_getSourceValue(t),o=_getSourceValue(n);return!!(r&&o&&r===o)}matchDepth(t,n){let r=0;if(!t||!n){if(Constants.NodeEnvs.DEV==="production")throw new TypeError("Error at Cartographer: 'givenSource' or 'checkWith' values cannot be invalid values",t,n);return r}const o=Array.isArray(t)?t:_getSourceValue(t).split("."),s=Array.isArray(n)?n:_getSourceValue(n).split(".");for(let a=0;a<o.length&&(s[a]&&o[a]===s[a]);a++)r+=1;return r}matches(t,n,r=1,o=!1){const s=Array.isArray(n)?n:[n],a=_.map(s,u=>this.matchDepth(t,u));if(Array.isArray(r)){for(let u=0;u<a.length;u++){const l=r[u]||r[r.length-1];if(o){if(a[u]>=l)return!0}else if(!(a[u]>=l))return!1}return!o}if(_.isNumber(r)){if(!o)return _.min(a)>=r;for(let u=0;u<a.length;u++)if(a[u]>=r)return!0;return!1}return!1}isInList(t){const n=_getSourceValue(t),r=_getAllListValues(this.List);return _.includes(r,n)}}function _getSourceValue(e){return _.isString(e)?e:_.isObject(e)&&e._BASE_||null}function _getAllListValues(e){let t=[];const n=_.keys(e);for(let r=0;r<n.length;r++){const o=e[n[r]];if(_.isString(o))t.push(o);else if(_.isPlainObject(o)){const s=_getAllListValues(o);t=_.concat(t,s)}}return t}function parseListToVerify(e,t,n,r=!0){function o(s,a){if(!(s===`${t?`${t}.`:""}${_.camelCase(a)}`))throw new Error(`Error at Cartographer Verify - value(${s}) of subSource is wrong for against key(${a}) and baseValue(${t})`)}if(_.isString(e))o(e,n);else if(_.isObject(e)){if(r)if(e._BASE_&&_.isString(e._BASE_))o(e._BASE_,n);else throw Error(`Error at Cartographer Verify - the value for subSource(${n}) _BASE_ needs to be string and nonEmpty`,e,t);_.forEach(e,(s,a)=>{if(a!=="_BASE_"){const u=`${t?`${t}.`:""}${_.camelCase(n)}`;parseListToVerify(s,u,a)}})}else throw Error(`Error at Cartographer Verify - the value for subSource(${n}) needs to be string or object`,e,t)}const List={_BASE_:"root",PAGE_404:"page404",LANDING:{_BASE_:"landing",HOME:"landing.home",SEARCH:"landing.search",GAME_CODE:"landing.gameCode",ACTIVITY:{_BASE_:"landing.activity",RUNNING:"landing.activity.running",CREATED:"landing.activity.created",COMPLETED:"landing.activity.completed"},CLASSES:"landing.classes",APP_SETTINGS:"landing.appSettings",TOPIC_RECOMMENDATIONS:"landing.topicRecommendations",EVENT_QUIZZES:"landing.eventQuizzes"},IN_GAME:{_BASE_:"inGame",WAITING:"inGame.waiting",CHALLENGE_WAITING:"inGame.challengeWaiting",COUNTDOWN:"inGame.countdown",ACCURACY_COUNTDOWN:"inGame.accuracyCountdown",QUIZ:{_BASE_:"inGame.quiz",REDEMPTION_QUESTION_SELECTOR:"inGame.quiz.redemptionQuestionSelector",ANSWER_LATER_QUESTIONS_SCREEN:"inGame.quiz.answerLaterQuestionsScreen",BREAK_ROOM_SCREEN:"inGame.quiz.breakRoomScreen",BEFORE_REDEMPTION_SECTION:"inGame.quiz.beforeRedemptionSection",REVIEW_QUESTIONS_SCREEN:"inGame.quiz.reviewQuestionsScreen",MASTERY_MODE_ACCURACY_COUNTDOWN:"inGame.quiz.masteryModeAccuracyCountdown",MASTERY_MODE_CONFIRMATION_SCREEN:"inGame.quiz.masteryModeConfirmationScreen"},AFTER_REDEMPTION_SECTION:"inGame.afterRedemptionSection",GAME_OVER:"inGame.gameOver",SUMMARY:"inGame.summary",CHALLENGE_PRE_SUMMARY:"inGame.challengePreSummary",NPS_SCREEN:"inGame.npsScreen"},QUIZ:{_BASE_:"quiz",START:"quiz.start",PRE_GAME_DETAIL:"quiz.preGameDetail",CHALLENGE:"quiz.challenge"},PRE_GAME_DETAIL:{_BASE_:"preGameDetail",RUNNING:"preGameDetail.running"},EMBED:{_BASE_:"embed",GAME:"embed.game",QUIZ:"embed.quiz"}},PageNames=new Cartographer(List),EffectNames={FADE:"fade",FADE_ALL:"fadeAll",FADE_ALL_BUT:"fadeAllBut",FADE_ALL_BUT_CURRENT:"fadeAllButCurrent"},EffectPlacement={PRE_PLAY:"prePlay",PRE_PAUSE:"prePause",ON_END:"onEnd",ON_STOP:"onStop"},SlidesAudio={DEFAULT_VOLUME:"1",BACKGROUND_VOLUME:"0.03",BACKGROUND_FADE_DURATION:200},SummaryAudio={BACKGROUND_FADE_DURATION:1e3},RouterGuardTypes={BEFORE_ENTER:"beforeEnter"},RouterNavigationTypes={NONE:"none",PROGRAMMATIC:"programmatic"},GameViewConfig={Timers:{MAX_TIME_TO_WAIT_FOR_IMAGES:5e3,ANSWER_TO_MEME:{MIN_SECONDS:2.5,MAX_SECONDS:7,TIME_TO_VIEW_CORRECT_ANSWERS:1.5,NO_OF_WORDS_CEIL:7,IMAGE_WORTH_IN_WORDS:7,MATHEX_WORTH_IN_WORDS:9,UNSKIPPABLE_FRACTION:.75},MemeToLeaderboard:{NO_MEME:0,WITH_MEME:4e3,WITH_ANSWER_EXPLANATION:25e3,WHEN_COMING_FROM_INTERRUPTED:1500},LeaderboardToNextQuestion:{NO_LEADERBOARD:0,WITH_LEADERBOARD:3e3}},HOLD_TO_PAUSE:50,ResponseIndicatorTimer:{BASE:2200,WHEN_BONUS_POINTS:1e3},SWIPE_THRESHOLD:20,SlideInteractionDisplayDelays:{BASE:3e3},SpeedsByGrade:[{key:0,value:"Kindergarten",wpm:40,age:5},{key:1,value:"1st Grade",wpm:53,age:6},{key:2,value:"2nd Grade",wpm:89,age:7},{key:3,value:"3rd Grade",wpm:107,age:8},{key:4,value:"4th Grade",wpm:123,age:9},{key:5,value:"5th Grade",wpm:139,age:10},{key:6,value:"6th Grade",wpm:150,age:11},{key:7,value:"7th Grade",wpm:150,age:12},{key:8,value:"8th Grade",wpm:150,age:13},{key:9,value:"9th Grade",wpm:200,age:14},{key:10,value:"10th Grade",wpm:200,age:15},{key:11,value:"11th Grade",wpm:200,age:16},{key:12,value:"12th Grade",wpm:200,age:17},{key:13,value:"University",wpm:300,age:[18,24]},{key:14,value:"Professional Development",wpm:220,age:25}],SHOW_LEADERBOARD_AFTER_EVERY_NTH_QUESTION:3};var aes={exports:{}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(e,t){(function(n,r){e.exports=r()})(commonjsGlobal,function(){var n=n||function(r,o){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(s=commonjsGlobal.crypto),!s&&typeof commonjsRequire=="function")try{s=require$$0}catch{}var a=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},u=Object.create||function(){function R(){}return function(M){var k;return R.prototype=M,k=new R,R.prototype=null,k}}(),l={},m=l.lib={},y=m.Base=function(){return{extend:function(R){var M=u(this);return R&&M.mixIn(R),(!M.hasOwnProperty("init")||this.init===M.init)&&(M.init=function(){M.$super.init.apply(this,arguments)}),M.init.prototype=M,M.$super=this,M},create:function(){var R=this.extend();return R.init.apply(R,arguments),R},init:function(){},mixIn:function(R){for(var M in R)R.hasOwnProperty(M)&&(this[M]=R[M]);R.hasOwnProperty("toString")&&(this.toString=R.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=m.WordArray=y.extend({init:function(R,M){R=this.words=R||[],M!=o?this.sigBytes=M:this.sigBytes=R.length*4},toString:function(R){return(R||v).stringify(this)},concat:function(R){var M=this.words,k=R.words,U=this.sigBytes,Q=R.sigBytes;if(this.clamp(),U%4)for(var B=0;B<Q;B++){var W=k[B>>>2]>>>24-B%4*8&255;M[U+B>>>2]|=W<<24-(U+B)%4*8}else for(var Z=0;Z<Q;Z+=4)M[U+Z>>>2]=k[Z>>>2];return this.sigBytes+=Q,this},clamp:function(){var R=this.words,M=this.sigBytes;R[M>>>2]&=4294967295<<32-M%4*8,R.length=r.ceil(M/4)},clone:function(){var R=y.clone.call(this);return R.words=this.words.slice(0),R},random:function(R){for(var M=[],k=0;k<R;k+=4)M.push(a());return new d.init(M,R)}}),f=l.enc={},v=f.Hex={stringify:function(R){for(var M=R.words,k=R.sigBytes,U=[],Q=0;Q<k;Q++){var B=M[Q>>>2]>>>24-Q%4*8&255;U.push((B>>>4).toString(16)),U.push((B&15).toString(16))}return U.join("")},parse:function(R){for(var M=R.length,k=[],U=0;U<M;U+=2)k[U>>>3]|=parseInt(R.substr(U,2),16)<<24-U%8*4;return new d.init(k,M/2)}},A=f.Latin1={stringify:function(R){for(var M=R.words,k=R.sigBytes,U=[],Q=0;Q<k;Q++){var B=M[Q>>>2]>>>24-Q%4*8&255;U.push(String.fromCharCode(B))}return U.join("")},parse:function(R){for(var M=R.length,k=[],U=0;U<M;U++)k[U>>>2]|=(R.charCodeAt(U)&255)<<24-U%4*8;return new d.init(k,M)}},I=f.Utf8={stringify:function(R){try{return decodeURIComponent(escape(A.stringify(R)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(R){return A.parse(unescape(encodeURIComponent(R)))}},P=m.BufferedBlockAlgorithm=y.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(R){typeof R=="string"&&(R=I.parse(R)),this._data.concat(R),this._nDataBytes+=R.sigBytes},_process:function(R){var M,k=this._data,U=k.words,Q=k.sigBytes,B=this.blockSize,W=B*4,Z=Q/W;R?Z=r.ceil(Z):Z=r.max((Z|0)-this._minBufferSize,0);var j=Z*B,J=r.min(j*4,Q);if(j){for(var ee=0;ee<j;ee+=B)this._doProcessBlock(U,ee);M=U.splice(0,j),k.sigBytes-=J}return new d.init(M,J)},clone:function(){var R=y.clone.call(this);return R._data=this._data.clone(),R},_minBufferSize:0});m.Hasher=P.extend({cfg:y.extend(),init:function(R){this.cfg=this.cfg.extend(R),this.reset()},reset:function(){P.reset.call(this),this._doReset()},update:function(R){return this._append(R),this._process(),this},finalize:function(R){R&&this._append(R);var M=this._doFinalize();return M},blockSize:16,_createHelper:function(R){return function(M,k){return new R.init(k).finalize(M)}},_createHmacHelper:function(R){return function(M,k){return new O.HMAC.init(R,k).finalize(M)}}});var O=l.algo={};return l}(Math);return n})}(core)),core.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(e,t){(function(n,r){e.exports=r(requireCore())})(commonjsGlobal,function(n){return function(){var r=n,o=r.lib,s=o.WordArray,a=r.enc;a.Base64={stringify:function(l){var m=l.words,y=l.sigBytes,d=this._map;l.clamp();for(var f=[],v=0;v<y;v+=3)for(var A=m[v>>>2]>>>24-v%4*8&255,I=m[v+1>>>2]>>>24-(v+1)%4*8&255,P=m[v+2>>>2]>>>24-(v+2)%4*8&255,O=A<<16|I<<8|P,R=0;R<4&&v+R*.75<y;R++)f.push(d.charAt(O>>>6*(3-R)&63));var M=d.charAt(64);if(M)for(;f.length%4;)f.push(M);return f.join("")},parse:function(l){var m=l.length,y=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<y.length;f++)d[y.charCodeAt(f)]=f}var v=y.charAt(64);if(v){var A=l.indexOf(v);A!==-1&&(m=A)}return u(l,m,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function u(l,m,y){for(var d=[],f=0,v=0;v<m;v++)if(v%4){var A=y[l.charCodeAt(v-1)]<<v%4*2,I=y[l.charCodeAt(v)]>>>6-v%4*2,P=A|I;d[f>>>2]|=P<<24-f%4*8,f++}return s.create(d,f)}}(),n.enc.Base64})}(encBase64)),encBase64.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(e,t){(function(n,r){e.exports=r(requireCore())})(commonjsGlobal,function(n){return function(r){var o=n,s=o.lib,a=s.WordArray,u=s.Hasher,l=o.algo,m=[];(function(){for(var I=0;I<64;I++)m[I]=r.abs(r.sin(I+1))*4294967296|0})();var y=l.MD5=u.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(I,P){for(var O=0;O<16;O++){var R=P+O,M=I[R];I[R]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var k=this._hash.words,U=I[P+0],Q=I[P+1],B=I[P+2],W=I[P+3],Z=I[P+4],j=I[P+5],J=I[P+6],ee=I[P+7],ae=I[P+8],ne=I[P+9],fe=I[P+10],ge=I[P+11],Le=I[P+12],Ge=I[P+13],rt=I[P+14],me=I[P+15],pe=k[0],le=k[1],De=k[2],G=k[3];pe=d(pe,le,De,G,U,7,m[0]),G=d(G,pe,le,De,Q,12,m[1]),De=d(De,G,pe,le,B,17,m[2]),le=d(le,De,G,pe,W,22,m[3]),pe=d(pe,le,De,G,Z,7,m[4]),G=d(G,pe,le,De,j,12,m[5]),De=d(De,G,pe,le,J,17,m[6]),le=d(le,De,G,pe,ee,22,m[7]),pe=d(pe,le,De,G,ae,7,m[8]),G=d(G,pe,le,De,ne,12,m[9]),De=d(De,G,pe,le,fe,17,m[10]),le=d(le,De,G,pe,ge,22,m[11]),pe=d(pe,le,De,G,Le,7,m[12]),G=d(G,pe,le,De,Ge,12,m[13]),De=d(De,G,pe,le,rt,17,m[14]),le=d(le,De,G,pe,me,22,m[15]),pe=f(pe,le,De,G,Q,5,m[16]),G=f(G,pe,le,De,J,9,m[17]),De=f(De,G,pe,le,ge,14,m[18]),le=f(le,De,G,pe,U,20,m[19]),pe=f(pe,le,De,G,j,5,m[20]),G=f(G,pe,le,De,fe,9,m[21]),De=f(De,G,pe,le,me,14,m[22]),le=f(le,De,G,pe,Z,20,m[23]),pe=f(pe,le,De,G,ne,5,m[24]),G=f(G,pe,le,De,rt,9,m[25]),De=f(De,G,pe,le,W,14,m[26]),le=f(le,De,G,pe,ae,20,m[27]),pe=f(pe,le,De,G,Ge,5,m[28]),G=f(G,pe,le,De,B,9,m[29]),De=f(De,G,pe,le,ee,14,m[30]),le=f(le,De,G,pe,Le,20,m[31]),pe=v(pe,le,De,G,j,4,m[32]),G=v(G,pe,le,De,ae,11,m[33]),De=v(De,G,pe,le,ge,16,m[34]),le=v(le,De,G,pe,rt,23,m[35]),pe=v(pe,le,De,G,Q,4,m[36]),G=v(G,pe,le,De,Z,11,m[37]),De=v(De,G,pe,le,ee,16,m[38]),le=v(le,De,G,pe,fe,23,m[39]),pe=v(pe,le,De,G,Ge,4,m[40]),G=v(G,pe,le,De,U,11,m[41]),De=v(De,G,pe,le,W,16,m[42]),le=v(le,De,G,pe,J,23,m[43]),pe=v(pe,le,De,G,ne,4,m[44]),G=v(G,pe,le,De,Le,11,m[45]),De=v(De,G,pe,le,me,16,m[46]),le=v(le,De,G,pe,B,23,m[47]),pe=A(pe,le,De,G,U,6,m[48]),G=A(G,pe,le,De,ee,10,m[49]),De=A(De,G,pe,le,rt,15,m[50]),le=A(le,De,G,pe,j,21,m[51]),pe=A(pe,le,De,G,Le,6,m[52]),G=A(G,pe,le,De,W,10,m[53]),De=A(De,G,pe,le,fe,15,m[54]),le=A(le,De,G,pe,Q,21,m[55]),pe=A(pe,le,De,G,ae,6,m[56]),G=A(G,pe,le,De,me,10,m[57]),De=A(De,G,pe,le,J,15,m[58]),le=A(le,De,G,pe,Ge,21,m[59]),pe=A(pe,le,De,G,Z,6,m[60]),G=A(G,pe,le,De,ge,10,m[61]),De=A(De,G,pe,le,B,15,m[62]),le=A(le,De,G,pe,ne,21,m[63]),k[0]=k[0]+pe|0,k[1]=k[1]+le|0,k[2]=k[2]+De|0,k[3]=k[3]+G|0},_doFinalize:function(){var I=this._data,P=I.words,O=this._nDataBytes*8,R=I.sigBytes*8;P[R>>>5]|=128<<24-R%32;var M=r.floor(O/4294967296),k=O;P[(R+64>>>9<<4)+15]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,P[(R+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,I.sigBytes=(P.length+1)*4,this._process();for(var U=this._hash,Q=U.words,B=0;B<4;B++){var W=Q[B];Q[B]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360}return U},clone:function(){var I=u.clone.call(this);return I._hash=this._hash.clone(),I}});function d(I,P,O,R,M,k,U){var Q=I+(P&O|~P&R)+M+U;return(Q<<k|Q>>>32-k)+P}function f(I,P,O,R,M,k,U){var Q=I+(P&R|O&~R)+M+U;return(Q<<k|Q>>>32-k)+P}function v(I,P,O,R,M,k,U){var Q=I+(P^O^R)+M+U;return(Q<<k|Q>>>32-k)+P}function A(I,P,O,R,M,k,U){var Q=I+(O^(P|~R))+M+U;return(Q<<k|Q>>>32-k)+P}o.MD5=u._createHelper(y),o.HmacMD5=u._createHmacHelper(y)}(Math),n.MD5})}(md5)),md5.exports}var evpkdf={exports:{}},sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(e,t){(function(n,r){e.exports=r(requireCore())})(commonjsGlobal,function(n){return function(){var r=n,o=r.lib,s=o.WordArray,a=o.Hasher,u=r.algo,l=[],m=u.SHA1=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,d){for(var f=this._hash.words,v=f[0],A=f[1],I=f[2],P=f[3],O=f[4],R=0;R<80;R++){if(R<16)l[R]=y[d+R]|0;else{var M=l[R-3]^l[R-8]^l[R-14]^l[R-16];l[R]=M<<1|M>>>31}var k=(v<<5|v>>>27)+O+l[R];R<20?k+=(A&I|~A&P)+1518500249:R<40?k+=(A^I^P)+1859775393:R<60?k+=(A&I|A&P|I&P)-1894007588:k+=(A^I^P)-899497514,O=P,P=I,I=A<<30|A>>>2,A=v,v=k}f[0]=f[0]+v|0,f[1]=f[1]+A|0,f[2]=f[2]+I|0,f[3]=f[3]+P|0,f[4]=f[4]+O|0},_doFinalize:function(){var y=this._data,d=y.words,f=this._nDataBytes*8,v=y.sigBytes*8;return d[v>>>5]|=128<<24-v%32,d[(v+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(v+64>>>9<<4)+15]=f,y.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var y=a.clone.call(this);return y._hash=this._hash.clone(),y}});r.SHA1=a._createHelper(m),r.HmacSHA1=a._createHmacHelper(m)}(),n.SHA1})}(sha1)),sha1.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(e,t){(function(n,r){e.exports=r(requireCore())})(commonjsGlobal,function(n){(function(){var r=n,o=r.lib,s=o.Base,a=r.enc,u=a.Utf8,l=r.algo;l.HMAC=s.extend({init:function(m,y){m=this._hasher=new m.init,typeof y=="string"&&(y=u.parse(y));var d=m.blockSize,f=d*4;y.sigBytes>f&&(y=m.finalize(y)),y.clamp();for(var v=this._oKey=y.clone(),A=this._iKey=y.clone(),I=v.words,P=A.words,O=0;O<d;O++)I[O]^=1549556828,P[O]^=909522486;v.sigBytes=A.sigBytes=f,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var y=this._hasher,d=y.finalize(m);y.reset();var f=y.finalize(this._oKey.clone().concat(d));return f}})})()})}(hmac)),hmac.exports}var hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(e,t){(function(n,r,o){e.exports=r(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(n){return function(){var r=n,o=r.lib,s=o.Base,a=o.WordArray,u=r.algo,l=u.MD5,m=u.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,d){for(var f,v=this.cfg,A=v.hasher.create(),I=a.create(),P=I.words,O=v.keySize,R=v.iterations;P.length<O;){f&&A.update(f),f=A.update(y).finalize(d),A.reset();for(var M=1;M<R;M++)f=A.finalize(f),A.reset();I.concat(f)}return I.sigBytes=O*4,I}});r.EvpKDF=function(y,d,f){return m.create(f).compute(y,d)}}(),n.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(e,t){(function(n,r,o){e.exports=r(requireCore(),requireEvpkdf())})(commonjsGlobal,function(n){n.lib.Cipher||function(r){var o=n,s=o.lib,a=s.Base,u=s.WordArray,l=s.BufferedBlockAlgorithm,m=o.enc;m.Utf8;var y=m.Base64,d=o.algo,f=d.EvpKDF,v=s.Cipher=l.extend({cfg:a.extend(),createEncryptor:function(j,J){return this.create(this._ENC_XFORM_MODE,j,J)},createDecryptor:function(j,J){return this.create(this._DEC_XFORM_MODE,j,J)},init:function(j,J,ee){this.cfg=this.cfg.extend(ee),this._xformMode=j,this._key=J,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(j){return this._append(j),this._process()},finalize:function(j){j&&this._append(j);var J=this._doFinalize();return J},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function j(J){return typeof J=="string"?Z:Q}return function(J){return{encrypt:function(ee,ae,ne){return j(ae).encrypt(J,ee,ae,ne)},decrypt:function(ee,ae,ne){return j(ae).decrypt(J,ee,ae,ne)}}}}()});s.StreamCipher=v.extend({_doFinalize:function(){var j=this._process(!0);return j},blockSize:1});var A=o.mode={},I=s.BlockCipherMode=a.extend({createEncryptor:function(j,J){return this.Encryptor.create(j,J)},createDecryptor:function(j,J){return this.Decryptor.create(j,J)},init:function(j,J){this._cipher=j,this._iv=J}}),P=A.CBC=function(){var j=I.extend();j.Encryptor=j.extend({processBlock:function(ee,ae){var ne=this._cipher,fe=ne.blockSize;J.call(this,ee,ae,fe),ne.encryptBlock(ee,ae),this._prevBlock=ee.slice(ae,ae+fe)}}),j.Decryptor=j.extend({processBlock:function(ee,ae){var ne=this._cipher,fe=ne.blockSize,ge=ee.slice(ae,ae+fe);ne.decryptBlock(ee,ae),J.call(this,ee,ae,fe),this._prevBlock=ge}});function J(ee,ae,ne){var fe,ge=this._iv;ge?(fe=ge,this._iv=r):fe=this._prevBlock;for(var Le=0;Le<ne;Le++)ee[ae+Le]^=fe[Le]}return j}(),O=o.pad={},R=O.Pkcs7={pad:function(j,J){for(var ee=J*4,ae=ee-j.sigBytes%ee,ne=ae<<24|ae<<16|ae<<8|ae,fe=[],ge=0;ge<ae;ge+=4)fe.push(ne);var Le=u.create(fe,ae);j.concat(Le)},unpad:function(j){var J=j.words[j.sigBytes-1>>>2]&255;j.sigBytes-=J}};s.BlockCipher=v.extend({cfg:v.cfg.extend({mode:P,padding:R}),reset:function(){var j;v.reset.call(this);var J=this.cfg,ee=J.iv,ae=J.mode;this._xformMode==this._ENC_XFORM_MODE?j=ae.createEncryptor:(j=ae.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==j?this._mode.init(this,ee&&ee.words):(this._mode=j.call(ae,this,ee&&ee.words),this._mode.__creator=j)},_doProcessBlock:function(j,J){this._mode.processBlock(j,J)},_doFinalize:function(){var j,J=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(J.pad(this._data,this.blockSize),j=this._process(!0)):(j=this._process(!0),J.unpad(j)),j},blockSize:128/32});var M=s.CipherParams=a.extend({init:function(j){this.mixIn(j)},toString:function(j){return(j||this.formatter).stringify(this)}}),k=o.format={},U=k.OpenSSL={stringify:function(j){var J,ee=j.ciphertext,ae=j.salt;return ae?J=u.create([1398893684,1701076831]).concat(ae).concat(ee):J=ee,J.toString(y)},parse:function(j){var J,ee=y.parse(j),ae=ee.words;return ae[0]==1398893684&&ae[1]==1701076831&&(J=u.create(ae.slice(2,4)),ae.splice(0,4),ee.sigBytes-=16),M.create({ciphertext:ee,salt:J})}},Q=s.SerializableCipher=a.extend({cfg:a.extend({format:U}),encrypt:function(j,J,ee,ae){ae=this.cfg.extend(ae);var ne=j.createEncryptor(ee,ae),fe=ne.finalize(J),ge=ne.cfg;return M.create({ciphertext:fe,key:ee,iv:ge.iv,algorithm:j,mode:ge.mode,padding:ge.padding,blockSize:j.blockSize,formatter:ae.format})},decrypt:function(j,J,ee,ae){ae=this.cfg.extend(ae),J=this._parse(J,ae.format);var ne=j.createDecryptor(ee,ae).finalize(J.ciphertext);return ne},_parse:function(j,J){return typeof j=="string"?J.parse(j,this):j}}),B=o.kdf={},W=B.OpenSSL={execute:function(j,J,ee,ae){ae||(ae=u.random(64/8));var ne=f.create({keySize:J+ee}).compute(j,ae),fe=u.create(ne.words.slice(J),ee*4);return ne.sigBytes=J*4,M.create({key:ne,iv:fe,salt:ae})}},Z=s.PasswordBasedCipher=Q.extend({cfg:Q.cfg.extend({kdf:W}),encrypt:function(j,J,ee,ae){ae=this.cfg.extend(ae);var ne=ae.kdf.execute(ee,j.keySize,j.ivSize);ae.iv=ne.iv;var fe=Q.encrypt.call(this,j,J,ne.key,ae);return fe.mixIn(ne),fe},decrypt:function(j,J,ee,ae){ae=this.cfg.extend(ae),J=this._parse(J,ae.format);var ne=ae.kdf.execute(ee,j.keySize,j.ivSize,J.salt);ae.iv=ne.iv;var fe=Q.decrypt.call(this,j,J,ne.key,ae);return fe}})}()})}(cipherCore)),cipherCore.exports}(function(e,t){(function(n,r,o){e.exports=r(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(n){return function(){var r=n,o=r.lib,s=o.BlockCipher,a=r.algo,u=[],l=[],m=[],y=[],d=[],f=[],v=[],A=[],I=[],P=[];(function(){for(var M=[],k=0;k<256;k++)k<128?M[k]=k<<1:M[k]=k<<1^283;for(var U=0,Q=0,k=0;k<256;k++){var B=Q^Q<<1^Q<<2^Q<<3^Q<<4;B=B>>>8^B&255^99,u[U]=B,l[B]=U;var W=M[U],Z=M[W],j=M[Z],J=M[B]*257^B*16843008;m[U]=J<<24|J>>>8,y[U]=J<<16|J>>>16,d[U]=J<<8|J>>>24,f[U]=J;var J=j*16843009^Z*65537^W*257^U*16843008;v[B]=J<<24|J>>>8,A[B]=J<<16|J>>>16,I[B]=J<<8|J>>>24,P[B]=J,U?(U=W^M[M[M[j^W]]],Q^=M[M[Q]]):U=Q=1}})();var O=[0,1,2,4,8,16,32,64,128,27,54],R=a.AES=s.extend({_doReset:function(){var M;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var k=this._keyPriorReset=this._key,U=k.words,Q=k.sigBytes/4,B=this._nRounds=Q+6,W=(B+1)*4,Z=this._keySchedule=[],j=0;j<W;j++)j<Q?Z[j]=U[j]:(M=Z[j-1],j%Q?Q>6&&j%Q==4&&(M=u[M>>>24]<<24|u[M>>>16&255]<<16|u[M>>>8&255]<<8|u[M&255]):(M=M<<8|M>>>24,M=u[M>>>24]<<24|u[M>>>16&255]<<16|u[M>>>8&255]<<8|u[M&255],M^=O[j/Q|0]<<24),Z[j]=Z[j-Q]^M);for(var J=this._invKeySchedule=[],ee=0;ee<W;ee++){var j=W-ee;if(ee%4)var M=Z[j];else var M=Z[j-4];ee<4||j<=4?J[ee]=M:J[ee]=v[u[M>>>24]]^A[u[M>>>16&255]]^I[u[M>>>8&255]]^P[u[M&255]]}}},encryptBlock:function(M,k){this._doCryptBlock(M,k,this._keySchedule,m,y,d,f,u)},decryptBlock:function(M,k){var U=M[k+1];M[k+1]=M[k+3],M[k+3]=U,this._doCryptBlock(M,k,this._invKeySchedule,v,A,I,P,l);var U=M[k+1];M[k+1]=M[k+3],M[k+3]=U},_doCryptBlock:function(M,k,U,Q,B,W,Z,j){for(var J=this._nRounds,ee=M[k]^U[0],ae=M[k+1]^U[1],ne=M[k+2]^U[2],fe=M[k+3]^U[3],ge=4,Le=1;Le<J;Le++){var Ge=Q[ee>>>24]^B[ae>>>16&255]^W[ne>>>8&255]^Z[fe&255]^U[ge++],rt=Q[ae>>>24]^B[ne>>>16&255]^W[fe>>>8&255]^Z[ee&255]^U[ge++],me=Q[ne>>>24]^B[fe>>>16&255]^W[ee>>>8&255]^Z[ae&255]^U[ge++],pe=Q[fe>>>24]^B[ee>>>16&255]^W[ae>>>8&255]^Z[ne&255]^U[ge++];ee=Ge,ae=rt,ne=me,fe=pe}var Ge=(j[ee>>>24]<<24|j[ae>>>16&255]<<16|j[ne>>>8&255]<<8|j[fe&255])^U[ge++],rt=(j[ae>>>24]<<24|j[ne>>>16&255]<<16|j[fe>>>8&255]<<8|j[ee&255])^U[ge++],me=(j[ne>>>24]<<24|j[fe>>>16&255]<<16|j[ee>>>8&255]<<8|j[ae&255])^U[ge++],pe=(j[fe>>>24]<<24|j[ee>>>16&255]<<16|j[ae>>>8&255]<<8|j[ne&255])^U[ge++];M[k]=Ge,M[k+1]=rt,M[k+2]=me,M[k+3]=pe},keySize:256/32});r.AES=s._createHelper(R)}(),n.AES})})(aes);var aesExports=aes.exports;const AES=getDefaultExportFromCjs(aesExports);var encUtf8={exports:{}};(function(e,t){(function(n,r){e.exports=r(requireCore())})(commonjsGlobal,function(n){return n.enc.Utf8})})(encUtf8);var encUtf8Exports=encUtf8.exports;const enc=getDefaultExportFromCjs(encUtf8Exports),ROUTE_CRYPTO_KEY="game",COMPOSITE_DELIMITER="|-$";function buildGameRouteComposite(e,t,n=!0){const r=e+COMPOSITE_DELIMITER+t,o=AES.encrypt(r,ROUTE_CRYPTO_KEY);return n?encodeURIComponent(o):o}function buildPreGameRouteComposite({roomHash:e,playerId:t,quizId:n,gameState:r},o=!0){let s=e;r===Constants.GameState.COMPLETED&&(s=e.split(":")[0]);const a=[s,t,n,r].join(COMPOSITE_DELIMITER),u=AES.encrypt(a,ROUTE_CRYPTO_KEY);return o?encodeURIComponent(u):u}function reduceGameRouteComposite(e,t=!0){const n=t?decodeURIComponent(e):e,o=AES.decrypt(n,ROUTE_CRYPTO_KEY).toString(enc).split(COMPOSITE_DELIMITER),s=o[0];o.splice(0,1);const a=o.join(COMPOSITE_DELIMITER);return{roomHash:s,playerId:a}}function reducePreGameRouteComposite(e,t=!0){const n=t?decodeURIComponent(e):e,o=AES.decrypt(n,ROUTE_CRYPTO_KEY).toString(enc).split(COMPOSITE_DELIMITER),s=o[0],a=o[1],u=o[2],l=o[3];return{roomHash:s,playerId:a,quizId:u,gameState:l}}const RequestURLs={BASE:{[Constants.BackendEnvs.PROD]:"https://quizizz.com",[Constants.BackendEnvs.STAGING]:"https://staging.quizizz.com",[Constants.BackendEnvs.DEV]:"https://dev.quizizz.com",[Constants.BackendEnvs.LOCAL]:"http://localhost:3000"},SOCKET:{[Constants.BackendEnvs.PROD]:{BASE:"https://socket.quizizz.com",PATH:""},[Constants.BackendEnvs.STAGING]:{BASE:"https://staging.quizizz.com",PATH:""},[Constants.BackendEnvs.DEV]:{BASE:"https://dev-socket.quizizz.com",PATH:""},[Constants.BackendEnvs.LOCAL]:{BASE:"https://dev-socket.quizizz.com",PATH:""}},GAME:{[Constants.BackendEnvs.PROD]:"https://game.quizizz.com",[Constants.BackendEnvs.STAGING]:"https://staging.quizizz.com",[Constants.BackendEnvs.DEV]:"https://dev.quizizz.com",[Constants.BackendEnvs.LOCAL]:"http://localhost:3000"},REQUEST:{[Constants.BackendEnvs.PROD]:"https://quizizz.com",[Constants.BackendEnvs.STAGING]:"https://staging.quizizz.com",[Constants.BackendEnvs.DEV]:"https://dev.quizizz.com/_api/main",[Constants.BackendEnvs.LOCAL]:"http://localhost:3000"},NOTIFICATION_BASE:{[Constants.BackendEnvs.PROD]:"https://notif.quizizz.com",[Constants.BackendEnvs.STAGING]:"https://notif.quizizz.com",[Constants.BackendEnvs.DEV]:"https://dev-services.quizizz.com",[Constants.BackendEnvs.LOCAL]:"https://dev-services.quizizz.com"},DRAW_SERVICE:{[Constants.BackendEnvs.PROD]:"https://draw.quizizz.com/_dserver/main",[Constants.BackendEnvs.STAGING]:"https://draw.quizizz.com/_dserver/main",[Constants.BackendEnvs.DEV]:"https://dev-services.quizizz.com/_dserver/main",[Constants.BackendEnvs.LOCAL]:"https://dev-services.quizizz.com/_dserver/main"}},EnvVariables={NODE:"production",BACKEND:"prod",B_MAIN:"https://quizizz.com",B_SOCKET:"https://socket.quizizz.com",B_GAME_SOCKET_PATH:"/_gsocket/sockUpg",B_GAME:"https://game.quizizz.com",B_REQUEST:"https://quizizz.com/_api/main",B_NOTIFICATION_BASE:"https://notif.quizizz.com",B_DRAW_SERVICE:{CODEBUILD_LAST_EXIT:"0",CODEBUILD_VPC_AZ:"us-east-1a",MAVEN_OPTS:"-Dmaven.wagon.httpconnectionManager.maxPerRoute=2",CODEBUILD_START_TIME:"1683550054659",B_NOTIFICATION_BASE:"https://notif.quizizz.com",Q_BUILD_BUCKET:"quizizz-static-content",CODEBUILD_BMR_URL:"https://CODEBUILD_AGENT:3000",npm_config_user_agent:"npm/8.5.0 node/v16.14.2 linux x64 workspaces/false ci/aws-codebuild",Q_JS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",CODEBUILD_AGENT_ENDPOINT:"http://127.0.0.1:7831",CODEBUILD_SOURCE_VERSION:"1df0a832da4ee0fda46abb3bb154fd4528525045",NODE_VERSION:"16.14.2",HOSTNAME:"ip-10-192-20-20.ec2.internal",YARN_VERSION:"1.22.18",CODEBUILD_KMS_KEY_ID:"arn:aws:kms:us-east-1:399771530480:alias/aws/s3",CTS_LINK_LOCAL_ADDR:"169.254.170.3",CODEBUILD_BUILD_ID:"prod-join-v2:5510ff5d-4478-4a46-b8b5-0f257268e380",npm_node_execpath:"/usr/local/bin/node",SHLVL:"8",npm_config_noproxy:"",HOME:"/root",OLDPWD:"/codebuild/readonly",CODEBUILD_GOPATH:"/codebuild/output/src530479650",npm_package_json:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web/package.json",PYTHONUNBUFFERED:"1",CODEBUILD_CI:"true",CODEBUILD_RESOLVED_SOURCE_VERSION:"1df0a832da4ee0fda46abb3bb154fd4528525045",CODEBUILD_BUILD_NUMBER:"1715",CODEBUILD_BUILD_SUCCEEDING:"1",NODE_OPTIONS:"--max_old_space_size=5120",AWS_CONTAINER_CREDENTIALS_RELATIVE_URI:"/v2/credentials/c158c0ca-67f2-45ae-819b-68c4902fdd5b",version:"1df0a83_lheu8f69",CODEBUILD_BUILD_ARN:"arn:aws:codebuild:us-east-1:399771530480:build/prod-join-v2:5510ff5d-4478-4a46-b8b5-0f257268e380",npm_config_userconfig:"/root/.npmrc",npm_config_local_prefix:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web",AWS_EXECUTION_ENV:"AWS_ECS_EC2",CODEBUILD_ACTION_RUNNER_URL:"https://codefactory-us-east-1-prod-default-build-agent-executor.s3.amazonaws.com/cawsrunner.zip",COLOR:"0",CODEBUILD_INITIATOR:"infra-service/4eb751d3418b442ca5192a9d610ff54c",npm_config_metrics_registry:"https://registry.npmjs.org/",ECS_AGENT_URI:"http://169.254.170.2/api/dbf6e2dd-fc38-4ef1-8c6b-b7ca109fea89",B_REQUEST:"https://quizizz.com/_api/main",AWS_DEFAULT_REGION:"us-east-1",_:"/usr/local/bin/npm",npm_config_prefix:"/usr/local",B_GAME:"https://game.quizizz.com",image_repository:"399771530480.dkr.ecr.us-east-1.amazonaws.com",componentType:"join",B_BASE:"https://quizizz.com",ECS_CONTAINER_METADATA_URI_V4:"http://169.254.170.2/v4/dbf6e2dd-fc38-4ef1-8c6b-b7ca109fea89",npm_config_cache:"/root/.npm",Q_BUILD_META_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts/buildMeta",ECS_CONTAINER_METADATA_URI:"http://169.254.170.2/v3/dbf6e2dd-fc38-4ef1-8c6b-b7ca109fea89",CODEBUILD_EXECUTION_ROLE_BUILD:"true",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/node_modules/.bin:/codebuild/output/src530479650/src/node_modules/.bin:/codebuild/output/src530479650/node_modules/.bin:/codebuild/output/node_modules/.bin:/codebuild/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/node_modules/.bin:/codebuild/output/src530479650/src/node_modules/.bin:/codebuild/output/src530479650/node_modules/.bin:/codebuild/output/node_modules/.bin:/codebuild/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/node_modules/.bin:/codebuild/output/src530479650/src/node_modules/.bin:/codebuild/output/src530479650/node_modules/.bin:/codebuild/output/node_modules/.bin:/codebuild/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/root/.local/bin:/google-cloud-sdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/codebuild/user/bin",FE_REPORT_LINK_LOCAL_ADDR:"169.254.170.8",NODE:"/usr/local/bin/node",npm_package_name:"quizizz_game_web",CODEBUILD_LOG_PATH:"5510ff5d-4478-4a46-b8b5-0f257268e380",CODEBUILD_BUILD_IMAGE:"399771530480.dkr.ecr.us-east-1.amazonaws.com/build-join:v2",componentName:"main",CODEBUILD_SOURCE_REPO_URL:"https://git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web",B_ANALYTICS:"https://analytics.quizizz.com",npm_lifecycle_script:"vite build",commitId:"1df0a832da4ee0fda46abb3bb154fd4528525045",GOPATH:"/codebuild/output/src530479650",npm_package_version:"4.0.0",npm_lifecycle_event:"build-only",B_MAIN:"https://quizizz.com",CODEBUILD_SRC_DIR:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web",AWS_REGION:"us-east-1",CODEBUILD_BUILD_URL:"https://us-east-1.console.aws.amazon.com/codebuild/home?region=us-east-1#/builds/prod-join-v2:5510ff5d-4478-4a46-b8b5-0f257268e380/view/new",B_GAME_SOCKET_PATH:"/_gsocket/sockUpg",CODEBUILD_PROJECT_UUID:"bd3d1695-46ea-41cc-be26-ff64bf794fbf",CODEBUILD_AUTH_TOKEN:"f0decfd1-f23f-46a6-b0a4-e018b4a0fc3c",CODEBUILD_CONTAINER_NAME:"default",npm_config_globalconfig:"/usr/local/etc/npmrc",npm_config_init_module:"/root/.npm-init.js",PWD:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",env:"prod",deploymentLevel:"live",CLOUD_SDK_VERSION:"256.0.0",CODEBUILD_FE_REPORT_ENDPOINT:"https://codebuild.us-east-1.amazonaws.com/",npm_config_global_prefix:"/usr/local",Q_TRANSLATIONS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/translations",npm_command:"run-script",B_SOCKET:"https://socket.quizizz.com",B_APIS:"main",NODE_ENV:"production",INIT_CWD:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web",EDITOR:"vi",BACKEND_ENV:"prod",ARE_TRANSLATIONS_REQUIRED:"true",SHELL_LOGS_ALLOWED:"true",IS_BUNDLE_UPLOADING_PROCEDURE:"false",STRIPE_PUBLIC_KEY:"pk_live_FwrYQJLoT8QEcGoiPtO8TvJH",SENTRY_ORG:"quizizz",SENTRY_PROJECT:"game-web",SENTRY_AUTH_TOKEN:"7b48e89e2b864f2cae36780ca55a7b8f973c46dab3754b11bb6805c9e60e5c92",SENTRY_URL:"https://sentry.io/",SENTRY_LOG_LEVEL:"debug",SENTRY_VCS_REMOTE:"bitbucket",IS_BUNDLE_GENERATION_PROCEDURE:"false",SENTRY_DSN:"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987",Q_CSS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_USER_NODE_ENV:"production"}.B_DRAW_SERVICE};function getCurrentBaseUrls(e){const t=EnvVariables.BACKEND,n={BASE:"/",SOCKET:{BASE:"/",PATH:"/"},GAME:"/",REQUEST:"/",NOTIFICATION_BASE:"/",DRAW_SERVICE:EnvVariables.NODE===Constants.NodeEnvs.DEV?RequestURLs.DRAW_SERVICE[Constants.BackendEnvs.DEV]:RequestURLs.DRAW_SERVICE[Constants.BackendEnvs.PROD]},r=Object.keys(RequestURLs);for(let o=0;o<r.length;o++){if(r[o]==="SOCKET"){const s=RequestURLs[r[o]][t];Object.keys(s).forEach(a=>{n[r[o]][a]=s[a]})}n[r[o]]=RequestURLs[r[o]][t]}return n.BASE=EnvVariables.B_MAIN,n.SOCKET.BASE=EnvVariables.B_SOCKET,n.SOCKET.PATH=EnvVariables.B_GAME_SOCKET_PATH,n.GAME=EnvVariables.B_GAME,n.REQUEST=EnvVariables.B_REQUEST,n.NOTIFICATION_BASE=EnvVariables.B_NOTIFICATION_BASE,EnvVariables.B_DRAW_SERVICE&&(n.DRAW_SERVICE=EnvVariables.B_DRAW_SERVICE),EnvVariables.NODE===Constants.NodeEnvs.DEV&&console.info("\x1B[44m INFO \x1B[0m ",`
	 Running in node environment - '${EnvVariables.NODE}'`,`
	 API's pointing to backend environment - '${EnvVariables.BACKEND}'`,`
	 Current Urls being used`,n),n}const CurrentBaseUrls=getCurrentBaseUrls();`${CurrentBaseUrls.MAIN}`;`${CurrentBaseUrls.GAME}`;const requestServerUrl$1=`${CurrentBaseUrls.REQUEST}/`,URLConfig={getAppBaseUrl(){return window.location.pathname.split("/")[1]==="pro"?"/pro/join":"/join"},getSentryDsnURL(){return Constants.NodeEnvs.PROD==="production"?"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987":""},getPowerupBannerURL(){return"https://cf.quizizz.com/game/img/powerups/powerup-banner.png"},getPowerupOnboardingBannerURL(){return"https://cf.quizizz.com/game/img/powerups/powerup-onboarding-banner.png"},getGlitchPowerupGifURL(e){return e===Constants.GameMode.MYSTIC_PEAK?"https://cf.quizizz.com/game/img/powerups/snow3.png":"https://cf.quizizz.com/game/img/powerups/glitch-powerup-GIF.gif"},getPlayerMonsterURL(e){return`https://cf.quizizz.com/join/img/monsters_lg/monster${e}.png`},getSmallMonsterURL(e,t=Constants.DeviceType.TABLET,n=!1){const r=getMosterIdForAvatar(e,n);return t===Constants.DeviceType.PHONE?t="phone":(t===Constants.DeviceType.DESKTOP||t===Constants.DeviceType.TABLET)&&(t=Constants.DeviceType.TABLET),`https://cf.quizizz.com/join/img/avatars/${n?"halloween/":""}${t}_sm/${n?"":"monster"}${r}.png`},getBigMonsterURL(e,t=Constants.DeviceType.TABLET,n=!1){const r=getMosterIdForAvatar(e,n);return t===Constants.DeviceType.PHONE?t="phone":(t===Constants.DeviceType.DESKTOP||t===Constants.DeviceType.TABLET)&&(t=Constants.DeviceType.TABLET),`https://cf.quizizz.com/join/img/avatars/${n?"halloween/":""}${t}_lg/${n?"":"monster"}${r}.png`},getSmallTeamEmblemURL(e,t=!0){return t?`https://cf.quizizz.com/game/img/teams/halloween/emblems/sm/${e}.png`:`https://cf.quizizz.com/game/img/teams/emblems/sm/${e}.png`},getLargeTeamEmblemURL(e,t=!0){return t?`https://cf.quizizz.com/game/img/teams/halloween/emblems/lg/${e}.png`:`https://cf.quizizz.com/game/img/teams/emblems/lg/${e}.png`},getTeamMascotURL(e,t=!0){return t?`https://cf.quizizz.com/game/img/teams/halloween/mascots/${e}.png`:`https://cf.quizizz.com/game/img/teams/mascots/${e}.png`},getQuizGrade(e){return`${requestServerUrl$1}quiz/${e}/grades`},registerGoogleClassroomUser:`${requestServerUrl$1}register/google`,decodeGoogleClassroomLink(e){return`${requestServerUrl$1}code?c=${e}`},getDemoGamePageURL(e,t){return`${requestServerUrl$1}democode?mobile=true&w=2&theme=${e}&bgcolor=${t}`},getInHouseEventTrackingURL:()=>Constants.NodeEnvs.PROD==="production"?"https://analytics.quizizz.com/events":"http://dev-analytics-733896328.us-east-1.elb.amazonaws.com/events",getSessionTrackingEventURL(){return Constants.NodeEnvs.PROD==="production"?"https://analytics.quizizz.com/tracking/active-time/events":"http://dev-analytics-733896328.us-east-1.elb.amazonaws.com/tracking/active-time/events"},getFeedbackTrackingURL(){return Constants.NodeEnvs.PROD==="production"?"https://analytics.quizizz.com/feedback2":"http://dev-analytics-733896328.us-east-1.elb.amazonaws.com/feedback2"},appDeepLinkingUrls(e,t,n={}){const o=`${e===Constants.AppPlatforms.ANDROID?Constants.AppDeepLinkingURISchemes.ANDROID:Constants.AppDeepLinkingURISchemes.IOS}${t}`;return addParamsToUrl(o,n)},getLMSResgisterUserUrl(e,t){const n=`${requestServerUrl$1}lms/${e}/2`;return addParamsToUrl(n,t)},getAppUserLoginUrl(e){const t=`${requestServerUrl$1}auth/mobile`;return addParamsToUrl(t,e)},getAppUserGoogleSignupUrl(e){const t=`${requestServerUrl$1}auth/google`;return addParamsToUrl(t,e)},getWebLogoutUrl(){return`${requestServerUrl$1}auth/logout`},quizPlaceholderImage(e="big"){return e==="big"?"https://cf.quizizz.com/game/img/search/quiz-placeholder-transparent-md.png":"https://cf.quizizz.com/game/img/search/quiz-placeholder-transparent-sm.png"},getWebGameUrl(e,t={},n=""){const r=n||`${window.location.origin}${this.getAppBaseUrl()}`,o=buildGameRouteComposite(e.roomHash,e.playerId),s=`${r}/game/${o}`;return addParamsToUrl(s,{gameType:e.gameType,gameState:e.gameState,...t})},getWebQuizStartUrl(e,{query:t={},forDomain:n="",replaceProtocol:r=!1,type:o=Constants.QuizTypes.QUIZ}={}){let a=`${n||`${window.location.origin}${this.getAppBaseUrl()}`}/${o}/${e}/start`;return r&&(a=a.replace(/http:\/\/|https:\/\//,"")),addParamsToUrl(a,t)},getAdminQuizUrl(e,t={},n,r){let s=`${n||`${window.location.origin}`}/admin/quiz/${e}`;return r&&(s=s.replace(/http:\/\/|https:\/\//,"")),addParamsToUrl(s,t)},getAdminHomeUrl(e={},t){const r=`${t||`${window.location.origin}`}/admin`;return addParamsToUrl(r,e)},getRedemptionMascotImgUrl(e){switch(e){case"mascotWithBanner":return"https://cf.quizizz.com/game/img/misc/redemption_mascot_plus_label-600.png";case"mascot":return"https://cf.quizizz.com/game/img/misc/redemption_mascot-120.png"}},getShareableGameJoinLink(e){return`${window.location.origin}${this.getAppBaseUrl()}?gc=${e}&from=challengeFriends`},getThemeAssetsUrl(e,t){return`https://cf.quizizz.com/themes/v2/${e}/${t}.jpg`},getThemeVideoUrl(e,t){return`https://cf.quizizz.com/themes/v2/${e}/${t}.mp4`}};function addParamsToUrl(e,t={}){let n=e;if(!isEmpty(t)){n+="?";let r=!1;_.forEach(t,(o,s)=>{r&&(n+="&"),_.isUndefined(o)||(n+=`${s}=${o}`,r=!0)})}return n}function getMosterIdForAvatar(e,t){let r=e;return t&&(r%=34),r}function afterFirstQuesCanShowForQuestion(e){return e<=5||(e-5)%10===0}function showForNthQuestion(e,t=-1){return e<=1?!0:t>=0&&afterFirstQuesCanShowForQuestion(t)?e<=2:!1}const GestureEducatorConfig={AlwayShowGestures:!1,RegdUser:{showForNthGame:e=>!0,showForNthQuestion},UnRegdUser:{showForNthGame:e=>!0,showForNthQuestion:e=>showForNthQuestion(e,0)},CanShowEducatorsFor:{OPTIONS_KEYBOARD:!0,POST_ANSWER_KEYBOARD:!1,POST_ANSWER_MOUSE:!0,POST_ANSWER_TOUCH:!1,POST_ANSWER_PAUSE_INDICATOR:!0,POST_ANSWER_UNPAUSE_INDICATOR:!0,SHOW_PAUSE_INDICATOR_WHEN_GESTURE_HIDDEN:!1,SHOW_UNPAUSE_INDICATOR_WHEN_GESTURE_HIDDEN:!0}},SourcesList={MISC:"misc",GAME_CODE:{_BASE_:"gameCode",TYPED:"gameCode.typed",PARAM:"gameCode.param",PSEUDO_LMS:"gameCode.pseudoLms",AFTER_DIALOG:"gameCode.afterDialog",AFTER_GROUP_INVITE_ACCEPT:"gameCode.afterGroupInviteAccept"},FEATURED:"featured",SEARCH:"search",FROM_ADMIN:{_BASE_:"fromAdmin",PARAM:{_BASE_:"fromAdmin.param",DIRECT:"fromAdmin.param.direct",AFTER_NAME:"fromAdmin.param.afterName",SOLO_LINK_SHARE:"fromAdmin.param.soloLinkShare",PARENT_EMAIL:"fromAdmin.param.parentEmail",PARENT_EMAIL_LINK:"fromAdmin.param.parentEmailLink"}},LMS:{_BASE_:"lms",AFTER_PROMPT:"lms.afterPrompt",AFTER_GROUP_INVITE_ACCEPT:"lms.afterGroupInviteAccept",PRE_GAME_SCREEN_START_ACTION:"lms.preGameScreenStartAction"},PRE_GAME_SCREEN:"preGameScreen",RECONNECT_REJOIN:"reconnectRejoin",RECENT_ACTIVITY:{_BASE_:"recentActivity",RUNNING:{_BASE_:"recentActivity.running",COMPLETE:"recentActivity.running.complete",REPLAY:"recentActivity.running.replay",PRACTICE:"recentActivity.running.practice",START_CHALLENGE_GAME:"recentActivity.running.startChallengeGame"},COMPLETED:{_BASE_:"recentActivity.completed",COMPLETE:"recentActivity.completed.complete",REPLAY:"recentActivity.completed.replay",PRACTICE:"recentActivity.completed.practice",START_CHALLENGE_GAME:"recentActivity.completed.startChallengeGame"},UNREGD_INCOMPLETE:"recentActivity.unregdIncomplete"},ACTIVITY:{_BASE_:"activity",RUNNING:{_BASE_:"activity.running",COMPLETE:"activity.running.complete",REPLAY:"activity.running.replay",PRACTICE:"activity.running.practice"},COMPLETED:{_BASE_:"activity.completed",COMPLETE:"activity.completed.complete",REPLAY:"activity.completed.replay",PRACTICE:"activity.completed.practice"}},REPLAY:{_BASE_:"replay",SUMMARY:{_BASE_:"replay.summary",BTN:"replay.summary.btn",FLASHCARDS:"replay.summary.flashcards"},AFTER_AUTH_MODAL:"replay.afterAuthModal",REPLAY_LIVE_GAME:"replay.replayLiveGame",REPLAY_LIVE_GAME_ASYNC:"replay.replayLiveGameAsync",REPLAY_CHALLENGE_GAME:"replay.replayChallengeGame"},REJOIN:{_BASE_:"rejoin",PARAM:{_BASE_:"rejoin.param",ROUTE_DATA:"rejoin.param.routeData"},AUTO:{_BASE_:"rejoin.auto",WHILE_LMS_FLOW:"rejoin.auto.whileLmsFlow"},NAVIGATED:{_BASE_:"rejoin.navigated",WHEN_FORBIDDEN:"rejoin.navigated.whenForbidden"},GAME_OVER:"rejoin.gameOver"},WAITING:{_BASE_:"waiting",REFRESH:"waiting.refresh"},EXISTING_INCOMP_PROMPT:{_BASE_:"existingIncompPrompt",ON_CHECK_ROOM:"existingIncompPrompt.onCheckRoom",ON_JOIN:"existingIncompPrompt.onJoin"},RECOMMENDATION:{_BASE_:"recommendation",FROM_SUMMARY:"recommendation.fromSummary",FROM_HOME:"recommendation.fromHome",FROM_TOPIC_PAGE:"recommendation.fromTopicPage"},GROUP_GAME:{_BASE_:"groupGame",NOTIFICATION:"groupGame.notification",CARD:{_BASE_:"groupGame.card",RUNNING:"groupGame.card.running",RECENT_ACTIVITY:"groupGame.card.recentActivity"}},FROM_SHARE:{_BASE_:"fromShare",VIA_ADMIN:"fromShare.viaAdmin",VIA_JOIN:"fromShare.viaJoin"},MY_QUIZZES:{_BASE_:"myQuizzes",FROM_ACTIVITY_PAGE:"myQuizzes.fromActivityPage"},CHALLENGE_WAITING:{_BASE_:"challengeWaiting"},EMBED:"embed"},GameStartSource=new Cartographer(SourcesList),cdn="https://cf.quizizz.com/",SoundNames={WAITING:"waiting",QUIZ:"question",SUMMARY:"waiting",JUDGEMENT_CORRECT:"judgementCorrect",JUDGEMENT_INCORRECT:"judgementIncorrect",COUNTDOWN_START:"countdownStart",COUNTDOWN_END:"countdownEnd",ACHIEVEMENT:"achievement",LEADERBOARD_MOVE_UP:"leaderboardMoveUp",LEADERBOARD_MOVE_DOWN:"leaderboardMoveDown",WHOOSH_SHORT:"whooshShort",AWARD_POWERUP_SPIN:"scroll",AWARD_POWERUP_PING:"ping",GLITCH_DISTORTION:"glitchDistortion",GAME_OVER:"gameOver",MYSTERY_BOX_OPEN_NEGATIVE:"negativeSurprise",MYSTERY_BOX_OPEN_POSITIVE:"positiveSurprise",GET_POINTS:"getPoints",LOSE_POINTS:"losePoints",STRICT_TIMER_15:"strictTimer15",STRICT_TIMER_5:"strictTimer5",STRICT_TIMER_BOOM:"strictTimerBoom",RECORD_START:"recordStart",RECORD_END:"recordEnd",CONFETTI_POP:"confettiPop",TRUMPET_LOOSER_SOUND:"trumpetLooserSound",EXCITING_GIFT:"excitingGift",PLOP:"plop",AVALANCHE:"avalanche",MYSTIC_PEAK_LANDSLIDE:"mysticPeakLandslide",MYSTIC_PEAK_QUIZ:"mysticPeakQuiz",MYSTIC_PEAK_OBSTACLE_SELECTED:"mysticPeakObstacleSelected",MYSTIC_PEAK_POWERUP_SELECTED:"mysticPeakPowerupSelected",MYSTIC_PEAK_LEVEL_UPGRADED:"mysticPeakLevelUpgraded",QUESTION_START_BELL:"questionStartBell"},COUNTDOWN_SOUNDS={[SoundNames.COUNTDOWN_START]:{src:`${cdn}join/sounds/countdown`,volume:1},[SoundNames.COUNTDOWN_END]:{src:`${cdn}join/sounds/countdown_end`,volume:1}},ThemeDependantSounds={[Constants.ThemeNames.CLASSIC]:{...COUNTDOWN_SOUNDS,[SoundNames.WAITING]:{src:`${cdn}join/sounds/waiting_bg`,volume:1,loop:!0},[SoundNames.QUIZ]:{src:`${cdn}join/sounds/quiz_bg2`,volume:.4,loop:!0},[SoundNames.JUDGEMENT_CORRECT]:{src:`${cdn}join/sounds/correct_answer`,volume:.2},[SoundNames.JUDGEMENT_INCORRECT]:{src:`${cdn}join/sounds/wrong_answer`,volume:.14},[SoundNames.GAME_OVER]:{src:`${cdn}join/sounds/correct_answer`,volume:0}},[Constants.ThemeNames.SYNTHWAVE]:{...COUNTDOWN_SOUNDS,[SoundNames.WAITING]:{src:`${cdn}themes/v2/synthwave/music_bg`,volume:1,loop:!0},[SoundNames.QUIZ]:{src:`${cdn}themes/v2/synthwave/music_bg`,volume:1,loop:!0},[SoundNames.JUDGEMENT_CORRECT]:{src:`${cdn}themes/v2/synthwave/sfx_correct`,volume:1},[SoundNames.JUDGEMENT_INCORRECT]:{src:`${cdn}themes/v2/synthwave/sfx_incorrect`,volume:1},[SoundNames.GAME_OVER]:{src:`${cdn}themes/v2/synthwave/sfx_gameOver`,volume:1}},[Constants.ThemeNames.DOGSVILLE]:{...COUNTDOWN_SOUNDS,[SoundNames.WAITING]:{src:`${cdn}themes/v2/dogsville/music_bg`,volume:1,loop:!0},[SoundNames.QUIZ]:{src:`${cdn}themes/v2/dogsville/music_bg`,volume:1,loop:!0},[SoundNames.JUDGEMENT_CORRECT]:{src:`${cdn}themes/v2/dogsville/sfx_correct`,volume:1},[SoundNames.JUDGEMENT_INCORRECT]:{src:`${cdn}themes/v2/dogsville/sfx_incorrect`,volume:1},[SoundNames.GAME_OVER]:{src:`${cdn}themes/v2/dogsville/sfx_gameOver`,volume:1}},[Constants.ThemeNames.THE_8_BIT]:{...COUNTDOWN_SOUNDS,[SoundNames.WAITING]:{src:`${cdn}themes/v2/the8Bit/music_bg`,volume:1,loop:!0},[SoundNames.QUIZ]:{src:`${cdn}themes/v2/the8Bit/music_bg`,volume:1,loop:!0},[SoundNames.JUDGEMENT_CORRECT]:{src:`${cdn}themes/v2/the8Bit/sfx_correct`,volume:1},[SoundNames.JUDGEMENT_INCORRECT]:{src:`${cdn}themes/v2/the8Bit/sfx_incorrect`,volume:1},[SoundNames.GAME_OVER]:{src:`${cdn}themes/v2/the8Bit/sfx_gameOver`,volume:1}},[Constants.ThemeNames.ANIME]:{...COUNTDOWN_SOUNDS,[SoundNames.WAITING]:{src:`${cdn}themes/v2/anime/music_bg`,volume:1,loop:!0},[SoundNames.QUIZ]:{src:`${cdn}themes/v2/anime/music_bg`,volume:1,loop:!0},[SoundNames.JUDGEMENT_CORRECT]:{src:`${cdn}themes/v2/anime/sfx_correct`,volume:1},[SoundNames.JUDGEMENT_INCORRECT]:{src:`${cdn}themes/v2/anime/sfx_incorrect`,volume:1},[SoundNames.GAME_OVER]:{src:`${cdn}themes/v2/anime/sfx_gameOver`,volume:1}},[Constants.ThemeNames.FOOTBALL]:{...COUNTDOWN_SOUNDS,[SoundNames.WAITING]:{src:`${cdn}themes/v2/football/music_bg`,volume:1,loop:!0},[SoundNames.QUIZ]:{src:`${cdn}themes/v2/football/music_bg`,volume:1,loop:!0},[SoundNames.JUDGEMENT_CORRECT]:{src:`${cdn}themes/v2/football/sfx_correct`,volume:1},[SoundNames.JUDGEMENT_INCORRECT]:{src:`${cdn}themes/v2/football/sfx_incorrect`,volume:1},[SoundNames.GAME_OVER]:{src:`${cdn}themes/v2/football/sfx_gameOver`,volume:1}},[Constants.ThemeNames.NINETIES]:{...COUNTDOWN_SOUNDS,[SoundNames.WAITING]:{src:`${cdn}themes/v2/nineties/music_bg`,volume:1,loop:!0},[SoundNames.QUIZ]:{src:`${cdn}themes/v2/nineties/music_bg`,volume:1,loop:!0},[SoundNames.JUDGEMENT_CORRECT]:{src:`${cdn}themes/v2/nineties/sfx_correct`,volume:1},[SoundNames.JUDGEMENT_INCORRECT]:{src:`${cdn}themes/v2/nineties/sfx_incorrect`,volume:1},[SoundNames.GAME_OVER]:{src:`${cdn}themes/v2/nineties/sfx_gameOver`,volume:1}},[Constants.ThemeNames.MYSTIC_PEAK]:{[SoundNames.COUNTDOWN_START]:{src:`${cdn}join/sounds/mp_COUNTDOWN_START`,volume:1},[SoundNames.COUNTDOWN_END]:{src:`${cdn}join/sounds/mp_COUNTDOWN_END`,volume:1},[SoundNames.WAITING]:{src:`${cdn}themes/v1/mystic_peak/bg_waiting`,volume:1,loop:!0},[SoundNames.QUIZ]:{src:`${cdn}join/sounds/mp_MOUNTAIN`,volume:1,loop:!0},[SoundNames.JUDGEMENT_CORRECT]:{src:`${cdn}join/sounds/mp_CORRECT`,volume:.2},[SoundNames.JUDGEMENT_INCORRECT]:{src:`${cdn}join/sounds/mp_Wrong_Answer`,volume:.14},[SoundNames.GAME_OVER]:{src:`${cdn}themes/v1/mystic_peak/sfx_gameOver`,volume:1}}},IndependantSounds={[SoundNames.ACHIEVEMENT]:{src:`${cdn}join/sounds/achievement1`,volume:.1},[SoundNames.LEADERBOARD_MOVE_UP]:{src:`${cdn}join/sounds/leaderboard_up`,volume:.35},[SoundNames.LEADERBOARD_MOVE_DOWN]:{src:`${cdn}join/sounds/leaderboard_down`,volume:.1},[SoundNames.WHOOSH_SHORT]:{src:`${cdn}join/sounds/whoosh_short`,volume:.4},[SoundNames.AWARD_POWERUP_SPIN]:{src:`${cdn}join/sounds/Scroll-test`,volume:.4},[SoundNames.AWARD_POWERUP_PING]:{src:`${cdn}join/sounds/Ping-test`,volume:.4},[SoundNames.GLITCH_DISTORTION]:{src:`${cdn}join/sounds/glitch_distortion`,volume:.4,loop:!0},[SoundNames.MYSTERY_BOX_OPEN_POSITIVE]:{src:`${cdn}join/sounds/mystery_cube_open_pos`,volume:1},[SoundNames.MYSTERY_BOX_OPEN_NEGATIVE]:{src:`${cdn}join/sounds/mystery_cube_open_neg`,volume:1},[SoundNames.GET_POINTS]:{src:`${cdn}game/audio/sfx/get_points`,volume:1.2},[SoundNames.LOSE_POINTS]:{src:`${cdn}game/audio/sfx/lose_points`,volume:1},[SoundNames.QUESTION_START_BELL]:{src:`${cdn}sounds/presentation-dashboard/look`,volume:1},[SoundNames.STRICT_TIMER_15]:{src:`${cdn}sounds/presentation-dashboard/timer_15_sec`,volume:1},[SoundNames.STRICT_TIMER_5]:{src:`${cdn}sounds/presentation-dashboard/timer_5_sec`,volume:1},[SoundNames.STRICT_TIMER_BOOM]:{src:`${cdn}sounds/presentation-dashboard/timer_boom`,volume:1},[SoundNames.RECORD_START]:{src:`${cdn}game/audio/sfx/startRecording`,volume:.4},[SoundNames.RECORD_END]:{src:`${cdn}game/audio/sfx/endRecording`,volume:.4},[SoundNames.CONFETTI_POP]:{src:`${cdn}game/audio/sfx/powerup-extra-points`,volume:.8},[SoundNames.TRUMPET_LOOSER_SOUND]:{src:`${cdn}game/audio/sfx/trombone_looser_sound`,volume:1},[SoundNames.EXCITING_GIFT]:{src:`${cdn}game/audio/sfx/exciting_gift`,volume:1},[SoundNames.PLOP]:{src:`${cdn}sounds/live-dashboard/themes/default/plop`,volume:.8}},EffectsForSound={[SoundNames.WAITING]:{[EffectPlacement.ON_STOP]:{name:EffectNames.FADE,from:"initial",to:0,duration:400}},[SoundNames.QUIZ]:__sameAs__(SoundNames.WAITING),[SoundNames.SUMMARY]:__sameAs__(SoundNames.WAITING),[SoundNames.JUDGEMENT_CORRECT]:{[EffectPlacement.PRE_PLAY]:{name:EffectNames.FADE_ALL_BUT_CURRENT,from:"initial",to:.3,duration:250},[EffectPlacement.ON_END]:{name:EffectNames.FADE_ALL_BUT_CURRENT,from:"current",to:"initial",duration:250}},[SoundNames.JUDGEMENT_INCORRECT]:__sameAs__(SoundNames.JUDGEMENT_CORRECT),[SoundNames.GAME_OVER]:__sameAs__(SoundNames.JUDGEMENT_CORRECT),[SoundNames.MYSTERY_BOX_OPEN_NEGATIVE]:__sameAs__(SoundNames.JUDGEMENT_CORRECT),[SoundNames.MYSTERY_BOX_OPEN_POSITIVE]:__sameAs__(SoundNames.JUDGEMENT_CORRECT),[SoundNames.QUESTION_START_BELL]:__sameAs__(SoundNames.JUDGEMENT_CORRECT),[SoundNames.STRICT_TIMER_15]:__sameAs__(SoundNames.JUDGEMENT_CORRECT),[SoundNames.STRICT_TIMER_5]:__sameAs__(SoundNames.JUDGEMENT_CORRECT),[SoundNames.STRICT_TIMER_BOOM]:__sameAs__(SoundNames.JUDGEMENT_CORRECT),[SoundNames.CONFETTI_POP]:{[EffectPlacement.PRE_PLAY]:{name:EffectNames.FADE_ALL_BUT_CURRENT,from:"initial",to:.1,duration:100},[EffectPlacement.ON_END]:{name:EffectNames.FADE_ALL_BUT_CURRENT,from:"current",to:"initial",duration:250}},[SoundNames.TRUMPET_LOOSER_SOUND]:__sameAs__(SoundNames.CONFETTI_POP),[SoundNames.EXCITING_GIFT]:__sameAs__(SoundNames.CONFETTI_POP)},ExtraSoundsForTheme={[Constants.ThemeNames.MYSTIC_PEAK]:{[SoundNames.AVALANCHE]:{src:`${cdn}join/sounds/mp_AVALANCHE`,volume:1},[SoundNames.MYSTIC_PEAK_LANDSLIDE]:{src:`${cdn}join/sounds/mp_LANDSLIDE`,volume:1},[SoundNames.MYSTIC_PEAK_OBSTACLE_SELECTED]:{src:`${cdn}join/sounds/mp_OBSTACLE_OPENING_BREAKROOM`,volume:1},[SoundNames.MYSTIC_PEAK_POWERUP_SELECTED]:{src:`${cdn}join/sounds/mp_POWERUP`,volume:1},[SoundNames.MYSTIC_PEAK_LEVEL_UPGRADED]:{src:`${cdn}join/sounds/mp_NEXT_LEVEL`,volume:1}}},SoundCategories={MUSIC:"music",SFX:"sfx"},CategorizedSounds={[SoundCategories.MUSIC]:[SoundNames.WAITING,SoundNames.QUIZ,SoundNames.SUMMARY],[SoundCategories.SFX]:[SoundNames.JUDGEMENT_CORRECT,SoundNames.JUDGEMENT_INCORRECT,SoundNames.COUNTDOWN_START,SoundNames.COUNTDOWN_END,SoundNames.ACHIEVEMENT,SoundNames.LEADERBOARD_MOVE_UP,SoundNames.LEADERBOARD_MOVE_DOWN,SoundNames.WHOOSH_SHORT,SoundNames.AWARD_POWERUP_SPIN,SoundNames.AWARD_POWERUP_PING,SoundNames.GLITCH_DISTORTION,SoundNames.GAME_OVER,SoundNames.MYSTERY_BOX_OPEN_NEGATIVE,SoundNames.MYSTERY_BOX_OPEN_POSITIVE,SoundNames.GET_POINTS,SoundNames.LOSE_POINTS,SoundNames.QUESTION_START_BELL,SoundNames.STRICT_TIMER_15,SoundNames.STRICT_TIMER_5,SoundNames.STRICT_TIMER_BOOM,SoundNames.RECORD_START,SoundNames.RECORD_END,SoundNames.CONFETTI_POP,SoundNames.TRUMPET_LOOSER_SOUND,SoundNames.EXCITING_GIFT,SoundNames.PLOP,SoundNames.AVALANCHE,SoundNames.MYSTIC_PEAK_LANDSLIDE,SoundNames.MYSTIC_PEAK_QUIZ,SoundNames.MYSTIC_PEAK_OBSTACLE_SELECTED,SoundNames.MYSTIC_PEAK_POWERUP_SELECTED,SoundNames.MYSTIC_PEAK_LEVEL_UPGRADED]};function __sameAs__(e){return`-DO-*${e}`}(function(){if(Constants.NodeEnvs.DEV==="production"){const t=_.map(ThemeDependantSounds,r=>_.keys(r));if(_.max(t)!==_.min(t))throw new TypeError("SoundConfig: num soundsProvided for each theme mismatch in ThemeDependantSounds");_.forEach(EffectsForSound,(r,o)=>{if(!(_.isString(r)&&r.split("*")[0]==="-DO-"))if(_.isObject(r))_.forEach(r,(s,a)=>{if(!_.includes(EffectPlacement,a))throw new TypeError(`SoundConfig: effect placement ${a} for sound ${o} is not present in the list of EffectPlacements`);if(!_.includes(EffectNames,s.name))throw new TypeError(`SoundConfig: effect name ${s.name} for sound ${o} is not present in the list of EffectNames`)});else throw new TypeError(`SoundConfig: sound ${o} does not have a valid effect`)});const n=_.reduce(CategorizedSounds,(r,o,s)=>_.concat(r,o),[]);_.forEach(SoundNames,r=>{if(!_.includes(n,r))throw new Error(`SoundConfig: soundName(${r}) does not fall in any of the sound category inside 'CategorizedSounds'`)})}})();const WebEvents={FEATURED_QUIZ_CLICK:"qg_featured_quiz_click",SEARCH_RESULT_CLICK:"searchEvent_searchItemClick",GAME_CARD_CLICK:"qg_game_card_click",QUIZ_PREVIEW_CTA_CLICK:"qg_quiz_preview_cta_click",USER_NAV_INTERACTED:"qg_user_nav_interacted",SEARCH_SUBMIT:"qg_search_submit",NETWORK_ISSUE:"nh_network_issue",APP_LOADING:"qg_app_loading",SUMMARY_SCREEN:"qg_summary_screen",PLAY_AGAIN_SUMMARY:"ft_summary_play_again",SUMMARY_SHARE:"qg_summary_share",SUMMARY_SHARE_TWITTER:"qg_summary_share_tw",RECOMMENDED_QUIZ:"qg_recommended_quiz",SIMILAR_QUIZ:"qg_rec",CREATE_QUIZ:"qg_create_quiz",CLASS_INVITE_SHOWN:"qg_class_invite_modal_show",CLASS_INVITE_ACCEPTED:"qg_class_invite_modal_accepted",PRE_GAME_SCREEN_VISITED:"PRE_GAME_SCREEN_VISITED",PRE_GAME_SCREEN_CTA_CLICK:"PRE_GAME_SCREEN_CTA_CLICK",CREATED_QUIZ_SHARE_CLICKED:"qg_created_quiz_share_clicked",USER_SETTING_CHANGED:"qg_user_setting_changed",USER_THEME_CHANGED:"qg_user_theme_changed",PAUSE_BUTTON_CLICKED:"qg_pause_button_click",CHECK_ROOM:"qg_check_room",JOIN_ROOM:"qg_join_room",MYSTERY_BOX_PURCHASE_OPENED:"ft_mc_purchased_opened",MYSTERY_BOX_PURCHASE_INFO_SUBMITTED:"ft_mc_purchased_info_submitted",MYSTERY_BOX_ADDED_TO_INVENTORY:"ft_mc_added_to_inventory",MYSTERY_BOX_WAITING_PICK_A_CUBE:"ft_mc_waiting_pick_a_cube",MYSTERY_BOX_OPEN_CLICKED:"ft_mc_open_clicked",MYSTERY_BOX_PASS_CLICKED:"ft_mc_pass_clicked",MYSTERY_BOX_UNBOXING:"ft_mc_unboxing",MYSTERY_BOX_BROWSE_CUBES:"ft_mc_browse_cubes",MYSTERY_BOX_ACTIVATED_IN_REMINDER:"ft_mc_reminder_modal_activate",STRIPE_SCRIPT_LOAD_FAILED:"ft_stripe_script_load_failed",STRIPE_CHECKOUT_REDIRECT_FAILED:"ft_stripe_checkout_redirect_failed",POWERUP_NUDGE_ACTION:"qg_powerup-nudge_action",LIVE_REACTION_CLICKED:"ft_student_live_reaction_clicked",LIVE_REACTION_HOLD:"ft_student_live_reaction_hold",NPS_FEEDBACK_TRIGGERED:"join_nps_feedback_tiggered",STUDENT_RAISED_HAND:"ft_student_raised_hand",STUDENT_DROPPED_HAND:"ft_student_dropped_hand",STUDENT_RAISE_HAND_INITIATED:"ft_student_raised_hand_init",TEACHER_DROPPED_HAND:"ft_teacher_dropped_hand",SLIDE_INITIAL_STATE:"ft_slide_initial_state",TEACHER_DISABLED_RAISE_HAND:"ft_teacher_disabled_raise_hand",TEACHER_ENABLED_RAISE_HAND:"ft_teacher_enabled_raise_hand",READ_ALOUD_TOGGLE:"ft_read_aloud_toggle",READ_ALOUD_RATE:"ft_read_aloud_rate",GOOGLE_FONT_LOAD_SUCCEEDED:"ft_google_font_load_succeeded",GOOGLE_FONT_LOAD_FAILED:"ft_google_font_load_failed",FONT_FACE_API_NOT_SUPPORTED:"ft_font_face_api_not_supported",PRESENTATION_SURVEY:"ft_pres_survey",PRESENTATION_MUTE_TOGGLED:"PresoJoinMute",PRESENTATION_RESYNCED:"PresoJoinResync",PRESENTATION_PLAYED_AGAIN:"PresoJoinPlayAgain",PRESENTATION_MOVE_TO_LAST_SLIDE:"PresoJoinLastSlide",SUMMARY_CREATE_ACTIVITY:"ft_summary_create_activity",ONE_TAP_SSO_DISMISS:"qg_google_one_tap_dismiss",ONE_TAP_SSO_SHOW:"qg_google_one_tap_show",ONE_TAP_SSO_LOGIN:"qg_google_one_tap_login",KICKED_OUT_ISSUE:"qg_kicked_out",RESUME_CARD_ISSUE:"qg_resume_card_issue",SKIP_QUESTION_CLICKED:"ft_skip_question_clicked",MEDIA_PERMISSIONS_ERROR:"ft_media_permissions_error",UPLOAD_MEDIA_RESPONSE:"ft_upload_media_response",SUBMIT_MEDIA_RESPONSE:"ft_submit_media_response",INVALID_PHONENUMBER:"searchEvent_invalidPhoneNumber",SESSION_ACTIVE:"tracking/active-time/events",CAN_SHOW_WORK:"ft_sw_can_show_work",SHOW_WORK_UPLOAD_INIT:"ft_sw_upload_init",SHOW_WORK_IMAGE_ERROR:"ft_sw_image_error",TRIGGER_REPLAY_ASYNC:"ft_tra_init",TRIGGER_REPLAY:"ft_tra_replay",TABLE_REPLAY_ASYNC:"ft_tra_table",SHOW_REPLAY_ASYNC_LINK:"ft_tra_show_link",HIDE_REPLAY_ASYNC_LINK:"ft_tra_hide_link",COPY_REPLAY_ASYNC_LINK:"ft_tra_copy_link",COPY_REPLAY_ASYNC_CODE:"ft_tra_copy_code",PLAY_REPLAY_ASYNC:"ft_tra_play",COMPLETE_PASS_1:"rdq_complete_pass_1",SUMBIT_PASS_2_RESPONSE:"rdq_sumbit_pass_2_response",COMPLETE_PASS_2:"rdq_complete_pass_2",SHARE_FLASHCARDS_PREGAME:"share_flashcards_pregame",ANSWER_LATER_TOOLTIP_SEEN:"ft_answer_later_tooltip_seen",ANSWER_LATER_CLICKED:"ft_answer_later_clicked",ANSWER_LATER_RESURFACED:"ft_answer_later_resurfaced",ANSWER_LATER_QUESTION_ATTEMPTED:"ft_answer_later_question_attempted",JOIN_ROOM_EXPIRED:"join_room_expired",TRY_QUIZ_QP_SOLO_GAME_LOADED:"try_quiz_qp_solo_game_loaded",STUDENT_GCL_FLOW_JOIN:"join_gcl_flow_join",STUDENT_ROSTERING_TRIGGERED:"join_student_rostering_triggered",STUDENT_GCL_ROSTERING_SUCCESFULL:"join_student_gcl_rostering_succesfull",STUDENT_SCHOOLOGY_ROSTERING_SUCCESFULL:"join_student_schoology_rostering_succesfull",STUDENT_CANVAS_ROSTERING_SUCCESFULL:"join_student_canvas_rostering_succesfull",STUDENT_ROSTERING_NOT_PART_OF_CLASS:"join_student_rostering_not_part_of_class",EMBED_MODE_GAME_STARTED:"embed_mode_game_started",EMBED_MODE_EXPLORE_QUIZIZZ:"embed_mode_explore_cta_click",TEACHER_ONBOARDING_MODAL_OPENED:"teacher_onboarding_modal_opened",TEACHER_ONBOARDING_MODAL_CLOSED:"teacher_onboarding_modal_closed",TEACHER_ONBOARDING_MODAL_NOT_NOW_PRESSED:"teacher_onboarding_modal_not_now_pressed",TEACHER_ONBOARDING_MODAL_CONVERTED:"teacher_onboarding_modal_converted",TEACHER_ONBOARDING_MODAL_FAILED:"teacher_onboarding_modal_failed",QUESTION_MARKED_FOR_REVIEW:"question_marked_for_review",ALL_TAB_SELECT_REVIEW:"all_tab_selected",UNATTEMPTED_TAB_SELECT_REVIEW:"unattempted_tab_selected",FLAGGED_TAB_SELECT_REVIEW:"flagged_tab_selected",QUESTION_UNMARKED_FOR_REVIEW:"question_unmarked_for_review",REVIEW_QUESTION_CANCELLED:"review_question_cancelled",REVIEW_QUESTION_SAVED:"review_question_saved",REVIEW_SCREEN_FINAL_SUBMIT:"review_screen_final_submit",QUESTION_REVIEW_TRIGGERED:"question_review_triggered",REVIEW_TEST_MODAL_SUBMIT:"review_test_modal_submit",REVIEW_TEST_MODAL_GOBACK:"review_test_modal_goBack",FT_MASTERY_START_GAME:"ft_mastery_start_game",FT_MASTERY_SHOW_INITIAL_PROGRESS_BAR:"ft_mastery_show_initial_progress_bar",FT_MASTERY_SHOW_PROGRESS_BAR:"ft_mastery_show_progress_bar",FT_MASTERY_ACHIEVE_MASTERY:"ft_mastery_achieve_mastery",FT_MASTERY_LETS_GO:"ft_mastery_lets_go",FT_MASTERY_END_GAME:"ft_mastery_end_game",FT_MASTERY_SUMMARY_PAGE:"ft_mastery_summary_page",FT_MASTERY_REATTEMPT:"ft_mastery_reattempt",REPORT_WITH_CURRENT_QUESTION_CLICKED:"report_with_current_question_clicked",REPORT_WITH_PREVIOUS_QUESTION_CLICKED:"report_with_previous_question_clicked",REPORT_QUESTION_CANCELLED:"report_question_cancelled",REPORT_QUESTION_SUBMITTED:"report_question_submitted",PATHFINDER_POINTS_UPDATE:"pathfinder_points_update",PATHFINDER_SELECTION:"pathfinder_selection",SLOW_INTERNET_CONNECTION:"slow_internet_connection"},SocketConfig={endPoints:{main:{baseURL:CurrentBaseUrls.SOCKET.BASE,path:"/_gsocket/sockUpg"},notification:{baseURL:CurrentBaseUrls.NOTIFICATION_BASE,path:"/_nsocket/sockUpg/socket"}},events:{main:{ClientInitiatedMessages:["checkRoom","checkAssignment","join","rejoin","proceedGame","getQuestions","playerGameOver","getRank","reconnectRoom","activatePowerup","startGame","getReport","deletePlayer","pauseGame","reactionUpdate","v2/checkRoom","v2/checkAssignment","v2/join","v2/rejoin","v2/getQuestions","v2/proceedGame","v2/playerGameOver","v2/deletePlayer","v3/checkRoom","v3/checkAssignment","v3/join","v3/rejoin","v3/rejoin-game","v4/join","v4/rejoin","v4/rejoinGame","v4/getQuestions","v4/activatePowerup","v4/checkAssignment","v5/join","v5/rejoinGame","v5/checkAssignment"],ServerInitiatedBroadcastMessages:{addPlayer:"soc_addPlayer",deletePlayer:"soc_deletePlayer",gameOverAll:"soc_gameOverAll",gameEnded:"soc_gameEnded",reconnect:"soc_reconnect",connect:"soc_reconnect",disconnect:"soc_disconnect",gameStarted:"soc_gameStarted","team-player-shuffled":"soc_teamPlayerShuffled",addPowerupEffect:"soc_addPowerupEffect","replay-game":"soc_replayGame","replay-async":"soc_replayAsync",replay:"soc_replayChallenge",playerResponded:"soc_playerResponded",authTokenExpired:"soc_authTokenExpired",updateQuestionState:"soc_updateQuestion",proceedHostGame:"soc_proceedHostGame",hostCanvasActions:"soc_hostCanvasActions",setGameTimer:"soc_setGameTimer",pauseGame:"soc_pauseGame",reactionStopped:"soc_reactionStopped",dropHand:"soc_dropHand",raiseHandToggled:"soc_raiseHandToggled",updateGameOptions:"soc_updateGameOptions",quizUpdated:"soc_quizUpdated"}},notification:{ClientInitiatedMessages:["subscribe","update-notification"],ServerInitiatedBroadcastMessages:{"add-notification":"soc_addNotification"}}}},baseServerUrl=`${CurrentBaseUrls.BASE}/`,gameServerUrl=`${CurrentBaseUrls.GAME}/`,requestServerUrl=`${CurrentBaseUrls.REQUEST}/`,drawServerUrl=`${CurrentBaseUrls.DRAW_SERVICE}/`,RequestConfig={EndPoints:{base:baseServerUrl,quizFeedback:"https://analytics.quizizz.com/feedback",checkGameDomain:`${gameServerUrl}play-api/check`,mediaOptionUrl(e){return e},getMemeSetById(e,t,n){return`${requestServerUrl}getMemeSetGame/${e}?lang=${t}&theme=${n}`},getQuizInfo(e){return`${requestServerUrl}quiz/${e}/info`},getQuizInfoForGame(e,t,n=""){return`${requestServerUrl}game/${e}/quiz-info?gameState=${t}&gameType=${n}`},addGameQuestionIssue(e,t,n){return`${requestServerUrl}game/${e}/add-issue`},getQuizData(e,t=!1,n=!1){return`${requestServerUrl}quiz/${e}?bypassProfanity=${t}&returnPrivileges=${n}&source=join`},getContestData(e){return`${requestServerUrl}contests/${e}`},searchQuizzes(e,t=0,n,r=[],o=[],s=[],a=[],u=[!0,!1],l={}){const m=r.map(I=>`"${I}"`).join(","),y=o.map(I=>`"${I}"`).join(","),d=s.map(I=>`"${I}"`).join(","),f=u.map(I=>`${I}`).join(","),v="JoinPage";let A=`${requestServerUrl}search/v1/public?sortKey=_score&filterList={"grade_type.aggs": [${m}],"lang.aggs": [${d}],"occupation":["teacher","teacher_school","teacher_university","other"],"cloned":[false],"subjects.aggs":[${y}],"grade":[],"isProfane":[${f}]}&forJoinPage=1`;return A+=`&from=${t}`,A+=`&page=${v}`,a.length>0&&(A+=`&rangeList={"numberOfQuestions": [${a[0]}, ${a[1]}]}`),e&&(A+=`&query=${e}`),n&&(A+=`&size=${n}`),_.forEach(l,(I,P)=>{A+=`&${P}=${I}`}),A},searchFeaturedQuizzes:"https://cf.quizizz.com/game/data/featured/results4.json",getEventQuizzes:`${requestServerUrl}quiz/banner-event-quizzes`,"v3/checkRoom":validateForGameSubDomain("play-api/v3/checkRoom"),"v4/checkRoom":validateForGameSubDomain("play-api/v4/checkRoom"),"v5/checkRoom":validateForGameSubDomain("play-api/v5/checkRoom"),getRank:validateForGameSubDomain("play-api/getRank"),reactionUpdate:validateForGameSubDomain("play-api/reactionUpdate"),proceedGame:validateForGameSubDomain("play-api/proceedGame"),"v4/proceedGame":validateForGameSubDomain("play-api/v4/proceedGame"),skipQuestion:validateForGameSubDomain("play-api/skipQuestion"),playerGameOver:validateForGameSubDomain("play-api/playerGameOver"),syncPlayerResponses:validateForGameSubDomain("play-api/syncPlayerResponses"),updatePlayerMetadata:validateForGameSubDomain("play-api/v2/update-player-metadata"),updateResponse:validateForGameSubDomain("play-api/v2/update-response"),raiseHand:validateForGameSubDomain("play-api/raiseHand"),createTestGameActivity:validateForGameSubDomain("play-api/createTestGameActivity"),joinSoloGame:validateForGameSubDomain("play-api/v4/soloJoin"),joinContest:validateForGameSubDomain("play-api/v1/contestJoin"),proceedSoloGame:validateForGameSubDomain("play-api/v4/soloProceed"),proceedContest:validateForGameSubDomain("play-api/v1/contestProceed"),endSoloGame:validateForGameSubDomain("play-api/v2/soloEnd"),endContest:validateForGameSubDomain("play-api/v1/contestEnd"),changeUserProfile:`${baseServerUrl}user/changeProfile`,changeUserPassword:`${baseServerUrl}user/updatePassword`,updateUserInfo:`${baseServerUrl}user/info`,getCurrentUserInfo:`${requestServerUrl}user`,checkUserNameAvail:e=>`${baseServerUrl}user/checkUserNameAvail?username=${e}`,checkEmailAvail:e=>`${baseServerUrl}user/checkUserEmailAvail?email=${e}`,checkPhoneNumberAvail:e=>`${baseServerUrl}user/checkPhoneNumberAvail?phoneNumber=${e}`,deleteAccount:`${baseServerUrl}deactivate`,loginUser:`${requestServerUrl}auth/local`,loginUserWhenPrototyping:"https://dev.quizizz.com/_api/joinLocLog/auth/local/prototyping",getFeaturedMemesets:`${baseServerUrl}memesets?featured=true`,getQuizRecommendation(e,t,n,r){return`${requestServerUrl}v2/gameSummaryRec?gameId=${e}&gameState=${t}&gameType=${n}${r&&`&userId=${r}`}`},getSimilarQuizzes(e,t,n,r,o){return`${requestServerUrl}v2/getSimilarQuizzes?gameId=${e}&gameState=${t}&gameType=${n}&page=${r}&pageSize=${o}`},checkIsQuizCompleted:`${requestServerUrl}quiz/isCompleted`,getFeaturedRecommendations:`${requestServerUrl}adminRecommend?for=join`,getRecommendationsForTopic:(e,t=1,n=12)=>`${requestServerUrl}adminRecommend/${e}?page=${t}&pageSize=${n}&for=join`,getGroups:`${requestServerUrl}user/groups`,getS3ImageUploadURL:e=>`https://quizizz.com/media/getUploadURL?${e}`,sendAdReport:`${requestServerUrl}reportAd`,powerupsConfig:(e="1")=>`https://cf.quizizz.com/game/data/PowerupsConfig/v${e}.json`,awardPowerups:validateForGameSubDomain("play-api/awardPowerups"),archivePowerups:validateForGameSubDomain("play-api/archivePowerups"),replacePowerups:validateForGameSubDomain("play-api/replacePowerups"),destroyPowerupEffect:validateForGameSubDomain("play-api/destroyPowerupEffect"),getSelectedCourses:`${requestServerUrl}getSelectedCourses`,runningGames:`${requestServerUrl}v4/students/running`,completedGames:(e=0,t=5)=>`${requestServerUrl}playerProfileV2/completed?start=${e}&pageSize=${t}`,getRunningGameAttempts:e=>`${requestServerUrl}playerProfileV2/getGameAttempts/${e}`,allQuizAttempts:e=>`${requestServerUrl}playerProfileV2/quizAttempts?quizId=${e}`,saveAvatar:`${baseServerUrl}user/setAvatar`,updateAvatar:e=>`${requestServerUrl}updateAvatar?avatarId=${e}`,getMyQuizzes:(e=0,t="createdAt",n="desc",r=!0,o={tags:[]},s)=>{let a=`${requestServerUrl}search?personal=true&from=${e}&createdByMe=${r}`;return a+=`&sorKey=${t}&order=${n}`,a+=`&filterList=${JSON.stringify(o)}`,s&&(a+=`&size=${s}`),a},getRunningGame:e=>`${requestServerUrl}v4/students/game/${e}`,decodeAppUserToken(e){return`${baseServerUrl}user/fromtoken`},appVersionConfig:"https://storage.googleapis.com/quizizz-static-content/game/data/appVersionUpdate.json","v3/getQuestions":validateForGameSubDomain("play-api/v3/getQuestions"),"v4/getQuestions":validateForGameSubDomain("play-api/v4/getQuestions"),rejoinAnyGame:validateForGameSubDomain("play-api/v5/rejoinGame"),getGroupInfo:e=>`${requestServerUrl}group/token-to-teacher?t=${e}`,joinGroup:`${requestServerUrl}group/add-member`,getTeamPlayers:validateForGameSubDomain("play-api/get-team-players"),hostGame:`${requestServerUrl}game`,getGameData:e=>`${requestServerUrl}game/${e}`,replayChallengeGame:e=>`${requestServerUrl}game/${e}/replay`,translationFile:e=>e,googleFontCDN:e=>e,refreshAuthToken:`${requestServerUrl}auth/refreshToken`,generateGameChangerCertificate:`${requestServerUrl}certifications/gameChanger`,importOrRefreshLmsClasses:`${requestServerUrl}groups/import-lms`,playerLiveWhiteboard:(e,t)=>`${drawServerUrl}canvas/${e}/players/${t}`,getIntentTopics:(e="en-us")=>`${requestServerUrl}api/v1/school/${e}/subject-topic-subtopic`,updateBreakRoom:validateForGameSubDomain("play-api/updateBreakRoom"),updatePlayerObstacle:validateForGameSubDomain("play-api/updatePlayerObstacle"),updateWaitingLeaderboard:validateForGameSubDomain("play-api/getMinimalMysticPeakLeaderBoard"),updatePathFinder:validateForGameSubDomain("play-api/updatePathFinder"),featureFlags:`${baseServerUrl}features`},REQUEST_TIMEOUT:30*1e3};function validateForGameSubDomain(e=""){return t=>{let n=baseServerUrl;return t&&(n=gameServerUrl),`${n}${e}`}}const QuizSizeSegmentsConfig={FIRST_LENGTH:14,SUBSEQUENT_LENGTH:10},REDEMPTION_ATTEMPTS_PER_SEGMENT=1,MIN_QUESTIONS_FOR_REDEMPTION=4;let RedemptionConfig$1=class Lt{static getQuestionSegmentNumber(t,n){const r=n.questionsDistribution;let o=1;for(let s=r.length-1;s>=0;s--)if(t>=r[s][0]){o=s+1;break}return o}static checkIfCurrentSegmentCompleted({segmentNumber:t,segmentInfo:n,totalOriginalAttemptsAnswered:r,totalQuestionsSkipped:o}){return n.questionsDistribution[t-1][1]===r+o}static getOriginallyIncorrectQuestionIds(t,n,r,o,s){const a=Lt.getQuestionIdsInSegement(t,o,s),u=_.filter(n,y=>_.includes(a,y.questionId)&&Lt.isResponseIncorrect(y)),l=Lt.getQuestionIdsFromResponses(u),m=Lt.getQuestionIdsFromResponses(r);return _.difference(l,m)}static areSegmentRedemptionQuestionDone(t,n,r,o){const s=Lt.getQuestionIdsInSegement(t,r,o),a=_.filter(n,l=>_.includes(s,l.questionId)),u=Lt.maxRedemptionAttemptsForSegment(r,o.maxSegments);return a.length>=u}static getQuestionIdsInSegement(t,n,r){if(n===r.maxSegments)return t;const o=r.questionsDistribution[n-1];return _.slice(t,o[0]-1,o[1])}static getQuestionIdsFromResponses(t){return _.map(t,"questionId")}static maxRedemptionAttemptsForSegment(t,n){return t===n?n*REDEMPTION_ATTEMPTS_PER_SEGMENT:REDEMPTION_ATTEMPTS_PER_SEGMENT}static getQuestionSegmentsInfo(t){const n=Lt.maxSegmentsPerQuiz(t),r=n*REDEMPTION_ATTEMPTS_PER_SEGMENT,o=[],s=_.round(t/n);for(let a=0;a<n;a++){const u=a*s+1;let l=u+s-1;a+1===n&&(l=t),o.push([u,l])}return{maxSegments:n,questionsDistribution:o,segmentSize:s,totalRedemptionAttempts:r}}static maxSegmentsPerQuiz(t){return t<=QuizSizeSegmentsConfig.FIRST_LENGTH?1:1+Math.ceil((t-QuizSizeSegmentsConfig.FIRST_LENGTH)/QuizSizeSegmentsConfig.SUBSEQUENT_LENGTH)}static isResponseIncorrect(t){return t.isCorrect===!1&&t.state===Constants.QuestionResponseStates.ATTEMPTED}init(t){this.questionState=t.state.game.questions,this.getters=t.getters}isRedemptionQuestionAllowedInGameType(t,n,r={}){return r.redemption===Constants.GameOptionsValues.Redemption.YES&&n!==Constants.GameMode.PRESENTATION&&r.showAnswers!==Constants.GameOptionsValues.ShowAnswers.NEVER&&n!==Constants.GameMode.FLASHCARD}shouldShowRedemptionQuestion(t,n,r){if(!this.isRedemptionQuestionAllowedInGameType(t,n,r)||this.getters.totalQuestionsInGame<MIN_QUESTIONS_FOR_REDEMPTION)return!1;const o=Lt.getQuestionSegmentsInfo(this.getters.totalQuestionsInGame),s=Lt.getQuestionIdsFromResponses(this.getters.orderedOriginalResponses),a=Lt.getQuestionSegmentNumber(s.length,o);if(!Lt.checkIfCurrentSegmentCompleted({segmentNumber:a,segmentInfo:o,totalOriginalAttemptsAnswered:s.length,totalQuestionsSkipped:this.getters.skippedQuestions.length}))return!1;const l=Lt.getOriginallyIncorrectQuestionIds(this.questionState.initSequence,this.getters.orderedOriginalResponses,this.getters.orderedRedemptionResponses,a,o);return!(Lt.areSegmentRedemptionQuestionDone(this.questionState.initSequence,this.getters.orderedRedemptionResponses,a,o)||l.length===0)}selectQuestionsForRedemption(){const t=Lt.getQuestionSegmentsInfo(this.getters.totalQuestionsInGame),n=Lt.getQuestionIdsFromResponses(this.getters.orderedOriginalResponses),r=Lt.getQuestionSegmentNumber(n.length,t),o=Lt.getOriginallyIncorrectQuestionIds(this.questionState.initSequence,this.getters.orderedOriginalResponses,this.getters.orderedRedemptionResponses,r,t);return _.shuffle(o)}noOfRedemptionAttemptsRequiredSoFar(t,n,r,o){if(!this.isRedemptionQuestionAllowedInGameType(t,n,r))return 0;const s=Lt.getQuestionSegmentsInfo(this.getters.totalQuestionsInGame),a=Lt.getQuestionSegmentNumber(o,s);let u=0;for(let l=0;l<a;l++){const m=s.questionsDistribution[l],y=_.slice(this.getters.orderedOriginalResponses,m[0]-1,m[1]),d=_.countBy(y,Lt.isResponseIncorrect).true||0;u+=d>=1?1:0}return u}};const RedemptionQuestionConfig=new RedemptionConfig$1;class RedemptionConfig{getOriginallyIncorrectQuestionIds(){this.questionsFromState.initSequence;const t=this.getters.orderedOriginalResponses,n=this.getters.orderedRedemptionResponses,r=t.filter(a=>RedemptionConfig.isResponseIncorrect(a)),o=RedemptionConfig.getQuestionIdsFromResponses(r),s=RedemptionConfig.getQuestionIdsFromResponses(n);return _.difference(o,s)}getTotalOriginallyIncorrectQuestionIds(){const n=this.getters.orderedOriginalResponses.filter(o=>RedemptionConfig.isResponseIncorrect(o));return RedemptionConfig.getQuestionIdsFromResponses(n)}static getQuestionIdsFromResponses(t){return t.map(n=>n.questionId)}static isResponseIncorrect(t){return t.state===Constants.QuestionResponseStates.ATTEMPTED&&(t.isCorrect===!1||t.result==="PARTIALLY_CORRECT")}init(t){this.questionsFromState=t.state.game.questions,this.getters=t.getters}isRedemptionQuestionAllowedInGameType(t,n,r={}){return r.hasRedemptionPass===Constants.GameOptionsValues.hasRedemptionPass.YES&&n!==Constants.GameMode.PRESENTATION&&r.showAnswers!==Constants.GameOptionsValues.ShowAnswers.NEVER&&n!==Constants.GameMode.FLASHCARD}shouldShowRedemptionQuestion(t,n,r){return!(!this.isRedemptionQuestionAllowedInGameType(t,n,r)||!(this.getters.answerLaterQuestions.length===0&&this.questionsFromState.remainingOrder.length===0)||this.getOriginallyIncorrectQuestionIds().length===0)}isPass1Completed(t,n,r){return this.isRedemptionQuestionAllowedInGameType(t,n,r)?this.getters.answerLaterQuestions.length===0&&this.questionsFromState.remainingOrder.length===0:!1}selectQuestionsForRedemption(){return this.getOriginallyIncorrectQuestionIds()}noOfRedemptionAttemptsRequiredSoFar(t,n,r,o){return this.isRedemptionQuestionAllowedInGameType(t,n,r)&&_.countBy(this.getters.orderedOriginalResponses,RedemptionConfig.isResponseIncorrect).true||0}}const RedemptionQuizConfig=new RedemptionConfig,OverlayTargetIds={ROOT:"qg_ui_overlay_root",GAME:"qg_ui_overlay_game"},OverlayNames={POWERUP_STEAL_POINTS:"powerupStealPoints",POWERUP_OPEN_BOX:"powerupOpenBox"},ReadAloudIds={QUES_TEXT:"ques_text",QUES_IMAGE:"ques_image",QUES_VIDEO:"ques_video",QUES_AUDIO:"ques_audio",QUES_HINT:"ques_hint",OPTION_1_TEXT:"op_1_text",OPTION_2_TEXT:"op_2_text",OPTION_3_TEXT:"op_3_text",OPTION_4_TEXT:"op_4_text",OPTION_5_TEXT:"op_5_text",OPTION_6_TEXT:"op_6_text",OPTION_7_TEXT:"op_7_text",OPTION_8_TEXT:"op_8_text",OPTION_9_TEXT:"op_9_text",OPTION_10_TEXT:"op_10_text",OPTION_11_TEXT:"op_11_text",OPTION_12_TEXT:"op_12_text",OPTION_13_TEXT:"op_13_text",OPTION_14_TEXT:"op_14_text",OPTION_15_TEXT:"op_15_text",OPTION_16_TEXT:"op_16_text",OPTION_17_TEXT:"op_17_text",OPTION_18_TEXT:"op_18_text",OPTION_19_TEXT:"op_19_text",OPTION_20_TEXT:"op_20_text",POSITION_1_TEXT:"pos_1_text",POSITION_2_TEXT:"pos_2_text",POSITION_3_TEXT:"pos_3_text",POSITION_4_TEXT:"pos_4_text",POSITION_5_TEXT:"pos_5_text",SLIDE_TITLE_TEXT:"slide_title_text",SLIDE_SUBTITLE_TEXT:"slide_subtitle_text",SLIDE_PARA_TEXT:"slide_para_text",SLIDE_BULLET_TEXT:"slide_bullet_text",SLIDE_IMAGE_TEXT:"slide_image_text",SLIDE_EMBEDED_WEBPAGE:"slide_embeded_webpage"},DefaultReadAloudOrder=[ReadAloudIds.QUES_IMAGE,ReadAloudIds.QUES_VIDEO,ReadAloudIds.QUES_AUDIO,ReadAloudIds.QUES_TEXT,ReadAloudIds.OPTION_1_TEXT,ReadAloudIds.OPTION_2_TEXT,ReadAloudIds.OPTION_3_TEXT,ReadAloudIds.OPTION_4_TEXT,ReadAloudIds.OPTION_5_TEXT,ReadAloudIds.OPTION_6_TEXT,ReadAloudIds.OPTION_7_TEXT,ReadAloudIds.OPTION_8_TEXT,ReadAloudIds.OPTION_8_TEXT,ReadAloudIds.OPTION_10_TEXT,ReadAloudIds.POSITION_1_TEXT,ReadAloudIds.POSITION_2_TEXT,ReadAloudIds.POSITION_3_TEXT,ReadAloudIds.POSITION_4_TEXT,ReadAloudIds.POSITION_5_TEXT,ReadAloudIds.SLIDE_TITLE_TEXT,ReadAloudIds.SLIDE_SUBTITLE_TEXT,ReadAloudIds.SLIDE_PARA_TEXT,ReadAloudIds.SLIDE_IMAGE_TEXT,ReadAloudIds.SLIDE_EMBEDED_WEBPAGE,ReadAloudIds.SLIDE_BULLET_TEXT],SECOND=1e3,{QuestionTypes}=Constants,GameModeConfigs={[Constants.GameMode.MYSTIC_PEAK]:{Score:{base:600,attemptBonus:{0:400,1:200},scoreConfig:{base:{correctMultiplier:1,incorrectMultiplier:0},trekker:{correctMultiplier:1,incorrectMultiplier:0,correctScore:1e3,incorrectScore:0},pioneer:{correctMultiplier:2,incorrectMultiplier:-1,correctScore:2e3,incorrectScore:-1e3},leader:{correctMultiplier:1.5,incorrectMultiplier:-.5,correctScore:1500,incorrectScore:-500}}},powerups:{avalanche:{warningTime:3*SECOND}},pathFinderTypes:{TREKKER:"trekker",LEADER:"leader",PIONEER:"pioneer"},tierConfig:{diamond:{name:"Diamond Tier",gradient:"rgba(255, 195, 104, 0.4)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Diamond.svg",textColor:""},gold:{name:"Gold Tier",gradient:"rgba(255, 195, 104, 0.4)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Gold.svg",textColor:"#FCB13A"},silver:{name:"Silver Tier",gradient:"rgba(217, 217, 217, 0.2)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Silver.svg",textColor:"#F0F0F0"},bronze:{name:"Bronze Tier",gradient:"rgba(166, 124, 82, 0.5)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Bronze.svg",textColor:"#C06F44"},iron:{name:"Iron Tier",gradient:"rgba(255, 195, 104, 0.4)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Iron.svg",textColor:""}},minimumAttemptBeforePass:2,passableQuestionTypes:[QuestionTypes.MSQ,QuestionTypes.DRAGNDROP,QuestionTypes.DND_IMAGE,QuestionTypes.DROPDOWN,QuestionTypes.MATCH,QuestionTypes.REORDER,QuestionTypes.EQUATION,QuestionTypes.GRAPHING,QuestionTypes.HOTSPOT,QuestionTypes.CLASSIFICATION]}};class LocalStorage{constructor(){this.windowStorage=window.localStorage}isPresent(){return!!(window.localStorage&&_.isFunction(window.localStorage.getItem)&&_.isFunction(window.localStorage.setItem))}key(t){return this.windowStorage.key(t)}getItem(t,n={}){n=_.defaults(n,{parseFromJSON:!0,removeItemOnError:!1});try{const r=this.windowStorage.getItem(t);return n.parseFromJSON?JSON.parse(r):r}catch(r){Constants.NodeEnvs.PROD!=="production"&&console.error(`Error at LocalStorage "getItem": for key(${t})`,r),n.removeItemOnError&&this.removeItem(t)}}setItem(t,n,r={}){r=_.defaults(r,{storeAsJSON:!0});try{const o=r.storeAsJSON?JSON.stringify(n):n;return this.windowStorage.setItem(t,o)}catch(o){Constants.NodeEnvs.PROD!=="production"&&console.error(`Error at LocalStorage "setItem": for key(${t}) and value - `,n,o)}}removeItem(t){return this.windowStorage.removeItem(t)}clear(){return this.windowStorage.clear()}}const LocalStorage$1=new LocalStorage,maxEventsPerMinute=5,maxEventsPerHour=30,percentageOfUsersAllowedToSendEvents=.5/100,count={minute:{slot:0,eventsLogged:0},hour:{slot:0,eventsLogged:0}};function beforeSendingEventToSentry(e,t){const n=e.extra&&e.extra.forceCapture;if(shouldSendEventToSentry()||n){const r=_.reduce(t.state.rootReducer.media,(s,a,u)=>(s[`device_${u}`]=a,s),{}),o={gameId:t.state.game.data.roomHash,userId:t.state.user.profile.mongoId,playerId:t.state.game.player.playerId,...r};return e.extra?e.extra={...e.extra,...o}:e.extra=o,e}return null}function shouldSendEventToSentry(){const e=Date.now(),t=Math.round(e/1e3/60),n=Math.round(e/1e3/60/60),r=LocalStorage$1.getItem("snt");return _.isBoolean(r)&&r&&(count.minute.slot!==t&&(count.minute.slot=t,count.minute.eventsLogged=0),count.hour.slot!==n&&(count.hour.slot=n,count.hour.eventsLogged=0),count.minute.eventsLogged<maxEventsPerMinute&&(count.minute.eventsLogged+=1,count.hour.eventsLogged<maxEventsPerHour))?(count.hour.eventsLogged+=1,!0):!1}function setIfUserCanSendEventsToSentry(){Math.random()<percentageOfUsersAllowedToSendEvents?LocalStorage$1.setItem("snt",!0):LocalStorage$1.setItem("snt",!1)}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var storeKey="store";function useStore(e){return e===void 0&&(e=null),inject(e!==null?e:storeKey)}function find(e,t){return e.filter(t)[0]}function deepCopy(e,t){if(t===void 0&&(t=[]),e===null||typeof e!="object")return e;var n=find(t,function(o){return o.original===e});if(n)return n.copy;var r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach(function(o){r[o]=deepCopy(e[o],t)}),r}function forEachValue(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function isObject(e){return e!==null&&typeof e=="object"}function isPromise(e){return e&&typeof e.then=="function"}function partial(e,t){return function(){return e(t)}}function genericSubscribe(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function resetStore(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;installModule(e,n,[],e._modules.root,!0),resetStoreState(e,n,t)}function resetStoreState(e,t,n){var r=e._state,o=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,a={},u={},l=effectScope(!0);l.run(function(){forEachValue(s,function(m,y){a[y]=partial(m,e),u[y]=computed(function(){return a[y]()}),Object.defineProperty(e.getters,y,{get:function(){return u[y].value},enumerable:!0})})}),e._state=reactive({data:t}),e._scope=l,e.strict&&enableStrictMode(e),r&&n&&e._withCommit(function(){r.data=null}),o&&o.stop()}function installModule(e,t,n,r,o){var s=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!s&&!o){var u=getNestedState(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){u[l]=r.state})}var m=r.context=makeLocalContext(e,a,n);r.forEachMutation(function(y,d){var f=a+d;registerMutation(e,f,y,m)}),r.forEachAction(function(y,d){var f=y.root?d:a+d,v=y.handler||y;registerAction(e,f,v,m)}),r.forEachGetter(function(y,d){var f=a+d;registerGetter(e,f,y,m)}),r.forEachChild(function(y,d){installModule(e,t,n.concat(d),y,o)})}function makeLocalContext(e,t,n){var r=t==="",o={dispatch:r?e.dispatch:function(s,a,u){var l=unifyObjectStyle(s,a,u),m=l.payload,y=l.options,d=l.type;return(!y||!y.root)&&(d=t+d),e.dispatch(d,m)},commit:r?e.commit:function(s,a,u){var l=unifyObjectStyle(s,a,u),m=l.payload,y=l.options,d=l.type;(!y||!y.root)&&(d=t+d),e.commit(d,m,y)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return makeLocalGetters(e,t)}},state:{get:function(){return getNestedState(e.state,n)}}}),o}function makeLocalGetters(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(o){if(o.slice(0,r)===t){var s=o.slice(r);Object.defineProperty(n,s,{get:function(){return e.getters[o]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function registerMutation(e,t,n,r){var o=e._mutations[t]||(e._mutations[t]=[]);o.push(function(a){n.call(e,r.state,a)})}function registerAction(e,t,n,r){var o=e._actions[t]||(e._actions[t]=[]);o.push(function(a){var u=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},a);return isPromise(u)||(u=Promise.resolve(u)),e._devtoolHook?u.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):u})}function registerGetter(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function enableStrictMode(e){watch(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function getNestedState(e,t){return t.reduce(function(n,r){return n[r]},e)}function unifyObjectStyle(e,t,n){return isObject(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var LABEL_VUEX_BINDINGS="vuex bindings",MUTATIONS_LAYER_ID="vuex:mutations",ACTIONS_LAYER_ID="vuex:actions",INSPECTOR_ID="vuex",actionId=0;function addDevtools(e,t){setupDevtoolsPlugin({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[LABEL_VUEX_BINDINGS]},function(n){n.addTimelineLayer({id:MUTATIONS_LAYER_ID,label:"Vuex Mutations",color:COLOR_LIME_500}),n.addTimelineLayer({id:ACTIONS_LAYER_ID,label:"Vuex Actions",color:COLOR_LIME_500}),n.addInspector({id:INSPECTOR_ID,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===INSPECTOR_ID)if(r.filter){var o=[];flattenStoreForInspectorTree(o,t._modules.root,r.filter,""),r.rootNodes=o}else r.rootNodes=[formatStoreForInspectorTree(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===INSPECTOR_ID){var o=r.nodeId;makeLocalGetters(t,o),r.state=formatStoreForInspectorState(getStoreModule(t._modules,o),o==="root"?t.getters:t._makeLocalGettersCache,o)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===INSPECTOR_ID){var o=r.nodeId,s=r.path;o!=="root"&&(s=o.split("/").filter(Boolean).concat(s)),t._withCommit(function(){r.set(t._state.data,s,r.state.value)})}}),t.subscribe(function(r,o){var s={};r.payload&&(s.payload=r.payload),s.state=o,n.notifyComponentUpdate(),n.sendInspectorTree(INSPECTOR_ID),n.sendInspectorState(INSPECTOR_ID),n.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:Date.now(),title:r.type,data:s}})}),t.subscribeAction({before:function(r,o){var s={};r.payload&&(s.payload=r.payload),r._id=actionId++,r._time=Date.now(),s.state=o,n.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,o){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=o,n.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var COLOR_LIME_500=8702998,COLOR_DARK=6710886,COLOR_WHITE=16777215,TAG_NAMESPACED={label:"namespaced",textColor:COLOR_WHITE,backgroundColor:COLOR_DARK};function extractNameFromPath(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function formatStoreForInspectorTree(e,t){return{id:t||"root",label:extractNameFromPath(t),tags:e.namespaced?[TAG_NAMESPACED]:[],children:Object.keys(e._children).map(function(n){return formatStoreForInspectorTree(e._children[n],t+n+"/")})}}function flattenStoreForInspectorTree(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[TAG_NAMESPACED]:[]}),Object.keys(t._children).forEach(function(o){flattenStoreForInspectorTree(e,t._children[o],n,r+o+"/")})}function formatStoreForInspectorState(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),o={state:Object.keys(e.state).map(function(a){return{key:a,editable:!0,value:e.state[a]}})};if(r.length){var s=transformPathsToObjectTree(t);o.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?extractNameFromPath(a):a,editable:!1,value:canThrow(function(){return s[a]})}})}return o}function transformPathsToObjectTree(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var o=t,s=r.pop();r.forEach(function(a){o[a]||(o[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),o=o[a]._custom.value}),o[s]=canThrow(function(){return e[n]})}else t[n]=canThrow(function(){return e[n]})}),t}function getStoreModule(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,o,s){var a=r[o];if(!a)throw new Error('Missing module "'+o+'" for path "'+t+'".');return s===n.length-1?a:a._children},t==="root"?e:e.root._children)}function canThrow(e){try{return e()}catch(t){return t}}var Module=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},prototypeAccessors$1={namespaced:{configurable:!0}};prototypeAccessors$1.namespaced.get=function(){return!!this._rawModule.namespaced};Module.prototype.addChild=function(t,n){this._children[t]=n};Module.prototype.removeChild=function(t){delete this._children[t]};Module.prototype.getChild=function(t){return this._children[t]};Module.prototype.hasChild=function(t){return t in this._children};Module.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Module.prototype.forEachChild=function(t){forEachValue(this._children,t)};Module.prototype.forEachGetter=function(t){this._rawModule.getters&&forEachValue(this._rawModule.getters,t)};Module.prototype.forEachAction=function(t){this._rawModule.actions&&forEachValue(this._rawModule.actions,t)};Module.prototype.forEachMutation=function(t){this._rawModule.mutations&&forEachValue(this._rawModule.mutations,t)};Object.defineProperties(Module.prototype,prototypeAccessors$1);var ModuleCollection=function(t){this.register([],t,!1)};ModuleCollection.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};ModuleCollection.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,o){return n=n.getChild(o),r+(n.namespaced?o+"/":"")},"")};ModuleCollection.prototype.update=function(t){update([],this.root,t)};ModuleCollection.prototype.register=function(t,n,r){var o=this;r===void 0&&(r=!0);var s=new Module(n,r);if(t.length===0)this.root=s;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],s)}n.modules&&forEachValue(n.modules,function(u,l){o.register(t.concat(l),u,r)})};ModuleCollection.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],o=n.getChild(r);o&&o.runtime&&n.removeChild(r)};ModuleCollection.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function update(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;update(e.concat(r),t.getChild(r),n.modules[r])}}function createStore(e){return new Store(e)}var Store=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var o=t.strict;o===void 0&&(o=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ModuleCollection(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var a=this,u=this,l=u.dispatch,m=u.commit;this.dispatch=function(f,v){return l.call(a,f,v)},this.commit=function(f,v,A){return m.call(a,f,v,A)},this.strict=o;var y=this._modules.root.state;installModule(this,y,[],this._modules.root),resetStoreState(this,y),r.forEach(function(d){return d(n)})},prototypeAccessors={state:{configurable:!0}};Store.prototype.install=function(t,n){t.provide(n||storeKey,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&addDevtools(t,this)};prototypeAccessors.state.get=function(){return this._state.data};prototypeAccessors.state.set=function(e){};Store.prototype.commit=function(t,n,r){var o=this,s=unifyObjectStyle(t,n,r),a=s.type,u=s.payload,l={type:a,payload:u},m=this._mutations[a];m&&(this._withCommit(function(){m.forEach(function(d){d(u)})}),this._subscribers.slice().forEach(function(y){return y(l,o.state)}))};Store.prototype.dispatch=function(t,n){var r=this,o=unifyObjectStyle(t,n),s=o.type,a=o.payload,u={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(y){return y.before}).forEach(function(y){return y.before(u,r.state)})}catch{}var m=l.length>1?Promise.all(l.map(function(y){return y(a)})):l[0](a);return new Promise(function(y,d){m.then(function(f){try{r._actionSubscribers.filter(function(v){return v.after}).forEach(function(v){return v.after(u,r.state)})}catch{}y(f)},function(f){try{r._actionSubscribers.filter(function(v){return v.error}).forEach(function(v){return v.error(u,r.state,f)})}catch{}d(f)})})}};Store.prototype.subscribe=function(t,n){return genericSubscribe(t,this._subscribers,n)};Store.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return genericSubscribe(r,this._actionSubscribers,n)};Store.prototype.watch=function(t,n,r){var o=this;return watch(function(){return t(o.state,o.getters)},n,Object.assign({},r))};Store.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Store.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),installModule(this,this.state,t,this._modules.get(t),r.preserveState),resetStoreState(this,this.state)};Store.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=getNestedState(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),resetStore(this)};Store.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Store.prototype.hotUpdate=function(t){this._modules.update(t),resetStore(this,!0)};Store.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Store.prototype,prototypeAccessors);var mapState=normalizeNamespace(function(e,t){var n={};return normalizeMap(t).forEach(function(r){var o=r.key,s=r.val;n[o]=function(){var u=this.$store.state,l=this.$store.getters;if(e){var m=getModuleByNamespace(this.$store,"mapState",e);if(!m)return;u=m.context.state,l=m.context.getters}return typeof s=="function"?s.call(this,u,l):u[s]},n[o].vuex=!0}),n}),mapGetters=normalizeNamespace(function(e,t){var n={};return normalizeMap(t).forEach(function(r){var o=r.key,s=r.val;s=e+s,n[o]=function(){if(!(e&&!getModuleByNamespace(this.$store,"mapGetters",e)))return this.$store.getters[s]},n[o].vuex=!0}),n}),mapActions=normalizeNamespace(function(e,t){var n={};return normalizeMap(t).forEach(function(r){var o=r.key,s=r.val;n[o]=function(){for(var u=[],l=arguments.length;l--;)u[l]=arguments[l];var m=this.$store.dispatch;if(e){var y=getModuleByNamespace(this.$store,"mapActions",e);if(!y)return;m=y.context.dispatch}return typeof s=="function"?s.apply(this,[m].concat(u)):m.apply(this.$store,[s].concat(u))}}),n});function normalizeMap(e){return isValidMap(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function isValidMap(e){return Array.isArray(e)||isObject(e)}function normalizeNamespace(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function getModuleByNamespace(e,t,n){var r=e._modulesNamespaceMap[n];return r}function createLogger(e){e===void 0&&(e={});var t=e.collapsed;t===void 0&&(t=!0);var n=e.filter;n===void 0&&(n=function(y,d,f){return!0});var r=e.transformer;r===void 0&&(r=function(y){return y});var o=e.mutationTransformer;o===void 0&&(o=function(y){return y});var s=e.actionFilter;s===void 0&&(s=function(y,d){return!0});var a=e.actionTransformer;a===void 0&&(a=function(y){return y});var u=e.logMutations;u===void 0&&(u=!0);var l=e.logActions;l===void 0&&(l=!0);var m=e.logger;return m===void 0&&(m=console),function(y){var d=deepCopy(y.state);typeof m>"u"||(u&&y.subscribe(function(f,v){var A=deepCopy(v);if(n(f,d,A)){var I=getFormattedTime(),P=o(f),O="mutation "+f.type+I;startMessage(m,O,t),m.log("%c prev state","color: #9E9E9E; font-weight: bold",r(d)),m.log("%c mutation","color: #03A9F4; font-weight: bold",P),m.log("%c next state","color: #4CAF50; font-weight: bold",r(A)),endMessage(m)}d=A}),l&&y.subscribeAction(function(f,v){if(s(f,v)){var A=getFormattedTime(),I=a(f),P="action "+f.type+A;startMessage(m,P,t),m.log("%c action","color: #03A9F4; font-weight: bold",I),endMessage(m)}}))}}function startMessage(e,t,n){var r=n?e.groupCollapsed:e.group;try{r.call(e,t)}catch{e.log(t)}}function endMessage(e){try{e.groupEnd()}catch{e.log("—— log end ——")}}function getFormattedTime(){var e=new Date;return" @ "+pad$1(e.getHours(),2)+":"+pad$1(e.getMinutes(),2)+":"+pad$1(e.getSeconds(),2)+"."+pad$1(e.getMilliseconds(),3)}function repeat(e,t){return new Array(t+1).join(e)}function pad$1(e,t){return repeat("0",t-e.toString().length)+e}class GoogleApiLoader{loadGoogleApiScript(){return new Promise((t,n)=>{const r=document.createElement("script"),o="https://accounts.google.com/gsi/client";r.src=o,r.onload=()=>t(),r.onerror=()=>n("Error loading google one tap service");const s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(r,s)})}}const GoogleApiLoader$1=new GoogleApiLoader;class SessionStorage{constructor(){this.windowStorage=window.sessionStorage}isPresent(){return!!(window.sessionStorage&&_.isFunction(window.sessionStorage.getItem)&&_.isFunction(window.sessionStorage.setItem))}key(t){return this.windowStorage.key(t)}getItem(t,n={}){n=_.defaults(n,{parseFromJSON:!0,removeItemOnError:!1});try{const r=this.windowStorage.getItem(t);return n.parseFromJSON?JSON.parse(r):r}catch(r){Constants.NodeEnvs.PROD!=="production"&&console.error(`Error at SessionStorage "getItem": for key(${t})`,r),n.removeItemOnError&&this.removeItem(t)}}setItem(t,n,r={}){r=_.defaults(r,{storeAsJSON:!0});try{const o=r.storeAsJSON?JSON.stringify(n):n;return this.windowStorage.setItem(t,o)}catch(o){Constants.NodeEnvs.PROD!=="production"&&console.error(`Error at SessionStorage "setItem": for key(${t}) and value - `,o)}}removeItem(t){return this.windowStorage.removeItem(t)}clear(){return this.windowStorage.clear()}}const SessionStorage$1=new SessionStorage,Pi=class{constructor(){Vn(this,"Q_CONSOLE_LOGGING_ALLOWED_KEY","qgCLAllowed");Vn(this,"SESSION_STORAGE_LOGS_KEY","qgLogs");Vn(this,"currentLogSessionId",`s_${Date.now()}`);Vn(this,"isEnvProd",Constants.NodeEnvs.PROD==="production");this.isBrowserConsoleLoggingAllowed=this.checkIfBrowserConsoleLoggingAllowed()}isVueDevToolsAllowed(){return this.isBrowserConsoleLoggingAllowed}checkIfBrowserConsoleLoggingAllowed(){if(!this.isEnvProd)return!0;if(!LocalStorage$1.isPresent())return!1;try{return LocalStorage$1.getItem(this.Q_CONSOLE_LOGGING_ALLOWED_KEY)===!0}catch(t){return this.isEnvProd||console.error("Error at QLogger checkIfBrowserConsoleLoggingAllowed",t),!1}}warningLog(){setTimeout(console.log.bind(console,"%c%s","color: red; background: yellow; font-size: 24px;","WARNING!")),setTimeout(console.log.bind(console,"%c%s","font-size: 18px;",`Using this console may allow attackers to impersonate you and steal your information using an attack called Self-XSS.
Do not enter or paste code that you don't understand.`))}isSessionLoggingAllowed(){return this.isEnvProd&&SessionStorage$1.isPresent()&&Pi.IS_SESSION_STORAGE_ALLOWED}logItems(t,n="info"){if(!this.isBrowserConsoleLoggingAllowed)return;const r=Array.isArray(t)?t:[t],o=_.map(r,s=>_.isFunction(s)?s():s);console[n](...o)}warn(...t){this.logItems(t,"warn")}error(...t){this.logItems(t,"error")}log(...t){this.logItems(t,"log")}info(...t){this.logItems(t,"info")}logForSession(t,n="info",r={}){r=_.defaults(r,{logToBrowserConsole:!0,numArgsToUseForSessionLog:-1});const o=Array.isArray(t)?t:[t];if(r.logToBrowserConsole&&this.isBrowserConsoleLoggingAllowed&&console[n](...o),this.isSessionLoggingAllowed()){const s=[`[${_.toUpper(n[0])}]`,...o];this._handleUpdatingSessionStorage(s,Date.now(),r)}}invariant(t,n="",r={}){if(t===!0)return;r=_.defaults(r,{logOnSentry:!1,logOnSentryAs:"exception",alsoConsoleLog:!1,numArgsToUseForSessionLog:-1});const o=Array.isArray(n)?n:[n];if(this.isEnvProd){this.logForSession(["Invariant Violation:",...o],"error"),r.logOnSentry&&this.logOnSentry(o,r.logOnSentryAs,"error");return}const s=new Error(...o);throw s.name="Invariant Violation",s.framesToPop=1,r.alsoConsoleLog&&console.error(s),s}_handleUpdatingSessionStorage(t=[],n,r){const o=SessionStorage$1.getItem(this.SESSION_STORAGE_LOGS_KEY),s=this._stringifyArrItem(t,r.numArgsToUseForSessionLog),a=this._getCurrentSessionKeyName();let u={};_.isPlainObject(o)?(u=o,isEmpty(u[a])&&(u[a]={}),u[a][n]=s):u[a]={[n]:s},SessionStorage$1.setItem(this.SESSION_STORAGE_LOGS_KEY,u)}_stringifyArrItem(t,n){const r=_.map(t,s=>_.isString(s)?s:JSON.stringify(s)),o=_.isNumber(n)?n:-1;return o>0?_.slice(r,0,o):r}_getCurrentSessionKeyName(){return`for_${this.currentLogSessionId}`}logOnSentry(t,n="exception",r="error"){const o=Array.isArray(t)?t:[t];if(this[r](...o),!!this.isEnvProd)switch(n){case"exception":withScope(s=>{s.setLevel(r),s.setExtra("forceCapture",!0),s.setExtra("params",t),captureException(new Error(o[0]))});break;case"message":withScope(s=>{s.setLevel(r),s.setExtra("forceCapture",!0),s.setExtra("params",t),captureMessage(o[0])});break}}};let QLogger=Pi;Vn(QLogger,"IS_SESSION_STORAGE_ALLOWED",!1);const QLogger$1=new QLogger,AppBridgeActionTypes={AUTH:"auth",CTA:"cta"},AppBridgeActions={CLOSE:"close"},isRunningInWebview=!!window.ReactNativeWebView;async function getAuth(){const e={type:AppBridgeActionTypes.AUTH};postMessage(e)}function handleCTA(e=AppBridgeActions.CLOSE){const t={type:AppBridgeActionTypes.CTA,action:e};postMessage(t)}function postMessage(e){try{window.ReactNativeWebView.postMessage(JSON.stringify(e))}catch{QLogger$1.info("React Native Context not available")}}function handlePostMessage(e){try{const{type:t,value:n}=JSON.parse(e.data);switch(t){case AppBridgeActionTypes.AUTH:setAuthData(n);break;default:break}}catch{QLogger$1.error("Error parsing postmessage data")}}function setAuthData(e){const t=document.cookie;BuildConstants.NodeEnvs.PROD?document.cookie=`${t};_sid=${e}`:document.cookie=`${t};dev_sid=${e}`;const{search:n,origin:r,pathname:o}=window.location,a=new URLSearchParams(n).get("gc");a&&(window.location.href=`${r}${o}?gc=${a}`)}function closeWebview(){isRunningInWebview&&(handleCTA(),window.removeEventListener("message",handlePostMessage))}isRunningInWebview&&window.addEventListener("message",handlePostMessage);const DEFAULT_EVENT_PRIORITY="immediate",logEventDefaultOptions={apiEndpoint:URLConfig.getInHouseEventTrackingURL(),sendAsBatched:!0,attachAdditionalParams:!0,attachAdditionalGameParams:!0,eventOptions:{}};class InHouseEventLogger{constructor(){this.expName="",this.expSlot="",this.platform="",this.sessionId="",this.getEventsInBuffer=()=>{},this.putEventsInBuffer=()=>{}}init(t,n,r,o){this.expName=t.expName,this.expSlot=t.expSlot,this.platform=t.platform,this.getState=o,this.getEventsInBuffer=n,this.putEventsInBuffer=r}setSessionId(t){this.sessionId=t}logEvent(t,n,r=DEFAULT_EVENT_PRIORITY,o={}){o=_.defaults(o,logEventDefaultOptions);const s=this.getState(),a=this._returnEventData(t,n,s,o);if(isEmpty(t)){QLogger$1.error(`Error at logEvent: given eventName(${t}) is not valid`,r,n);return}if(QLogger$1.log(`
 InHouseEventLogger logEvent:`,t,r,_.clone(a),`
`),Constants.NodeEnvs.DEV!=="production")switch(r){case"immediate":const u=[a];this.putEventsInBuffer("temp",u),this._pushEventsToServer(u);break;case"nextBatch":this.putEventsInBuffer("temp",[a]);break;case"batch":default:this.addToBuffer(a);break}}async logSessionTackingEvent(t,n){const r=this.getState(),o=this._returnEventData(t,n,r,{attachAdditionalParams:!0,apiEndpoint:URLConfig.getSessionTrackingEventURL()});o.params.userId&&(QLogger$1.log(`
 EventLoggerService logSessionTackingEvent:`,t,_.clone(o),`

`),await this._post(o,o.forApiEndpoint))}addToBuffer(t){this._selectAndPushEventsToServer(t,10)}sendPreviousSessionEvents(){const t=this.getEventsInBuffer("temp");isEmpty(t)||this._pushEventsToServer(t)}sendAllEventsInBuffer(){QLogger$1.log(`
InHouseEventLogger Sending All Events in Buffer
`),Constants.NodeEnvs.DEV!=="production"&&this._selectAndPushEventsToServer(null,-1)}_returnEventData(t,n,r,o={}){let s={};o.attachAdditionalParams&&(s=this._getAdditionalParams(r,o));const a={},u={...s,sessionId:this.sessionId,...n};return _.forEach(u,(l,m)=>{a[m]=_.isString(l)?l:JSON.stringify(l)}),{eventName:t,params:a,platform:this.platform,slot:this.expSlot,experiment:this.expName,time:Date.now(),timezoneOffset:new Date().getTimezoneOffset(),forApiEndpoint:o.apiEndpoint||URLConfig.getInHouseEventTrackingURL(),isBatched:o.sendAsBatched,...o.eventOptions}}_pushEventsToServer(t=[]){const n=this._groupBasedOnEndPoint(t);_.forEach(n,(r,o)=>{isEmpty(r.batched)||this._post(r.batched,o),_.forEach(r.unBatched,(s,a)=>{this._post(s,o)})})}async _post(t=null,n){const r={method:"POST",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)};try{const s=await(await fetch(n,r)).json();this._cleanupTempEventsQueue(t)}catch(o){QLogger$1.logForSession([`Error at InHouseEventLogger._pushEventsToServer at sending ${t.length}`,t,o],"error",{numArgsToUseForSessionLog:1})}}_filterEventsToClean(t=[],n=[]){const r=[],o=_.clone(n);for(let s=0;s<t.length;s++){const a=_.findIndex(o,u=>u.time===t[s].time&&u.eventName===t[s].eventName);if(a>=0?o.splice(a,1):r.push(t[s]),o.length===0)break}return r}_getUserSubsPlanId(t){const n=t&&t.profile;if(n&&n.subscriptions&&n.subscriptions.length){const r=n.subscriptions[0];return r.planId||r.id}return null}_getAdditionalParams(t,n){let r={};const{applicationContext:o,game:s,user:a,routing:u}=t;return r.screen=u.currentPage,r.country=o.requestCountry,a.profile.isLoggedIn&&(r.userId=a.profile.mongoId,r.occupation=a.profile.occupation,r.subPlanId=this._getUserSubsPlanId(a)),isRunningInWebview&&(r.runningInWebview=!0),s.data.roomHash&&n.attachAdditionalGameParams&&(s.data.grade&&Array.isArray(s.data.grade)&&`${s.data.grade[0]||""}${s.data.grade[1]||""}`,s.data.subjects&&s.data.subjects.join(","),r=Object.assign(r,{roomHash:s.data.roomHash,gameState:s.data.gameState,playerId:s.player.playerId,gameExperiment:s.data.experiment})),r}_cleanupTempEventsQueue(t){const n=this._filterEventsToClean(this.getEventsInBuffer("temp"),t);this.putEventsInBuffer("temp",n,!0)}_selectAndPushEventsToServer(t,n=10){let r=this.getEventsInBuffer("main");isEmpty(t)||(Array.isArray(t)?r=_.concat(r,t):r.push(t));let o=[];if(n<1?o=r.splice(0,r.length):r.length>n&&(o=r.splice(0,n)),!isEmpty(o)){this.putEventsInBuffer("temp",o);const s=this.getEventsInBuffer("temp");this._pushEventsToServer(s)}this.putEventsInBuffer("main",r,!0)}_groupBasedOnEndPoint(t=[]){const n={};for(let r=0;r<t.length;r++){const o=t[r].forApiEndpoint,s=t[r].isBatched;n[o]||(n[o]={batched:[],unBatched:[]}),s?n[o].batched.push(this._sanitizeEventBeforeSending(t[r])):n[o].unBatched.push(this._sanitizeEventBeforeSending(t[r]))}return n}_sanitizeEventBeforeSending(t){return _.pickBy(t,(n,r)=>!_.includes(["isBatched","forApiEndpoint"],r))}}const InHouseEventLogger$1=new InHouseEventLogger;class GoogleOneTapService{init(t){this.store=t}async showGoogleOneTap(t){const{state:n}=this.store;if(!n.user.profile.isLoggedIn)return new Promise(async(r,o)=>{await GoogleApiLoader$1.loadGoogleApiScript();const s=a=>{const u="/auth/google/callback";InHouseEventLogger$1.logEvent(WebEvents.ONE_TAP_SSO_LOGIN,{source:t}),window.location.href=`${CurrentBaseUrls.REQUEST}${u}?jwt=${a.credential}&redirectURL=${window.location.href}&source=onetap_${t}`};window.google&&(this.googleOneTapTimeout=setTimeout(()=>{window.google.accounts.id.initialize({client_id:window.googleClientId,callback:s,cancel_on_tap_outside:!1}),window.google.accounts.id.prompt(a=>{a.isDisplayed()&&(this.store.dispatch("showGoogleOneTapGIF"),InHouseEventLogger$1.logEvent(WebEvents.ONE_TAP_SSO_SHOW,{source:t})),a.isNotDisplayed()&&t==="theme_unlock"&&this.store.dispatch("toggleModal",{type:Constants.W_MODAL_TYPES.AUTH,options:{source:Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_LOCKED_THEME,authView:"signup",title:"Signup to get access to exclusive themes",skippable:!0,redirect:URLConfig.getWebGameUrl({roomHash:n.game.data.roomHash,gameType:n.game.data.gameType,playerId:n.game.player.playerId,gameState:n.game.data.gameState},{from:"gameRejoin",ld:"game_waiting"})}}),a.isSkippedMoment()&&(this.store.dispatch("hideGoogleOneTapGIF"),InHouseEventLogger$1.logEvent(WebEvents.ONE_TAP_SSO_DISMISS,{sourceOfDismissal:"Google one tap popup",source:t}))}),this.cancelGoogleOneTap=()=>{window.google.accounts.id.cancel(),InHouseEventLogger$1.logEvent(WebEvents.ONE_TAP_SSO_DISMISS,{sourceOfDismissal:"One Tap GIF",source:t})},r()},1e3))})}dismissGoogleOneTapGif(){return()=>{this.cancelGoogleOneTap&&(this.cancelGoogleOneTap(),this.cancelGoogleOneTap=null),this.store.dispatch("hideGoogleOneTapGIF")}}}Vn(GoogleOneTapService,"googleOneTapTimeout",null),Vn(GoogleOneTapService,"cancelGoogleOneTap",null);const GoogleOneTapService$1=new GoogleOneTapService,PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(e=>{PACKET_TYPES_REVERSE[PACKET_TYPES[e]]=e});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,encodePacket=({type:e,data:t},n,r)=>withNativeBlob$1&&t instanceof Blob?n?r(t):encodeBlobAsBase64(t,r):withNativeArrayBuffer$2&&(t instanceof ArrayBuffer||isView$1(t))?n?r(t):encodeBlobAsBase64(new Blob([t]),r):r(PACKET_TYPES[e]+(t||"")),encodeBlobAsBase64=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)},chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<chars.length;e++)lookup$1[chars.charCodeAt(e)]=e;const decode$2=e=>{let t=e.length*.75,n=e.length,r,o=0,s,a,u,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const m=new ArrayBuffer(t),y=new Uint8Array(m);for(r=0;r<n;r+=4)s=lookup$1[e.charCodeAt(r)],a=lookup$1[e.charCodeAt(r+1)],u=lookup$1[e.charCodeAt(r+2)],l=lookup$1[e.charCodeAt(r+3)],y[o++]=s<<2|a>>4,y[o++]=(a&15)<<4|u>>2,y[o++]=(u&3)<<6|l&63;return m},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(e,t)=>{if(typeof e!="string")return{type:"message",data:mapBinary(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:decodeBase64Packet(e.substring(1),t)}:PACKET_TYPES_REVERSE[n]?e.length>1?{type:PACKET_TYPES_REVERSE[n],data:e.substring(1)}:{type:PACKET_TYPES_REVERSE[n]}:ERROR_PACKET},decodeBase64Packet=(e,t)=>{if(withNativeArrayBuffer$1){const n=decode$2(e);return mapBinary(n,t)}else return{base64:!0,data:e}},mapBinary=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},SEPARATOR=String.fromCharCode(30),encodePayload=(e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach((s,a)=>{encodePacket(s,!1,u=>{r[a]=u,++o===n&&t(r.join(SEPARATOR))})})},decodePayload=(e,t)=>{const n=e.split(SEPARATOR),r=[];for(let o=0;o<n.length;o++){const s=decodePacket(n[o],t);if(r.push(s),s.type==="error")break}return r},protocol$1=4;function Emitter(e){if(e)return mixin(e)}function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Emitter.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length};const globalThisShim=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function pick(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(e,t){t.useNativeTimers?(e.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),e.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(e.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),e.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(e){return typeof e=="string"?utf8Length(e):Math.ceil((e.byteLength||e.size)*BASE64_OVERHEAD)}function utf8Length(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}class TransportError extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Transport extends Emitter{constructor(t){super(),this.writable=!1,installTimerFunctions(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new TransportError(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=decodePacket(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={};let seed=0,i$1=0,prev;function encode$1(e){let t="";do t=alphabet[e%length]+t,e=Math.floor(e/length);while(e>0);return t}function yeast(){const e=encode$1(+new Date);return e!==prev?(seed=0,prev=e):e+"."+encode$1(seed++)}for(;i$1<length;i$1++)map[alphabet[i$1]]=i$1;function encode(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function decode$1(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hasCORS=value;function XHR(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||hasCORS))return new XMLHttpRequest}catch{}if(!t)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function empty(){}const hasXHR2=function(){return new XHR({xdomain:!1}).responseType!=null}();class Polling extends Transport{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let o=location.port;o||(o=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||o!==t.port,this.xs=t.secure!==r}const n=t&&t.forceBase64;this.supportsBinary=hasXHR2&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};decodePayload(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,encodePayload(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const o=encode(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(o.length?"?"+o:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Request$1(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(o,s)=>{this.onError("xhr post error",o,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let Request$1=class zs extends Emitter{constructor(t,n){super(),installTimerFunctions(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new XHR(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=zs.requestsCount++,zs.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=empty,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete zs.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Request$1.requestsCount=0;Request$1.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const e="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(e,unloadHandler,!1)}}function unloadHandler(){for(let e in Request$1.requests)Request$1.requests.hasOwnProperty(e)&&Request$1.requests[e].abort()}const nextTick=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),WebSocket=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?n?new WebSocket(t,n):new WebSocket(t):new WebSocket(t,n,r)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType||defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;encodePacket(r,this.supportsBinary,s=>{const a={};try{usingBrowserWebSocket&&this.ws.send(s)}catch{}o&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=yeast()),this.supportsBinary||(t.b64=1);const o=encode(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(o.length?"?"+o:"")}check(){return!!WebSocket}}const transports={websocket:WS,polling:Polling},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=re.exec(e||""),s={},a=14;for(;a--;)s[parts[a]]=o[a]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=pathNames(s,s.path),s.queryKey=queryKey(s,s.query),s}function pathNames(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function queryKey(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,o,s){o&&(n[o]=s)}),n}let Socket$1=class io extends Emitter{constructor(t,n={}){super(),this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=parse(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=parse(n.host).host),installTimerFunctions(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode$1(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=protocol$1,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new transports[t](r)}open(){let t;if(this.opts.rememberUpgrade&&io.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;io.priorWebsocketSuccess=!1;const o=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;io.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(y(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function s(){r||(r=!0,y(),n.close(),n=null)}const a=d=>{const f=new Error("probe error: "+d);f.transport=n.name,s(),this.emitReserved("upgradeError",f)};function u(){a("transport closed")}function l(){a("socket closed")}function m(d){n&&d.name!==n.name&&s()}const y=()=>{n.removeListener("open",o),n.removeListener("error",a),n.removeListener("close",u),this.off("close",l),this.off("upgrading",m)};n.once("open",o),n.once("error",a),n.once("close",u),this.once("close",l),this.once("upgrading",m),n.open()}onOpen(){if(this.readyState="open",io.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const o=this.writeBuffer[r].data;if(o&&(n+=byteLength(o)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,o){if(typeof n=="function"&&(o=n,n=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){io.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const o=t.length;for(;r<o;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};Socket$1.protocol=protocol$1;function url(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=parse(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]";function isBinary(e){return withNativeArrayBuffer&&(e instanceof ArrayBuffer||isView(e))||withNativeBlob&&e instanceof Blob||withNativeFile&&e instanceof File}function hasBinary(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(hasBinary(e[n]))return!0;return!1}if(isBinary(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return hasBinary(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&hasBinary(e[n]))return!0;return!1}function deconstructPacket(e){const t=[],n=e.data,r=e;return r.data=_deconstructPacket(n,t),r.attachments=t.length,{packet:r,buffers:t}}function _deconstructPacket(e,t){if(!e)return e;if(isBinary(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=_deconstructPacket(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=_deconstructPacket(e[r],t));return n}return e}function reconstructPacket(e,t){return e.data=_reconstructPacket(e.data,t),delete e.attachments,e}function _reconstructPacket(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=_reconstructPacket(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=_reconstructPacket(e[n],t));return e}const protocol=5;var PacketType;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(t){this.replacer=t}encode(t){return(t.type===PacketType.EVENT||t.type===PacketType.ACK)&&hasBinary(t)?this.encodeAsBinary({type:t.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===PacketType.BINARY_EVENT||t.type===PacketType.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=deconstructPacket(t),r=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(r),o}}class Decoder extends Emitter{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===PacketType.BINARY_EVENT;r||n.type===PacketType.BINARY_ACK?(n.type=r?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(isBinary(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(PacketType[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===PacketType.BINARY_EVENT||r.type===PacketType.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(s,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const s=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(Decoder.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case PacketType.CONNECT:return typeof n=="object";case PacketType.DISCONNECT:return n===void 0;case PacketType.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[on(t,"open",this.onopen.bind(this)),on(t,"packet",this.onpacket.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(RESERVED_EVENTS.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:PacketType.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,u=n.pop();this._registerAckCallback(a,u),r.id=a}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const o=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},o);this.acks[t]=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...a])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((o,s)=>{n.push((a,u)=>r?a?s(a):o(u):o(a)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...s)=>r!==this._queue[0]?void 0:(o!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case PacketType.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(t);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(t);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...o){r||(r=!0,n.packet({type:PacketType.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Backoff(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(e){this.ms=e};Backoff.prototype.setMax=function(e){this.max=e};Backoff.prototype.setJitter=function(e){this.jitter=e};class Manager extends Emitter{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,installTimerFunctions(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||parser;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=on(n,"open",function(){r.onopen(),t&&t()}),s=on(n,"error",a=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",a),t?t(a):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const a=this._timeout;a===0&&o();const u=this.setTimeoutFn(()=>{o(),n.close(),n.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&u.unref(),this.subs.push(function(){clearTimeout(u)})}return this.subs.push(o),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(on(t,"ping",this.onping.bind(this)),on(t,"data",this.ondata.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){nextTick(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Socket(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const cache={};function lookup(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=url(e,t.path||"/socket.io"),r=n.source,o=n.id,s=n.path,a=cache[o]&&s in cache[o].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let l;return u?l=new Manager(r,t):(cache[o]||(cache[o]=new Manager(r,t)),l=cache[o]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});const Cookie=()=>{const e={};return document.cookie.split(";").forEach(t=>{const[n,r]=t.split("=");e[n.trim()]=r}),{get:t=>e[t]}};function isRunningPrototypingServerLocally(){return Constants.BackendEnvs.DEV==="prod"}function isRunningPrototypeServerViaBundle(){return Constants.BackendEnvs.LOCAL==="prod"}const PrototypingConstants={COOKIE_NAME:"dev_sid",LOCALSTORAGE_KEY:"dev_sid"};function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function toInteger(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function requiredArgs(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function toDate(e){requiredArgs(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||_typeof(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function addMilliseconds(e,t){requiredArgs(2,arguments);var n=toDate(e).getTime(),r=toInteger(t);return new Date(n+r)}var defaultOptions={};function getDefaultOptions(){return defaultOptions}function getTimezoneOffsetInMilliseconds(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function startOfDay(e){requiredArgs(1,arguments);var t=toDate(e);return t.setHours(0,0,0,0),t}var MILLISECONDS_IN_DAY$1=864e5;function differenceInCalendarDays(e,t){requiredArgs(2,arguments);var n=startOfDay(e),r=startOfDay(t),o=n.getTime()-getTimezoneOffsetInMilliseconds(n),s=r.getTime()-getTimezoneOffsetInMilliseconds(r);return Math.round((o-s)/MILLISECONDS_IN_DAY$1)}function compareAsc(e,t){requiredArgs(2,arguments);var n=toDate(e),r=toDate(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function isDate(e){return requiredArgs(1,arguments),e instanceof Date||_typeof(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function isValid(e){if(requiredArgs(1,arguments),!isDate(e)&&typeof e!="number")return!1;var t=toDate(e);return!isNaN(Number(t))}function differenceInCalendarMonths(e,t){requiredArgs(2,arguments);var n=toDate(e),r=toDate(t),o=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return o*12+s}function differenceInMilliseconds(e,t){return requiredArgs(2,arguments),toDate(e).getTime()-toDate(t).getTime()}var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},defaultRoundingMethod="trunc";function getRoundingMethod(e){return e?roundingMap[e]:roundingMap[defaultRoundingMethod]}function endOfDay(e){requiredArgs(1,arguments);var t=toDate(e);return t.setHours(23,59,59,999),t}function endOfMonth(e){requiredArgs(1,arguments);var t=toDate(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function isLastDayOfMonth(e){requiredArgs(1,arguments);var t=toDate(e);return endOfDay(t).getTime()===endOfMonth(t).getTime()}function differenceInMonths(e,t){requiredArgs(2,arguments);var n=toDate(e),r=toDate(t),o=compareAsc(n,r),s=Math.abs(differenceInCalendarMonths(n,r)),a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*s);var u=compareAsc(n,r)===-o;isLastDayOfMonth(toDate(e))&&s===1&&compareAsc(e,r)===1&&(u=!1),a=o*(s-Number(u))}return a===0?0:a}function differenceInSeconds(e,t,n){requiredArgs(2,arguments);var r=differenceInMilliseconds(e,t)/1e3;return getRoundingMethod(n==null?void 0:n.roundingMethod)(r)}function subMilliseconds(e,t){requiredArgs(2,arguments);var n=toInteger(t);return addMilliseconds(e,-n)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(e){requiredArgs(1,arguments);var t=toDate(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(e){requiredArgs(1,arguments);var t=1,n=toDate(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function getUTCISOWeekYear(e){requiredArgs(1,arguments);var t=toDate(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=startOfUTCISOWeek(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var a=startOfUTCISOWeek(s);return t.getTime()>=o.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function startOfUTCISOWeekYear(e){requiredArgs(1,arguments);var t=getUTCISOWeekYear(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=startOfUTCISOWeek(n);return r}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCISOWeek(e){requiredArgs(1,arguments);var t=toDate(e),n=startOfUTCISOWeek(t).getTime()-startOfUTCISOWeekYear(t).getTime();return Math.round(n/MILLISECONDS_IN_WEEK$1)+1}function startOfUTCWeek(e,t){var n,r,o,s,a,u,l,m;requiredArgs(1,arguments);var y=getDefaultOptions(),d=toInteger((n=(r=(o=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(a=t.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:y.weekStartsOn)!==null&&r!==void 0?r:(l=y.locale)===null||l===void 0||(m=l.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=toDate(e),v=f.getUTCDay(),A=(v<d?7:0)+v-d;return f.setUTCDate(f.getUTCDate()-A),f.setUTCHours(0,0,0,0),f}function getUTCWeekYear(e,t){var n,r,o,s,a,u,l,m;requiredArgs(1,arguments);var y=toDate(e),d=y.getUTCFullYear(),f=getDefaultOptions(),v=toInteger((n=(r=(o=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(a=t.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(m=l.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=new Date(0);A.setUTCFullYear(d+1,0,v),A.setUTCHours(0,0,0,0);var I=startOfUTCWeek(A,t),P=new Date(0);P.setUTCFullYear(d,0,v),P.setUTCHours(0,0,0,0);var O=startOfUTCWeek(P,t);return y.getTime()>=I.getTime()?d+1:y.getTime()>=O.getTime()?d:d-1}function startOfUTCWeekYear(e,t){var n,r,o,s,a,u,l,m;requiredArgs(1,arguments);var y=getDefaultOptions(),d=toInteger((n=(r=(o=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(a=t.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:y.firstWeekContainsDate)!==null&&r!==void 0?r:(l=y.locale)===null||l===void 0||(m=l.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=getUTCWeekYear(e,t),v=new Date(0);v.setUTCFullYear(f,0,d),v.setUTCHours(0,0,0,0);var A=startOfUTCWeek(v,t);return A}var MILLISECONDS_IN_WEEK=6048e5;function getUTCWeek(e,t){requiredArgs(1,arguments);var n=toDate(e),r=startOfUTCWeek(n,t).getTime()-startOfUTCWeekYear(n,t).getTime();return Math.round(r/MILLISECONDS_IN_WEEK)+1}function addLeadingZeros(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var formatters$2={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return addLeadingZeros(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):addLeadingZeros(r+1,2)},d:function(t,n){return addLeadingZeros(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return addLeadingZeros(t.getUTCHours()%12||12,n.length)},H:function(t,n){return addLeadingZeros(t.getUTCHours(),n.length)},m:function(t,n){return addLeadingZeros(t.getUTCMinutes(),n.length)},s:function(t,n){return addLeadingZeros(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),s=Math.floor(o*Math.pow(10,r-3));return addLeadingZeros(s,n.length)}};const formatters$3=formatters$2;var dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),s=o>0?o:1-o;return r.ordinalNumber(s,{unit:"year"})}return formatters$3.y(t,n)},Y:function(t,n,r,o){var s=getUTCWeekYear(t,o),a=s>0?s:1-s;if(n==="YY"){var u=a%100;return addLeadingZeros(u,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):addLeadingZeros(a,n.length)},R:function(t,n){var r=getUTCISOWeekYear(t);return addLeadingZeros(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return addLeadingZeros(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return addLeadingZeros(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return addLeadingZeros(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return formatters$3.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return addLeadingZeros(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var s=getUTCWeek(t,o);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):addLeadingZeros(s,n.length)},I:function(t,n,r){var o=getUTCISOWeek(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):addLeadingZeros(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):formatters$3.d(t,n)},D:function(t,n,r){var o=getUTCDayOfYear(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):addLeadingZeros(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var s=t.getUTCDay(),a=(s-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return addLeadingZeros(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var s=t.getUTCDay(),a=(s-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return addLeadingZeros(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),s=o===0?7:o;switch(n){case"i":return String(s);case"ii":return addLeadingZeros(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),s=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),s;switch(o===12?s=dayPeriodEnum.noon:o===0?s=dayPeriodEnum.midnight:s=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),s;switch(o>=17?s=dayPeriodEnum.evening:o>=12?s=dayPeriodEnum.afternoon:o>=4?s=dayPeriodEnum.morning:s=dayPeriodEnum.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return formatters$3.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):formatters$3.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):formatters$3.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):formatters$3.s(t,n)},S:function(t,n){return formatters$3.S(t,n)},X:function(t,n,r,o){var s=o._originalDate||t,a=s.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return formatTimezoneWithOptionalMinutes(a);case"XXXX":case"XX":return formatTimezone(a);case"XXXXX":case"XXX":default:return formatTimezone(a,":")}},x:function(t,n,r,o){var s=o._originalDate||t,a=s.getTimezoneOffset();switch(n){case"x":return formatTimezoneWithOptionalMinutes(a);case"xxxx":case"xx":return formatTimezone(a);case"xxxxx":case"xxx":default:return formatTimezone(a,":")}},O:function(t,n,r,o){var s=o._originalDate||t,a=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(a,":");case"OOOO":default:return"GMT"+formatTimezone(a,":")}},z:function(t,n,r,o){var s=o._originalDate||t,a=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(a,":");case"zzzz":default:return"GMT"+formatTimezone(a,":")}},t:function(t,n,r,o){var s=o._originalDate||t,a=Math.floor(s.getTime()/1e3);return addLeadingZeros(a,n.length)},T:function(t,n,r,o){var s=o._originalDate||t,a=s.getTime();return addLeadingZeros(a,n.length)}};function formatTimezoneShort(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),s=r%60;if(s===0)return n+String(o);var a=t||"";return n+String(o)+a+addLeadingZeros(s,2)}function formatTimezoneWithOptionalMinutes(e,t){if(e%60===0){var n=e>0?"-":"+";return n+addLeadingZeros(Math.abs(e)/60,2)}return formatTimezone(e,t)}function formatTimezone(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),s=addLeadingZeros(Math.floor(o/60),2),a=addLeadingZeros(o%60,2);return r+s+n+a}const formatters$1=formatters;var dateLongFormatter=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},timeLongFormatter=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},dateTimeLongFormatter=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],s=r[2];if(!s)return dateLongFormatter(t,n);var a;switch(o){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",dateLongFormatter(o,n)).replace("{{time}}",timeLongFormatter(s,n))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter};const longFormatters$1=longFormatters;var protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(e){return protectedDayOfYearTokens.indexOf(e)!==-1}function isProtectedWeekYearToken(e){return protectedWeekYearTokens.indexOf(e)!==-1}function throwProtectedError(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=function(t,n,r){var o,s=formatDistanceLocale[t];return typeof s=="string"?o=s:n===1?o=s.one:o=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const formatDistance$2=formatDistance$1;function buildFormatLongFn(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})};const formatLong$1=formatLong;var formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(t,n,r,o){return formatRelativeLocale[t]};const formatRelative$1=formatRelative;function buildLocalizeFn(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):s;o=e.formattingValues[a]||e.formattingValues[s]}else{var u=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[l]||e.values[u]}var m=e.argumentCallback?e.argumentCallback(t):t;return o[m]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};const localize$1=localize;function buildMatchFn(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(o);if(!s)return null;var a=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?findIndex(u,function(d){return d.test(a)}):findKey(u,function(d){return d.test(a)}),m;m=e.valueCallback?e.valueCallback(l):l,m=n.valueCallback?n.valueCallback(m):m;var y=t.slice(a.length);return{value:m,rest:y}}}function findKey(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function findIndex(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function buildMatchPatternFn(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],s=t.match(e.parsePattern);if(!s)return null;var a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;var u=t.slice(o.length);return{value:a,rest:u}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(t){return parseInt(t,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})};const match$1=match;var locale={code:"en-US",formatDistance:formatDistance$2,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};const defaultLocale=locale;var formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(e,t,n){var r,o,s,a,u,l,m,y,d,f,v,A,I,P,O,R,M,k;requiredArgs(2,arguments);var U=String(t),Q=getDefaultOptions(),B=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:Q.locale)!==null&&r!==void 0?r:defaultLocale,W=toInteger((s=(a=(u=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(m=n.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&u!==void 0?u:Q.firstWeekContainsDate)!==null&&a!==void 0?a:(d=Q.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(W>=1&&W<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Z=toInteger((v=(A=(I=(P=n==null?void 0:n.weekStartsOn)!==null&&P!==void 0?P:n==null||(O=n.locale)===null||O===void 0||(R=O.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&I!==void 0?I:Q.weekStartsOn)!==null&&A!==void 0?A:(M=Q.locale)===null||M===void 0||(k=M.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&v!==void 0?v:0);if(!(Z>=0&&Z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!B.localize)throw new RangeError("locale must contain localize property");if(!B.formatLong)throw new RangeError("locale must contain formatLong property");var j=toDate(e);if(!isValid(j))throw new RangeError("Invalid time value");var J=getTimezoneOffsetInMilliseconds(j),ee=subMilliseconds(j,J),ae={firstWeekContainsDate:W,weekStartsOn:Z,locale:B,_originalDate:j},ne=U.match(longFormattingTokensRegExp).map(function(fe){var ge=fe[0];if(ge==="p"||ge==="P"){var Le=longFormatters$1[ge];return Le(fe,B.formatLong)}return fe}).join("").match(formattingTokensRegExp).map(function(fe){if(fe==="''")return"'";var ge=fe[0];if(ge==="'")return cleanEscapedString(fe);var Le=formatters$1[ge];if(Le)return!(n!=null&&n.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(fe)&&throwProtectedError(fe,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(fe)&&throwProtectedError(fe,t,String(e)),Le(ee,fe,B.localize,ae);if(ge.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ge+"`");return fe}).join("");return ne}function cleanEscapedString(e){var t=e.match(escapedStringRegExp);return t?t[1].replace(doubleQuoteRegExp,"'"):e}function assign$1(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function cloneObject(e){return assign$1({},e)}var MINUTES_IN_DAY=1440,MINUTES_IN_ALMOST_TWO_DAYS=2520,MINUTES_IN_MONTH=43200,MINUTES_IN_TWO_MONTHS=86400;function formatDistance(e,t,n){var r,o;requiredArgs(2,arguments);var s=getDefaultOptions(),a=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:s.locale)!==null&&r!==void 0?r:defaultLocale;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var u=compareAsc(e,t);if(isNaN(u))throw new RangeError("Invalid time value");var l=assign$1(cloneObject(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:u}),m,y;u>0?(m=toDate(t),y=toDate(e)):(m=toDate(e),y=toDate(t));var d=differenceInSeconds(y,m),f=(getTimezoneOffsetInMilliseconds(y)-getTimezoneOffsetInMilliseconds(m))/1e3,v=Math.round((d-f)/60),A;if(v<2)return n!=null&&n.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):v===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",v,l);if(v<45)return a.formatDistance("xMinutes",v,l);if(v<90)return a.formatDistance("aboutXHours",1,l);if(v<MINUTES_IN_DAY){var I=Math.round(v/60);return a.formatDistance("aboutXHours",I,l)}else{if(v<MINUTES_IN_ALMOST_TWO_DAYS)return a.formatDistance("xDays",1,l);if(v<MINUTES_IN_MONTH){var P=Math.round(v/MINUTES_IN_DAY);return a.formatDistance("xDays",P,l)}else if(v<MINUTES_IN_TWO_MONTHS)return A=Math.round(v/MINUTES_IN_MONTH),a.formatDistance("aboutXMonths",A,l)}if(A=differenceInMonths(y,m),A<12){var O=Math.round(v/MINUTES_IN_MONTH);return a.formatDistance("xMonths",O,l)}else{var R=A%12,M=Math.floor(A/12);return R<3?a.formatDistance("aboutXYears",M,l):R<9?a.formatDistance("overXYears",M,l):a.formatDistance("almostXYears",M+1,l)}}function formatDistanceToNow(e,t){return requiredArgs(1,arguments),formatDistance(e,Date.now(),t)}class DateUtils{getDateDistanceFromNow(t,n=!1){return t?formatDistanceToNow(t,{addSuffix:n}):""}getVerboseDate(t){return t?format(t,"h:mm aaaa, LLL d yyyy"):""}getFormattedDate(t,n){return format(t,n)}getDifferenceInSeconds(t,n){return differenceInSeconds(t,n)}}const DateUtils$1=new DateUtils,REQUEST_LOOP_DETECTION_LIST=["getRunningGame"],REQUEST_LOOP_DETECTOR_THRESHOLD=50,CALL_ID_DELIMITER=".",FIRST_EMIT_NUMBER=1;function updateCallsInProgressCooker(e,t,n){const o=[...e.callsInProgress],s=_.findIndex(o,u=>u===t);let a=null;switch(n){case Constants.CallInProgressUpdationStatus.IN_PROGRESS:s===-1&&o.push(t);break;case Constants.CallInProgressUpdationStatus.DONE:s!==-1&&o.splice(s,1);const u=parseInt(reduceCallIdentifier(t).time,10);u&&(a=Date.now()-u);break}return{callsList:o,callBeingUpdated:t,updationType:n,callDoneTime:a}}function buildCallIdentifier(e){if(_.isString(e))return e;const t=_.isNumber(e.currentTryNum)?e.currentTryNum:FIRST_EMIT_NUMBER;return`${e.eventName}.${e.baseUniqueId}|${t}.${e.time}`}function reduceCallIdentifier(e){if(_.isPlainObject(e))return e;const t=e.split(CALL_ID_DELIMITER);let n=0,r=[];t[t.length-2]&&(t.length>=3?(r=t[t.length-2].split("|"),n=_.toNumber(r[r.length-1]),r.splice(r.length-1,1)):(r=t.slice(1),n=0));const o=r.join("|");return{eventName:t[0],baseUniqueId:o,currentTryNum:n,time:_.toNumber(t[t.length-1])||null}}function checkIfCallInProgress(e,t,n=!1){const r={},o=reduceCallIdentifier(e),s=getApiNameFromIdData(o);for(let a=0;a<t.length;a++){const u=reduceCallIdentifier(t[a]),l=getApiNameFromIdData(u);let m=!1;n?m=u.eventName===o.eventName:m=l===s;const y=o.baseUniqueId?o.baseUniqueId===u.baseUniqueId:!0,d=o.time?o.time===u.time:!0;if(m&&y&&d){const f=u.baseUniqueId&&u.time?`${u.baseUniqueId}|${u.time}`:u.baseUniqueId||u.time||a;r[f]?r[f]+=1:r[f]=1}}return{isIt:!isEmpty(r),matches:r}}function csrfRequestModifier(e,t){const{applicationContext:n}=t,{fetchOptions:r}=e,o={...r};return!o.headers&&(o.headers={}),isEmpty(n.sessionDetails.csrf)||(r.method!=="GET"||r.method!=="HEAD")&&n.sessionDetails.csrf.header&&(o.headers["X-CSRF-TOKEN"]=n.sessionDetails.csrf.header),{...e,fetchOptions:o}}function requestLoopDetector(e){const t={};return(n,r)=>{const o=n.requestName;return!REQUEST_LOOP_DETECTION_LIST.includes(o)&&REQUEST_LOOP_DETECTION_LIST.length!==0?n:t[o]?DateUtils$1.getDifferenceInSeconds(Date.now(),t[o].firstCallTimestamp)>10?(t[o]={firstCallTimestamp:Date.now(),frequency:1},n):t[o].frequency>=REQUEST_LOOP_DETECTOR_THRESHOLD?(QLogger$1.logOnSentry(["request.LOOP_DETECTED",r.game],"exception","error"),delete t[o],n):(t[o].frequency+=1,n):(t[o]={firstCallTimestamp:Date.now(),frequency:1},n)}}function authenticationHeaderModifier(e){if(isRunningPrototypeServerViaBundle()||isRunningPrototypingServerLocally()){const n=Cookie().get(PrototypingConstants.COOKIE_NAME),r=LocalStorage$1.getItem(PrototypingConstants.LOCALSTORAGE_KEY)||"",o=n||r||"";o&&_.set(e,"fetchOptions.headers.x-auth-sessionid",o)}return e}function expermentDataModifier(e){const n=Cookie().get("QUIZIZZ_EXP_NAME");return n&&_.set(e,"fetchOptions.headers.experiment-name",n),e}function getApiNameFromIdData(e){if(e.eventName){const t=e.eventName.split("/");return t.length===1?t[0]:(t.splice(0,1),t.join("/"))}return""}const CALL_ID_PAYLOAD_KEY="__cid__";class SocketEventBus{constructor(){this.bus={},this.socketStreams={},this.actionDispatcher=()=>{},this.requestModifiers=[],this.responseModifiers=[],this.callProgressUpdater=()=>{}}init(t,n,r={}){this.requestModifiers=_.concat([],r.request,this.requestModifiers),this.responseModifiers=_.concat([],r.response,this.responseModifiers),this.actionDispatcher=t,this.callProgressUpdater=n}connect(t){let n;const r={},{resolve:o,reject:s}=t.promiseRefs,a=t.stream,u=SocketConfig.endPoints[a];if(!a||!u){QLogger$1.invariant(!1,"SocketEventBus: connect call needs to mention the `stream` by calling setStream and that stream must have a valid endpoint");return}const l=_.isString(u)?u:u.baseURL,m=_.isString(u)?"":u.path;if(r.withCredentials=!0,m&&(r.path=m),_.isNumber(t.timeout)&&(r.timeout=t.timeout+500,n=setTimeout(()=>{o({connected:!1})},r.timeout)),r.query={experiment:"authRevamp"},Constants.NodeEnvs.DEV==="production"){const v=Cookie().get(PrototypingConstants.COOKIE_NAME),A=LocalStorage$1.getItem(PrototypingConstants.LOCALSTORAGE_KEY)||"",I=v||A||"";I&&(r.query=r.query||{},r.query["x-auth-sessionid"]=I)}this.socketStreams[a]=lookup(l,r);const y=_.keys(SocketConfig.events[a].ServerInitiatedBroadcastMessages),d=SocketConfig.events[a].ClientInitiatedMessages;_.forEach(y,this.registerEvent.bind(this,"serverInitiatedbroadcast",a)),_.forEach(d,this.registerEvent.bind(this,"clientInitiated",a)),this.socketStreams[a].on("connect",f=>{n&&clearTimeout(n),o({connected:!0})})}disconnect(t){const{resolve:n}=t.promiseRefs,r=t.stream;this.socketStreams[r].disconnect(),n()}registerEvent(t,n,r){this.socketStreams[n].on(r,o=>{let s={eventName:r,response:o};s=this._applyAllModifiers(this.responseModifiers,s);const a=_.isPlainObject(s.response)&&s.response[CALL_ID_PAYLOAD_KEY]||"";let u=null,l=null;if(isEmpty(a)||(l=this._getIdentifierParts(a),u=this.search(l)[0],s.callIdentifier=a),this._isValidResponse(s.response))this._handleEventResolution(!0,t,u,a,l,s,n);else if(!isEmpty(l))this._handleEventResolution(!1,t,u,a,l,s,n);else{const m=this.search({eventName:r});_.forEach(m,(y,d)=>{this.rejectAllRetries(y.callIdentifier),this._handleTry("reject",y.callIdentifier,FIRST_EMIT_NUMBER,s)})}})}resolveCall(t,n){this._handleTry("resolve",t,FIRST_EMIT_NUMBER,n,!0)}rejectCall(t,n){this._handleTry("reject",t,FIRST_EMIT_NUMBER,n,!0)}emitEvent(t,n,r){const o=this.getEventData(t,n),s=_.pick(o,["eventName","payload","callIdentifier","emitsSoFar"]),a=this._applyAllModifiers(this.requestModifiers,s);n||this.actionDispatcher(this.callProgressUpdater,{callBeingUpdated:t,updationType:Constants.CallInProgressUpdationStatus.IN_PROGRESS}),this.socketStreams[r].emit(a.eventName,a.payload,u=>{_.isFunction(o.onAckCB)&&o.onAckCB(u)})}add(t){this.bus[t.callIdentifier]={...t,retries:[]}}addRetry(t,n){const r=this.getEventData(t);isEmpty(r)||r.retries.push(n)}remove(t){return delete this.bus[t]}getEventData(t,n=!1){if(!n)return this.bus[this.joinIdentifierParts(t)];const r=this._getIdentifierParts(t),o=r.currentTryNum-1-FIRST_EMIT_NUMBER,s=this.joinIdentifierParts({...r,currentTryNum:FIRST_EMIT_NUMBER}),a=this.bus[s].retries[o];return isEmpty(a)?(QLogger$1.logForSession([`SocketEventBus: unable to retrieve retry call data for ${t}`,a],"error",{numArgsToUseForSessionLog:1}),null):a}search(t){const n=[],r=this._getIdentifierParts(t),o=Object.keys(this.bus);for(let s=0;s<o.length;s++){const a=o[s],u=this._getIdentifierParts(a);if(r.eventName===u.eventName){const m=r.baseUniqueId?r.baseUniqueId===u.baseUniqueId:!0,y=r.time?r.time===u.time:!0;m&&y&&n.push(this.getEventData(a))}}return n}joinIdentifierParts(t){return buildCallIdentifier(t)}rejectAllRetries(t,n={},r=!1){const o=this.getEventData(t).retries;for(let s=0;s<o.length;s++)this._handleTry("reject",t,s+1+FIRST_EMIT_NUMBER,n);r&&(this.getEventData(t).retries=[])}rejectRetry(t,n,r){this._handleTry("reject",t,n,r)}_isValidResponse(t){return t?!t.error:!0}_getIdentifierParts(t){return reduceCallIdentifier(t)}_handleTry(t,n,r,o,s=!1){const a=this.getEventData(n);if(r===FIRST_EMIT_NUMBER){if(a.retries.length===0||s){a.promiseRefs[t](o),this.remove(n),this.actionDispatcher(this.callProgressUpdater,{callBeingUpdated:n,updationType:Constants.CallInProgressUpdationStatus.DONE});return}QLogger$1.warn(`SocketEventBus: Not taking any action for id ${n} for action ${t} as currently retrys are going on. Response - `,o)}else{const u=r-FIRST_EMIT_NUMBER!==a.retries.length;if(t==="resolve"&&u&&!s){QLogger$1.warn(`SocketEventBus: Not taking any action for id ${n} for action ${t} as this response is NOT for latest retry. Response - `,o);return}const l=a.retries[r-1-FIRST_EMIT_NUMBER];if(!isEmpty(l)){l.promiseRefs[t](o);return}QLogger$1.error(`SocketEventBus: Error at _handleTry for identifier(${n}) as no retryData available for action(${t})`,o)}}_applyAllModifiers(t=[],n){let r=n;for(let o=0;o<t.length;o++){const s=t[o](n);isEmpty(s)||(r=_.clone(s))}return r}_handleEventResolution(t,n,r,o,s,a,u){const l=t?"resolve":"reject";if(!isEmpty(r))this._handleTry(l,r.callIdentifier,s.currentTryNum,a);else if(n==="serverInitiatedbroadcast"){const m=this._getBroadCastHandlerFromList(a.eventName,u);if(!isEmpty(m)){this.actionDispatcher(m,{response:a.response});return}QLogger$1.warn(`SocketEventBus: Broadcast event(${a.eventName}) [isValid-${t}] - recieved with no HANDLER Callback present`,a)}else QLogger$1.error(`SocketEventBus: unable to resolve id(${o}) for event(${a.eventName}) [isValid-${t}] - as no data in bus and not a serverInitiatedbroadcast event. Most likely response recieved after call timeout`,a)}_getBroadCastHandlerFromList(t,n){const o=this._getAllServerInitiatedEventHandlers(n)[t];return QLogger$1.invariant(_.isString(o)&&o!=="",`SocketEventBus: The serverInitiated event ${t} for stream ${n} does not a handler`),o}_getAllServerInitiatedEventHandlers(t){return SocketConfig.events[t].ServerInitiatedBroadcastMessages}}const SocketEventBus$1=new SocketEventBus,scriptRel="modulepreload",assetsURL=function(e){return"https://cf.quizizz.com/assets/v3/j/scripts/"+e},seen={},__vitePreload=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=assetsURL(s),s in seen)return;seen[s]=!0;const a=s.endsWith(".css"),u=a?'[rel="stylesheet"]':"";if(!!r)for(let y=o.length-1;y>=0;y--){const d=o[y];if(d.href===s&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${u}`))return;const m=document.createElement("link");if(m.rel=a?"stylesheet":scriptRel,a||(m.as="script",m.crossOrigin=""),m.href=s,document.head.appendChild(m),a)return new Promise((y,d)=>{m.addEventListener("load",y),m.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())},__variableDynamicImportRuntimeHelper=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((r,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t)))})},SESSION_STORAGE_TRANSLATIONS_KEY="qGameTranslations";class Translator{constructor(){this.englishLocale=_.find(Constants.Languages,{lang:"English"}).locale,this.currentLanguage=this.englishLocale,this.allPossibleLangValues=_.map(Constants.Languages,t=>t.locale),this.configFetchedForLanguages={},this.configInStorageForLanguages={},this.currentLanguageConfig={},this.englishStringsMap={},SessionStorage$1.setItem(SESSION_STORAGE_TRANSLATIONS_KEY,{})}getTranslation(t,n,r){const o=String(t);let s=n,a=r;return!_.isNumber(r)&&_.isNumber(n)&&(a=n,s=[]),this.translate(o,this.currentLanguage,s,a)}async setCurrentLanguage(t){if(QLogger$1.invariant(!!t,`Translator: invalid language '${t}' provided to setCurrentLanguage`),t===this.englishLocale)return this.englishStringsMap={},this.currentLanguage=t,{success:!0};this.englishStringsMap=await this.getEnglishStringsMap();try{return this.currentLanguageConfig=await this.getTranslationsForLocale(t),this.currentLanguage=t,{success:!0}}catch(n){return QLogger$1.error(`Translator: error in fetching locale JSON for ${t}`,n),{success:!1}}}isAValidLanguage(t){return t?_.includes(this.allPossibleLangValues,t):!1}translate(t,n=this.englishLocale,r=[],o){const s=isAValidSelectedLanguage$1(n),a=s&&n!==this.englishLocale,u=!isEmpty(this.englishStringsMap);if(QLogger$1.invariant(s,`Translator: Invalid language provided to translate - ${n}. Falling back to 'en'`),QLogger$1.invariant(!a||u,`Translator: Invalid english map present when locale is '${n}' for string '${t}'. Falling back to 'en'`),n===this.englishLocale||!s||a&&!u)return substituteParameters(t,r);const l=this.currentLanguageConfig;if(!(`${t}`in this.englishStringsMap))return QLogger$1.warn(`Translator: the string '${t}' does not exist in the englishStringsMap. Falling back to 'en'`),substituteParameters(t,r);const y=this.englishStringsMap[`${t}`],d=y in l;return QLogger$1.invariant(d,`Translator: the string '${t}' does not have a translation for locale '${n}'. Falling back to 'en'`),substituteParameters(d?l[y]:t,r)}async getEnglishStringsMap(){let t={};try{const{default:n}=await __vitePreload(()=>import("./en.c0c76ae9.js"),[]);QLogger$1.invariant(!isEmpty(n),"Translator: The file '/translations/en.json' has empty content. No English strings map found."),t=n}catch(n){QLogger$1.logForSession(["Translator getEnglishStringsMap",n],"error")}return t}async getTranslationsForLocale(t){const n=t in this.configFetchedForLanguages,r=t in this.configInStorageForLanguages;let o;if(n&&r){const s=SessionStorage$1.getItem(SESSION_STORAGE_TRANSLATIONS_KEY)||{},a=!isEmpty(s)&&t in s;return QLogger$1.invariant(a,`Translator: translations for locale '${t}' does not exist in translations fetched from session storage`),s[t]}try{o=(await __variableDynamicImportRuntimeHelper(Object.assign({"../../translations/ar.json":()=>__vitePreload(()=>import("./ar.80495ac0.js"),[]),"../../translations/az.json":()=>__vitePreload(()=>import("./az.a9def443.js"),[]),"../../translations/de.json":()=>__vitePreload(()=>import("./de.6a14b62d.js"),[]),"../../translations/en.json":()=>__vitePreload(()=>import("./en.c0c76ae9.js"),[]),"../../translations/es.json":()=>__vitePreload(()=>import("./es.54f147ba.js"),[]),"../../translations/fr.json":()=>__vitePreload(()=>import("./fr.7547c3df.js"),[]),"../../translations/id.json":()=>__vitePreload(()=>import("./id.bf18d848.js"),[]),"../../translations/it.json":()=>__vitePreload(()=>import("./it.5ab6ae70.js"),[]),"../../translations/ja.json":()=>__vitePreload(()=>import("./ja.a9ac02e7.js"),[]),"../../translations/kk.json":()=>__vitePreload(()=>import("./kk.7ae7d170.js"),[]),"../../translations/ko.json":()=>__vitePreload(()=>import("./ko.b374b34b.js"),[]),"../../translations/ms.json":()=>__vitePreload(()=>import("./ms.9da9d0de.js"),[]),"../../translations/nl.json":()=>__vitePreload(()=>import("./nl.0ea20c46.js"),[]),"../../translations/pl.json":()=>__vitePreload(()=>import("./pl.778a67be.js"),[]),"../../translations/pt-br.json":()=>__vitePreload(()=>import("./pt-br.6130f5fb.js"),[]),"../../translations/ru.json":()=>__vitePreload(()=>import("./ru.56d38481.js"),[]),"../../translations/th.json":()=>__vitePreload(()=>import("./th.4fc60dd4.js"),[]),"../../translations/tl.json":()=>__vitePreload(()=>import("./tl.ef3c1d79.js"),[]),"../../translations/tr.json":()=>__vitePreload(()=>import("./tr.11c966f1.js"),[]),"../../translations/vi.json":()=>__vitePreload(()=>import("./vi.6fcec0cc.js"),[]),"../../translations/zh-CN.json":()=>__vitePreload(()=>import("./zh-CN.cc088859.js"),[]),"../../translations/zh-TW.json":()=>__vitePreload(()=>import("./zh-TW.00e3ca3d.js"),[])}),`../../translations/${t}.json`)).default;const a=!isEmpty(o);if(QLogger$1.invariant(a,`Translator: invalid response on fetching for locale '${t}' at '${o}'`),!a)return{};this.configFetchedForLanguages[t]=!0;const u=SessionStorage$1.getItem(SESSION_STORAGE_TRANSLATIONS_KEY)||{};return u[t]=o,SessionStorage$1.setItem(SESSION_STORAGE_TRANSLATIONS_KEY,u),this.configInStorageForLanguages[t]=!0,o}catch(s){throw QLogger$1.logForSession([`Translator: Error at fetching translation file at '${o}'`,s]),s}}}const translator=new Translator,getTranslatedText=translator.getTranslation.bind(translator),getTranslatedServerText=translator.getTranslation.bind(translator);function substituteParameters(e,t){if(!t)return e;let n=e,r=0;const o=/(\{\$.*?\})/;let s=o.exec(n);for(;s;)t[r]===void 0?n=n.replace(o,""):n=n.replace(o,t[r]),r+=1,s=o.exec(n);return n}function isAValidSelectedLanguage$1(e){const t=_.map(Constants.Languages,n=>n.locale);return _.includes(t,e)}const StudentForumPrompts={POWERUP_IDEAS:"powerup-ideas",HOMEWORK:"homework",STUDENT_FORUM:"student-forum"},sampleSize={[StudentForumPrompts.POWERUP_IDEAS]:0/100,[StudentForumPrompts.HOMEWORK]:0/100,[StudentForumPrompts.STUDENT_FORUM]:10/100},prompts={[StudentForumPrompts.POWERUP_IDEAS]:{options:{header:getTranslatedText("Have an idea for a new power-up? Share it!"),title:getTranslatedText("Would you like to share your ideas on the Quizizz forum?"),redirectLink:"https://forum.quizizz.com/t/new-power-up-ideas/20/3",name:StudentForumPrompts.POWERUP_IDEAS},canShowPrompt:e=>{const t=e.state.powerup.list,n=Math.random();return isEmpty(t)?!1:!(_.findIndex(t,o=>o.status===Constants.PowerupStatuses.AWARDED)!==-1)&&n<=sampleSize[StudentForumPrompts.POWERUP_IDEAS]}},[StudentForumPrompts.HOMEWORK]:{options:{header:getTranslatedText("How can we improve homework on Quizizz?"),title:getTranslatedText("Would you like to share your ideas on the Quizizz forum?"),redirectLink:"https://forum.quizizz.com/t/making-homework-better-on-quizizz/32",name:StudentForumPrompts.HOMEWORK},canShowPrompt:e=>{if(_.get(e,"state.game.data.gameType")===Constants.GameType.ASYNC){const n=new Date,r=n.getHours(),o=n.getDay();if(Math.random()<=sampleSize[StudentForumPrompts.HOMEWORK]&&(r>=16||r<6||o===6||o===0))return!0}return!1}},[StudentForumPrompts.STUDENT_FORUM]:{options:{header:getTranslatedText("Can we make Quizizz better for you?"),title:getTranslatedText("Vote on your favorite ideas or post your own on the Quizizz forum!"),redirectLink:"https://forum.quizizz.com",name:StudentForumPrompts.STUDENT_FORUM},canShowPrompt:e=>{const t=_.get(e,"state.user.profile.isLoggedIn"),n=_.get(e,"state.user.profile.isUnderAge"),r=Math.random();return!!(t&&!n&&r<=sampleSize[StudentForumPrompts.STUDENT_FORUM])}}};class StudentForumPrompter{init(t){this.store=t}getStudentForumPrompt(){const t=_.filter(Object.values(prompts),r=>r.canShowPrompt(this.store)),n=t[Math.floor(Math.random()*t.length)];return isEmpty(n)?{}:{options:n.options}}}const StudentForumPrompter$1=new StudentForumPrompter;class GestureEducators{init(t){this.getState=t}canShowEducatorsForCurrentGame(t=!0){const{user:{profile:n,attempts:r}}=this.getState();if(!(n.isLoggedIn&&r.totalRunningGames>=0&&r.totalCompletedGames>=0))return GestureEducatorConfig.UnRegdUser.showForNthGame();let s=r.totalRunningGames+r.totalCompletedGames;return s=t?s+1:s,GestureEducatorConfig.RegdUser.showForNthGame(s)}canShowEducatorsForCurrentQuestion(t){const{user:{profile:n,attempts:r}}=this.getState();if(!n.isLoggedIn)return GestureEducatorConfig.UnRegdUser.showForNthQuestion(t);const o=r.totalRunningGames+r.totalCompletedGames;return GestureEducatorConfig.RegdUser.showForNthQuestion(t,o)}}const GestureEducators$1=new GestureEducators,COMMON_KEY="quizizz.com",BASE_CHAR_CODE_FOR_LENGTH=33,MAX_CHAR_CODE=65535,MIN_CHAR_CODE=0,ObfuscationDefaults={resultModifier:(e,t,n)=>e,keySumExtractor:(e,t)=>e.charCodeAt(0),offsetAdder:(e,t,n,r)=>r(e,t),miscDataForLogging:""},DeObfuscationDefaults={stringModifier:(e,t,n)=>e,keySumExtractor:(e,t)=>e.charCodeAt(0),offsetAdder:(e,t,n,r)=>r(e,t),miscDataForLogging:"",obfsVersionExtractor:extractVersionFromString};let currentVersion=2;function obfuscateData(e,t,n,r=currentVersion){return obfuscateIt(e,t||COMMON_KEY,{resultModifier:obfsStringAppender,keySumExtractor:returnKeySum,offsetAdder:commonOffsetAdder,miscDataForLogging:n,obfsVersion:r})}function deObfuscateData(e,t){return deObfuscateIt(e,keyExtractor,{stringModifier:actualObfsStringExtractor,keySumExtractor:returnKeySum,offsetAdder:commonOffsetAdder,miscDataForLogging:t,obfsVersionExtractor:extractVersionFromString})}function commonOffsetAdder(e,t,n,r,o){switch(o){case 2:return isCharCodeValidForObfs(e)?offsetBasedOnEvenOdd(e,t,n,r):e;case 1:default:return offsetBasedOnEvenOdd(e,t,n,r)}}function offsetBasedOnEvenOdd(e,t,n,r){return n%2===0?r(e,t):r(e,-t)}function obfsStringAppender(e,t,n,r){const o=getSecondKey(!0,r),s=obfuscateIt(t,o),a=String.fromCharCode(BASE_CHAR_CODE_FOR_LENGTH+s.length);return`${s}${e}${a}${r}`}function keyExtractor(e="",t,n){const r=parseInt(e[e.length-1],10),o=e.charCodeAt(e.length-2)-BASE_CHAR_CODE_FOR_LENGTH,s=e.slice(0,o),a=getSecondKey(!1,r);return deObfuscateIt(s,a)}function actualObfsStringExtractor(e="",t,n,r){const o=e.charCodeAt(e.length-2)-BASE_CHAR_CODE_FOR_LENGTH;return e.slice(o,-2)}function returnKeySum(e,t){return e.charCodeAt(0)+e.charCodeAt(e.length-1)}function extractVersionFromString(e){if(_.isString(e)&&e[e.length-1]){const t=parseInt(e[e.length-1],10);if(!_.isNaN(t))return t}return null}function getSecondKey(e,t){switch(t){case 3:return"testing";case 2:default:return COMMON_KEY}}function obfuscateIt(e,t,n={}){n=_.defaults(n,ObfuscationDefaults);const r=_.isNumber(n.obfsVersion)?n.obfsVersion:currentVersion,o=_.isFunction(t)?t(e,n,r):t;let s="";const a=n.keySumExtractor(o,e,r);for(let l=0;l<e.length;l++){const m=e.charCodeAt(l),y=n.offsetAdder(m,a,l,addOnChar,r);s+=String.fromCharCode(y)}let u=n.resultModifier(s,o,a,r);return(!_.isString(u)||isEmpty(u))&&(QLogger$1.logForSession([`Error- option 'resultModifier' needs to return a valid string at ${JSON.stringify(n.miscDataForLogging)}. Got Value`,u],"error"),u=s),u}function deObfuscateIt(e,t,n={}){n=_.defaults(n,DeObfuscationDefaults);const r=n.obfsVersionExtractor(e);let o="";const s=_.isFunction(t)?t(e,n,r):t,a=-n.keySumExtractor(s,e,r);let u=n.stringModifier(e,s,a,r);_.isString(u)||(QLogger$1.logForSession([`Error- option 'stringModifier' needs to return a valid string at ${JSON.stringify(n.miscDataForLogging)}. Got Value`,u],"error"),u=e);for(let l=0;l<u.length;l++){const m=u.charCodeAt(l),y=n.offsetAdder(m,a,l,addOnChar,r);o+=String.fromCharCode(y)}return o}function addOnChar(e,t){const n=e+t;return n>MAX_CHAR_CODE?MIN_CHAR_CODE+(n-MAX_CHAR_CODE)-1:n<MIN_CHAR_CODE?MAX_CHAR_CODE-(MIN_CHAR_CODE-n)+1:n}function isCharCodeValidForObfs(e){return _.isNumber(e)?!(e>=55296&&e<=56319||e>=56320&&e<=57343):!1}const NetworkCallTypes={REQUEST:"request",RESPONSE:"response"},ModuleNames={HTTP:"http",SOCKET:"socket"};function handleNetworkObfuscation(e,t){if(e===ModuleNames.HTTP)switch(t){case NetworkCallTypes.REQUEST:return handleHTTPRequest;case NetworkCallTypes.RESPONSE:return handleHTTPResponse}if(e===ModuleNames.SOCKET)switch(t){case NetworkCallTypes.REQUEST:return handleSocketRequest;case NetworkCallTypes.RESPONSE:return handleSocketResponse}}const KeyAtConfig={"v2/join":["roomHash"],"v3/join":["roomHash"],"v2/rejoin":["roomHash",3,5],"v3/rejoin":["roomHash",3,5],"v2/getQuestions":["roomHash",3,8],"v2/proceedGame":["questionId",3,6],"v2/playerGameOver":["roomHash",3,8],rejoinAnyGame:["roomHash",3,5],"v3/getQuestions":["roomHash",3,8],"v3/rejoin-game":["roomHash",3,5],"v4/join":["roomHash"],"v4/rejoin":["roomHash",3,5],"v4/proceedGame":["questionId",3,6],"v4/rejoinGame":["roomHash",3,5]};function handleHTTPRequest(e,t){const{requestName:n,requestUrl:r,fetchOptions:o,options:s,tryData:a}=e,u={...e};switch(n){case"v2/proceedGame":if(!isEmpty(o.body)&&!_.isString(o.body)){const l=pickKeyFromBody(o.body,n);u.fetchOptions={...u.fetchOptions,body:{odata:obfuscateData(JSON.stringify(o.body),l,n)}}}break}return QLogger$1.info(`
ASpashtor(HTTP)(REQUEST: - for '${n}' 
  Actual Request - `,_.cloneDeep.bind(null,e),`
  Final Request - `,_.cloneDeep.bind(null,u),`

`),u}function handleHTTPResponse(e,t){const{requestName:n,respObj:r,tryData:o,options:s}=e,a={...e};switch(n){case"v3/getQuestions":const u={};_.forEach(r.questions,(l,m)=>{const y={...l};y.structure.answer=JSON.parse(deObfuscateData(y.structure.answer,n)),u[m]=y}),a.respObj={...a.respObj,questions:u};break;case"v3/checkRoom":_.isString(r.odata)&&(a.respObj=JSON.parse(deObfuscateData(r.odata,n)));break}return a.requestName=n.replace(/v3\/|v2\//g,""),QLogger$1.info(`
Spashtor(HTTP)(RESPONSE): - for '${n}' 
  Actual Response - `,_.cloneDeep.bind(null,e),`
  Final Response - `,_.cloneDeep.bind(null,a),`
`),a}function handleSocketRequest(e,t){const{eventName:n,payload:r}=e,o={...e};switch(n){case"v2/join":case"v2/rejoin":case"v2/getQuestions":case"v2/proceedGame":case"v2/playerGameOver":case"v3/join":case"v3/rejoin":case"v3/rejoin-game":const s=pickKeyFromBody(r,n);o.payload={odata:obfuscateData(JSON.stringify(o.payload),s,n)};break}return QLogger$1.info(`
ASpashtor(SOCKET)(REQUEST): - for '${n}' 
  Actual Request - `,_.cloneDeep.bind(null,e),`
  Final Request - `,_.cloneDeep(o),`
`),o}function handleSocketResponse(e,t){const{eventName:n,response:r}=e,o={...e};switch(n){case"v2/checkRoom":case"v2/checkAssignment":case"v2/join":case"v2/rejoin":case"v2/playerGameOver":case"v3/checkRoom":case"v3/checkAssignment":case"v3/join":case"v3/rejoin":case"v3/rejoin-game":case"v4/join":case"v5/join":_.isString(r)&&(o.response=JSON.parse(deObfuscateData(r,n)));break;case"v2/getQuestions":const s={};_.forEach(r.questions,(a,u)=>{const l=JSON.parse(a);l.structure.answer=JSON.parse(deObfuscateData(l.structure.answer,n)),s[u]=JSON.stringify(l)}),o.response={...o.response,questions:s};break}return o.eventName=n.replace(/v3\/|v2\//g,""),QLogger$1.info(`
Spashtor(SOCKET)(RESPONSE): - for '${n}' 
  Actual Response - `,_.cloneDeep.bind(null,e),`
  Final Response - `,_.cloneDeep(o),`
`),o}function pickKeyFromBody(e,t){const n=KeyAtConfig[t];let r=_.at(e,n[0])[0];r=r||t;let o=r.length;return n[1]&&n[2]&&(o=_.random(n[1],n[2])),r.slice(0,o)}let actionDispatcher,callProgressUpdater,RequestModifiers=[lastRequestModifier],ResponseModifiers=[];const defaultFetchAndRetryOptions={retryCount:0,retryDelay:5*1e3,statusCodesToRetryOn:[">=500"],timeout:RequestConfig.REQUEST_TIMEOUT,additionalFetchOptions:{credentials:"same-origin"},urlEvalParameters:[],callId:"",addMetaData:!1},RequestStatuses={WAITING:0,FAILURE:-1,SUCCESS:1},TIMEOUT_ERROR="timeout",init=(e,t,n={})=>{actionDispatcher=e,callProgressUpdater=t,RequestModifiers=_.concat([],n.request,RequestModifiers),ResponseModifiers=_.concat([],n.response,ResponseModifiers)},HTTP={get(e,t={}){return fetchAndRetry(e,"GET",null,t)},post(e,t,n={}){return(!t||typeof t!="object")&&QLogger$1.logForSession("Error at HTTP POST: payload must be an object","error"),fetchAndRetry(e,"POST",t,n)},put(e,t,n={}){return(!t||typeof t!="object")&&QLogger$1.logForSession("Error at HTTP PUT: payload must be an object","error"),fetchAndRetry(e,"PUT",t,n)}};function fetchAndRetry(e,t="GET",n={},r={}){return new Promise((o,s)=>{const a=_.defaultsDeep(r,defaultFetchAndRetryOptions),u=getUrlForRequestName(e,a.urlEvalParameters),l=getOptionsForRequestUrl(u);let m=[],y,d;const f={method:t,...a.additionalFetchOptions,...l};if(!(t==="GET"||t==="HEAD")){f.body=n;const I=a.additionalFetchOptions.headers||{};f.headers={Accept:"application/json","Content-Type":"application/json",...I}}const v=async function(){const I=buildCallIdentifier({eventName:e,baseUniqueId:a.callId,time:Date.now()});try{m=setTryData(m,RequestStatuses.WAITING),actionDispatcher(callProgressUpdater,{callBeingUpdated:I,updationType:Constants.CallInProgressUpdationStatus.IN_PROGRESS});const P=executeAllModifiers(RequestModifiers,{requestName:e,requestUrl:u,fetchOptions:f,options:a,tryData:m}),O=a.noHeaders?{}:P.fetchOptions;y=await fetchWithTimeout(P.requestUrl,O,P.options.timeout),d=y.response;const R=y.request_timeTaken,M=a.noJSONParseRequired?null:await parseJSON(d),k=executeAllModifiers(ResponseModifiers,{requestName:e,respObj:M,tryData:m,options:a}),U=a.addMetaData?constructMetaData(d):null,Q=didRequestSucceed(d.status,k.respObj);if(Q.didSucceed)m=setTryData(m,RequestStatuses.SUCCESS,Q.succeedWithErrors,k.respObj,null,R),onRequestSucess(k.requestName,k.respObj,U,k.tryData,Q.succeedWithErrors,{...a},o,s),actionDispatcher(callProgressUpdater,{callBeingUpdated:I,updationType:Constants.CallInProgressUpdationStatus.DONE});else{QLogger$1.error(`Error after response recieved at fetchAndRetry for ${e}`,M),m=setTryData(m,RequestStatuses.FAILURE,Q.succeedWithErrors,M,null,R);const{shouldRetry:B}=await actionDispatcher("handleCommonApplicationErrors",{response:k,tryData:m});if(B){actionDispatcher(callProgressUpdater,{callBeingUpdated:I,updationType:Constants.CallInProgressUpdationStatus.DONE}),a.retryDelay=0,A();return}canRetry(m,a,d,null)?A():(onFinalFail(e,U,m,s,k.respObj||null),actionDispatcher(callProgressUpdater,{callBeingUpdated:I,updationType:Constants.CallInProgressUpdationStatus.DONE}))}}catch(P){QLogger$1.error(`Error at fetchAndRetry for ${e}`,P);const O=P&&(P.error||P.name),R=P&&P.request_timeTaken;m=setTryData(m,RequestStatuses.FAILURE,!1,null,O,R),canRetry(m,a,null,P)?A():(onFinalFail(e,{},m,s,P),actionDispatcher(callProgressUpdater,{callBeingUpdated:I,updationType:Constants.CallInProgressUpdationStatus.DONE}))}};function A(){setTimeout(()=>{v()},a.retryDelay)}v()})}function fetchWithTimeout(e,t,n){let r=!1;const o=Date.now();return new Promise((s,a)=>{setTimeout(()=>{r=!0;const u=e.split("/").pop();a({success:!1,error:TIMEOUT_ERROR,message:"Request timed out by client",api:u,request_timeTaken:Date.now()-o})},n),fetch(e,t).then(u=>{clearTimeout(n),r||s({response:u,request_timeTaken:Date.now()-o})}).catch(u=>{r||a({error:u,request_timeTaken:Date.now()-o})})})}function onRequestSucess(e,t,n={},r,o,s,a,u){try{if(o){if(u){const l=[e,t,r,n];u({requestName:l[0],response:l[1],tryData:l[2],metaData:l[3]})}}else{const l=[t,r,s,n];a&&a({response:l[0],tryData:l[1],requestOptions:l[2],metaData:l[3]})}}catch(l){QLogger$1.error("Error at onRequestSucess while dispatching responseHandlers ",l),u&&u({response:t,requestName:e,tryData:r,metaData:n})}}function onFinalFail(e,t={},n,r,o=null){try{const s=[e,n];r&&r({requestName:s[0],tryData:s[1],response:o,metaData:t})}catch(s){QLogger$1.error("Request Service: Error at onFinalFail",s)}}function didRequestSucceed(e,t){let n=!1,r=!1;return e>=200&&e<400?(n=!0,t&&t.error&&(t.error.message||t.error.type)&&(r=!0)):e<500&&t&&(_.isString(t.error)&&t.error||t.error&&(t.error.message||t.error.type))&&(n=!0,r=!0),{didSucceed:n,succeedWithErrors:r}}function canRetry(e,t,n,r){return e.length<t.retryCount+1?!(n&&n.status&&!evaluateResponseStatusForRetry(t.statusCodesToRetryOn,n.status)||r&&!(r&&r.name==="TypeError"||r.error&&r.error===TIMEOUT_ERROR)):!1}function evaluateResponseStatusForRetry(statusCodesToRetryOn,responseStatus){for(let i=0;i<statusCodesToRetryOn.length;i++){const statusCode=statusCodesToRetryOn[i];if(typeof statusCode=="string"&&eval(responseStatus+statusCode)||typeof statusCode=="number"&&responseStatus===statusCode)return!0}return!1}function setTryData(e,t,n,r,o,s=-1){const a=[...e];let u=-1;switch(t){case RequestStatuses.WAITING:a.push({status:t,timeTaken:-1});break;case RequestStatuses.SUCCESS:u=a.length-1,a[u].status=t,a[u].timeTaken=s,n&&(a[u].error=r&&r.error||"unknown"),r||(a[u].noBody=!0);break;case RequestStatuses.FAILURE:u=a.length-1,a[u].status=t,a[u].error=o||"unknown",a[u].timeTaken=s;break}return a}async function parseJSON(e){try{return await e.json()}catch(t){return QLogger$1.error("Error in parsing HTTP response: ",t,e),null}}function getUrlForRequestName(e,t=[]){const n=RequestConfig.EndPoints[e];if(_.isFunction(n)){const r=n(...t);if(r&&_.isString(r))return r}else if(_.isString(n))return n;return null}function getOptionsForRequestUrl(e){if(e.includes("play-api"))return{credentials:"include"}}function constructMetaData(e){const t={};try{e.headers&&e.headers.map&&(t.headers=_.clone(e.headers.map)),t.status=e.status,t.statusText=e.statusText,t.bodyUsed=e.bodyUsed}catch(n){QLogger$1.error("Error at constructMetaData for response",_.clone(e),n)}return t}function lastRequestModifier(e){return e.fetchOptions.body&&!_.isString(e.fetchOptions.body)?{...e,fetchOptions:{...e.fetchOptions,body:JSON.stringify(e.fetchOptions.body)}}:e}function executeAllModifiers(e,t){let n=t;for(let r=0;r<e.length;r++){const o=e[r](n);isEmpty(o)?QLogger$1.error(`Error at executing Reducer - reducer at index ${r} returned invalid value`,o):n=_.clone(o)}return n}class SourceLocation{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new SourceLocation(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class Token{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new Token(n,SourceLocation.range(this,t))}}class ParseError{constructor(t,n){this.position=void 0;var r="KaTeX parse error: "+t,o,s=n&&n.loc;if(s&&s.start<=s.end){var a=s.lexer.input;o=s.start;var u=s.end;o===a.length?r+=" at end of input: ":r+=" at position "+(o+1)+": ";var l=a.slice(o,u).replace(/[^]/g,"$&̲"),m;o>15?m="…"+a.slice(o-15,o):m=a.slice(0,o);var y;u+15<a.length?y=a.slice(u,u+15)+"…":y=a.slice(u),r+=m+l+y}var d=new Error(r);return d.name="ParseError",d.__proto__=ParseError.prototype,d.position=o,d}}ParseError.prototype.__proto__=Error.prototype;var contains=function e(t,n){return t.indexOf(n)!==-1},deflt=function e(t,n){return t===void 0?n:t},uppercase=/([A-Z])/g,hyphenate=function e(t){return t.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape$1(e){return String(e).replace(ESCAPE_REGEX,t=>ESCAPE_LOOKUP[t])}var getBaseElem=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},isCharacterBox=function e(t){var n=getBaseElem(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},assert=function e(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},protocolFromUrl=function e(t){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(t);return n!=null?n[1]:"_relative"},utils={contains,deflt,escape:escape$1,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(n)){var r=SETTINGS_SCHEMA[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:getDefaultValue(r)}}reportNonstrict(t,n,r){var o=this.strict;if(typeof o=="function"&&(o=o(t,n,r)),!(!o||o==="ignore")){if(o===!0||o==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);o==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var o=this.strict;if(typeof o=="function")try{o=o(t,n,r)}catch{o="error"}return!o||o==="ignore"?!1:o===!0||o==="error"?!0:o==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+t+"]")),!1)}isTrusted(t){t.url&&!t.protocol&&(t.protocol=utils.protocolFromUrl(t.url));var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class Style{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(e){for(var t=0;t<scriptData.length;t++)for(var n=scriptData[t],r=0;r<n.blocks.length;r++){var o=n.blocks[r];if(e>=o[0]&&e<=o[1])return n.name}return null}var allBlocks=[];scriptData.forEach(e=>e.blocks.forEach(t=>allBlocks.push(...t)));function supportedCodepoint(e){for(var t=0;t<allBlocks.length;t+=2)if(e>=allBlocks[t]&&e<=allBlocks[t+1])return!0;return!1}var hLinePad=80,sqrtMain=function e(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},sqrtSize1=function e(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},sqrtSize2=function e(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},sqrtSize3=function e(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},sqrtSize4=function e(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},phasePath=function e(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},sqrtTall=function e(t,n,r){var o=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+o+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},sqrtPath=function e(t,n,r){n=1e3*n;var o="";switch(t){case"sqrtMain":o=sqrtMain(n,hLinePad);break;case"sqrtSize1":o=sqrtSize1(n,hLinePad);break;case"sqrtSize2":o=sqrtSize2(n,hLinePad);break;case"sqrtSize3":o=sqrtSize3(n,hLinePad);break;case"sqrtSize4":o=sqrtSize4(n,hLinePad);break;case"sqrtTall":o=sqrtTall(n,hLinePad,r)}return o},innerPath=function e(t,n){switch(t){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},path={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function e(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class DocumentFragment{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return utils.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function setFontMetrics(e,t){fontMetricsData[e]=t}function getCharacterMetrics(e,t,n){if(!fontMetricsData[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),o=fontMetricsData[t][r];if(!o&&e[0]in extraCharacterMap&&(r=extraCharacterMap[e[0]].charCodeAt(0),o=fontMetricsData[t][r]),!o&&n==="text"&&supportedCodepoint(r)&&(o=fontMetricsData[t][77]),o)return{depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!fontMetricsBySizeIndex[t]){var n=fontMetricsBySizeIndex[t]={cssEmPerMu:sigmasAndXis.quad[t]/18};for(var r in sigmasAndXis)sigmasAndXis.hasOwnProperty(r)&&(n[r]=sigmasAndXis[r][t])}return fontMetricsBySizeIndex[t]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function e(t,n){return n.size<2?t:sizeStyleMap[t-1][n.size-1]};let Options$1=class Mr{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Mr.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new Mr(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:sizeAtStyle(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:sizeMultipliers[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=sizeAtStyle(Mr.BASESIZE,t);return this.size===n&&this.textSize===Mr.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Mr.BASESIZE?["sizing","reset-size"+this.size,"size"+Mr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}};Options$1.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function e(t){return typeof t!="string"&&(t=t.unit),t in ptPerUnit||t in relativeUnit||t==="ex"},calculateSize=function e(t,n){var r;if(t.unit in ptPerUnit)r=ptPerUnit[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var o;if(n.style.isTight()?o=n.havingStyle(n.style.text()):o=n,t.unit==="ex")r=o.fontMetrics().xHeight;else if(t.unit==="em")r=o.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+t.unit+"'");o!==n&&(r*=o.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},makeEm=function e(t){return+t.toFixed(4)+"em"},createClass=function e(t){return t.filter(n=>n).join(" ")},initNode=function e(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var o=n.getColor();o&&(this.style.color=o)}},toNode=function e(t){var n=document.createElement(t);n.className=createClass(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var o in this.attributes)this.attributes.hasOwnProperty(o)&&n.setAttribute(o,this.attributes[o]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},toMarkup=function e(t){var n="<"+t;this.classes.length&&(n+=' class="'+utils.escape(createClass(this.classes))+'"');var r="";for(var o in this.style)this.style.hasOwnProperty(o)&&(r+=utils.hyphenate(o)+":"+this.style[o]+";");r&&(n+=' style="'+utils.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(n+=" "+s+'="'+utils.escape(this.attributes[s])+'"');n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+t+">",n};class Span{constructor(t,n,r,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,t,r,o),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return utils.contains(this.classes,t)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(t,n,r,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,n,o),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return utils.contains(this.classes,t)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return utils.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=utils.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+utils.escape(n)+'"'),t+="'/>",t}}var iCombinations={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class SymbolNode{constructor(t,n,r,o,s,a,u,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=o||0,this.skew=s||0,this.width=a||0,this.classes=u||[],this.style=l||{},this.maxFontSize=0;var m=scriptFromCodepoint(this.text.charCodeAt(0));m&&this.classes.push(m+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(t){return utils.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=createClass(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=utils.escape(createClass(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var o in this.style)this.style.hasOwnProperty(o)&&(r+=utils.hyphenate(o)+":"+this.style[o]+";");r&&(t=!0,n+=' style="'+utils.escape(r)+'"');var s=utils.escape(this.text);return t?(n+=">",n+=s,n+="</span>",n):s}}class SvgNode{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class PathNode{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",path[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+path[this.pathName]+"'/>"}}class LineNode{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");return t+="/>",t}}function assertSymbolDomNode(e){if(e instanceof SymbolNode)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function assertSpan(e){if(e instanceof Span)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(e,t,n,r,o,s){symbols[e][o]={font:t,group:n,replace:r},s&&r&&(symbols[e][r]=symbols[e][o])}var math="math",text="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"≡","\\equiv",!0);defineSymbol(math,main,rel,"≺","\\prec",!0);defineSymbol(math,main,rel,"≻","\\succ",!0);defineSymbol(math,main,rel,"∼","\\sim",!0);defineSymbol(math,main,rel,"⊥","\\perp");defineSymbol(math,main,rel,"⪯","\\preceq",!0);defineSymbol(math,main,rel,"⪰","\\succeq",!0);defineSymbol(math,main,rel,"≃","\\simeq",!0);defineSymbol(math,main,rel,"∣","\\mid",!0);defineSymbol(math,main,rel,"≪","\\ll",!0);defineSymbol(math,main,rel,"≫","\\gg",!0);defineSymbol(math,main,rel,"≍","\\asymp",!0);defineSymbol(math,main,rel,"∥","\\parallel");defineSymbol(math,main,rel,"⋈","\\bowtie",!0);defineSymbol(math,main,rel,"⌣","\\smile",!0);defineSymbol(math,main,rel,"⊑","\\sqsubseteq",!0);defineSymbol(math,main,rel,"⊒","\\sqsupseteq",!0);defineSymbol(math,main,rel,"≐","\\doteq",!0);defineSymbol(math,main,rel,"⌢","\\frown",!0);defineSymbol(math,main,rel,"∋","\\ni",!0);defineSymbol(math,main,rel,"∝","\\propto",!0);defineSymbol(math,main,rel,"⊢","\\vdash",!0);defineSymbol(math,main,rel,"⊣","\\dashv",!0);defineSymbol(math,main,rel,"∋","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"⋅","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text,main,textord,"&","\\&");defineSymbol(math,main,textord,"ℵ","\\aleph",!0);defineSymbol(math,main,textord,"∀","\\forall",!0);defineSymbol(math,main,textord,"ℏ","\\hbar",!0);defineSymbol(math,main,textord,"∃","\\exists",!0);defineSymbol(math,main,textord,"∇","\\nabla",!0);defineSymbol(math,main,textord,"♭","\\flat",!0);defineSymbol(math,main,textord,"ℓ","\\ell",!0);defineSymbol(math,main,textord,"♮","\\natural",!0);defineSymbol(math,main,textord,"♣","\\clubsuit",!0);defineSymbol(math,main,textord,"℘","\\wp",!0);defineSymbol(math,main,textord,"♯","\\sharp",!0);defineSymbol(math,main,textord,"♢","\\diamondsuit",!0);defineSymbol(math,main,textord,"ℜ","\\Re",!0);defineSymbol(math,main,textord,"♡","\\heartsuit",!0);defineSymbol(math,main,textord,"ℑ","\\Im",!0);defineSymbol(math,main,textord,"♠","\\spadesuit",!0);defineSymbol(math,main,textord,"§","\\S",!0);defineSymbol(text,main,textord,"§","\\S");defineSymbol(math,main,textord,"¶","\\P",!0);defineSymbol(text,main,textord,"¶","\\P");defineSymbol(math,main,textord,"†","\\dag");defineSymbol(text,main,textord,"†","\\dag");defineSymbol(text,main,textord,"†","\\textdagger");defineSymbol(math,main,textord,"‡","\\ddag");defineSymbol(text,main,textord,"‡","\\ddag");defineSymbol(text,main,textord,"‡","\\textdaggerdbl");defineSymbol(math,main,close,"⎱","\\rmoustache",!0);defineSymbol(math,main,open,"⎰","\\lmoustache",!0);defineSymbol(math,main,close,"⟯","\\rgroup",!0);defineSymbol(math,main,open,"⟮","\\lgroup",!0);defineSymbol(math,main,bin,"∓","\\mp",!0);defineSymbol(math,main,bin,"⊖","\\ominus",!0);defineSymbol(math,main,bin,"⊎","\\uplus",!0);defineSymbol(math,main,bin,"⊓","\\sqcap",!0);defineSymbol(math,main,bin,"∗","\\ast");defineSymbol(math,main,bin,"⊔","\\sqcup",!0);defineSymbol(math,main,bin,"◯","\\bigcirc",!0);defineSymbol(math,main,bin,"∙","\\bullet",!0);defineSymbol(math,main,bin,"‡","\\ddagger");defineSymbol(math,main,bin,"≀","\\wr",!0);defineSymbol(math,main,bin,"⨿","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"⟵","\\longleftarrow",!0);defineSymbol(math,main,rel,"⇐","\\Leftarrow",!0);defineSymbol(math,main,rel,"⟸","\\Longleftarrow",!0);defineSymbol(math,main,rel,"⟶","\\longrightarrow",!0);defineSymbol(math,main,rel,"⇒","\\Rightarrow",!0);defineSymbol(math,main,rel,"⟹","\\Longrightarrow",!0);defineSymbol(math,main,rel,"↔","\\leftrightarrow",!0);defineSymbol(math,main,rel,"⟷","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"⇔","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"⟺","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"↦","\\mapsto",!0);defineSymbol(math,main,rel,"⟼","\\longmapsto",!0);defineSymbol(math,main,rel,"↗","\\nearrow",!0);defineSymbol(math,main,rel,"↩","\\hookleftarrow",!0);defineSymbol(math,main,rel,"↪","\\hookrightarrow",!0);defineSymbol(math,main,rel,"↘","\\searrow",!0);defineSymbol(math,main,rel,"↼","\\leftharpoonup",!0);defineSymbol(math,main,rel,"⇀","\\rightharpoonup",!0);defineSymbol(math,main,rel,"↙","\\swarrow",!0);defineSymbol(math,main,rel,"↽","\\leftharpoondown",!0);defineSymbol(math,main,rel,"⇁","\\rightharpoondown",!0);defineSymbol(math,main,rel,"↖","\\nwarrow",!0);defineSymbol(math,main,rel,"⇌","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"≮","\\nless",!0);defineSymbol(math,ams,rel,"","\\@nleqslant");defineSymbol(math,ams,rel,"","\\@nleqq");defineSymbol(math,ams,rel,"⪇","\\lneq",!0);defineSymbol(math,ams,rel,"≨","\\lneqq",!0);defineSymbol(math,ams,rel,"","\\@lvertneqq");defineSymbol(math,ams,rel,"⋦","\\lnsim",!0);defineSymbol(math,ams,rel,"⪉","\\lnapprox",!0);defineSymbol(math,ams,rel,"⊀","\\nprec",!0);defineSymbol(math,ams,rel,"⋠","\\npreceq",!0);defineSymbol(math,ams,rel,"⋨","\\precnsim",!0);defineSymbol(math,ams,rel,"⪹","\\precnapprox",!0);defineSymbol(math,ams,rel,"≁","\\nsim",!0);defineSymbol(math,ams,rel,"","\\@nshortmid");defineSymbol(math,ams,rel,"∤","\\nmid",!0);defineSymbol(math,ams,rel,"⊬","\\nvdash",!0);defineSymbol(math,ams,rel,"⊭","\\nvDash",!0);defineSymbol(math,ams,rel,"⋪","\\ntriangleleft");defineSymbol(math,ams,rel,"⋬","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"⊊","\\subsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneq");defineSymbol(math,ams,rel,"⫋","\\subsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneqq");defineSymbol(math,ams,rel,"≯","\\ngtr",!0);defineSymbol(math,ams,rel,"","\\@ngeqslant");defineSymbol(math,ams,rel,"","\\@ngeqq");defineSymbol(math,ams,rel,"⪈","\\gneq",!0);defineSymbol(math,ams,rel,"≩","\\gneqq",!0);defineSymbol(math,ams,rel,"","\\@gvertneqq");defineSymbol(math,ams,rel,"⋧","\\gnsim",!0);defineSymbol(math,ams,rel,"⪊","\\gnapprox",!0);defineSymbol(math,ams,rel,"⊁","\\nsucc",!0);defineSymbol(math,ams,rel,"⋡","\\nsucceq",!0);defineSymbol(math,ams,rel,"⋩","\\succnsim",!0);defineSymbol(math,ams,rel,"⪺","\\succnapprox",!0);defineSymbol(math,ams,rel,"≆","\\ncong",!0);defineSymbol(math,ams,rel,"","\\@nshortparallel");defineSymbol(math,ams,rel,"∦","\\nparallel",!0);defineSymbol(math,ams,rel,"⊯","\\nVDash",!0);defineSymbol(math,ams,rel,"⋫","\\ntriangleright");defineSymbol(math,ams,rel,"⋭","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"","\\@nsupseteqq");defineSymbol(math,ams,rel,"⊋","\\supsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneq");defineSymbol(math,ams,rel,"⫌","\\supsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneqq");defineSymbol(math,ams,rel,"⊮","\\nVdash",!0);defineSymbol(math,ams,rel,"⪵","\\precneqq",!0);defineSymbol(math,ams,rel,"⪶","\\succneqq",!0);defineSymbol(math,ams,rel,"","\\@nsubseteqq");defineSymbol(math,ams,bin,"⊴","\\unlhd");defineSymbol(math,ams,bin,"⊵","\\unrhd");defineSymbol(math,ams,rel,"↚","\\nleftarrow",!0);defineSymbol(math,ams,rel,"↛","\\nrightarrow",!0);defineSymbol(math,ams,rel,"⇍","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"⇏","\\nRightarrow",!0);defineSymbol(math,ams,rel,"↮","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"⇎","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"△","\\vartriangle");defineSymbol(math,ams,textord,"ℏ","\\hslash");defineSymbol(math,ams,textord,"▽","\\triangledown");defineSymbol(math,ams,textord,"◊","\\lozenge");defineSymbol(math,ams,textord,"Ⓢ","\\circledS");defineSymbol(math,ams,textord,"®","\\circledR");defineSymbol(text,ams,textord,"®","\\circledR");defineSymbol(math,ams,textord,"∡","\\measuredangle",!0);defineSymbol(math,ams,textord,"∄","\\nexists");defineSymbol(math,ams,textord,"℧","\\mho");defineSymbol(math,ams,textord,"Ⅎ","\\Finv",!0);defineSymbol(math,ams,textord,"⅁","\\Game",!0);defineSymbol(math,ams,textord,"‵","\\backprime");defineSymbol(math,ams,textord,"▲","\\blacktriangle");defineSymbol(math,ams,textord,"▼","\\blacktriangledown");defineSymbol(math,ams,textord,"■","\\blacksquare");defineSymbol(math,ams,textord,"⧫","\\blacklozenge");defineSymbol(math,ams,textord,"★","\\bigstar");defineSymbol(math,ams,textord,"∢","\\sphericalangle",!0);defineSymbol(math,ams,textord,"∁","\\complement",!0);defineSymbol(math,ams,textord,"ð","\\eth",!0);defineSymbol(text,main,textord,"ð","ð");defineSymbol(math,ams,textord,"╱","\\diagup");defineSymbol(math,ams,textord,"╲","\\diagdown");defineSymbol(math,ams,textord,"□","\\square");defineSymbol(math,ams,textord,"□","\\Box");defineSymbol(math,ams,textord,"◊","\\Diamond");defineSymbol(math,ams,textord,"¥","\\yen",!0);defineSymbol(text,ams,textord,"¥","\\yen",!0);defineSymbol(math,ams,textord,"✓","\\checkmark",!0);defineSymbol(text,ams,textord,"✓","\\checkmark");defineSymbol(math,ams,textord,"ℶ","\\beth",!0);defineSymbol(math,ams,textord,"ℸ","\\daleth",!0);defineSymbol(math,ams,textord,"ℷ","\\gimel",!0);defineSymbol(math,ams,textord,"ϝ","\\digamma",!0);defineSymbol(math,ams,textord,"ϰ","\\varkappa");defineSymbol(math,ams,open,"┌","\\@ulcorner",!0);defineSymbol(math,ams,close,"┐","\\@urcorner",!0);defineSymbol(math,ams,open,"└","\\@llcorner",!0);defineSymbol(math,ams,close,"┘","\\@lrcorner",!0);defineSymbol(math,ams,rel,"≦","\\leqq",!0);defineSymbol(math,ams,rel,"⩽","\\leqslant",!0);defineSymbol(math,ams,rel,"⪕","\\eqslantless",!0);defineSymbol(math,ams,rel,"≲","\\lesssim",!0);defineSymbol(math,ams,rel,"⪅","\\lessapprox",!0);defineSymbol(math,ams,rel,"≊","\\approxeq",!0);defineSymbol(math,ams,bin,"⋖","\\lessdot");defineSymbol(math,ams,rel,"⋘","\\lll",!0);defineSymbol(math,ams,rel,"≶","\\lessgtr",!0);defineSymbol(math,ams,rel,"⋚","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"⪋","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"≑","\\doteqdot");defineSymbol(math,ams,rel,"≓","\\risingdotseq",!0);defineSymbol(math,ams,rel,"≒","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"∽","\\backsim",!0);defineSymbol(math,ams,rel,"⋍","\\backsimeq",!0);defineSymbol(math,ams,rel,"⫅","\\subseteqq",!0);defineSymbol(math,ams,rel,"⋐","\\Subset",!0);defineSymbol(math,ams,rel,"⊏","\\sqsubset",!0);defineSymbol(math,ams,rel,"≼","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"⋞","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"≾","\\precsim",!0);defineSymbol(math,ams,rel,"⪷","\\precapprox",!0);defineSymbol(math,ams,rel,"⊲","\\vartriangleleft");defineSymbol(math,ams,rel,"⊴","\\trianglelefteq");defineSymbol(math,ams,rel,"⊨","\\vDash",!0);defineSymbol(math,ams,rel,"⊪","\\Vvdash",!0);defineSymbol(math,ams,rel,"⌣","\\smallsmile");defineSymbol(math,ams,rel,"⌢","\\smallfrown");defineSymbol(math,ams,rel,"≏","\\bumpeq",!0);defineSymbol(math,ams,rel,"≎","\\Bumpeq",!0);defineSymbol(math,ams,rel,"≧","\\geqq",!0);defineSymbol(math,ams,rel,"⩾","\\geqslant",!0);defineSymbol(math,ams,rel,"⪖","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"≳","\\gtrsim",!0);defineSymbol(math,ams,rel,"⪆","\\gtrapprox",!0);defineSymbol(math,ams,bin,"⋗","\\gtrdot");defineSymbol(math,ams,rel,"⋙","\\ggg",!0);defineSymbol(math,ams,rel,"≷","\\gtrless",!0);defineSymbol(math,ams,rel,"⋛","\\gtreqless",!0);defineSymbol(math,ams,rel,"⪌","\\gtreqqless",!0);defineSymbol(math,ams,rel,"≖","\\eqcirc",!0);defineSymbol(math,ams,rel,"≗","\\circeq",!0);defineSymbol(math,ams,rel,"≜","\\triangleq",!0);defineSymbol(math,ams,rel,"∼","\\thicksim");defineSymbol(math,ams,rel,"≈","\\thickapprox");defineSymbol(math,ams,rel,"⫆","\\supseteqq",!0);defineSymbol(math,ams,rel,"⋑","\\Supset",!0);defineSymbol(math,ams,rel,"⊐","\\sqsupset",!0);defineSymbol(math,ams,rel,"≽","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"⋟","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"≿","\\succsim",!0);defineSymbol(math,ams,rel,"⪸","\\succapprox",!0);defineSymbol(math,ams,rel,"⊳","\\vartriangleright");defineSymbol(math,ams,rel,"⊵","\\trianglerighteq");defineSymbol(math,ams,rel,"⊩","\\Vdash",!0);defineSymbol(math,ams,rel,"∣","\\shortmid");defineSymbol(math,ams,rel,"∥","\\shortparallel");defineSymbol(math,ams,rel,"≬","\\between",!0);defineSymbol(math,ams,rel,"⋔","\\pitchfork",!0);defineSymbol(math,ams,rel,"∝","\\varpropto");defineSymbol(math,ams,rel,"◀","\\blacktriangleleft");defineSymbol(math,ams,rel,"∴","\\therefore",!0);defineSymbol(math,ams,rel,"∍","\\backepsilon");defineSymbol(math,ams,rel,"▶","\\blacktriangleright");defineSymbol(math,ams,rel,"∵","\\because",!0);defineSymbol(math,ams,rel,"⋘","\\llless");defineSymbol(math,ams,rel,"⋙","\\gggtr");defineSymbol(math,ams,bin,"⊲","\\lhd");defineSymbol(math,ams,bin,"⊳","\\rhd");defineSymbol(math,ams,rel,"≂","\\eqsim",!0);defineSymbol(math,main,rel,"⋈","\\Join");defineSymbol(math,ams,rel,"≑","\\Doteq",!0);defineSymbol(math,ams,bin,"∔","\\dotplus",!0);defineSymbol(math,ams,bin,"∖","\\smallsetminus");defineSymbol(math,ams,bin,"⋒","\\Cap",!0);defineSymbol(math,ams,bin,"⋓","\\Cup",!0);defineSymbol(math,ams,bin,"⩞","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"⊟","\\boxminus",!0);defineSymbol(math,ams,bin,"⊞","\\boxplus",!0);defineSymbol(math,ams,bin,"⋇","\\divideontimes",!0);defineSymbol(math,ams,bin,"⋉","\\ltimes",!0);defineSymbol(math,ams,bin,"⋊","\\rtimes",!0);defineSymbol(math,ams,bin,"⋋","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"⋌","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"⋏","\\curlywedge",!0);defineSymbol(math,ams,bin,"⋎","\\curlyvee",!0);defineSymbol(math,ams,bin,"⊝","\\circleddash",!0);defineSymbol(math,ams,bin,"⊛","\\circledast",!0);defineSymbol(math,ams,bin,"⋅","\\centerdot");defineSymbol(math,ams,bin,"⊺","\\intercal",!0);defineSymbol(math,ams,bin,"⋒","\\doublecap");defineSymbol(math,ams,bin,"⋓","\\doublecup");defineSymbol(math,ams,bin,"⊠","\\boxtimes",!0);defineSymbol(math,ams,rel,"⇢","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"⇠","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"⇇","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"⇆","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"⇚","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"↞","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"↢","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"↫","\\looparrowleft",!0);defineSymbol(math,ams,rel,"⇋","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"↶","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"↺","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"↰","\\Lsh",!0);defineSymbol(math,ams,rel,"⇈","\\upuparrows",!0);defineSymbol(math,ams,rel,"↿","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"⇃","\\downharpoonleft",!0);defineSymbol(math,main,rel,"⊶","\\origof",!0);defineSymbol(math,main,rel,"⊷","\\imageof",!0);defineSymbol(math,ams,rel,"⊸","\\multimap",!0);defineSymbol(math,ams,rel,"↭","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"⇉","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"⇄","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"↠","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"↣","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"↬","\\looparrowright",!0);defineSymbol(math,ams,rel,"↷","\\curvearrowright",!0);defineSymbol(math,ams,rel,"↻","\\circlearrowright",!0);defineSymbol(math,ams,rel,"↱","\\Rsh",!0);defineSymbol(math,ams,rel,"⇊","\\downdownarrows",!0);defineSymbol(math,ams,rel,"↾","\\upharpoonright",!0);defineSymbol(math,ams,rel,"⇂","\\downharpoonright",!0);defineSymbol(math,ams,rel,"⇝","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"⇝","\\leadsto");defineSymbol(math,ams,rel,"⇛","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"↾","\\restriction");defineSymbol(math,main,textord,"‘","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text,main,textord,"$","\\$");defineSymbol(text,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text,main,textord,"_","\\_");defineSymbol(text,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"∠","\\angle",!0);defineSymbol(math,main,textord,"∞","\\infty",!0);defineSymbol(math,main,textord,"′","\\prime");defineSymbol(math,main,textord,"△","\\triangle");defineSymbol(math,main,textord,"Γ","\\Gamma",!0);defineSymbol(math,main,textord,"Δ","\\Delta",!0);defineSymbol(math,main,textord,"Θ","\\Theta",!0);defineSymbol(math,main,textord,"Λ","\\Lambda",!0);defineSymbol(math,main,textord,"Ξ","\\Xi",!0);defineSymbol(math,main,textord,"Π","\\Pi",!0);defineSymbol(math,main,textord,"Σ","\\Sigma",!0);defineSymbol(math,main,textord,"Υ","\\Upsilon",!0);defineSymbol(math,main,textord,"Φ","\\Phi",!0);defineSymbol(math,main,textord,"Ψ","\\Psi",!0);defineSymbol(math,main,textord,"Ω","\\Omega",!0);defineSymbol(math,main,textord,"A","Α");defineSymbol(math,main,textord,"B","Β");defineSymbol(math,main,textord,"E","Ε");defineSymbol(math,main,textord,"Z","Ζ");defineSymbol(math,main,textord,"H","Η");defineSymbol(math,main,textord,"I","Ι");defineSymbol(math,main,textord,"K","Κ");defineSymbol(math,main,textord,"M","Μ");defineSymbol(math,main,textord,"N","Ν");defineSymbol(math,main,textord,"O","Ο");defineSymbol(math,main,textord,"P","Ρ");defineSymbol(math,main,textord,"T","Τ");defineSymbol(math,main,textord,"X","Χ");defineSymbol(math,main,textord,"¬","\\neg",!0);defineSymbol(math,main,textord,"¬","\\lnot");defineSymbol(math,main,textord,"⊤","\\top");defineSymbol(math,main,textord,"⊥","\\bot");defineSymbol(math,main,textord,"∅","\\emptyset");defineSymbol(math,ams,textord,"∅","\\varnothing");defineSymbol(math,main,mathord,"α","\\alpha",!0);defineSymbol(math,main,mathord,"β","\\beta",!0);defineSymbol(math,main,mathord,"γ","\\gamma",!0);defineSymbol(math,main,mathord,"δ","\\delta",!0);defineSymbol(math,main,mathord,"ϵ","\\epsilon",!0);defineSymbol(math,main,mathord,"ζ","\\zeta",!0);defineSymbol(math,main,mathord,"η","\\eta",!0);defineSymbol(math,main,mathord,"θ","\\theta",!0);defineSymbol(math,main,mathord,"ι","\\iota",!0);defineSymbol(math,main,mathord,"κ","\\kappa",!0);defineSymbol(math,main,mathord,"λ","\\lambda",!0);defineSymbol(math,main,mathord,"μ","\\mu",!0);defineSymbol(math,main,mathord,"ν","\\nu",!0);defineSymbol(math,main,mathord,"ξ","\\xi",!0);defineSymbol(math,main,mathord,"ο","\\omicron",!0);defineSymbol(math,main,mathord,"π","\\pi",!0);defineSymbol(math,main,mathord,"ρ","\\rho",!0);defineSymbol(math,main,mathord,"σ","\\sigma",!0);defineSymbol(math,main,mathord,"τ","\\tau",!0);defineSymbol(math,main,mathord,"υ","\\upsilon",!0);defineSymbol(math,main,mathord,"ϕ","\\phi",!0);defineSymbol(math,main,mathord,"χ","\\chi",!0);defineSymbol(math,main,mathord,"ψ","\\psi",!0);defineSymbol(math,main,mathord,"ω","\\omega",!0);defineSymbol(math,main,mathord,"ε","\\varepsilon",!0);defineSymbol(math,main,mathord,"ϑ","\\vartheta",!0);defineSymbol(math,main,mathord,"ϖ","\\varpi",!0);defineSymbol(math,main,mathord,"ϱ","\\varrho",!0);defineSymbol(math,main,mathord,"ς","\\varsigma",!0);defineSymbol(math,main,mathord,"φ","\\varphi",!0);defineSymbol(math,main,bin,"∗","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"−","-",!0);defineSymbol(math,main,bin,"⋅","\\cdot",!0);defineSymbol(math,main,bin,"∘","\\circ",!0);defineSymbol(math,main,bin,"÷","\\div",!0);defineSymbol(math,main,bin,"±","\\pm",!0);defineSymbol(math,main,bin,"×","\\times",!0);defineSymbol(math,main,bin,"∩","\\cap",!0);defineSymbol(math,main,bin,"∪","\\cup",!0);defineSymbol(math,main,bin,"∖","\\setminus",!0);defineSymbol(math,main,bin,"∧","\\land");defineSymbol(math,main,bin,"∨","\\lor");defineSymbol(math,main,bin,"∧","\\wedge",!0);defineSymbol(math,main,bin,"∨","\\vee",!0);defineSymbol(math,main,textord,"√","\\surd");defineSymbol(math,main,open,"⟨","\\langle",!0);defineSymbol(math,main,open,"∣","\\lvert");defineSymbol(math,main,open,"∥","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"⟩","\\rangle",!0);defineSymbol(math,main,close,"∣","\\rvert");defineSymbol(math,main,close,"∥","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"≈","\\approx",!0);defineSymbol(math,main,rel,"≅","\\cong",!0);defineSymbol(math,main,rel,"≥","\\ge");defineSymbol(math,main,rel,"≥","\\geq",!0);defineSymbol(math,main,rel,"←","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"∈","\\in",!0);defineSymbol(math,main,rel,"","\\@not");defineSymbol(math,main,rel,"⊂","\\subset",!0);defineSymbol(math,main,rel,"⊃","\\supset",!0);defineSymbol(math,main,rel,"⊆","\\subseteq",!0);defineSymbol(math,main,rel,"⊇","\\supseteq",!0);defineSymbol(math,ams,rel,"⊈","\\nsubseteq",!0);defineSymbol(math,ams,rel,"⊉","\\nsupseteq",!0);defineSymbol(math,main,rel,"⊨","\\models");defineSymbol(math,main,rel,"←","\\leftarrow",!0);defineSymbol(math,main,rel,"≤","\\le");defineSymbol(math,main,rel,"≤","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"→","\\rightarrow",!0);defineSymbol(math,main,rel,"→","\\to");defineSymbol(math,ams,rel,"≱","\\ngeq",!0);defineSymbol(math,ams,rel,"≰","\\nleq",!0);defineSymbol(math,main,spacing," ","\\ ");defineSymbol(math,main,spacing," ","\\space");defineSymbol(math,main,spacing," ","\\nobreakspace");defineSymbol(text,main,spacing," ","\\ ");defineSymbol(text,main,spacing," "," ");defineSymbol(text,main,spacing," ","\\space");defineSymbol(text,main,spacing," ","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"⊼","\\barwedge",!0);defineSymbol(math,ams,bin,"⊻","\\veebar",!0);defineSymbol(math,main,bin,"⊙","\\odot",!0);defineSymbol(math,main,bin,"⊕","\\oplus",!0);defineSymbol(math,main,bin,"⊗","\\otimes",!0);defineSymbol(math,main,textord,"∂","\\partial",!0);defineSymbol(math,main,bin,"⊘","\\oslash",!0);defineSymbol(math,ams,bin,"⊚","\\circledcirc",!0);defineSymbol(math,ams,bin,"⊡","\\boxdot",!0);defineSymbol(math,main,bin,"△","\\bigtriangleup");defineSymbol(math,main,bin,"▽","\\bigtriangledown");defineSymbol(math,main,bin,"†","\\dagger");defineSymbol(math,main,bin,"⋄","\\diamond");defineSymbol(math,main,bin,"⋆","\\star");defineSymbol(math,main,bin,"◃","\\triangleleft");defineSymbol(math,main,bin,"▹","\\triangleright");defineSymbol(math,main,open,"{","\\{");defineSymbol(text,main,textord,"{","\\{");defineSymbol(text,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text,main,textord,"}","\\}");defineSymbol(text,main,textord,"}","\\textbraceright");defineSymbol(math,main,open,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open,"[","\\lbrack",!0);defineSymbol(text,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text,main,textord,"<","\\textless",!0);defineSymbol(text,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open,"⌊","\\lfloor",!0);defineSymbol(math,main,close,"⌋","\\rfloor",!0);defineSymbol(math,main,open,"⌈","\\lceil",!0);defineSymbol(math,main,close,"⌉","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"∣","|");defineSymbol(math,main,textord,"∣","\\vert");defineSymbol(text,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"∥","\\|");defineSymbol(math,main,textord,"∥","\\Vert");defineSymbol(text,main,textord,"∥","\\textbardbl");defineSymbol(text,main,textord,"~","\\textasciitilde");defineSymbol(text,main,textord,"\\","\\textbackslash");defineSymbol(text,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"↑","\\uparrow",!0);defineSymbol(math,main,rel,"⇑","\\Uparrow",!0);defineSymbol(math,main,rel,"↓","\\downarrow",!0);defineSymbol(math,main,rel,"⇓","\\Downarrow",!0);defineSymbol(math,main,rel,"↕","\\updownarrow",!0);defineSymbol(math,main,rel,"⇕","\\Updownarrow",!0);defineSymbol(math,main,op,"∐","\\coprod");defineSymbol(math,main,op,"⋁","\\bigvee");defineSymbol(math,main,op,"⋀","\\bigwedge");defineSymbol(math,main,op,"⨄","\\biguplus");defineSymbol(math,main,op,"⋂","\\bigcap");defineSymbol(math,main,op,"⋃","\\bigcup");defineSymbol(math,main,op,"∫","\\int");defineSymbol(math,main,op,"∫","\\intop");defineSymbol(math,main,op,"∬","\\iint");defineSymbol(math,main,op,"∭","\\iiint");defineSymbol(math,main,op,"∏","\\prod");defineSymbol(math,main,op,"∑","\\sum");defineSymbol(math,main,op,"⨂","\\bigotimes");defineSymbol(math,main,op,"⨁","\\bigoplus");defineSymbol(math,main,op,"⨀","\\bigodot");defineSymbol(math,main,op,"∮","\\oint");defineSymbol(math,main,op,"∯","\\oiint");defineSymbol(math,main,op,"∰","\\oiiint");defineSymbol(math,main,op,"⨆","\\bigsqcup");defineSymbol(math,main,op,"∫","\\smallint");defineSymbol(text,main,inner,"…","\\textellipsis");defineSymbol(math,main,inner,"…","\\mathellipsis");defineSymbol(text,main,inner,"…","\\ldots",!0);defineSymbol(math,main,inner,"…","\\ldots",!0);defineSymbol(math,main,inner,"⋯","\\@cdots",!0);defineSymbol(math,main,inner,"⋱","\\ddots",!0);defineSymbol(math,main,textord,"⋮","\\varvdots");defineSymbol(math,main,accent,"ˊ","\\acute");defineSymbol(math,main,accent,"ˋ","\\grave");defineSymbol(math,main,accent,"¨","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"ˉ","\\bar");defineSymbol(math,main,accent,"˘","\\breve");defineSymbol(math,main,accent,"ˇ","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"⃗","\\vec");defineSymbol(math,main,accent,"˙","\\dot");defineSymbol(math,main,accent,"˚","\\mathring");defineSymbol(math,main,mathord,"","\\@imath");defineSymbol(math,main,mathord,"","\\@jmath");defineSymbol(math,main,textord,"ı","ı");defineSymbol(math,main,textord,"ȷ","ȷ");defineSymbol(text,main,textord,"ı","\\i",!0);defineSymbol(text,main,textord,"ȷ","\\j",!0);defineSymbol(text,main,textord,"ß","\\ss",!0);defineSymbol(text,main,textord,"æ","\\ae",!0);defineSymbol(text,main,textord,"œ","\\oe",!0);defineSymbol(text,main,textord,"ø","\\o",!0);defineSymbol(text,main,textord,"Æ","\\AE",!0);defineSymbol(text,main,textord,"Œ","\\OE",!0);defineSymbol(text,main,textord,"Ø","\\O",!0);defineSymbol(text,main,accent,"ˊ","\\'");defineSymbol(text,main,accent,"ˋ","\\`");defineSymbol(text,main,accent,"ˆ","\\^");defineSymbol(text,main,accent,"˜","\\~");defineSymbol(text,main,accent,"ˉ","\\=");defineSymbol(text,main,accent,"˘","\\u");defineSymbol(text,main,accent,"˙","\\.");defineSymbol(text,main,accent,"¸","\\c");defineSymbol(text,main,accent,"˚","\\r");defineSymbol(text,main,accent,"ˇ","\\v");defineSymbol(text,main,accent,"¨",'\\"');defineSymbol(text,main,accent,"˝","\\H");defineSymbol(text,main,accent,"◯","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text,main,textord,"–","--",!0);defineSymbol(text,main,textord,"–","\\textendash");defineSymbol(text,main,textord,"—","---",!0);defineSymbol(text,main,textord,"—","\\textemdash");defineSymbol(text,main,textord,"‘","`",!0);defineSymbol(text,main,textord,"‘","\\textquoteleft");defineSymbol(text,main,textord,"’","'",!0);defineSymbol(text,main,textord,"’","\\textquoteright");defineSymbol(text,main,textord,"“","``",!0);defineSymbol(text,main,textord,"“","\\textquotedblleft");defineSymbol(text,main,textord,"”","''",!0);defineSymbol(text,main,textord,"”","\\textquotedblright");defineSymbol(math,main,textord,"°","\\degree",!0);defineSymbol(text,main,textord,"°","\\degree");defineSymbol(text,main,textord,"°","\\textdegree",!0);defineSymbol(math,main,textord,"£","\\pounds");defineSymbol(math,main,textord,"£","\\mathsterling",!0);defineSymbol(text,main,textord,"£","\\pounds");defineSymbol(text,main,textord,"£","\\textsterling",!0);defineSymbol(math,ams,textord,"✠","\\maltese");defineSymbol(text,ams,textord,"✠","\\maltese");var mathTextSymbols='0123456789/@."';for(var i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","ℂ");defineSymbol(text,ams,textord,"C","ℂ");defineSymbol(math,ams,textord,"H","ℍ");defineSymbol(text,ams,textord,"H","ℍ");defineSymbol(math,ams,textord,"N","ℕ");defineSymbol(text,ams,textord,"N","ℕ");defineSymbol(math,ams,textord,"P","ℙ");defineSymbol(text,ams,textord,"P","ℙ");defineSymbol(math,ams,textord,"Q","ℚ");defineSymbol(text,ams,textord,"Q","ℚ");defineSymbol(math,ams,textord,"R","ℝ");defineSymbol(text,ams,textord,"R","ℝ");defineSymbol(math,ams,textord,"Z","ℤ");defineSymbol(text,ams,textord,"Z","ℤ");defineSymbol(math,main,mathord,"h","ℎ");defineSymbol(text,main,mathord,"h","ℎ");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar))}wideChar=String.fromCharCode(55349,56668);defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar)}var extraLatin="ÐÞþ";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function e(t,n){var r=t.charCodeAt(0),o=t.charCodeAt(1),s=(r-55296)*1024+(o-56320)+65536,a=n==="math"?0:1;if(119808<=s&&s<120484){var u=Math.floor((s-119808)/26);return[wideLatinLetterData[u][2],wideLatinLetterData[u][a]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[wideNumeralData[l][2],wideNumeralData[l][a]]}else{if(s===120485||s===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][a]];if(120486<s&&s<120782)return["",""];throw new ParseError("Unsupported character: "+t)}},lookupSymbol=function e(t,n,r){return symbols[r][t]&&symbols[r][t].replace&&(t=symbols[r][t].replace),{value:t,metrics:getCharacterMetrics(t,n,r)}},makeSymbol=function e(t,n,r,o,s){var a=lookupSymbol(t,n,r),u=a.metrics;t=a.value;var l;if(u){var m=u.italic;(r==="text"||o&&o.font==="mathit")&&(m=0),l=new SymbolNode(t,u.height,u.depth,m,u.skew,u.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),l=new SymbolNode(t,0,0,0,0,0,s);if(o){l.maxFontSize=o.sizeMultiplier,o.style.isTight()&&l.classes.push("mtight");var y=o.getColor();y&&(l.style.color=y)}return l},mathsym=function e(t,n,r,o){return o===void 0&&(o=[]),r.font==="boldsymbol"&&lookupSymbol(t,"Main-Bold",n).metrics?makeSymbol(t,"Main-Bold",n,r,o.concat(["mathbf"])):t==="\\"||symbols[n][t].font==="main"?makeSymbol(t,"Main-Regular",n,r,o):makeSymbol(t,"AMS-Regular",n,r,o.concat(["amsrm"]))},boldsymbol=function e(t,n,r,o,s){return s!=="textord"&&lookupSymbol(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function e(t,n,r){var o=t.mode,s=t.text,a=["mord"],u=o==="math"||o==="text"&&n.font,l=u?n.font:n.fontFamily;if(s.charCodeAt(0)===55349){var[m,y]=wideCharacterFont(s,o);return makeSymbol(s,m,o,n,a.concat(y))}else if(l){var d,f;if(l==="boldsymbol"){var v=boldsymbol(s,o,n,a,r);d=v.fontName,f=[v.fontClass]}else u?(d=fontMap[l].fontName,f=[l]):(d=retrieveTextFontName(l,n.fontWeight,n.fontShape),f=[l,n.fontWeight,n.fontShape]);if(lookupSymbol(s,d,o).metrics)return makeSymbol(s,d,o,n,a.concat(f));if(ligatures.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var A=[],I=0;I<s.length;I++)A.push(makeSymbol(s[I],d,o,n,a.concat(f)));return makeFragment(A)}}if(r==="mathord")return makeSymbol(s,"Math-Italic",o,n,a.concat(["mathnormal"]));if(r==="textord"){var P=symbols[o][s]&&symbols[o][s].font;if(P==="ams"){var O=retrieveTextFontName("amsrm",n.fontWeight,n.fontShape);return makeSymbol(s,O,o,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(P==="main"||!P){var R=retrieveTextFontName("textrm",n.fontWeight,n.fontShape);return makeSymbol(s,R,o,n,a.concat(n.fontWeight,n.fontShape))}else{var M=retrieveTextFontName(P,n.fontWeight,n.fontShape);return makeSymbol(s,M,o,n,a.concat(M,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},canCombine=(e,t)=>{if(createClass(e.classes)!==createClass(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var o in t.style)if(t.style.hasOwnProperty(o)&&e.style[o]!==t.style[o])return!1;return!0},tryCombineChars=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof SymbolNode&&r instanceof SymbolNode&&canCombine(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},sizeElementFromChildren=function e(t){for(var n=0,r=0,o=0,s=0;s<t.children.length;s++){var a=t.children[s];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>o&&(o=a.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=o},makeSpan$2=function e(t,n,r,o){var s=new Span(t,n,r,o);return sizeElementFromChildren(s),s},makeSvgSpan=(e,t,n,r)=>new Span(e,t,n,r),makeLineSpan=function e(t,n,r){var o=makeSpan$2([t],[],n);return o.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),o.style.borderBottomWidth=makeEm(o.height),o.maxFontSize=1,o},makeAnchor=function e(t,n,r,o){var s=new Anchor(t,n,r,o);return sizeElementFromChildren(s),s},makeFragment=function e(t){var n=new DocumentFragment(t);return sizeElementFromChildren(n),n},wrapFragment=function e(t,n){return t instanceof DocumentFragment?makeSpan$2([],[t],n):t},getVListChildrenAndDepth=function e(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],o=-n[0].shift-n[0].elem.depth,s=o,a=1;a<n.length;a++){var u=-n[a].shift-s-n[a].elem.depth,l=u-(n[a-1].elem.height+n[a-1].elem.depth);s=s+u,r.push({type:"kern",size:l}),r.push(n[a])}return{children:r,depth:o}}var m;if(t.positionType==="top"){for(var y=t.positionData,d=0;d<t.children.length;d++){var f=t.children[d];y-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}m=y}else if(t.positionType==="bottom")m=-t.positionData;else{var v=t.children[0];if(v.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")m=-v.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")m=-v.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:m}},makeVList=function e(t,n){for(var{children:r,depth:o}=getVListChildrenAndDepth(t),s=0,a=0;a<r.length;a++){var u=r[a];if(u.type==="elem"){var l=u.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var m=makeSpan$2(["pstrut"],[]);m.style.height=makeEm(s);for(var y=[],d=o,f=o,v=o,A=0;A<r.length;A++){var I=r[A];if(I.type==="kern")v+=I.size;else{var P=I.elem,O=I.wrapperClasses||[],R=I.wrapperStyle||{},M=makeSpan$2(O,[m,P],void 0,R);M.style.top=makeEm(-s-v-P.depth),I.marginLeft&&(M.style.marginLeft=I.marginLeft),I.marginRight&&(M.style.marginRight=I.marginRight),y.push(M),v+=P.height+P.depth}d=Math.min(d,v),f=Math.max(f,v)}var k=makeSpan$2(["vlist"],y);k.style.height=makeEm(f);var U;if(d<0){var Q=makeSpan$2([],[]),B=makeSpan$2(["vlist"],[Q]);B.style.height=makeEm(-d);var W=makeSpan$2(["vlist-s"],[new SymbolNode("​")]);U=[makeSpan$2(["vlist-r"],[k,W]),makeSpan$2(["vlist-r"],[B])]}else U=[makeSpan$2(["vlist-r"],[k])];var Z=makeSpan$2(["vlist-t"],U);return U.length===2&&Z.classes.push("vlist-t2"),Z.height=f,Z.depth=-d,Z},makeGlue=(e,t)=>{var n=makeSpan$2(["mspace"],[],t),r=calculateSize(e,t);return n.style.marginRight=makeEm(r),n},retrieveTextFontName=function e(t,n,r){var o="";switch(t){case"amsrm":o="AMS";break;case"textrm":o="Main";break;case"textsf":o="SansSerif";break;case"texttt":o="Typewriter";break;default:o=t}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",o+"-"+s},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function e(t,n){var[r,o,s]=svgData[t],a=new PathNode(r),u=new SvgNode([a],{width:makeEm(o),height:makeEm(s),style:"width:"+makeEm(o),viewBox:"0 0 "+1e3*o+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=makeSvgSpan(["overlay"],[u],n);return l.height=s,l.style.height=makeEm(s),l.style.width=makeEm(o),l},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(e){for(var{type:t,names:n,props:r,handler:o,htmlBuilder:s,mathmlBuilder:a}=e,u={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:o},l=0;l<n.length;++l)_functions[n[l]]=u;t&&(s&&(_htmlGroupBuilders[t]=s),a&&(_mathmlGroupBuilders[t]=a))}function defineFunctionBuilders(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;defineFunction({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var normalizeArgument=function e(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},ordargument=function e(t){return t.type==="ordgroup"?t.body:[t]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function e(t,n,r,o){o===void 0&&(o=[null,null]);for(var s=[],a=0;a<t.length;a++){var u=buildGroup$1(t[a],n);if(u instanceof DocumentFragment){var l=u.children;s.push(...l)}else s.push(u)}if(buildCommon.tryCombineChars(s),!r)return s;var m=n;if(t.length===1){var y=t[0];y.type==="sizing"?m=n.havingSize(y.size):y.type==="styling"&&(m=n.havingStyle(styleMap$1[y.style]))}var d=makeSpan$1([o[0]||"leftmost"],[],n),f=makeSpan$1([o[1]||"rightmost"],[],n),v=r==="root";return traverseNonSpaceNodes(s,(A,I)=>{var P=I.classes[0],O=A.classes[0];P==="mbin"&&utils.contains(binRightCanceller,O)?I.classes[0]="mord":O==="mbin"&&utils.contains(binLeftCanceller,P)&&(A.classes[0]="mord")},{node:d},f,v),traverseNonSpaceNodes(s,(A,I)=>{var P=getTypeOfDomTree(I),O=getTypeOfDomTree(A),R=P&&O?A.hasClass("mtight")?tightSpacings[P][O]:spacings[P][O]:null;if(R)return buildCommon.makeGlue(R,m)},{node:d},f,v),s},traverseNonSpaceNodes=function e(t,n,r,o,s){o&&t.push(o);for(var a=0;a<t.length;a++){var u=t[a],l=checkPartialGroup(u);if(l){e(l.children,n,r,null,s);continue}var m=!u.hasClass("mspace");if(m){var y=n(u,r.node);y&&(r.insertAfter?r.insertAfter(y):(t.unshift(y),a++))}m?r.node=u:s&&u.hasClass("newline")&&(r.node=makeSpan$1(["leftmost"])),r.insertAfter=(d=>f=>{t.splice(d+1,0,f),a++})(a)}o&&t.pop()},checkPartialGroup=function e(t){return t instanceof DocumentFragment||t instanceof Anchor||t instanceof Span&&t.hasClass("enclosing")?t:null},getOutermostNode=function e(t,n){var r=checkPartialGroup(t);if(r){var o=r.children;if(o.length){if(n==="right")return e(o[o.length-1],"right");if(n==="left")return e(o[0],"left")}}return t},getTypeOfDomTree=function e(t,n){return t?(n&&(t=getOutermostNode(t,n)),DomEnum[t.classes[0]]||null):null},makeNullDelimiter=function e(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return makeSpan$1(n.concat(r))},buildGroup$1=function e(t,n,r){if(!t)return makeSpan$1();if(_htmlGroupBuilders[t.type]){var o=_htmlGroupBuilders[t.type](t,n);if(r&&n.size!==r.size){o=makeSpan$1(n.sizingClasses(r),[o],n);var s=n.sizeMultiplier/r.sizeMultiplier;o.height*=s,o.depth*=s}return o}else throw new ParseError("Got group of unknown type: '"+t.type+"'")};function buildHTMLUnbreakable(e,t){var n=makeSpan$1(["base"],e,t),r=makeSpan$1(["strut"]);return r.style.height=makeEm(n.height+n.depth),n.depth&&(r.style.verticalAlign=makeEm(-n.depth)),n.children.unshift(r),n}function buildHTML(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=buildExpression$1(e,t,"root"),o;r.length===2&&r[1].hasClass("tag")&&(o=r.pop());for(var s=[],a=[],u=0;u<r.length;u++)if(a.push(r[u]),r[u].hasClass("mbin")||r[u].hasClass("mrel")||r[u].hasClass("allowbreak")){for(var l=!1;u<r.length-1&&r[u+1].hasClass("mspace")&&!r[u+1].hasClass("newline");)u++,a.push(r[u]),r[u].hasClass("nobreak")&&(l=!0);l||(s.push(buildHTMLUnbreakable(a,t)),a=[])}else r[u].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(buildHTMLUnbreakable(a,t)),a=[]),s.push(r[u]));a.length>0&&s.push(buildHTMLUnbreakable(a,t));var m;n?(m=buildHTMLUnbreakable(buildExpression$1(n,t,!0)),m.classes=["tag"],s.push(m)):o&&s.push(o);var y=makeSpan$1(["katex-html"],s);if(y.setAttribute("aria-hidden","true"),m){var d=m.children[0];d.style.height=makeEm(y.height+y.depth),y.depth&&(d.style.verticalAlign=makeEm(-y.depth))}return y}function newDocumentFragment(e){return new DocumentFragment(e)}class MathNode{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=createClass(this.classes));for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=utils.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+utils.escape(createClass(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class TextNode{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",makeEm(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function e(t,n,r){return symbols[n][t]&&symbols[n][t].replace&&t.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=symbols[n][t].replace),new mathMLTree.TextNode(t)},makeRow=function e(t){return t.length===1?t[0]:new mathMLTree.MathNode("mrow",t)},getVariant=function e(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var o=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=t.text;if(utils.contains(["\\imath","\\jmath"],s))return null;symbols[o][s]&&symbols[o][s].replace&&(s=symbols[o][s].replace);var a=buildCommon.fontMap[r].fontName;return getCharacterMetrics(s,a,o)?buildCommon.fontMap[r].variant:null},buildExpression=function e(t,n,r){if(t.length===1){var o=buildGroup(t[0],n);return r&&o instanceof MathNode&&o.type==="mo"&&(o.setAttribute("lspace","0em"),o.setAttribute("rspace","0em")),[o]}for(var s=[],a,u=0;u<t.length;u++){var l=buildGroup(t[u],n);if(l instanceof MathNode&&a instanceof MathNode){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&a.type==="mn"){var m=l.children[0];if(m instanceof TextNode&&m.text==="."){a.children.push(...l.children);continue}}else if(a.type==="mi"&&a.children.length===1){var y=a.children[0];if(y instanceof TextNode&&y.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof TextNode&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),s.pop())}}}s.push(l),a=l}return s},buildExpressionRow=function e(t,n,r){return makeRow(buildExpression(t,n,r))},buildGroup=function e(t,n){if(!t)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[t.type]){var r=_mathmlGroupBuilders[t.type](t,n);return r}else throw new ParseError("Got group of unknown type: '"+t.type+"'")};function buildMathML(e,t,n,r,o){var s=buildExpression(e,n),a;s.length===1&&s[0]instanceof MathNode&&utils.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new mathMLTree.MathNode("mrow",s);var u=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(t)]);u.setAttribute("encoding","application/x-tex");var l=new mathMLTree.MathNode("semantics",[a,u]),m=new mathMLTree.MathNode("math",[l]);m.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&m.setAttribute("display","block");var y=o?"katex":"katex-mathml";return buildCommon.makeSpan([y],[m])}var optionsFromSettings=function e(t){return new Options$1({style:t.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},displayWrap=function e(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=buildCommon.makeSpan(r,[t])}return t},buildTree=function e(t,n,r){var o=optionsFromSettings(r),s;if(r.output==="mathml")return buildMathML(t,n,o,r.displayMode,!0);if(r.output==="html"){var a=buildHTML(t,o);s=buildCommon.makeSpan(["katex"],[a])}else{var u=buildMathML(t,n,o,r.displayMode,!1),l=buildHTML(t,o);s=buildCommon.makeSpan(["katex"],[u,l])}return displayWrap(s,r)},buildHTMLTree=function e(t,n,r){var o=optionsFromSettings(r),s=buildHTML(t,o),a=buildCommon.makeSpan(["katex"],[s]);return displayWrap(a,r)},stretchyCodePoint={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},mathMLnode=function e(t){var n=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function e(t){return t.type==="ordgroup"?t.body.length:1},svgSpan=function e(t,n){function r(){var u=4e5,l=t.label.slice(1);if(utils.contains(["widehat","widecheck","widetilde","utilde"],l)){var m=t,y=groupLength(m.base),d,f,v;if(y>5)l==="widehat"||l==="widecheck"?(d=420,u=2364,v=.42,f=l+"4"):(d=312,u=2340,v=.34,f="tilde4");else{var A=[1,1,2,2,3,3][y];l==="widehat"||l==="widecheck"?(u=[0,1062,2364,2364,2364][A],d=[0,239,300,360,420][A],v=[0,.24,.3,.3,.36,.42][A],f=l+A):(u=[0,600,1033,2339,2340][A],d=[0,260,286,306,312][A],v=[0,.26,.286,.3,.306,.34][A],f="tilde"+A)}var I=new PathNode(f),P=new SvgNode([I],{width:"100%",height:makeEm(v),viewBox:"0 0 "+u+" "+d,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[P],n),minWidth:0,height:v}}else{var O=[],R=katexImagesData[l],[M,k,U]=R,Q=U/1e3,B=M.length,W,Z;if(B===1){var j=R[3];W=["hide-tail"],Z=[j]}else if(B===2)W=["halfarrow-left","halfarrow-right"],Z=["xMinYMin","xMaxYMin"];else if(B===3)W=["brace-left","brace-center","brace-right"],Z=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+B+" children.");for(var J=0;J<B;J++){var ee=new PathNode(M[J]),ae=new SvgNode([ee],{width:"400em",height:makeEm(Q),viewBox:"0 0 "+u+" "+U,preserveAspectRatio:Z[J]+" slice"}),ne=buildCommon.makeSvgSpan([W[J]],[ae],n);if(B===1)return{span:ne,minWidth:k,height:Q};ne.style.height=makeEm(Q),O.push(ne)}return{span:buildCommon.makeSpan(["stretchy"],O,n),minWidth:k,height:Q}}}var{span:o,minWidth:s,height:a}=r();return o.height=a,o.style.height=makeEm(a),s>0&&(o.style.minWidth=makeEm(s)),o},encloseSpan=function e(t,n,r,o,s){var a,u=t.height+t.depth+r+o;if(/fbox|color|angl/.test(n)){if(a=buildCommon.makeSpan(["stretchy",n],[],s),n==="fbox"){var l=s.color&&s.getColor();l&&(a.style.borderColor=l)}}else{var m=[];/^[bx]cancel$/.test(n)&&m.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&m.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var y=new SvgNode(m,{width:"100%",height:makeEm(u)});a=buildCommon.makeSvgSpan([],[y],s)}return a.height=u,a.style.height=makeEm(u),a},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function assertSymbolNodeType(e){var t=checkSymbolNodeType(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function checkSymbolNodeType(e){return e&&(e.type==="atom"||NON_ATOMS.hasOwnProperty(e.type))?e:null}var htmlBuilder$a=(e,t)=>{var n,r,o;e&&e.type==="supsub"?(r=assertNodeType(e.base,"accent"),n=r.base,e.base=n,o=assertSpan(buildGroup$1(e,t)),e.base=r):(r=assertNodeType(e,"accent"),n=r.base);var s=buildGroup$1(n,t.havingCrampedStyle()),a=r.isShifty&&utils.isCharacterBox(n),u=0;if(a){var l=utils.getBaseElem(n),m=buildGroup$1(l,t.havingCrampedStyle());u=assertSymbolDomNode(m).skew}var y=r.label==="\\c",d=y?s.height+s.depth:Math.min(s.height,t.fontMetrics().xHeight),f;if(r.isStretchy)f=stretchy.svgSpan(r,t),f=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:u>0?{width:"calc(100% - "+makeEm(2*u)+")",marginLeft:makeEm(2*u)}:void 0}]},t);else{var v,A;r.label==="\\vec"?(v=buildCommon.staticSvg("vec",t),A=buildCommon.svgData.vec[1]):(v=buildCommon.makeOrd({mode:r.mode,text:r.label},t,"textord"),v=assertSymbolDomNode(v),v.italic=0,A=v.width,y&&(d+=v.depth)),f=buildCommon.makeSpan(["accent-body"],[v]);var I=r.label==="\\textcircled";I&&(f.classes.push("accent-full"),d=s.height);var P=u;I||(P-=A/2),f.style.left=makeEm(P),r.label==="\\textcircled"&&(f.style.top=".2em"),f=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:f}]},t)}var O=buildCommon.makeSpan(["mord","accent"],[f],t);return o?(o.children[0]=O,o.height=Math.max(O.height,o.height),o.classes[0]="mord",o):O},mathmlBuilder$9=(e,t)=>{var n=e.isStretchy?stretchy.mathMLnode(e.label):new mathMLTree.MathNode("mo",[makeText(e.label,e.mode)]),r=new mathMLTree.MathNode("mover",[buildGroup(e.base,t),n]);return r.setAttribute("accent","true"),r},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=normalizeArgument(t[0]),r=!NON_STRETCHY_ACCENT_REGEX.test(e.funcName),o=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:o,base:n}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:o}},htmlBuilder:(e,t)=>{var n=buildGroup$1(e.base,t),r=stretchy.svgSpan(e,t),o=e.label==="\\utilde"?.12:0,s=buildCommon.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:o},{type:"elem",elem:n}]},t);return buildCommon.makeSpan(["mord","accentunder"],[s],t)},mathmlBuilder:(e,t)=>{var n=stretchy.mathMLnode(e.label),r=new mathMLTree.MathNode("munder",[buildGroup(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var paddedNode=e=>{var t=new mathMLTree.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:o}=e;return{type:"xArrow",mode:r.mode,label:o,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),o=buildCommon.wrapFragment(buildGroup$1(e.body,r,t),t),s=e.label.slice(0,2)==="\\x"?"x":"cd";o.classes.push(s+"-arrow-pad");var a;e.below&&(r=t.havingStyle(n.sub()),a=buildCommon.wrapFragment(buildGroup$1(e.below,r,t),t),a.classes.push(s+"-arrow-pad"));var u=stretchy.svgSpan(e,t),l=-t.fontMetrics().axisHeight+.5*u.height,m=-t.fontMetrics().axisHeight-.5*u.height-.111;(o.depth>.25||e.label==="\\xleftequilibrium")&&(m-=o.depth);var y;if(a){var d=-t.fontMetrics().axisHeight+a.height+.5*u.height+.111;y=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:m},{type:"elem",elem:u,shift:l},{type:"elem",elem:a,shift:d}]},t)}else y=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:m},{type:"elem",elem:u,shift:l}]},t);return y.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[y],t)},mathmlBuilder(e,t){var n=stretchy.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var o=paddedNode(buildGroup(e.body,t));if(e.below){var s=paddedNode(buildGroup(e.below,t));r=new mathMLTree.MathNode("munderover",[n,s,o])}else r=new mathMLTree.MathNode("mover",[n,o])}else if(e.below){var a=paddedNode(buildGroup(e.below,t));r=new mathMLTree.MathNode("munder",[n,a])}else r=paddedNode(),r=new mathMLTree.MathNode("mover",[n,r]);return r}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(e,t){var n=buildExpression$1(e.body,t,!0);return makeSpan([e.mclass],n,t)}function mathmlBuilder$8(e,t){var n,r=buildExpression(e.body,t);return e.mclass==="minner"?n=new mathMLTree.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new mathMLTree.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new mathMLTree.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:ordargument(o),isCharacterBox:utils.isCharacterBox(o)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:binrelClass(t[0]),body:ordargument(t[1]),isCharacterBox:utils.isCharacterBox(t[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,o=t[1],s=t[0],a;r!=="\\stackrel"?a=binrelClass(o):a="mrel";var u={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:ordargument(o)},l={type:"supsub",mode:s.mode,base:u,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:a,body:[l],isCharacterBox:utils.isCharacterBox(l)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:binrelClass(t[0]),body:ordargument(t[0])}},htmlBuilder(e,t){var n=buildExpression$1(e.body,t,!0),r=buildCommon.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=buildExpression(e.body,t),r=new mathMLTree.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=e=>e.type==="textord"&&e.text==="@",isLabelEnd=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function cdArrow(e,t,n){var r=cdArrowFunctionName[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var o=n.callFunction("\\\\cdleft",[t[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[s],[]),u=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[o,a,u]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var m={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[m],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],o=[r],s=0;s<t.length;s++){for(var a=t[s],u=newCell(),l=0;l<a.length;l++)if(!isStartOfArrow(a[l]))u.body.push(a[l]);else{r.push(u),l+=1;var m=assertSymbolNodeType(a[l]).text,y=new Array(2);if(y[0]={type:"ordgroup",mode:"math",body:[]},y[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(m)>-1))if("<>AV".indexOf(m)>-1)for(var d=0;d<2;d++){for(var f=!0,v=l+1;v<a.length;v++){if(isLabelEnd(a[v],m)){f=!1,l=v;break}if(isStartOfArrow(a[v]))throw new ParseError("Missing a "+m+" character to complete a CD arrow.",a[v]);y[d].body.push(a[v])}if(f)throw new ParseError("Missing a "+m+" character to complete a CD arrow.",a[l])}else throw new ParseError('Expected one of "<>AV=|." after @',a[l]);var A=cdArrow(m,y,e),I={type:"styling",body:[A],mode:"math",style:"display"};r.push(I),u=newCell()}s%2===0?r.push(u):r.shift(),r=[],o.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var P=new Array(o[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:o,arraystretch:1,addJot:!0,rowGaps:[null],cols:P,colSeparationType:"CD",hLinesBeforeRow:new Array(o.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=buildCommon.wrapFragment(buildGroup$1(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=makeEm(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mrow",[buildGroup(e.label,t)]);return n=new mathMLTree.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new mathMLTree.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=buildCommon.wrapFragment(buildGroup$1(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new mathMLTree.MathNode("mrow",[buildGroup(e.fragment,t)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=assertNodeType(t[0],"ordgroup"),o=r.body,s="",a=0;a<o.length;a++){var u=assertNodeType(o[a],"textord");s+=u.text}var l=parseInt(s),m;if(isNaN(l))throw new ParseError("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new ParseError("\\@char with invalid code point "+s);return l<=65535?m=String.fromCharCode(l):(l-=65536,m=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:m}}});var htmlBuilder$8=(e,t)=>{var n=buildExpression$1(e.body,t.withColor(e.color),!1);return buildCommon.makeFragment(n)},mathmlBuilder$7=(e,t)=>{var n=buildExpression(e.body,t.withColor(e.color)),r=new mathMLTree.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=assertNodeType(t[0],"color-token").color,o=t[1];return{type:"color",mode:n.mode,color:r,body:ordargument(o)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,o=assertNodeType(t[0],"color-token").color;n.gullet.macros.set("\\current@color",o);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:o,body:s}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,o=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:o&&assertNodeType(o,"size").value}},htmlBuilder(e,t){var n=buildCommon.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=makeEm(calculateSize(e.size,t)))),n},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",makeEm(calculateSize(e.size,t)))),n}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ParseError("Expected a control sequence",e);return t},getRHS=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},letCommand=(e,t,n,r)=>{var o=e.gullet.macros.get(n.text);o==null&&(n.noexpand=!0,o={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,o,r)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(globalMap[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=globalMap[r.text]),assertNodeType(t.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",r)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),o=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new ParseError("Expected a control sequence",r);for(var s=0,a,u=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){a=t.gullet.future(),u[s].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ParseError('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new ParseError('Argument number "'+r.text+'" out of order');s++,u.push([])}else{if(r.text==="EOF")throw new ParseError("Expected a macro definition");u[s].push(r.text)}var{tokens:l}=t.gullet.consumeArg();return a&&l.unshift(a),(n==="\\edef"||n==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(o,{tokens:l,numArgs:s,delimiters:u},n===globalMap[n]),{type:"internal",mode:t.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=checkControlSequence(t.gullet.popToken());t.gullet.consumeSpaces();var o=getRHS(t);return letCommand(t,r,o,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=checkControlSequence(t.gullet.popToken()),o=t.gullet.popToken(),s=t.gullet.popToken();return letCommand(t,r,s,n==="\\\\globalfuture"),t.gullet.pushToken(s),t.gullet.pushToken(o),{type:"internal",mode:t.mode}}});var getMetrics=function e(t,n,r){var o=symbols.math[t]&&symbols.math[t].replace,s=getCharacterMetrics(o||t,n,r);if(!s)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return s},styleWrap=function e(t,n,r,o){var s=r.havingBaseStyle(n),a=buildCommon.makeSpan(o.concat(s.sizingClasses(r)),[t],r),u=s.sizeMultiplier/r.sizeMultiplier;return a.height*=u,a.depth*=u,a.maxFontSize=s.sizeMultiplier,a},centerSpan=function e(t,n,r){var o=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/o.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=makeEm(s),t.height-=s,t.depth+=s},makeSmallDelim=function e(t,n,r,o,s,a){var u=buildCommon.makeSymbol(t,"Main-Regular",s,o),l=styleWrap(u,n,o,a);return r&&centerSpan(l,o,n),l},mathrmSize=function e(t,n,r,o){return buildCommon.makeSymbol(t,"Size"+n+"-Regular",r,o)},makeLargeDelim=function e(t,n,r,o,s,a){var u=mathrmSize(t,n,s,o),l=styleWrap(buildCommon.makeSpan(["delimsizing","size"+n],[u],o),Style$1.TEXT,o,a);return r&&centerSpan(l,o,Style$1.TEXT),l},makeGlyphSpan=function e(t,n,r){var o;n==="Size1-Regular"?o="delim-size1":o="delim-size4";var s=buildCommon.makeSpan(["delimsizinginner",o],[buildCommon.makeSpan([],[buildCommon.makeSymbol(t,n,r)])]);return{type:"elem",elem:s}},makeInner=function e(t,n,r){var o=fontMetricsData["Size4-Regular"][t.charCodeAt(0)]?fontMetricsData["Size4-Regular"][t.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][t.charCodeAt(0)][4],s=new PathNode("inner",innerPath(t,Math.round(1e3*n))),a=new SvgNode([s],{width:makeEm(o),height:makeEm(n),style:"width:"+makeEm(o),viewBox:"0 0 "+1e3*o+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),u=buildCommon.makeSvgSpan([],[a],r);return u.height=n,u.style.height=makeEm(n),u.style.width=makeEm(o),{type:"elem",elem:u}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function e(t,n,r,o,s,a){var u,l,m,y,d="",f=0;u=m=y=t,l=null;var v="Size1-Regular";t==="\\uparrow"?m=y="⏐":t==="\\Uparrow"?m=y="‖":t==="\\downarrow"?u=m="⏐":t==="\\Downarrow"?u=m="‖":t==="\\updownarrow"?(u="\\uparrow",m="⏐",y="\\downarrow"):t==="\\Updownarrow"?(u="\\Uparrow",m="‖",y="\\Downarrow"):utils.contains(verts,t)?(m="∣",d="vert",f=333):utils.contains(doubleVerts,t)?(m="∥",d="doublevert",f=556):t==="["||t==="\\lbrack"?(u="⎡",m="⎢",y="⎣",v="Size4-Regular",d="lbrack",f=667):t==="]"||t==="\\rbrack"?(u="⎤",m="⎥",y="⎦",v="Size4-Regular",d="rbrack",f=667):t==="\\lfloor"||t==="⌊"?(m=u="⎢",y="⎣",v="Size4-Regular",d="lfloor",f=667):t==="\\lceil"||t==="⌈"?(u="⎡",m=y="⎢",v="Size4-Regular",d="lceil",f=667):t==="\\rfloor"||t==="⌋"?(m=u="⎥",y="⎦",v="Size4-Regular",d="rfloor",f=667):t==="\\rceil"||t==="⌉"?(u="⎤",m=y="⎥",v="Size4-Regular",d="rceil",f=667):t==="("||t==="\\lparen"?(u="⎛",m="⎜",y="⎝",v="Size4-Regular",d="lparen",f=875):t===")"||t==="\\rparen"?(u="⎞",m="⎟",y="⎠",v="Size4-Regular",d="rparen",f=875):t==="\\{"||t==="\\lbrace"?(u="⎧",l="⎨",y="⎩",m="⎪",v="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(u="⎫",l="⎬",y="⎭",m="⎪",v="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(u="⎧",y="⎩",m="⎪",v="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(u="⎫",y="⎭",m="⎪",v="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(u="⎧",y="⎭",m="⎪",v="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(u="⎫",y="⎩",m="⎪",v="Size4-Regular");var A=getMetrics(u,v,s),I=A.height+A.depth,P=getMetrics(m,v,s),O=P.height+P.depth,R=getMetrics(y,v,s),M=R.height+R.depth,k=0,U=1;if(l!==null){var Q=getMetrics(l,v,s);k=Q.height+Q.depth,U=2}var B=I+M+k,W=Math.max(0,Math.ceil((n-B)/(U*O))),Z=B+W*U*O,j=o.fontMetrics().axisHeight;r&&(j*=o.sizeMultiplier);var J=Z/2-j,ee=[];if(d.length>0){var ae=Z-I-M,ne=Math.round(Z*1e3),fe=tallDelim(d,Math.round(ae*1e3)),ge=new PathNode(d,fe),Le=(f/1e3).toFixed(3)+"em",Ge=(ne/1e3).toFixed(3)+"em",rt=new SvgNode([ge],{width:Le,height:Ge,viewBox:"0 0 "+f+" "+ne}),me=buildCommon.makeSvgSpan([],[rt],o);me.height=ne/1e3,me.style.width=Le,me.style.height=Ge,ee.push({type:"elem",elem:me})}else{if(ee.push(makeGlyphSpan(y,v,s)),ee.push(lap),l===null){var pe=Z-I-M+2*lapInEms;ee.push(makeInner(m,pe,o))}else{var le=(Z-I-M-k)/2+2*lapInEms;ee.push(makeInner(m,le,o)),ee.push(lap),ee.push(makeGlyphSpan(l,v,s)),ee.push(lap),ee.push(makeInner(m,le,o))}ee.push(lap),ee.push(makeGlyphSpan(u,v,s))}var De=o.havingBaseStyle(Style$1.TEXT),G=buildCommon.makeVList({positionType:"bottom",positionData:J,children:ee},De);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[G],De),Style$1.TEXT,o,a)},vbPad=80,emPad=.08,sqrtSvg=function e(t,n,r,o,s){var a=sqrtPath(t,o,r),u=new PathNode(t,a),l=new SvgNode([u],{width:"400em",height:makeEm(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[l],s)},makeSqrtImage=function e(t,n){var r=n.havingBaseSizing(),o=traverseSequence("\\surd",t*r.sizeMultiplier,stackLargeDelimiterSequence,r),s=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),u,l=0,m=0,y=0,d;return o.type==="small"?(y=1e3+1e3*a+vbPad,t<1?s=1:t<1.4&&(s=.7),l=(1+a+emPad)/s,m=(1+a)/s,u=sqrtSvg("sqrtMain",l,y,a,n),u.style.minWidth="0.853em",d=.833/s):o.type==="large"?(y=(1e3+vbPad)*sizeToMaxHeight[o.size],m=(sizeToMaxHeight[o.size]+a)/s,l=(sizeToMaxHeight[o.size]+a+emPad)/s,u=sqrtSvg("sqrtSize"+o.size,l,y,a,n),u.style.minWidth="1.02em",d=1/s):(l=t+a+emPad,m=t+a,y=Math.floor(1e3*t+a)+vbPad,u=sqrtSvg("sqrtTall",l,y,a,n),u.style.minWidth="0.742em",d=1.056),u.height=m,u.style.height=makeEm(l),{span:u,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*s}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function e(t,n,r,o,s){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),utils.contains(stackLargeDelimiters,t)||utils.contains(stackNeverDelimiters,t))return makeLargeDelim(t,n,!1,r,o,s);if(utils.contains(stackAlwaysDelimiters,t))return makeStackedDelim(t,sizeToMaxHeight[n],!1,r,o,s);throw new ParseError("Illegal delimiter: '"+t+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function e(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},traverseSequence=function e(t,n,r,o){for(var s=Math.min(2,3-o.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var u=getMetrics(t,delimTypeToFont(r[a]),"math"),l=u.height+u.depth;if(r[a].type==="small"){var m=o.havingBaseStyle(r[a].style);l*=m.sizeMultiplier}if(l>n)return r[a]}return r[r.length-1]},makeCustomSizedDelim=function e(t,n,r,o,s,a){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var u;utils.contains(stackNeverDelimiters,t)?u=stackNeverDelimiterSequence:utils.contains(stackLargeDelimiters,t)?u=stackLargeDelimiterSequence:u=stackAlwaysDelimiterSequence;var l=traverseSequence(t,n,u,o);return l.type==="small"?makeSmallDelim(t,l.style,r,o,s,a):l.type==="large"?makeLargeDelim(t,l.size,r,o,s,a):makeStackedDelim(t,n,r,o,s,a)},makeLeftRightDelim=function e(t,n,r,o,s,a){var u=o.fontMetrics().axisHeight*o.sizeMultiplier,l=901,m=5/o.fontMetrics().ptPerEm,y=Math.max(n-u,r+u),d=Math.max(y/500*l,2*y-m);return makeCustomSizedDelim(t,d,!0,o,s,a)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(e,t){var n=checkSymbolNodeType(e);if(n&&utils.contains(delimiters,n.text))return n;throw n?new ParseError("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new ParseError("Invalid delimiter type '"+e.type+"'",e)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=checkDelimiter(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:delimiterSizes[e.funcName].size,mclass:delimiterSizes[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?buildCommon.makeSpan([e.mclass]):delimiter.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(makeText(e.delim,e.mode));var n=new mathMLTree.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=makeEm(delimiter.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function assertParsed(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:checkDelimiter(t[0],e).text,color:n}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=checkDelimiter(t[0],e),r=e.parser;++r.leftrightDepth;var o=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=assertNodeType(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:o,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(e,t)=>{assertParsed(e);for(var n=buildExpression$1(e.body,t,!0,["mopen","mclose"]),r=0,o=0,s=!1,a=0;a<n.length;a++)n[a].isMiddle?s=!0:(r=Math.max(n[a].height,r),o=Math.max(n[a].depth,o));r*=t.sizeMultiplier,o*=t.sizeMultiplier;var u;if(e.left==="."?u=makeNullDelimiter(t,["mopen"]):u=delimiter.leftRightDelim(e.left,r,o,t,e.mode,["mopen"]),n.unshift(u),s)for(var l=1;l<n.length;l++){var m=n[l],y=m.isMiddle;y&&(n[l]=delimiter.leftRightDelim(y.delim,r,o,y.options,e.mode,[]))}var d;if(e.right===".")d=makeNullDelimiter(t,["mclose"]);else{var f=e.rightColor?t.withColor(e.rightColor):t;d=delimiter.leftRightDelim(e.right,r,o,f,e.mode,["mclose"])}return n.push(d),buildCommon.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{assertParsed(e);var n=buildExpression(e.body,t);if(e.left!=="."){var r=new mathMLTree.MathNode("mo",[makeText(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var o=new mathMLTree.MathNode("mo",[makeText(e.right,e.mode)]);o.setAttribute("fence","true"),e.rightColor&&o.setAttribute("mathcolor",e.rightColor),n.push(o)}return makeRow(n)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=checkDelimiter(t[0],e);if(!e.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=makeNullDelimiter(t,[]);else{n=delimiter.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?makeText("|","text"):makeText(e.delim,e.mode),r=new mathMLTree.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var htmlBuilder$7=(e,t)=>{var n=buildCommon.wrapFragment(buildGroup$1(e.body,t),t),r=e.label.slice(1),o=t.sizeMultiplier,s,a=0,u=utils.isCharacterBox(e.body);if(r==="sout")s=buildCommon.makeSpan(["stretchy","sout"]),s.height=t.fontMetrics().defaultRuleThickness/o,a=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var l=calculateSize({number:.6,unit:"pt"},t),m=calculateSize({number:.35,unit:"ex"},t),y=t.havingBaseSizing();o=o/y.sizeMultiplier;var d=n.height+n.depth+l+m;n.style.paddingLeft=makeEm(d/2+l);var f=Math.floor(1e3*d*o),v=phasePath(f),A=new SvgNode([new PathNode("phase",v)],{width:"400em",height:makeEm(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});s=buildCommon.makeSvgSpan(["hide-tail"],[A],t),s.style.height=makeEm(d),a=n.depth+l+m}else{/cancel/.test(r)?u||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var I=0,P=0,O=0;/box/.test(r)?(O=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),I=t.fontMetrics().fboxsep+(r==="colorbox"?0:O),P=I):r==="angl"?(O=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),I=4*O,P=Math.max(0,.25-n.depth)):(I=u?.2:0,P=I),s=stretchy.encloseSpan(n,r,I,P,t),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=makeEm(O)):r==="angl"&&O!==.049&&(s.style.borderTopWidth=makeEm(O),s.style.borderRightWidth=makeEm(O)),a=n.depth+P,e.backgroundColor&&(s.style.backgroundColor=e.backgroundColor,e.borderColor&&(s.style.borderColor=e.borderColor))}var R;if(e.backgroundColor)R=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:n,shift:0}]},t);else{var M=/cancel|phase/.test(r)?["svg-align"]:[];R=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:M}]},t)}return/cancel/.test(r)&&(R.height=n.height,R.depth=n.depth),/cancel/.test(r)&&!u?buildCommon.makeSpan(["mord","cancel-lap"],[R],t):buildCommon.makeSpan(["mord"],[R],t)},mathmlBuilder$6=(e,t)=>{var n=0,r=new mathMLTree.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var o=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+o+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:o}=e,s=assertNodeType(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:r.mode,label:o,backgroundColor:s,body:a}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:o}=e,s=assertNodeType(t[0],"color-token").color,a=assertNodeType(t[1],"color-token").color,u=t[2];return{type:"enclose",mode:r.mode,label:o,backgroundColor:a,borderColor:s,body:u}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"enclose",mode:n.mode,label:r,body:o}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var _environments={};function defineEnvironment(e){for(var{type:t,names:n,props:r,handler:o,htmlBuilder:s,mathmlBuilder:a}=e,u={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:o},l=0;l<n.length;++l)_environments[n[l]]=u;s&&(_htmlGroupBuilders[t]=s),a&&(_mathmlGroupBuilders[t]=a)}var _macros={};function defineMacro(e,t){_macros[e]=t}function getHLines(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var validateAmsEnvironmentContext=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ParseError("{"+e.envName+"} can be used only in display mode.")};function getAutoTag(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function parseArray(e,t,n){var{hskipBeforeAndAfter:r,addJot:o,cols:s,arraystretch:a,colSeparationType:u,autoTag:l,singleRow:m,emptySingleRow:y,maxNumCols:d,leqno:f}=t;if(e.gullet.beginGroup(),m||e.gullet.macros.set("\\cr","\\\\\\relax"),!a){var v=e.gullet.expandMacroAsText("\\arraystretch");if(v==null)a=1;else if(a=parseFloat(v),!a||a<0)throw new ParseError("Invalid \\arraystretch: "+v)}e.gullet.beginGroup();var A=[],I=[A],P=[],O=[],R=l!=null?[]:void 0;function M(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function k(){R&&(e.gullet.macros.get("\\df@tag")?(R.push(e.subparse([new Token("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):R.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(M(),O.push(getHLines(e));;){var U=e.parseExpression(!1,m?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),U={type:"ordgroup",mode:e.mode,body:U},n&&(U={type:"styling",mode:e.mode,style:n,body:[U]}),A.push(U);var Q=e.fetch().text;if(Q==="&"){if(d&&A.length===d){if(m||u)throw new ParseError("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(Q==="\\end"){k(),A.length===1&&U.type==="styling"&&U.body[0].body.length===0&&(I.length>1||!y)&&I.pop(),O.length<I.length+1&&O.push([]);break}else if(Q==="\\\\"){e.consume();var B=void 0;e.gullet.future().text!==" "&&(B=e.parseSizeGroup(!0)),P.push(B?B.value:null),k(),O.push(getHLines(e)),A=[],I.push(A),M()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:o,arraystretch:a,body:I,cols:s,rowGaps:P,hskipBeforeAndAfter:r,hLinesBeforeRow:O,colSeparationType:u,tags:R,leqno:f}}function dCellStyle(e){return e.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function e(t,n){var r,o,s=t.body.length,a=t.hLinesBeforeRow,u=0,l=new Array(s),m=[],y=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,f=5*d;if(t.colSeparationType&&t.colSeparationType==="small"){var v=n.havingStyle(Style$1.SCRIPT).sizeMultiplier;f=.2778*(v/n.sizeMultiplier)}var A=t.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},n):12*d,I=3*d,P=t.arraystretch*A,O=.7*P,R=.3*P,M=0;function k(Be){for(var ke=0;ke<Be.length;++ke)ke>0&&(M+=.25),m.push({pos:M,isDashed:Be[ke]})}for(k(a[0]),r=0;r<t.body.length;++r){var U=t.body[r],Q=O,B=R;u<U.length&&(u=U.length);var W=new Array(U.length);for(o=0;o<U.length;++o){var Z=buildGroup$1(U[o],n);B<Z.depth&&(B=Z.depth),Q<Z.height&&(Q=Z.height),W[o]=Z}var j=t.rowGaps[r],J=0;j&&(J=calculateSize(j,n),J>0&&(J+=R,B<J&&(B=J),J=0)),t.addJot&&(B+=I),W.height=Q,W.depth=B,M+=Q,W.pos=M,M+=B+J,l[r]=W,k(a[r+1])}var ee=M/2+n.fontMetrics().axisHeight,ae=t.cols||[],ne=[],fe,ge,Le=[];if(t.tags&&t.tags.some(Be=>Be))for(r=0;r<s;++r){var Ge=l[r],rt=Ge.pos-ee,me=t.tags[r],pe=void 0;me===!0?pe=buildCommon.makeSpan(["eqn-num"],[],n):me===!1?pe=buildCommon.makeSpan([],[],n):pe=buildCommon.makeSpan([],buildExpression$1(me,n,!0),n),pe.depth=Ge.depth,pe.height=Ge.height,Le.push({type:"elem",elem:pe,shift:rt})}for(o=0,ge=0;o<u||ge<ae.length;++o,++ge){for(var le=ae[ge]||{},De=!0;le.type==="separator";){if(De||(fe=buildCommon.makeSpan(["arraycolsep"],[]),fe.style.width=makeEm(n.fontMetrics().doubleRuleSep),ne.push(fe)),le.separator==="|"||le.separator===":"){var G=le.separator==="|"?"solid":"dashed",Ee=buildCommon.makeSpan(["vertical-separator"],[],n);Ee.style.height=makeEm(M),Ee.style.borderRightWidth=makeEm(y),Ee.style.borderRightStyle=G,Ee.style.margin="0 "+makeEm(-y/2);var Fe=M-ee;Fe&&(Ee.style.verticalAlign=makeEm(-Fe)),ne.push(Ee)}else throw new ParseError("Invalid separator type: "+le.separator);ge++,le=ae[ge]||{},De=!1}if(!(o>=u)){var Me=void 0;(o>0||t.hskipBeforeAndAfter)&&(Me=utils.deflt(le.pregap,f),Me!==0&&(fe=buildCommon.makeSpan(["arraycolsep"],[]),fe.style.width=makeEm(Me),ne.push(fe)));var ze=[];for(r=0;r<s;++r){var je=l[r],Te=je[o];if(Te){var Ke=je.pos-ee;Te.depth=je.depth,Te.height=je.height,ze.push({type:"elem",elem:Te,shift:Ke})}}ze=buildCommon.makeVList({positionType:"individualShift",children:ze},n),ze=buildCommon.makeSpan(["col-align-"+(le.align||"c")],[ze]),ne.push(ze),(o<u-1||t.hskipBeforeAndAfter)&&(Me=utils.deflt(le.postgap,f),Me!==0&&(fe=buildCommon.makeSpan(["arraycolsep"],[]),fe.style.width=makeEm(Me),ne.push(fe)))}}if(l=buildCommon.makeSpan(["mtable"],ne),m.length>0){for(var Y=buildCommon.makeLineSpan("hline",n,y),te=buildCommon.makeLineSpan("hdashline",n,y),de=[{type:"elem",elem:l,shift:0}];m.length>0;){var ye=m.pop(),Ae=ye.pos-ee;ye.isDashed?de.push({type:"elem",elem:te,shift:Ae}):de.push({type:"elem",elem:Y,shift:Ae})}l=buildCommon.makeVList({positionType:"individualShift",children:de},n)}if(Le.length===0)return buildCommon.makeSpan(["mord"],[l],n);var we=buildCommon.makeVList({positionType:"individualShift",children:Le},n);return we=buildCommon.makeSpan(["tag"],[we],n),buildCommon.makeFragment([l,we])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function e(t,n){for(var r=[],o=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),s=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<t.body.length;a++){for(var u=t.body[a],l=[],m=0;m<u.length;m++)l.push(new mathMLTree.MathNode("mtd",[buildGroup(u[m],n)]));t.tags&&t.tags[a]&&(l.unshift(o),l.push(o),t.leqno?l.unshift(s):l.push(s)),r.push(new mathMLTree.MathNode("mtr",l))}var y=new mathMLTree.MathNode("mtable",r),d=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);y.setAttribute("rowspacing",makeEm(d));var f="",v="";if(t.cols&&t.cols.length>0){var A=t.cols,I="",P=!1,O=0,R=A.length;A[0].type==="separator"&&(f+="top ",O=1),A[A.length-1].type==="separator"&&(f+="bottom ",R-=1);for(var M=O;M<R;M++)A[M].type==="align"?(v+=alignMap[A[M].align],P&&(I+="none "),P=!0):A[M].type==="separator"&&P&&(I+=A[M].separator==="|"?"solid ":"dashed ",P=!1);y.setAttribute("columnalign",v.trim()),/[sd]/.test(I)&&y.setAttribute("columnlines",I.trim())}if(t.colSeparationType==="align"){for(var k=t.cols||[],U="",Q=1;Q<k.length;Q++)U+=Q%2?"0em ":"1em ";y.setAttribute("columnspacing",U.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?y.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?y.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?y.setAttribute("columnspacing","0.5em"):y.setAttribute("columnspacing","1em");var B="",W=t.hLinesBeforeRow;f+=W[0].length>0?"left ":"",f+=W[W.length-1].length>0?"right ":"";for(var Z=1;Z<W.length-1;Z++)B+=W[Z].length===0?"none ":W[Z][0]?"dashed ":"solid ";return/[sd]/.test(B)&&y.setAttribute("rowlines",B.trim()),f!==""&&(y=new mathMLTree.MathNode("menclose",[y]),y.setAttribute("notation",f.trim())),t.arraystretch&&t.arraystretch<1&&(y=new mathMLTree.MathNode("mstyle",[y]),y.setAttribute("scriptlevel","1")),y},alignedHandler=function e(t,n){t.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(t);var r=[],o=t.envName.indexOf("at")>-1?"alignat":"align",s=t.envName==="split",a=parseArray(t.parser,{cols:r,addJot:!0,autoTag:s?void 0:getAutoTag(t.envName),emptySingleRow:!0,colSeparationType:o,maxNumCols:s?2:void 0,leqno:t.parser.settings.leqno},"display"),u,l=0,m={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var y="",d=0;d<n[0].body.length;d++){var f=assertNodeType(n[0].body[d],"textord");y+=f.text}u=Number(y),l=u*2}var v=!l;a.body.forEach(function(O){for(var R=1;R<O.length;R+=2){var M=assertNodeType(O[R],"styling"),k=assertNodeType(M.body[0],"ordgroup");k.body.unshift(m)}if(v)l<O.length&&(l=O.length);else{var U=O.length/2;if(u<U)throw new ParseError("Too many math in a row: "+("expected "+u+", but got "+U),O[0])}});for(var A=0;A<l;++A){var I="r",P=0;A%2===1?I="l":A>0&&v&&(P=1),r[A]={type:"align",align:I,pregap:P,postgap:0}}return a.colSeparationType=v?"align":"alignat",a};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=checkSymbolNodeType(t[0]),r=n?[t[0]]:assertNodeType(t[0],"ordgroup").body,o=r.map(function(a){var u=assertSymbolNodeType(a),l=u.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+l,a)}),s={cols:o,hskipBeforeAndAfter:!0,maxNumCols:o.length};return parseArray(e.parser,s,dCellStyle(e.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var o=e.parser;if(o.consumeSpaces(),o.fetch().text==="["){if(o.consume(),o.consumeSpaces(),n=o.fetch().text,"lcr".indexOf(n)===-1)throw new ParseError("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),r.cols=[{type:"align",align:n}]}}var s=parseArray(e.parser,r,dCellStyle(e.envName)),a=Math.max(0,...s.body.map(u=>u.length));return s.cols=new Array(a).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=parseArray(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=checkSymbolNodeType(t[0]),r=n?[t[0]]:assertNodeType(t[0],"ordgroup").body,o=r.map(function(a){var u=assertSymbolNodeType(a),l=u.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new ParseError("Unknown column alignment: "+l,a)});if(o.length>1)throw new ParseError("{subarray} can contain only one column");var s={cols:o,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=parseArray(e.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return s},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=parseArray(e.parser,t,dCellStyle(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){utils.contains(["gather","gather*"],e.envName)&&validateAmsEnvironmentContext(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return parseArray(e.parser,t,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){validateAmsEnvironmentContext(e);var t={autoTag:getAutoTag(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return parseArray(e.parser,t,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(e){return validateAmsEnvironmentContext(e),parseCD(e.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ParseError(e.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];if(o.type!=="ordgroup")throw new ParseError("Invalid environment name",o);for(var s="",a=0;a<o.body.length;++a)s+=assertNodeType(o.body[a],"textord").text;if(r==="\\begin"){if(!environments.hasOwnProperty(s))throw new ParseError("No such environment: "+s,o);var u=environments[s],{args:l,optArgs:m}=n.parseArguments("\\begin{"+s+"}",u),y={mode:n.mode,envName:s,parser:n},d=u.handler(y,l,m);n.expect("\\end",!1);var f=n.nextToken,v=assertNodeType(n.parseFunction(),"environment");if(v.name!==s)throw new ParseError("Mismatch: \\begin{"+s+"} matched by \\end{"+v.name+"}",f);return d}return{type:"environment",mode:n.mode,name:s,nameGroup:o}}});var htmlBuilder$5=(e,t)=>{var n=e.font,r=t.withFont(n);return buildGroup$1(e.body,r)},mathmlBuilder$4=(e,t)=>{var n=e.font,r=t.withFont(n);return buildGroup(e.body,r)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=normalizeArgument(t[0]),s=r;return s in fontAliases&&(s=fontAliases[s]),{type:"font",mode:n.mode,font:s.slice(1),body:o}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],o=utils.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:binrelClass(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:o}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:o}=e,{mode:s}=n,a=n.parseExpression(!0,o),u="math"+r.slice(1);return{type:"font",mode:s,font:u,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(e,t)=>{var n=t;return e==="display"?n=n.id>=Style$1.SCRIPT.id?n.text():Style$1.DISPLAY:e==="text"&&n.size===Style$1.DISPLAY.size?n=Style$1.TEXT:e==="script"?n=Style$1.SCRIPT:e==="scriptscript"&&(n=Style$1.SCRIPTSCRIPT),n},htmlBuilder$4=(e,t)=>{var n=adjustStyle(e.size,t.style),r=n.fracNum(),o=n.fracDen(),s;s=t.havingStyle(r);var a=buildGroup$1(e.numer,s,t);if(e.continued){var u=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;a.height=a.height<u?u:a.height,a.depth=a.depth<l?l:a.depth}s=t.havingStyle(o);var m=buildGroup$1(e.denom,s,t),y,d,f;e.hasBarLine?(e.barSize?(d=calculateSize(e.barSize,t),y=buildCommon.makeLineSpan("frac-line",t,d)):y=buildCommon.makeLineSpan("frac-line",t),d=y.height,f=y.height):(y=null,d=0,f=t.fontMetrics().defaultRuleThickness);var v,A,I;n.size===Style$1.DISPLAY.size||e.size==="display"?(v=t.fontMetrics().num1,d>0?A=3*f:A=7*f,I=t.fontMetrics().denom1):(d>0?(v=t.fontMetrics().num2,A=f):(v=t.fontMetrics().num3,A=3*f),I=t.fontMetrics().denom2);var P;if(y){var R=t.fontMetrics().axisHeight;v-a.depth-(R+.5*d)<A&&(v+=A-(v-a.depth-(R+.5*d))),R-.5*d-(m.height-I)<A&&(I+=A-(R-.5*d-(m.height-I)));var M=-(R-.5*d);P=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:I},{type:"elem",elem:y,shift:M},{type:"elem",elem:a,shift:-v}]},t)}else{var O=v-a.depth-(m.height-I);O<A&&(v+=.5*(A-O),I+=.5*(A-O)),P=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:I},{type:"elem",elem:a,shift:-v}]},t)}s=t.havingStyle(n),P.height*=s.sizeMultiplier/t.sizeMultiplier,P.depth*=s.sizeMultiplier/t.sizeMultiplier;var k;n.size===Style$1.DISPLAY.size?k=t.fontMetrics().delim1:n.size===Style$1.SCRIPTSCRIPT.size?k=t.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:k=t.fontMetrics().delim2;var U,Q;return e.leftDelim==null?U=makeNullDelimiter(t,["mopen"]):U=delimiter.customSizedDelim(e.leftDelim,k,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?Q=buildCommon.makeSpan([]):e.rightDelim==null?Q=makeNullDelimiter(t,["mclose"]):Q=delimiter.customSizedDelim(e.rightDelim,k,!0,t.havingStyle(n),e.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(s.sizingClasses(t)),[U,buildCommon.makeSpan(["mfrac"],[P]),Q],t)},mathmlBuilder$3=(e,t)=>{var n=new mathMLTree.MathNode("mfrac",[buildGroup(e.numer,t),buildGroup(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=calculateSize(e.barSize,t);n.setAttribute("linethickness",makeEm(r))}var o=adjustStyle(e.size,t.style);if(o.size!==t.style.size){n=new mathMLTree.MathNode("mstyle",[n]);var s=o.size===Style$1.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var a=[];if(e.leftDelim!=null){var u=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.leftDelim.replace("\\",""))]);u.setAttribute("fence","true"),a.push(u)}if(a.push(n),e.rightDelim!=null){var l=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return makeRow(a)}return n};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0],s=t[1],a,u=null,l=null,m="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,u="(",l=")";break;case"\\\\bracefrac":a=!1,u="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,u="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":m="display";break;case"\\tfrac":case"\\tbinom":m="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:o,denom:s,hasBarLine:a,leftDelim:u,rightDelim:l,size:m,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0],s=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:o,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,o;switch(n){case"\\over":o="\\frac";break;case"\\choose":o="\\binom";break;case"\\atop":o="\\\\atopfrac";break;case"\\brace":o="\\\\bracefrac";break;case"\\brack":o="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:o,token:r}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function e(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],o=t[5],s=normalizeArgument(t[0]),a=s.type==="atom"&&s.family==="open"?delimFromValue(s.text):null,u=normalizeArgument(t[1]),l=u.type==="atom"&&u.family==="close"?delimFromValue(u.text):null,m=assertNodeType(t[2],"size"),y,d=null;m.isBlank?y=!0:(d=m.value,y=d.number>0);var f="auto",v=t[3];if(v.type==="ordgroup"){if(v.body.length>0){var A=assertNodeType(v.body[0],"textord");f=stylArray[Number(A.text)]}}else v=assertNodeType(v,"textord"),f=stylArray[Number(v.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:o,continued:!1,hasBarLine:y,barSize:d,leftDelim:a,rightDelim:l,size:f}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:o}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(t[0],"size").value,token:o}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0],s=assert(assertNodeType(t[1],"infix").size),a=t[2],u=s.number>0;return{type:"genfrac",mode:n.mode,numer:o,denom:a,continued:!1,hasBarLine:u,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(e,t)=>{var n=t.style,r,o;e.type==="supsub"?(r=e.sup?buildGroup$1(e.sup,t.havingStyle(n.sup()),t):buildGroup$1(e.sub,t.havingStyle(n.sub()),t),o=assertNodeType(e.base,"horizBrace")):o=assertNodeType(e,"horizBrace");var s=buildGroup$1(o.base,t.havingBaseStyle(Style$1.DISPLAY)),a=stretchy.svgSpan(o,t),u;if(o.isOver?(u=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),u.children[0].children[0].children[1].classes.push("svg-align")):(u=buildCommon.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),u.children[0].children[0].children[0].classes.push("svg-align")),r){var l=buildCommon.makeSpan(["mord",o.isOver?"mover":"munder"],[u],t);o.isOver?u=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):u=buildCommon.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return buildCommon.makeSpan(["mord",o.isOver?"mover":"munder"],[u],t)},mathmlBuilder$2=(e,t)=>{var n=stretchy.mathMLnode(e.label);return new mathMLTree.MathNode(e.isOver?"mover":"munder",[buildGroup(e.base,t),n])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],o=assertNodeType(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:o})?{type:"href",mode:n.mode,href:o,body:ordargument(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.body,t,!1);return buildCommon.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=buildExpressionRow(e.body,t);return n instanceof MathNode||(n=new MathNode("mrow",[n])),n.setAttribute("href",e.href),n}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=assertNodeType(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var o=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),o.push({type:"textord",mode:"text",text:a})}var u={type:"text",mode:n.mode,font:"\\texttt",body:o};return{type:"href",mode:n.mode,href:r,body:ordargument(u)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:ordargument(t[0])}},htmlBuilder(e,t){var n=buildExpression$1(e.body,t,!1);return buildCommon.makeFragment(n)},mathmlBuilder(e,t){return new mathMLTree.MathNode("mrow",buildExpression(e.body,t))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:o}=e,s=assertNodeType(t[0],"raw").string,a=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var u,l={};switch(r){case"\\htmlClass":l.class=s,u={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,u={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,u={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var m=s.split(","),y=0;y<m.length;y++){var d=m[y].split("=");if(d.length!==2)throw new ParseError("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}u={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(u)?{type:"html",mode:n.mode,attributes:l,body:ordargument(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var o=buildCommon.makeSpan(r,n,t);for(var s in e.attributes)s!=="class"&&e.attributes.hasOwnProperty(s)&&o.setAttribute(s,e.attributes[s]);return o},mathmlBuilder:(e,t)=>buildExpressionRow(e.body,t)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:ordargument(t[0]),mathml:ordargument(t[1])}},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.html,t,!1);return buildCommon.makeFragment(n)},mathmlBuilder:(e,t)=>buildExpressionRow(e.mathml,t)});var sizeData=function e(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new ParseError("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!validUnit(r))throw new ParseError("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,o={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},u="";if(n[0])for(var l=assertNodeType(n[0],"raw").string,m=l.split(","),y=0;y<m.length;y++){var d=m[y].split("=");if(d.length===2){var f=d[1].trim();switch(d[0].trim()){case"alt":u=f;break;case"width":o=sizeData(f);break;case"height":s=sizeData(f);break;case"totalheight":a=sizeData(f);break;default:throw new ParseError("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var v=assertNodeType(t[0],"url").url;return u===""&&(u=v,u=u.replace(/^.*[\\/]/,""),u=u.substring(0,u.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:v})?{type:"includegraphics",mode:r.mode,alt:u,width:o,height:s,totalheight:a,src:v}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=calculateSize(e.height,t),r=0;e.totalheight.number>0&&(r=calculateSize(e.totalheight,t)-n);var o=0;e.width.number>0&&(o=calculateSize(e.width,t));var s={height:makeEm(n+r)};o>0&&(s.width=makeEm(o)),r>0&&(s.verticalAlign=makeEm(-r));var a=new Img(e.src,e.alt,s);return a.height=n,a.depth=r,a},mathmlBuilder:(e,t)=>{var n=new mathMLTree.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=calculateSize(e.height,t),o=0;if(e.totalheight.number>0&&(o=calculateSize(e.totalheight,t)-r,n.setAttribute("valign",makeEm(-o))),n.setAttribute("height",makeEm(r+o)),e.width.number>0){var s=calculateSize(e.width,t);n.setAttribute("width",makeEm(s))}return n.setAttribute("src",e.src),n}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,o=assertNodeType(t[0],"size");if(n.settings.strict){var s=r[1]==="m",a=o.value.unit==="mu";s?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+o.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:o.value}},htmlBuilder(e,t){return buildCommon.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=calculateSize(e.dimension,t);return new mathMLTree.SpaceNode(n)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:o}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=buildCommon.makeSpan([],[buildGroup$1(e.body,t)]),n=buildCommon.makeSpan(["inner"],[n],t)):n=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,t)]);var r=buildCommon.makeSpan(["fix"],[]),o=buildCommon.makeSpan([e.alignment],[n,r],t),s=buildCommon.makeSpan(["strut"]);return s.style.height=makeEm(o.height+o.depth),o.depth&&(s.style.verticalAlign=makeEm(-o.depth)),o.children.unshift(s),o=buildCommon.makeSpan(["thinbox"],[o],t),buildCommon.makeSpan(["mord","vbox"],[o],t)},mathmlBuilder:(e,t)=>{var n=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,o=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(o),{type:"styling",mode:r.mode,style:"text",body:a}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ParseError("Mismatched "+e.funcName)}});var chooseMathStyle=(e,t)=>{switch(t.style.size){case Style$1.DISPLAY.size:return e.display;case Style$1.TEXT.size:return e.text;case Style$1.SCRIPT.size:return e.script;case Style$1.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:ordargument(t[0]),text:ordargument(t[1]),script:ordargument(t[2]),scriptscript:ordargument(t[3])}},htmlBuilder:(e,t)=>{var n=chooseMathStyle(e,t),r=buildExpression$1(n,t,!1);return buildCommon.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=chooseMathStyle(e,t);return buildExpressionRow(n,t)}});var assembleSupSub=(e,t,n,r,o,s,a)=>{e=buildCommon.makeSpan([],[e]);var u=n&&utils.isCharacterBox(n),l,m;if(t){var y=buildGroup$1(t,r.havingStyle(o.sup()),r);m={elem:y,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-y.depth)}}if(n){var d=buildGroup$1(n,r.havingStyle(o.sub()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var f;if(m&&l){var v=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+a;f=buildCommon.makeVList({positionType:"bottom",positionData:v,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:makeEm(-s)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:m.kern},{type:"elem",elem:m.elem,marginLeft:makeEm(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var A=e.height-a;f=buildCommon.makeVList({positionType:"top",positionData:A,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:makeEm(-s)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},r)}else if(m){var I=e.depth+a;f=buildCommon.makeVList({positionType:"bottom",positionData:I,children:[{type:"elem",elem:e},{type:"kern",size:m.kern},{type:"elem",elem:m.elem,marginLeft:makeEm(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var P=[f];if(l&&s!==0&&!u){var O=buildCommon.makeSpan(["mspace"],[],r);O.style.marginRight=makeEm(s),P.unshift(O)}return buildCommon.makeSpan(["mop","op-limits"],P,r)},noSuccessor=["\\smallint"],htmlBuilder$2=(e,t)=>{var n,r,o=!1,s;e.type==="supsub"?(n=e.sup,r=e.sub,s=assertNodeType(e.base,"op"),o=!0):s=assertNodeType(e,"op");var a=t.style,u=!1;a.size===Style$1.DISPLAY.size&&s.symbol&&!utils.contains(noSuccessor,s.name)&&(u=!0);var l;if(s.symbol){var m=u?"Size2-Regular":"Size1-Regular",y="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(y=s.name.slice(1),s.name=y==="oiint"?"\\iint":"\\iiint"),l=buildCommon.makeSymbol(s.name,m,"math",t,["mop","op-symbol",u?"large-op":"small-op"]),y.length>0){var d=l.italic,f=buildCommon.staticSvg(y+"Size"+(u?"2":"1"),t);l=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:f,shift:u?.08:0}]},t),s.name="\\"+y,l.classes.unshift("mop"),l.italic=d}}else if(s.body){var v=buildExpression$1(s.body,t,!0);v.length===1&&v[0]instanceof SymbolNode?(l=v[0],l.classes[0]="mop"):l=buildCommon.makeSpan(["mop"],v,t)}else{for(var A=[],I=1;I<s.name.length;I++)A.push(buildCommon.mathsym(s.name[I],s.mode,t));l=buildCommon.makeSpan(["mop"],A,t)}var P=0,O=0;return(l instanceof SymbolNode||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(P=(l.height-l.depth)/2-t.fontMetrics().axisHeight,O=l.italic),o?assembleSupSub(l,n,r,t,a,O,P):(P&&(l.style.position="relative",l.style.top=makeEm(P)),l)},mathmlBuilder$1=(e,t)=>{var n;if(e.symbol)n=new MathNode("mo",[makeText(e.name,e.mode)]),utils.contains(noSuccessor,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new MathNode("mo",buildExpression(e.body,t));else{n=new MathNode("mi",[new TextNode(e.name.slice(1))]);var r=new MathNode("mo",[makeText("⁡","text")]);e.parentIsSupSub?n=new MathNode("mrow",[n,r]):n=newDocumentFragment([n,r])}return n},singleCharBigOps={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=r;return o.length===1&&(o=singleCharBigOps[o]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:o}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(r)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=singleCharIntegrals[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(e,t)=>{var n,r,o=!1,s;e.type==="supsub"?(n=e.sup,r=e.sub,s=assertNodeType(e.base,"operatorname"),o=!0):s=assertNodeType(e,"operatorname");var a;if(s.body.length>0){for(var u=s.body.map(d=>{var f=d.text;return typeof f=="string"?{type:"textord",mode:d.mode,text:f}:d}),l=buildExpression$1(u,t.withFont("mathrm"),!0),m=0;m<l.length;m++){var y=l[m];y instanceof SymbolNode&&(y.text=y.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=buildCommon.makeSpan(["mop"],l,t)}else a=buildCommon.makeSpan(["mop"],[],t);return o?assembleSupSub(a,n,r,t,t.style,0,0):a},mathmlBuilder=(e,t)=>{for(var n=buildExpression(e.body,t.withFont("mathrm")),r=!0,o=0;o<n.length;o++){var s=n[o];if(!(s instanceof mathMLTree.SpaceNode))if(s instanceof mathMLTree.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof mathMLTree.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var u=n.map(y=>y.toText()).join("");n=[new mathMLTree.TextNode(u)]}var l=new mathMLTree.MathNode("mi",n);l.setAttribute("mathvariant","normal");var m=new mathMLTree.MathNode("mo",[makeText("⁡","text")]);return e.parentIsSupSub?new mathMLTree.MathNode("mrow",[l,m]):mathMLTree.newDocumentFragment([l,m])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"operatorname",mode:n.mode,body:ordargument(o),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?buildCommon.makeFragment(buildExpression$1(e.body,t,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(e.body,t,!0),t)},mathmlBuilder(e,t){return buildExpressionRow(e.body,t,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t.havingCrampedStyle()),r=buildCommon.makeLineSpan("overline-line",t),o=t.fontMetrics().defaultRuleThickness,s=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*o},{type:"elem",elem:r},{type:"kern",size:o}]},t);return buildCommon.makeSpan(["mord","overline"],[s],t)},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new mathMLTree.MathNode("mover",[buildGroup(e.body,t),n]);return r.setAttribute("accent","true"),r}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:ordargument(r)}},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.body,t.withPhantom(),!1);return buildCommon.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=buildExpression(e.body,t);return new mathMLTree.MathNode("mphantom",n)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=buildCommon.makeSpan([],[buildGroup$1(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),buildCommon.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=buildExpression(ordargument(e.body),t),r=new mathMLTree.MathNode("mphantom",n),o=new mathMLTree.MathNode("mpadded",[r]);return o.setAttribute("height","0px"),o.setAttribute("depth","0px"),o}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,t.withPhantom())]),r=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=buildExpression(ordargument(e.body),t),r=new mathMLTree.MathNode("mphantom",n),o=new mathMLTree.MathNode("mpadded",[r]);return o.setAttribute("width","0px"),o}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=assertNodeType(t[0],"size").value,o=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:o}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t),r=calculateSize(e.dy,t);return buildCommon.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,o=n[0],s=assertNodeType(t[0],"size"),a=assertNodeType(t[1],"size");return{type:"rule",mode:r.mode,shift:o&&assertNodeType(o,"size").value,width:s.value,height:a.value}},htmlBuilder(e,t){var n=buildCommon.makeSpan(["mord","rule"],[],t),r=calculateSize(e.width,t),o=calculateSize(e.height,t),s=e.shift?calculateSize(e.shift,t):0;return n.style.borderRightWidth=makeEm(r),n.style.borderTopWidth=makeEm(o),n.style.bottom=makeEm(s),n.width=r,n.height=o+s,n.depth=-s,n.maxFontSize=o*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=calculateSize(e.width,t),r=calculateSize(e.height,t),o=e.shift?calculateSize(e.shift,t):0,s=t.color&&t.getColor()||"black",a=new mathMLTree.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",makeEm(n)),a.setAttribute("height",makeEm(r));var u=new mathMLTree.MathNode("mpadded",[a]);return o>=0?u.setAttribute("height",makeEm(o)):(u.setAttribute("height",makeEm(o)),u.setAttribute("depth",makeEm(-o))),u.setAttribute("voffset",makeEm(o)),u}});function sizingGroup(e,t,n){for(var r=buildExpression$1(e,t,!1),o=t.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,t.sizingClasses(n)):r[s].classes[a+1]==="reset-size"+t.size&&(r[s].classes[a+1]="reset-size"+n.size),r[s].height*=o,r[s].depth*=o}return buildCommon.makeFragment(r)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(e,t)=>{var n=t.havingSize(e.size);return sizingGroup(e.body,n,t)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:o}=e,s=o.parseExpression(!1,n);return{type:"sizing",mode:o.mode,size:sizeFuncs.indexOf(r)+1,body:s}},htmlBuilder,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=buildExpression(e.body,n),o=new mathMLTree.MathNode("mstyle",r);return o.setAttribute("mathsize",makeEm(n.sizeMultiplier)),o}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,o=!1,s=!1,a=n[0]&&assertNodeType(n[0],"ordgroup");if(a)for(var u="",l=0;l<a.body.length;++l){var m=a.body[l];if(u=m.text,u==="t")o=!0;else if(u==="b")s=!0;else{o=!1,s=!1;break}}else o=!0,s=!0;var y=t[0];return{type:"smash",mode:r.mode,body:y,smashHeight:o,smashDepth:s}},htmlBuilder:(e,t)=>{var n=buildCommon.makeSpan([],[buildGroup$1(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].depth=0;var s=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return buildCommon.makeSpan(["mord"],[s],t)},mathmlBuilder:(e,t)=>{var n=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,o=n[0],s=t[0];return{type:"sqrt",mode:r.mode,body:s,index:o}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=buildCommon.wrapFragment(n,t);var r=t.fontMetrics(),o=r.defaultRuleThickness,s=o;t.style.id<Style$1.TEXT.id&&(s=t.fontMetrics().xHeight);var a=o+s/4,u=n.height+n.depth+a+o,{span:l,ruleWidth:m,advanceWidth:y}=delimiter.sqrtImage(u,t),d=l.height-m;d>n.height+n.depth+a&&(a=(a+d-n.height-n.depth)/2);var f=l.height-n.height-a-m;n.style.paddingLeft=makeEm(y);var v=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+f)},{type:"elem",elem:l},{type:"kern",size:m}]},t);if(e.index){var A=t.havingStyle(Style$1.SCRIPTSCRIPT),I=buildGroup$1(e.index,A,t),P=.6*(v.height-v.depth),O=buildCommon.makeVList({positionType:"shift",positionData:-P,children:[{type:"elem",elem:I}]},t),R=buildCommon.makeSpan(["root"],[O]);return buildCommon.makeSpan(["mord","sqrt"],[R,v],t)}else return buildCommon.makeSpan(["mord","sqrt"],[v],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new mathMLTree.MathNode("mroot",[buildGroup(n,t),buildGroup(r,t)]):new mathMLTree.MathNode("msqrt",[buildGroup(n,t)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:o}=e,s=o.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:o.mode,style:a,body:s}},htmlBuilder(e,t){var n=styleMap[e.style],r=t.havingStyle(n).withFont("");return sizingGroup(e.body,r,t)},mathmlBuilder(e,t){var n=styleMap[e.style],r=t.havingStyle(n),o=buildExpression(e.body,r),s=new mathMLTree.MathNode("mstyle",o),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},u=a[e.style];return s.setAttribute("scriptlevel",u[0]),s.setAttribute("displaystyle",u[1]),s}});var htmlBuilderDelegate=function e(t,n){var r=t.base;if(r)if(r.type==="op"){var o=r.limits&&(n.style.size===Style$1.DISPLAY.size||r.alwaysHandleSupSub);return o?htmlBuilder$2:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===Style$1.DISPLAY.size||r.limits);return s?htmlBuilder$1:null}else{if(r.type==="accent")return utils.isCharacterBox(r.base)?htmlBuilder$a:null;if(r.type==="horizBrace"){var a=!t.sub;return a===r.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(e,t){var n=htmlBuilderDelegate(e,t);if(n)return n(e,t);var{base:r,sup:o,sub:s}=e,a=buildGroup$1(r,t),u,l,m=t.fontMetrics(),y=0,d=0,f=r&&utils.isCharacterBox(r);if(o){var v=t.havingStyle(t.style.sup());u=buildGroup$1(o,v,t),f||(y=a.height-v.fontMetrics().supDrop*v.sizeMultiplier/t.sizeMultiplier)}if(s){var A=t.havingStyle(t.style.sub());l=buildGroup$1(s,A,t),f||(d=a.depth+A.fontMetrics().subDrop*A.sizeMultiplier/t.sizeMultiplier)}var I;t.style===Style$1.DISPLAY?I=m.sup1:t.style.cramped?I=m.sup3:I=m.sup2;var P=t.sizeMultiplier,O=makeEm(.5/m.ptPerEm/P),R=null;if(l){var M=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(a instanceof SymbolNode||M)&&(R=makeEm(-a.italic))}var k;if(u&&l){y=Math.max(y,I,u.depth+.25*m.xHeight),d=Math.max(d,m.sub2);var U=m.defaultRuleThickness,Q=4*U;if(y-u.depth-(l.height-d)<Q){d=Q-(y-u.depth)+l.height;var B=.8*m.xHeight-(y-u.depth);B>0&&(y+=B,d-=B)}var W=[{type:"elem",elem:l,shift:d,marginRight:O,marginLeft:R},{type:"elem",elem:u,shift:-y,marginRight:O}];k=buildCommon.makeVList({positionType:"individualShift",children:W},t)}else if(l){d=Math.max(d,m.sub1,l.height-.8*m.xHeight);var Z=[{type:"elem",elem:l,marginLeft:R,marginRight:O}];k=buildCommon.makeVList({positionType:"shift",positionData:d,children:Z},t)}else if(u)y=Math.max(y,I,u.depth+.25*m.xHeight),k=buildCommon.makeVList({positionType:"shift",positionData:-y,children:[{type:"elem",elem:u,marginRight:O}]},t);else throw new Error("supsub must have either sup or sub.");var j=getTypeOfDomTree(a,"right")||"mord";return buildCommon.makeSpan([j],[a,buildCommon.makeSpan(["msupsub"],[k])],t)},mathmlBuilder(e,t){var n=!1,r,o;e.base&&e.base.type==="horizBrace"&&(o=!!e.sup,o===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var s=[buildGroup(e.base,t)];e.sub&&s.push(buildGroup(e.sub,t)),e.sup&&s.push(buildGroup(e.sup,t));var a;if(n)a=r?"mover":"munder";else if(e.sub)if(e.sup){var m=e.base;m&&m.type==="op"&&m.limits&&t.style===Style$1.DISPLAY||m&&m.type==="operatorname"&&m.alwaysHandleSupSub&&(t.style===Style$1.DISPLAY||m.limits)?a="munderover":a="msubsup"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===Style$1.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===Style$1.DISPLAY)?a="munder":a="msub"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===Style$1.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===Style$1.DISPLAY)?a="mover":a="msup"}return new mathMLTree.MathNode(a,s)}});defineFunctionBuilders({type:"atom",htmlBuilder(e,t){return buildCommon.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mo",[makeText(e.text,e.mode)]);if(e.family==="bin"){var r=getVariant(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(e,t){return buildCommon.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mi",[makeText(e.text,e.mode,t)]),r=getVariant(e,t)||"italic";return r!==defaultVariant[n.type]&&n.setAttribute("mathvariant",r),n}});defineFunctionBuilders({type:"textord",htmlBuilder(e,t){return buildCommon.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=makeText(e.text,e.mode,t),r=getVariant(e,t)||"normal",o;return e.mode==="text"?o=new mathMLTree.MathNode("mtext",[n]):/[0-9]/.test(e.text)?o=new mathMLTree.MathNode("mn",[n]):e.text==="\\prime"?o=new mathMLTree.MathNode("mo",[n]):o=new mathMLTree.MathNode("mi",[n]),r!==defaultVariant[o.type]&&o.setAttribute("mathvariant",r),o}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(e,t){if(regularSpace.hasOwnProperty(e.text)){var n=regularSpace[e.text].className||"";if(e.mode==="text"){var r=buildCommon.makeOrd(e,t,"textord");return r.classes.push(n),r}else return buildCommon.makeSpan(["mspace",n],[buildCommon.mathsym(e.text,e.mode,t)],t)}else{if(cssSpace.hasOwnProperty(e.text))return buildCommon.makeSpan(["mspace",cssSpace[e.text]],[],t);throw new ParseError('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(regularSpace.hasOwnProperty(e.text))n=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode(" ")]);else{if(cssSpace.hasOwnProperty(e.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+e.text+'"')}return n}});var pad=()=>{var e=new mathMLTree.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};defineFunctionBuilders({type:"tag",mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.body,t)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(e,t)=>{var n=e.font;return n?textFontFamilies[n]?t.withTextFontFamily(textFontFamilies[n]):textFontWeights[n]?t.withTextFontWeight(textFontWeights[n]):t.withTextFontShape(textFontShapes[n]):t};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"text",mode:n.mode,body:ordargument(o),font:r}},htmlBuilder(e,t){var n=optionsWithFont(e,t),r=buildExpression$1(e.body,n,!0);return buildCommon.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=optionsWithFont(e,t);return buildExpressionRow(e.body,n)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t),r=buildCommon.makeLineSpan("underline-line",t),o=t.fontMetrics().defaultRuleThickness,s=buildCommon.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:o},{type:"elem",elem:r},{type:"kern",size:3*o},{type:"elem",elem:n}]},t);return buildCommon.makeSpan(["mord","underline"],[s],t)},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new mathMLTree.MathNode("munder",[buildGroup(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t),r=t.fontMetrics().axisHeight,o=.5*(n.height-r-(n.depth+r));return buildCommon.makeVList({positionType:"shift",positionData:o,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=makeVerb(e),r=[],o=t.havingStyle(t.style.text()),s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),r.push(buildCommon.makeSymbol(a,"Typewriter-Regular",e.mode,o,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(o.sizingClasses(t)),buildCommon.tryCombineChars(r),o)},mathmlBuilder(e,t){var n=new mathMLTree.TextNode(makeVerb(e)),r=new mathMLTree.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var makeVerb=e=>e.body.replace(/ /g,e.star?"␣":" "),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[̀-ͯ]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new Token("EOF",new SourceLocation(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new ParseError("Unexpected character: '"+t[n]+"'",new Token(t[n],new SourceLocation(this,n,n+1)));var o=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[o]===14){var s=t.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Token(o,new SourceLocation(this,n,this.tokenRegex.lastIndex))}}class Namespace{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var o=0;o<this.undefStack.length;o++)delete this.undefStack[o][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(t)&&(s[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var macros=_macros;defineMacro("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});defineMacro("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});defineMacro("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});defineMacro("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});defineMacro("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ParseError("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=digitToNumber[t.text],r==null||r>=n)throw new ParseError("Invalid base-"+n+" digit "+t.text);for(var o;(o=digitToNumber[e.future().text])!=null&&o<n;)r*=n,r+=o,e.popToken()}return"\\@char{"+r+"}"});var newcommand=(e,t,n)=>{var r=e.consumeArg().tokens;if(r.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var o=r[0].text,s=e.isDefined(o);if(s&&!t)throw new ParseError("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!s&&!n)throw new ParseError("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var a=0;if(r=e.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var u="",l=e.expandNextToken();l.text!=="]"&&l.text!=="EOF";)u+=l.text,l=e.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+u);a=parseInt(u),r=e.consumeArg().tokens}return e.macros.set(o,{tokens:r,numArgs:a}),""};defineMacro("\\newcommand",e=>newcommand(e,!1,!0));defineMacro("\\renewcommand",e=>newcommand(e,!0,!1));defineMacro("\\providecommand",e=>newcommand(e,!0,!0));defineMacro("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});defineMacro("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});defineMacro("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),functions[n],symbols.math[n],symbols.text[n]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");defineMacro("ℬ","\\mathscr{B}");defineMacro("ℰ","\\mathscr{E}");defineMacro("ℱ","\\mathscr{F}");defineMacro("ℋ","\\mathscr{H}");defineMacro("ℐ","\\mathscr{I}");defineMacro("ℒ","\\mathscr{L}");defineMacro("ℳ","\\mathscr{M}");defineMacro("ℛ","\\mathscr{R}");defineMacro("ℭ","\\mathfrak{C}");defineMacro("ℌ","\\mathfrak{H}");defineMacro("ℨ","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("·","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");defineMacro("\\ne","\\neq");defineMacro("≠","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");defineMacro("∉","\\notin");defineMacro("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");defineMacro("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");defineMacro("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");defineMacro("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");defineMacro("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");defineMacro("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");defineMacro("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");defineMacro("⟂","\\perp");defineMacro("‼","\\mathclose{!\\mkern-0.8mu!}");defineMacro("∌","\\notni");defineMacro("⌜","\\ulcorner");defineMacro("⌝","\\urcorner");defineMacro("⌞","\\llcorner");defineMacro("⌟","\\lrcorner");defineMacro("©","\\copyright");defineMacro("®","\\textregistered");defineMacro("️","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");defineMacro("⋮","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in dotsByToken?t=dotsByToken[n]:(n.slice(0,4)==="\\not"||n in symbols.math&&utils.contains(["bin","rel"],symbols.math[n].group))&&(t="\\dotsb"),t});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(e){var t=e.future().text;return t in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(e){var t=e.future().text;return t in spaceAfterDots&&t!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(e){var t=e.future().text;return t in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"]["T".charCodeAt(0)][1]-.7*fontMetricsData["Main-Regular"]["A".charCodeAt(0)][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("∷","\\dblcolon");defineMacro("∹","\\eqcolon");defineMacro("≔","\\coloneqq");defineMacro("≕","\\eqqcolon");defineMacro("⩴","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{≰}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");defineMacro("\\imath","\\html@mathml{\\@imath}{ı}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{ȷ}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");defineMacro("⟦","\\llbracket");defineMacro("⟧","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");defineMacro("⦃","\\lBrace");defineMacro("⦄","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");defineMacro("⦵","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,o=t.consumeArg().tokens,s=t.consumeArg().tokens,a=t.macros.get("|"),u=t.macros.get("\\|");t.macros.beginGroup();var l=d=>f=>{e&&(f.macros.set("|",a),o.length&&f.macros.set("\\|",u));var v=d;if(!d&&o.length){var A=f.future();A.text==="|"&&(f.popToken(),v=!0)}return{tokens:v?o:r,numArgs:0}};t.macros.set("|",l(!1)),o.length&&t.macros.set("\\|",l(!0));var m=t.consumeArg().tokens,y=t.expandTokens([...s,...m,...n]);return t.macros.endGroup(),{tokens:y.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new Namespace(macros,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new Lexer(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,o;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:o,end:r}=this.consumeArg(["]"])}else({tokens:o,start:n,end:r}=this.consumeArg());return this.pushToken(new Token("EOF",r.loc)),this.pushTokens(o),n.range(r,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var o=this.future(),s,a=0,u=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new ParseError("Extra }",s)}else if(s.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(t&&r?t[u]:"}")+"'",s);if(t&&r)if((a===0||a===1&&t[u]==="{")&&s.text===t[u]){if(++u,u===t.length){n.splice(-u,u);break}}else u=0}while(a!==0||r);return o.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:o,end:s}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var r=n[0],o=0;o<r.length;o++){var s=this.popToken();if(r[o]!==s.text)throw new ParseError("Use of the macro doesn't match its definition",s)}}for(var a=[],u=0;u<t;u++)a.push(this.consumeArg(n&&n[u+1]).tokens);return a}expandOnce(t){var n=this.popToken(),r=n.text,o=n.noexpand?null:this._getExpansion(r);if(o==null||t&&o.unexpandable){if(t&&o==null&&r[0]==="\\"&&!this.isDefined(r))throw new ParseError("Undefined control sequence: "+r);return this.pushToken(n),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting");var s=o.tokens,a=this.consumeArgs(o.numArgs,o.delimiters);if(o.numArgs){s=s.slice();for(var u=s.length-1;u>=0;--u){var l=s[u];if(l.text==="#"){if(u===0)throw new ParseError("Incomplete placeholder at end of macro body",l);if(l=s[--u],l.text==="#")s.splice(u+1,1);else if(/^[1-9]$/.test(l.text))s.splice(u,2,...a[+l.text-1]);else throw new ParseError("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Token(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var o=this.stack.pop();o.treatAsRelax&&(o.noexpand=!1,o.treatAsRelax=!1),n.push(o)}return n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var o=typeof n=="function"?n(this):n;if(typeof o=="string"){var s=0;if(o.indexOf("#")!==-1)for(var a=o.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var u=new Lexer(o,this.settings),l=[],m=u.lex();m.text!=="EOF";)l.push(m),m=u.lex();l.reverse();var y={tokens:l,numArgs:s};return y}return o}isDefined(t){return this.macros.has(t)||functions.hasOwnProperty(t)||symbols.math.hasOwnProperty(t)||symbols.text.hasOwnProperty(t)||implicitCommands.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:functions.hasOwnProperty(t)&&!functions[t].primitive}}var unicodeSubRegEx=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,uSubsAndSups=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),unicodeAccents={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},unicodeSymbols={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Parser{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new ParseError("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var o=this.fetch();if(Parser.endOfExpression.indexOf(o.text)!==-1||n&&o.text===n||t&&functions[o.text]&&functions[o.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,o=0;o<t.length;o++)if(t[o].type==="infix"){if(n!==-1)throw new ParseError("only one infix operator per group",t[o].token);n=o,r=t[o].replaceWith}if(n!==-1&&r){var s,a,u=t.slice(0,n),l=t.slice(n+1);u.length===1&&u[0].type==="ordgroup"?s=u[0]:s={type:"ordgroup",mode:this.mode,body:u},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var m;return r==="\\\\abovefrac"?m=this.callFunction(r,[s,t[n],a],[]):m=this.callFunction(r,[s,a],[]),[m]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var o=this.parseGroup(t);if(!o)throw new ParseError("Expected group after '"+r+"'",n);return o}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var o={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[o]};return s}parseAtom(t){var n=this.parseGroup("atom",t);if(this.mode==="text")return n;for(var r,o;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var a=s.text==="\\limits";n.limits=a,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new ParseError("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(o)throw new ParseError("Double subscript",s);o=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new ParseError("Double superscript",s);var u={type:"textord",mode:this.mode,text:"\\prime"},l=[u];for(this.consume();this.fetch().text==="'";)l.push(u),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(uSubsAndSups[s.text]){var m=uSubsAndSups[s.text],y=unicodeSubRegEx.test(s.text);for(this.consume();;){var d=this.fetch().text;if(!uSubsAndSups[d]||unicodeSubRegEx.test(d)!==y)break;this.consume(),m+=uSubsAndSups[d]}var f=new Parser(m,this.settings).parse();y?o={type:"ordgroup",mode:"math",body:f}:r={type:"ordgroup",mode:"math",body:f}}else break}return r||o?{type:"supsub",mode:this.mode,base:n,sup:r,sub:o}:n}parseFunction(t,n){var r=this.fetch(),o=r.text,s=functions[o];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new ParseError("Got function '"+o+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new ParseError("Can't use function '"+o+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new ParseError("Can't use function '"+o+"' in math mode",r);var{args:a,optArgs:u}=this.parseArguments(o,s);return this.callFunction(o,a,u,r,t)}callFunction(t,n,r,o,s){var a={funcName:t,parser:this,token:o,breakOnTokenText:s},u=functions[t];if(u&&u.handler)return u.handler(a,n,r);throw new ParseError("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var o=[],s=[],a=0;a<r;a++){var u=n.argTypes&&n.argTypes[a],l=a<n.numOptionalArgs;(n.primitive&&u==null||n.type==="sqrt"&&a===1&&s[0]==null)&&(u="primitive");var m=this.parseGroupOfType("argument to '"+t+"'",u,l);if(l)s.push(m);else if(m!=null)o.push(m);else throw new ParseError("Null argument, please report this as a bug")}return{args:o,optArgs:s}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var o=this.parseArgumentGroup(r,"text");return o!=null?{type:"styling",mode:o.mode,body:[o],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new ParseError("A primitive argument cannot be optional");var a=this.parseGroup(t);if(a==null)throw new ParseError("Expected group as "+t,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ParseError("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var o="",s;(s=this.fetch()).text!=="EOF";)o+=s.text,this.consume();return this.consume(),r.text=o,r}parseRegexGroup(t,n){for(var r=this.fetch(),o=r,s="",a;(a=this.fetch()).text!=="EOF"&&t.test(s+a.text);)o=a,s+=o.text,this.consume();if(s==="")throw new ParseError("Invalid "+n+": '"+r.text+"'",r);return r.range(o,s)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ParseError("Invalid color: '"+n.text+"'",n);var o=r[0];return/^[0-9a-f]{6}$/i.test(o)&&(o="#"+o),{type:"color-token",mode:this.mode,color:o}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var o=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!o)throw new ParseError("Invalid size: '"+n.text+"'",n);var s={number:+(o[1]+o[2]),unit:o[3]};if(!validUnit(s))throw new ParseError("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var o=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(o),a}parseGroup(t,n){var r=this.fetch(),o=r.text,s;if(o==="{"||o==="\\begingroup"){this.consume();var a=o==="{"?"}":"\\endgroup";this.gullet.beginGroup();var u=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(r,l),body:u,semisimple:o==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,t)||this.parseSymbol(),s==null&&o[0]==="\\"&&!implicitCommands.hasOwnProperty(o)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+o,r);s=this.formatUnsupportedCmd(o),this.consume()}return s}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var o=t[r],s=o.text;s==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:SourceLocation.range(o,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:SourceLocation.range(o,t[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&t[r+1].text===s&&(t.splice(r,2,{type:"textord",mode:"text",loc:SourceLocation.range(o,t[r+1]),text:s+s}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),o=r.charAt(0)==="*";if(o&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:o}}unicodeSymbols.hasOwnProperty(n[0])&&!symbols[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=unicodeSymbols[n[0]]+n.slice(1));var s=combiningDiacriticalMarksEndRegex.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var a;if(symbols[this.mode][n]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var u=symbols[this.mode][n].group,l=SourceLocation.range(t),m;if(ATOMS.hasOwnProperty(u)){var y=u;m={type:"atom",mode:this.mode,family:y,loc:l,text:n}}else m={type:u,mode:this.mode,loc:l,text:n};a=m}else if(n.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),a={type:"textord",mode:"text",loc:SourceLocation.range(t),text:n};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var f=s[0][d];if(!unicodeAccents[f])throw new ParseError("Unknown accent ' "+f+"'",t);var v=unicodeAccents[f][this.mode]||unicodeAccents[f].text;if(!v)throw new ParseError("Accent "+f+" unsupported in "+this.mode+" mode",t);a={type:"accent",mode:this.mode,loc:SourceLocation.range(t),label:v,isStretchy:!1,isShifty:!0,base:a}}return a}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function e(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Parser(t,n);delete r.gullet.macros.current["\\df@tag"];var o=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ParseError("\\tag works only in display equations");o=[{type:"tag",mode:"text",body:o,tag:r.subparse([new Token("\\df@tag")])}]}return o},render=function e(t,n,r){n.textContent="";var o=renderToDomTree(t,r).toNode();n.appendChild(o)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function e(t,n){var r=renderToDomTree(t,n).toMarkup();return r},generateParseTree=function e(t,n){var r=new Settings(n);return parseTree(t,r)},renderError=function e(t,n,r){if(r.throwOnError||!(t instanceof ParseError))throw t;var o=buildCommon.makeSpan(["katex-error"],[new SymbolNode(n)]);return o.setAttribute("title",t.toString()),o.setAttribute("style","color:"+r.errorColor),o},renderToDomTree=function e(t,n){var r=new Settings(n);try{var o=parseTree(t,r);return buildTree(o,t,r)}catch(s){return renderError(s,t,r)}},renderToHTMLTree=function e(t,n){var r=new Settings(n);try{var o=parseTree(t,r);return buildHTMLTree(o,t,r)}catch(s){return renderError(s,t,r)}},katex={version:"0.16.7",render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree:{Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode}},iosInnerHeight={exports:{}};(function(e,t){(function(n){e.exports=n()})(function(){return function(){function n(r,o,s){function a(m,y){if(!o[m]){if(!r[m]){var d=typeof commonjsRequire=="function"&&commonjsRequire;if(!y&&d)return d(m,!0);if(u)return u(m,!0);var f=new Error("Cannot find module '"+m+"'");throw f.code="MODULE_NOT_FOUND",f}var v=o[m]={exports:{}};r[m][0].call(v.exports,function(A){var I=r[m][1][A];return a(I||A)},v,v.exports,n,r,o,s)}return o[m].exports}for(var u=typeof commonjsRequire=="function"&&commonjsRequire,l=0;l<s.length;l++)a(s[l]);return a}return n}()({1:[function(n,r,o){r.exports=function(){if(typeof window>"u"||typeof navigator>"u")return function(){return 0};if(!navigator.userAgent.match(/iphone|ipod|ipad/i))return function(){return window.innerHeight};var s=Math.abs(window.orientation),a={w:0,h:0},u=function(){var l=document.createElement("div");l.style.position="fixed",l.style.height="100vh",l.style.width=0,l.style.top=0,document.documentElement.appendChild(l),a.w=s===90?l.offsetHeight:window.innerWidth,a.h=s===90?window.innerWidth:l.offsetHeight,document.documentElement.removeChild(l),l=null};return u(),function(){return Math.abs(window.orientation)!==90?a.h:a.w}}()},{}]},{},[1])(1)})})(iosInnerHeight);var iosInnerHeightExports=iosInnerHeight.exports;const windowInnerHeight=getDefaultExportFromCjs(iosInnerHeightExports);function addOrReplaceParams(e="",t,n){if(e.split("?").length>1)_.forEach(t,(o,s)=>{const a=new RegExp(`[\\?&]${o}=([^&#]*)`),u=a.exec(e);if(u===null)e+=`&${o}=${n[s]}`;else{const l=u[0].charAt(0);e=e.replace(a,`${l+o}=${n[s]}`)}});else{let o="?";_.forEach(t,(s,a)=>{o+=`${a!==0?"&":""}${s}=${n[a]}`}),e+=o}return e}function attachParamForType(e,t={},n){if(t.paramVal)return attachParamsForMisc(e,t.paramVal);switch(n){case"question":return attachParamsForQuestion(e,t.deviceType);case"option":return attachParamsForOption(e,t.dimToCheckAgainst);case"demoGame":return attachParamsForDemoGames(e,t.deviceType);case"meme":return attachParamsForMeme(e,t.deviceType);case"preview":return attachParamsForImagePreview(e);case"preview-default":return attachParamsForImagePreview(e,!0,t.imageType,t.deviceType);case"contentSlides":return attachParamsForContentSlides(e,t.deviceType,t.contentSlideType);case"misc":default:return attachParamsForMisc(e,t.dimToCheckAgainst,t.deviceType)}}function getBestSuitableDimParam(e){const t=[...Constants.MediaServerImageDimensions],n={w:t[t.length-1],h:t[t.length-1]};for(let r=0;r<t.length;r++){const o=t[r];if(e<=o){n.w=o,n.h=o;break}}return n}function returnUrlWithParams(e,t){return addOrReplaceParams(e,["w","h"],[`${t}`,`${t}`])}function attachParamsForQuestion(e,t){switch(t){case Constants.DeviceType.PHONE:return returnUrlWithParams(e,400);case Constants.DeviceType.TABLET:return returnUrlWithParams(e,600);case Constants.DeviceType.DESKTOP:return returnUrlWithParams(e,900);default:return returnUrlWithParams(e,900)}}function attachParamsForOption(e,t){return t<1366?returnUrlWithParams(e,400):returnUrlWithParams(e,900)}function attachParamsForDemoGames(e,t){switch(t){case Constants.DeviceType.PHONE:return returnUrlWithParams(e,200);case Constants.DeviceType.TABLET:return returnUrlWithParams(e,400);case Constants.DeviceType.DESKTOP:return returnUrlWithParams(e,600);default:return returnUrlWithParams(e,900)}}function attachParamsForMeme(e,t){switch(t){case Constants.DeviceType.PHONE:return returnUrlWithParams(e,400);case Constants.DeviceType.TABLET:case Constants.DeviceType.DESKTOP:default:return returnUrlWithParams(e,600)}}function attachParamsForMisc(e,t,n){if(t){const r=getBestSuitableDimParam(t);return returnUrlWithParams(e,r.w)}return n?attachParamsForQuestion(e,n):returnUrlWithParams(e,Constants.MediaServerImageDimensions[Constants.MediaServerImageDimensions.length-1])}function attachParamsForImagePreview(e,t,n,r){return t?n==="question"?attachParamsForQuestion(e,r):returnUrlWithParams(e,400):returnUrlWithParams(e,900)}function attachParamsForContentSlides(e,t,n){const r=n===Constants.SlideTypes.MEDIA_SUBTITLE;let o=600;switch(t){case Constants.DeviceType.PHONE:o=r?600:400;break;case Constants.DeviceType.TABLET:o=r?900:600;break;case Constants.DeviceType.DESKTOP:default:o=r?1280:900;break}return returnUrlWithParams(e,o)}function getFormattedDate(e,t=!0,n=!1){const r=[getTranslatedText("Jan"),getTranslatedText("Feb"),getTranslatedText("Mar"),getTranslatedText("Apr"),getTranslatedText("May"),getTranslatedText("Jun"),getTranslatedText("Jul"),getTranslatedText("Aug"),getTranslatedText("Sep"),getTranslatedText("Oct"),getTranslatedText("Nov"),getTranslatedText("Dec")],o=new Date(e);let s="AM",a=o.getHours();a===12?s="PM":a>12&&(s="PM",a-=12);const u=addZeroToMinutes(o.getMinutes());let l="";return t&&(l+=`${a}:${u} ${s}, `),l+=`${r[o.getMonth()]} ${o.getDate()}`,n&&(l=`${l} ${o.getFullYear()}`),l}function withOrdinalSuffix(e){const t=_.isNumber(e)?e:parseInt(e,10);return _.isNaN(t)?e:`${t}${getOrdinalSuffix(t)}`}function getOrdinalSuffix(e){const t=e%10,n=e%100;return t===1&&n!==11?"st":t===2&&n!==12?"nd":t===3&&n!==13?"rd":"th"}function kFormatter(e){return e>999?`${Math.floor(e/1e3)}k`:e}function isValidTheme(e){return _.includes(Object.values(Constants.ThemeNames),e)}function isAValidSelectedLanguage(e){const t=_.map(Constants.Languages,n=>n.locale);return _.includes(t,e)}function getSanitizedTextForTTS(e){const t=/(<([^>]+)>)|(&nbsp;)/ig,n=/([_]+)/ig,r=/(\<div class=.kr-math.)([^>]+)\>([^\</]+)(\<\/div\>)/ig,o=/\-+\>/ig;let s=e.replace(r,". . an expression . .");return s=s.replace(t,""),s=s.replace(n,",blank,"),s=s.replace(o,",gives,"),s}function getResponseErrorType(e,t=""){if(e.error&&e.error.type)return e.error.type;if(e.response){const n=e.response,r=_.get(n,"error.type");if(r)return r;if(n.success===!1&&_.isString(n.type))return n.type;if(n.success===!1&&_.isString(n.error)||!_.isBoolean(n.success)&&n.error instanceof Error)return n.error}return t}function addClassesToElement(e,t=[]){for(let n=0;n<t.length;n++)e.classList&&e.classList.add&&e.classList.add(t[n])}function removeClassesToElement(e,t=[]){for(let n=0;n<t.length;n++)e.classList&&e.classList.remove&&e.classList.remove(t[n])}function addOrReplaceParam(e,t,n){t=encodeURIComponent(t);const r=`([&?]|&amp;)${t}\\b(?:=(?:[^&#]*))*`,o=document.createElement("a"),s=new RegExp(r),a=t+(n?`=${encodeURIComponent(n)}`:"");o.href=e;const u=o.search.replace(s,`$1${a}`);return u===o.search?o.search+=(o.search?"&":"")+a:o.search=u,o.href}function generateQueryString(e){return Object.keys(e).reduce((n,r)=>(e[r]&&n.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`),n),[]).join("&")}function getQueryParamsFromURL(e){const t=document.createElement("a");t.href=e;const n=_.compact(t.search.replace("?","").split("&")),r={};return n.forEach(o=>{const s=o.split("=")[0],a=o.split("=")[1];r[s]=a}),r}function getPathnameFromURL(e){const t=document.createElement("a");return t.href=e,t.pathname}function isIOSDevice(){return window.navigator.userAgent.match(/iphone|ipod|ipad/i)}function canMediaBePlayedInBrowser(e,t,n){return new Promise((r,o)=>{try{const s=document.createElement(t),a=s.canPlayType(e);if(!isEmpty(a)){r(!0);return}const u=setTimeout(()=>{r(!1)},3e3);s.onerror=()=>{u&&clearTimeout(u),r(!1)},s.oncanplay=()=>{u&&clearTimeout(u),r(!0)},s.src=n}catch{r(!1)}})}function getBrowserDefaultLanguage(){return window.navigator.language||window.navigator.userLanguage}function removeURLParameter(e,t){let n=e;const r=n.split("?");if(r.length>=2){const o=`${encodeURIComponent(t)}=`,s=r[1].split(/[&;]/g);for(let a=s.length;a-- >0;)s[a].lastIndexOf(o,0)!==-1&&s.splice(a,1);n=r[0],s.length&&(n+=`?${s.join("&")}`)}return n}function getImageBoundedDimensions(e,t,n,r,o,s){let a=0,u=0,l,m,y=returnSizeJumpArr(e,s);for(let d=y.length-1;d>=0&&(l=y[d],!(n>=y[d]));d--);y=returnSizeJumpArr(t,s);for(let d=y.length-1;d>=0&&(m=y[d],!(r>=y[d]));d--);return o>1?(a=l,u=m/o):o<1?(u=m,a=l*o):(u=m,a=l),{width:a,height:u}}function isValidEmail(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)}function isValidPhoneNumber(e){return/^\d{10}$/.test(e)}function isSpeechSynthesisPresent(){return"speechSynthesis"in window&&"SpeechSynthesisUtterance"in window}function getPageLoadType(){if(window.performance){const e=window.performance;try{const t=_.isFunction(e.getEntriesByType)&&e.getEntriesByType("navigation")[0];if(t&&t.type)return t.type}catch(t){QLogger$1.error("Error at pageLoadType",t)}if(e.navigation&&_.isNumber(e.navigation.type))switch(e.navigation.type){case e.navigation.TYPE_NAVIGATE:return"navigate";case e.navigation.TYPE_RELOAD:return"reload";case e.navigation.TYPE_BACK_FORWARD:return"back-forward";case e.navigation.TYPE_RESERVED:return"reserved"}}return"unknown"}function getDeviceMediaDetails(e={},t=!1){const n=window.innerWidth,r=windowInnerHeight(),o=window.innerHeight,s=_.get(e,"isTouchSupported")||t,a=Math.max(n,r),u=Math.min(n,r);let l=_.get(e,"type",Constants.DeviceType.DESKTOP),m=_.get(e,"orientation",Constants.Orientation.PORTRAIT);return u<Constants.DeviceDimensionRanges.MIN_TABLET_WIDTH&&a<Constants.DeviceDimensionRanges.MAX_TABLET_WIDTH?l=Constants.DeviceType.PHONE:n===Constants.DeviceDimensionRanges.MAX_TABLET_WIDTH?l=Constants.DeviceType.TABLET:a>=Constants.DeviceDimensionRanges.MIN_DESKTOP_WIDTH?l=Constants.DeviceType.DESKTOP:l=Constants.DeviceType.TABLET,n/r>1?m=Constants.Orientation.LANDSCAPE:m=Constants.Orientation.PORTRAIT,{width:n,height:r,orientation:m,type:l,isTouchSupported:s,visibleViewportHeight:o}}function copyInputContentToClipboard(e){const t=document.getElementById(e);let n=!1;return t&&t.select&&(t.select(),n=document.execCommand("copy")),n}function tryNativeBrowserShare(e={}){const t=!!(window.navigator&&window.navigator.share);if(t)try{window.navigator.share(e)}catch(n){QLogger$1.error("Error at tryNativeBrowserShare",n)}return t}function copyTextToClipboard(e){if(e=String(e),window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){const t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1}function getIEVersion(){const e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){const o=e.indexOf("rv:");return parseInt(e.substring(o+3,e.indexOf(".",o)),10)}const r=e.indexOf("Edge/");return r>0?parseInt(e.substring(r+5,e.indexOf(".",r)),10):-1}function splitBlankElementsAndHtml(e,t){let n=e.split("</p>");return n=n.map(o=>o?`${o}</p>`:""),n.map(o=>{const s=o.match(/<blank.*?<\/blank>/g);if(!s)return[o];let a=o;_.forEach(s,(m,y)=>{a=a.replace(m,";blank;")});const u=[];let l=0;return a.split(";blank;").forEach((m,y)=>{t&&y!==0&&y!==a.length-1?u.push(`${m} `):u.push(`${m} `),l<s.length&&(u.push(s[l]),l+=1)}),u})}function replaceBlankElementsWithHTML(e){let t=-1;return e.replaceAll(/<blank.*?<\/blank>/g,()=>(t+=1,`(${String.fromCharCode(+"097"+t)}) _ _ _ _ _ _ _ _ _ _`))}function getBlankIdsMappingFromHTML(e,t=!1){const n=e.match(/<blank id=".*?<\/blank>/g),r={};return _.forEach(n,(o,s)=>{const u=o.match(/id.*?=.*?".*?"/)[0].match(/".*"/)[0],l=_.unescape(u.substring(1,u.length-1));r[l]=t?s:""}),r}function replaceBlankTagsWithPlaceholders(e){const t=e.match(/<blank.*?<\/blank>/g);if(!t)return e;let n=e;return _.forEach(t,(r,o)=>{n=n.replace(r,`Blank ${o+1}`)}),n}function replaceKatexElementsWithHTML(e){const t=e.match(/<katex.*?<\/katex>/g),n=_.map(t,(o,s)=>{const u=o.match(/latex.*?=.*?".*?"/)[0].match(/".*"/)[0],l=_.unescape(u.substring(1,u.length-1));let m="";try{m=getLatexHTML(l)}catch(y){QLogger$1.error("Error: replaceKatexElementsWithHTML",y)}return` ${m} `});let r=e;return _.forEach(t,(o,s)=>{r=r.replace(o,n[s])}),r}function getLatexHTML(e){return katex.renderToString(e,{displayMode:!0})}function makeMemeUrlsToFetch(e,t){const n={images:[],videos:[]},r=[Constants.MemeTypes.CORRECT,Constants.MemeTypes.INCORRECT];return _.forEach(e,(o,s)=>{const a=attachParamForType(o,{deviceType:t.type,dimToCheckAgainst:t.width},"meme");if(_.includes(r,s)){n.images.push(a);return}n.videos.push(a.replace(".gif",".mp4"))}),n}function isQuizWithoutCorrectAnswers(e){return!isEmpty(e)&&_.has(e,"isQuizWithoutCorrectAnswer")?e.isQuizWithoutCorrectAnswer:!1}function isWindowInFullScreen(){return!(document.fullScreenElement!==void 0&&document.fullScreenElement===null||document.msFullscreenElement!==void 0&&document.msFullscreenElement===null||document.mozFullScreen!==void 0&&!document.mozFullScreen||document.webkitIsFullScreen!==void 0&&!document.webkitIsFullScreen)}function isGDPRCountry(e){if(!e)return!1;switch(e.toUpperCase()){case"AT":case"BE":case"BG":case"HR":case"CY":case"CZ":case"DK":case"EE":case"FI":case"FR":case"DE":case"GR":case"HU":case"IE":case"IT":case"LV":case"LT":case"LU":case"MT":case"NL":case"PL":case"PT":case"RO":case"SK":case"SI":case"ES":case"SE":case"GB":case"IS":case"LI":case"NO":return!0}return!1}function doesElementRequireKeyboardFocus(e){const t=_.toLower(e.tagName);if(t!=="textarea"&&t!=="input"&&!e.isContentEditable)return!1;const n=_.toLower(e.getAttribute("type"))||"",r=["","text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"];return!(t!=="textarea"&&!_.includes(r,n))}function isValidTouchObject(e){return!!Touch&&!!e&&e instanceof Touch}function getNumberFromCSSValue(e){const t=e.replace("px","").replace("rem","").replace("em","").replace("%","").replace("vw","").replace("vh","");return parseInt(t,10)}function getScaleFromAspectRatios(e=[],t=[]){const n=l=>Array.isArray(e)&&_.isNumber(e[0])&&_.isNumber(e[1]),r=n(),o=n();QLogger$1.invariant(r,`getScaleFromAspectRatios: originalDimensions sent are not valid. They need to be an array with x,y postions as 0,1 indices. Recieved - ${JSON.stringify(e)}`),QLogger$1.invariant(o,`getScaleFromAspectRatios: originalDimensions sent are not valid. They need to be an array with x,y postions as 0,1 indices. Recieved - ${JSON.stringify(e)}`);const s=t[0]/e[0],a=t[1]/e[1],u=Math.min(s,a);return{scaleX:s,scaleY:a,scale:u}}function getWebsiteLogo(e){let t,n;try{const o=new URL(e);t=o.protocol,n=o.hostname}catch{return""}return`${t}//${n}/favicon.ico`}function scaleDimensionsForABox(e={},t={}){const n=a=>_.isNumber(a.width)&&_.isNumber(a.height);QLogger$1.invariant(n(e),`scaleDimensionsForABox: Dimensions needs to have a number width and height. Recieved - [${e}]`),QLogger$1.invariant(n(e),`scaleDimensionsForABox: Dimensions to scale against needs to have a number width and height. Recieved - [${t}]`);const r=e.width/e.height,o=t.width/t.height;if(r>o)return{width:t.width*e.height/t.height,height:e.height};const s=t.height*e.width/t.width;return{width:e.width,height:s}}function humanizeSeconds(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return`${t>0?`${numberTo2Digit(t)}:`:""}${numberTo2Digit(n)}:${numberTo2Digit(r)}`}function numberTo2Digit(e){return _.isNumber(e)||QLogger$1.log(["Error at numberTo2Digit, Must use number type"],"error"),Math.abs(e)/10<1?e<0?`-0${e}`:`0${e}`:e}function isPrimitiveType(e){return e===null?!0:!(typeof e=="object"||typeof e=="function")}function getFirstValid(e=[]){return _.find(e,t=>t!==void 0)}function addZeroToMinutes(e){return _.toString(e).length===1?`0${e}`:e}function returnSizeJumpArr(e,t=20){const n=_.floor(e/t);return _.times(n,r=>(r+1)*t)}function getBrowserName(){const{userAgent:e}=window.navigator,n=!!!document.documentMode&&!!window.StyleMedia;return e.indexOf("Chrome")!==-1&&!n?"Chrome":e.indexOf("Safari")!==-1&&!n?"Safari":e.indexOf("Firefox")!==-1?"Firefox":e.indexOf("MSIE")!==-1||document.documentMode?"IE":n?"Edge":"Unknown"}function getRandomItemFromArray(e){return e[Math.floor(Math.random()*e.length)]}function getIntentPageCountry(e){return e&&Constants.IntentPageCountries.includes(e)?e.toLowerCase():"us"}const emojiList=["🖕","🍆","🍑","💦","💩","👉👌","🦪","💣","🔫","🗡","🔪","⚔","🚬","💉","💊","♋","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🍶","🍌","🤬"],anyMatchList=["deez nut","deeez nut","fuck","f u c k","f uck","fuc k","fu ck","asshole","bastard","bitch","damn","douche","faggot","pornhub","pornstar","slut","nigga","poop"],exactMatchList=["anal","anus","arrse","arse","ass","asses","assfukka","asswhole","a_s_s","b!tch","b17ch","banged","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","benchod","bhenchod","bi+ch","biatch","bloody","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","booty","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bullshit","bum","butt","butthole","buttmuch","buttplug","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","damn","dicks","dickhead","dildo","dildos","dink","dinks","dirsa","doggin","dogging","donkeyribber","doosh","duche","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f4nny","fack","fak","fag","fagging","faggitt","faggot","faggs","faggy","fagot","fagots","fags","fannyflaps","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","flange","fook","fooker","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fuq","fux","fuxor","f_u_c_k","gangbang","gangbanged","gangbangs","gaysex","goatse","god-dam","god-damned","goddamn","goddamned","gun","hardcoresex","hell","heshe","hitler","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lmfao","lust","lusting","m45terbate","ma5terb8","ma5terbate","masochist","massacre","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mofo","muff","mutha","muthafecker","muther","nipple","nipples","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nobhead","nobjocky","nobjokey","nuts","nutz","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","pawn","pecker","penis","perv","pervert","phonesex","phuck","phuked","phuking","phukked","phukking","phuks","phuq","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","shoot","skank","slut","sluts","smegma","smut","spunk","suck","sucking","sucks","taint","teets","teez","testical","testicle","tit","tits","titt","titties","titty","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx","rape","rapes","rapist","kill","killer","kills","killed","killing","dayum","卐","卍"];function anyMatch(e,t){for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}function exactMatch(e,t){const n=e.split(/[\s\.\-\?\+\(\)\[\]&,_!@#\$%=]+/);for(let r=0;r<n.length;r++)for(let o=0;o<t.length;o++)if(n[r]===t[o])return!0;return!1}function checkEmoji(e){for(let t=0;t<emojiList.length;t++)if(new RegExp(emojiList[t]).test(e))return!0;return!1}function garbledCheck(e,t){return e=e.replace(/[4@]/g,"a"),e=e.replace(/[1!|]/g,"i"),e=e.replace(/[7\+]/g,"t"),e=e.replace(/#/g,"h"),e=e.replace("0","o"),e=e.replace(/[$5]/g,"s"),e=e.replace(/(^|\s+)(.)($|\s+)/g,"$2"),!!(anyMatch(e,anyMatchList)||exactMatch(e,exactMatchList))}function isProfane(e){return e=e.toLowerCase(),e=e.replace(/\s\s+/g," "),e=e.replace(/[\-_]/g," "),e=e.replace(/a+/g,"a"),e=e.replace(/u+/g,"u"),e=e.replace(/h+/g,"h"),e=e.replace(/j+/g,"j"),e=e.replace(/k+/g,"k"),e=e.replace(/q+/g,"q"),e=e.replace(/v+/g,"v"),e=e.replace(/w+/g,"w"),e=e.replace(/x+/g,"x"),e=e.replace(/y+/g,"y"),!!(anyMatch(e,anyMatchList)||exactMatch(e,exactMatchList)||checkEmoji(e)||garbledCheck(e))}const colorCodesForAnswerType={noCorrectAnswer:"#2D70AE",correct:"#00c985",inCorrect:"#EF3C69",timedOut:"#B6B6B6"},colorsForPartialCorrectness={0:"#E63946",1:"#DF7B41",2:"#D8BD4A",3:"#B0D152",4:"#7BCA5A",5:"#62C370"};function calculateScore(e,t,n,r,o,s,a,u,l){if(!t)return{total:0,base:0,timer:0,streak:0};const m=u?calculateStreakBonus(o):0;let y=0;a&&e&&(y=s===Constants.QuestionResponseTypes.ORIGINAL||s===Constants.QuestionResponseTypes.EXTRA_LIFE?Constants.Score.TIMER:Constants.Score.TIMER_WHEN_REDEMPTION);function d(I){I.timer=0,I.streak=0}function f(I){I.base/=2,I.total/=2}function v(I){d(I),f(I)}if(e){const P=Constants.Score.BASE;let O=0,R=1-Math.max(Math.min(r/n,1),0);R=R>.975?1:R,r<n&&a&&(O=Math.floor(R*y/10)*10);const M={total:P+O+m,base:P,timer:O,streak:m};return l&&v(M),M}const A={total:Constants.Score.BASE+y+m,base:Constants.Score.BASE,timer:y,streak:m};return l&&v(A),A}function calculateProvisionalScores({isTimerBonusAllowed:e,questionTime:t,responseTime:n,currentStreak:r,responseType:o,showTimerGameOption:s,isStreakAllowed:a,isRedemptionPass:u}){return{correct:calculateScore(e,!0,t,n,r,o,s,a,u),incorrect:calculateScore(e,!1,t,n,r,o,s,a,u)}}function calculateStreakBonus(e){return e>=Constants.Streak.SECOND.START&&e<=Constants.Streak.SECOND.END?100:e>=Constants.Streak.THIRD.START&&e<=Constants.Streak.THIRD.END?200:e>=Constants.Streak.THIRD.END+1?300:0}function getUpdatedPlayers(e){return _.map(e,t=>({...t,isProfane:isProfane(t.playerId)}))}function getUpdatedTeamLeaderboard(e,t){return _.map(e,n=>{const r=_.find(t,s=>s.teamId===n.teamId);let o="";return r&&r.teamName&&(o=r.teamName),{...n,teamName:o}})}function getPlayerRank(e,t){const n=_.findIndex(e,{playerId:t});return n!==-1?e[n].rank:-1}function getTeamsAfterUpdatingRank(e){const t=_.orderBy(e,["score"],["desc"]);return _.map(t,(n,r)=>({...n,rank:r+1}))}function getNextPossibleMemes(e,t,n,r={},o=""){t&&Object.keys(t).length||(t=getInitialMemeSet());let s={};const a=getSpecialMemeTypes(e,n),u=Constants.MemeTypes;o&&r&&(s=_.pickBy(r,(l,m)=>m!==u.CORRECT&&m!==u.INCORRECT?_.includes(a,m)&&m!==o:m!==o)),!s[u.CORRECT]&&(s[u.CORRECT]=getGeneralMeme(t,e.length,u.CORRECT)),!s[u.INCORRECT]&&(s[u.INCORRECT]=getGeneralMeme(t,e.length,u.INCORRECT));for(let l=0;l<a.length;l++){const m=a[l],y=getSpecialMeme(t,e.length,m);y&&!s[m]&&(s[m]=y)}return{...s}}function selectUpcomingMemeToShow(e,t,n,r=Constants.showSpecialMemes){let o={};const s=Constants.MemeTypes;if(e?(n[s.CORRECT]&&(o=returnMemeObj(n,s.CORRECT)),r&&(n[s.HALFWAY]&&(o=returnMemeObj(n,s.HALFWAY)),n[s.COMEBACK]&&(o=returnMemeObj(n,s.COMEBACK)),n[s.THREE_IN_ROW]&&(o=returnMemeObj(n,s.THREE_IN_ROW)),n[s.SEVEN_IN_ROW]&&(o=returnMemeObj(n,s.SEVEN_IN_ROW)),n[s.TEN_IN_ROW]&&(o=returnMemeObj(n,s.TEN_IN_ROW)),n[s.PERFECT]&&(o=returnMemeObj(n,s.PERFECT)))):(n[s.INCORRECT]&&(o=returnMemeObj(n,s.INCORRECT)),r&&t<Constants.MAX_TIME_FOR_TOO_FAST&&n[s.TOO_FAST]&&(o=returnMemeObj(n,s.TOO_FAST)),n[s.HALFWAY]&&(o=returnMemeObj(n,s.HALFWAY))),o&&o.url)return o;const a=e?Constants.MemeTypes.CORRECT:Constants.MemeTypes.INCORRECT,u=getInitialMemeSet();return{url:u[a][getRandomIntInclusive(u[a].length-1)],type:a,category:Constants.MemeCategories.GENERAL}}function getInitialMemeSet(){return{[Constants.MemeTypes.CORRECT]:["https://cf.quizizz.com/join/img/correct_meme/cm14.jpg","https://cf.quizizz.com/join/img/correct_meme/cm36.jpg","https://cf.quizizz.com/join/img/correct_meme/cm25.jpg","https://cf.quizizz.com/join/img/correct_meme/cm27.jpg","https://cf.quizizz.com/join/img/correct_meme/cm33.jpg","https://cf.quizizz.com/join/img/correct_meme/cm16.jpg"],[Constants.MemeTypes.INCORRECT]:["https://cf.quizizz.com/join/img/wrong_meme/wm8.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm21.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm11.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm9.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm12.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm18.jpg"],[Constants.MemeTypes.COMEBACK]:["https://cf.quizizz.com/img/memes/gifs/3og0ISvp1WKIGVOpEI.mp4"],[Constants.MemeTypes.THREE_IN_ROW]:["https://cf.quizizz.com/img/memes/gifs/l4FGDIytHEQFX43ao.mp4"],[Constants.MemeTypes.SEVEN_IN_ROW]:["https://cf.quizizz.com/img/memes/gifs/xUA7bcdYN2okbvWzzW.mp4"],[Constants.MemeTypes.TEN_IN_ROW]:["https://cf.quizizz.com/img/memes/gifs/3og0IzFvP9mjpeCExi.mp4"],[Constants.MemeTypes.HALFWAY]:["https://cf.quizizz.com/img/memes/gifs/xUPGcAnGNP5R1sJjMs.mp4"],[Constants.MemeTypes.PERFECT]:["https://cf.quizizz.com/img/memes/gifs/3o7btRyTcmivwZBWrC.mp4"],[Constants.MemeTypes.TOO_FAST]:["https://cf.quizizz.com/img/memes/gifs/3og0IK9pYiL4cDpAQM.mp4"]}}function getInitialNextPossibleMemes(){const e=getInitialMemeSet(),t={};return t[Constants.MemeTypes.CORRECT]=e[Constants.MemeTypes.CORRECT][0],t[Constants.MemeTypes.INCORRECT]=e[Constants.MemeTypes.INCORRECT][0],t[Constants.MemeTypes.TOO_FAST]=e[Constants.MemeTypes.TOO_FAST][0],t}function isValidRoomCode(e){if(!_.isString(e)||isEmpty(e)||isEmpty(e.trim())||!_.includes(Constants.ALLOWED_LENGTHS_OF_GAME_CODE,e.length))return!1;for(let t=0;t<e.length;t++)if(_.isNaN(parseInt(e[t],10)))return!1;return!0}function areQuestionTypesSupported(e){const t=Constants.supportedQuestionTypes;if(!Array.isArray(e))return!0;for(let n=0;n<e.length;n++)if(!(e[n].type in t&&t[e[n].type]>=e[n].version))return!1;return!0}function prepareQuestions(e,{dataIsStrigified:t=!0,forGameBeingPlayed:n=!1,slidesFlowControlType:r=Constants.SlidesFlowControlTypes.PARTIAL}={}){var a,u,l;const o={},s=Object.keys(e);for(let m=0;m<s.length;m++){const y=s[m];let d;const f=t?JSON.parse(e[y]):e[y],v=_.get(f,"structure.marks.correct",-1)<0?{correct:isQuestionForPoll(f)||isSlideForContent(f)?0:1,incorrect:0}:f.structure.marks;if(isQuestionFormatNew(f,2)){const A=n&&r!==Constants.SlidesFlowControlTypes.NONE?Constants.SlideStates.ACTIVE:f.state;let I=f.structure.answer;if(_.isNil(I))switch(f.type){case Constants.QuestionTypes.MCQ:I=-1;break;default:I=[]}d=Object.assign({},f.structure.query,{id:f._id,options:f.structure.options||[],targets:f.structure.targets||[],matches:f.structure.matches||[],answer:I,elements:f.structure.elements||[],explain:f.structure.explain||{},order:f.structure.order||"",time:f.time,type:f.type,state:A,ver:f.ver,responses:[],marks:v,settings:_.get(f,"structure.settings",getDefaultQuestionSettings(f)),graphs:((a=f==null?void 0:f.structure)==null?void 0:a.graphs)||[],hints:((u=f==null?void 0:f.structure)==null?void 0:u.hints)||[],questionDisplayVariant:(l=f.structure.settings)==null?void 0:l.questionDisplayVariant}),f.startedAt&&(d.startedAt=f.startedAt),d.metadata={isTimerPaused:_.get(f,"metadata.isTimerPaused",!1)},f.type===Constants.QuestionTypes.CONTENT_SLIDE&&(d.structure={},d.structure.bullets=f.structure.bullets,d.structure.kind=f.structure.kind,d.structure.para=f.structure.para,d.structure.media=f.structure.media,d.structure.title=f.structure.title,d.structure.subtitle=f.structure.subtitle,d.structure.theme=f.structure.theme,d.metadata.currentBulletIndex=_.get(f,"metadata.currentBulletIndex",-1)),f.type===Constants.QuestionTypes.CONTENT_SLIDE_V2&&(d.structure={},d.structure.elements=f.structure.elements||[],d.structure.theme=f.structure.theme)}else{d={id:f._id,text:f.questionText,type:f.type,ver:2,time:f.time,responses:[],answer:f.answerIndex,isOldFormat:!0,marks:v},f.media&&f.media.url&&(d.media=[{type:f.media.type||"image",url:f.media.url,meta:{}}]);const A=[];for(let I=0;I<f.questionOptions.length;I++)A.push({type:"text",text:f.questionOptions[I]});d.options=A}o[f._id]=d}return o}function isValidImageOption(e){return!!(e.type==="image"&&e.media&&e.media[0]&&e.media[0].url&&e.media[0].url.trim()!=="")}function isValidTextOption(e,t=!1){return!!(e.type==="text"&&(t||e.text&&e.text.trim()!==""||e.hasMath))}function isCurrentTargetMatchedWithRightOption({optionsSelected:e,actualAnswer:t,currentBlankId:n}){var s,a;const r=(s=t.find(u=>u.targetId===n))==null?void 0:s.optionId[0],o=(a=e.find(u=>u.targetId===n))==null?void 0:a.optionId[0];return r===o}function getAllQuestionMediaOfType(e,t){if(!_.isPlainObject(e))return[];const n=e.media||_.get(e,"structure.media")||_.get(e,"structure.query.media")||_.get(e,"query.media");return _.filter(n,r=>r.type===t&&(r.url!==""||r.meta.src==="google-drive"))}function doesQuestionHaveValidMedia(e){return doesQuestionHaveValidImage(e)||doesQuestionHaveValidAudio(e)||doesQuestionHaveValidVideo(e)}function doesQuestionHaveValidImage(e){return!isEmpty(getAllQuestionMediaOfType(e,"image"))}function doesQuestionHaveValidAudio(e){return!isEmpty(getAllQuestionMediaOfType(e,"audio"))}function doesQuestionHaveValidVideo(e){return!isEmpty(getAllQuestionMediaOfType(e,"video"))}function getQuestionVideo(e,t=!1,n="question"){const r=getMediaObj(e,n),o=getQuestionVideoId(e,n),s=getTimingsFromMediaObject(r),a=getQuestionElementVideoSource(e,n),u=r.video;if(a==="google-drive"&&u)return`https://drive.google.com/uc?id=${u}`;if(o==="")return"";let l=`https://www.youtube.com/embed/${o}?enablejsapi=1`;return s.start>=0&&s.end>=0&&(l+=`&start=${Math.floor(_.toNumber(s.start))}&end=${Math.floor(_.toNumber(s.end))}`),t&&(l+="&autoplay=1"),l}function getQuestionGoogleDriveFileId(e,t="question"){const n=getMediaObj(e,t);return _.get(n,"video",null)}function getQuestionVideoId(e,t="question"){const n=getMediaObj(e,t);let r=_.get(n,"meta.videoId","");if(isEmpty(r)){const o=_.get(n,"url","");if(!isEmpty(o))if(r=o.split("v=")[1],r){const s=r.indexOf("&");s!==-1&&(r=r.substring(0,s))}else r=o.split("/"),r=r[r.length-1]}return r}function getQuestionElementVideoId(e,t="element"){return getQuestionVideoId(e,t)}function getAllOptionMediaOfType(e,t){if(!_.isPlainObject(e))return[];const n=e.media;return _.filter(n,r=>r.type===t&&r.url!=="")}function doesOptionHaveValidImage(e){return!isEmpty(getAllOptionMediaOfType(e,"image"))}function getMediaObj(e,t){let n={};switch(t){case"question":n=_.get(e,"media[0]",{});break;case"explain":n=_.get(e,"explain.media[0]",{});break;case"slide":n=_.get(e,"structure.media[0]",{});break;case"element":n=_.get(e,"data.media",{});break}return n}function getTimingsFromMediaObject(e={}){const t=_.isPlainObject(e.meta)?e.meta:{},n=getTime(t,"startTime","start"),r=getTime(t,"endTime","end");return{start:_.isNaN(n)?-1:Math.floor(n),end:_.isNaN(r)?-1:Math.floor(r)}}function getTime(e,t,n){return _.has(e,t)?_.toNumber(e[t]):_.has(e,n)?_.toNumber(e[n]):-1}function getQuestionElementVideoTimes(e,t="question"){const n=getMediaObj(e,t);return getTimingsFromMediaObject(n)}function getQuestionElementVideoSource(e,t="question"){const n=getMediaObj(e,t);return _.get(n,"meta.src",null)}function getQuesIdsForResponseStatus(e,t){return _.reduce(e,(n,r,o)=>{const s=[];for(let a=0;a<r.length;a++)_.includes(t,r[a])&&s.push(a);return s.length>0&&(n[o]=s),n},{})}function isScreenForInGame(e){return PageNames.matches(e,PageNames.List.IN_GAME)}function isAnAssignedGame(e){return e===Constants.GameType.ASYNC||e===Constants.GameType.LIVE||e===Constants.GameMode.TEACHER_PACED}function getSkippedQuestions(e,t){let n=_.get(t,"playerMetadata.skipped",{});return isEmpty(n)&&(n=_.get(e,"metadata.skipped",{})),isEmpty(n)?[]:_.keys(n)}function getExtraLifeQuestions(e,t){let n=_.get(t,"playerMetadata.extraLife",[]);return isEmpty(n)&&(n=_.get(e,"metadata.extraLife",[])),n}function getExtraLifeInProgressQuestion(e,t){const n=getExtraLifeQuestions(e,t);return isEmpty(n)?{}:_.find(n,r=>r.status===Constants.ExtraLifeStatus.IN_PROGRESS)||{}}function isExtraLifeInProgress({extraLifeArray:e,currentId:t}){const n=_.find(e,o=>o.questionId===t);return isEmpty(n)?!1:n.status===Constants.ExtraLifeStatus.IN_PROGRESS}function getGameType(e){return e===Constants.GameMode.TEAM||e===Constants.GameMode.TEST||e===Constants.GameMode.CHALLENGE||e===Constants.GameMode.TEACHER_PACED||e===Constants.ServerOnlyGameTypes.LIVE_PRESENTATION||e===Constants.GameMode.MYSTIC_PEAK?Constants.GameType.LIVE:e===Constants.ServerOnlyGameTypes.ASYNC_PRESENTATION?Constants.GameType.ASYNC:e===Constants.ServerOnlyGameTypes.SOLO_PRESENTATION||e===Constants.ServerOnlyGameTypes.FLASHCARD?Constants.GameType.SOLO:e}function getGameMode(e){return e===Constants.GameMode.TEAM?Constants.GameMode.TEAM:e===Constants.GameMode.TEST?Constants.GameMode.TEST:e===Constants.GameMode.CHALLENGE?Constants.GameMode.CHALLENGE:e===Constants.GameMode.TEACHER_PACED?Constants.GameMode.TEACHER_PACED:e===Constants.ServerOnlyGameTypes.FLASHCARD?Constants.GameMode.FLASHCARD:e===Constants.ServerOnlyGameTypes.LIVE_PRESENTATION||e===Constants.ServerOnlyGameTypes.ASYNC_PRESENTATION||e===Constants.ServerOnlyGameTypes.SOLO_PRESENTATION?Constants.GameMode.PRESENTATION:e===Constants.GameMode.MYSTIC_PEAK?Constants.GameMode.MYSTIC_PEAK:Constants.GameMode.NORMAL}function convertToServerGameType(e,t){if(t===Constants.GameMode.PRESENTATION){if(e===Constants.GameType.LIVE)return Constants.ServerOnlyGameTypes.LIVE_PRESENTATION;if(e===Constants.GameType.ASYNC)return Constants.ServerOnlyGameTypes.ASYNC_PRESENTATION;if(e===Constants.GameType.SOLO)return Constants.ServerOnlyGameTypes.SOLO_PRESENTATION}return t===Constants.GameMode.NORMAL||t===Constants.GameMode.MASTERY_MODE?e:e===Constants.GameType.SOLO&&t===Constants.GameMode.FLASHCARD?Constants.ServerOnlyGameTypes.FLASHCARD:t}function convertToServerGameTypeWrapperForMastery(e){return e?(t,n)=>convertToServerGameType(t,Constants.GameMode.MASTERY_MODE):convertToServerGameType}function getSlidesFlowControlType(e,t){return t===Constants.GameMode.PRESENTATION&&(e===Constants.GameType.SOLO||e===Constants.GameType.ASYNC)?Constants.SlidesFlowControlTypes.FULL:t===Constants.GameMode.PRESENTATION&&e===Constants.GameType.LIVE||t===Constants.GameMode.TEACHER_PACED?Constants.SlidesFlowControlTypes.NONE:Constants.SlidesFlowControlTypes.PARTIAL}function isPresentationGame({gameMode:e,gameType:t}){return e===Constants.GameMode.PRESENTATION}function getDateGameWillExpireOn({createdAt:e,expiry:t}){const n=_.toNumber(e)+1e3*_.toNumber(t);return{willExpireAfter:n,willExpireOn:new Date(n)}}function calculateAdjustmentForTeamPlayer(e,t=1,n=1){return e*(t/n-1)}function calculateProvisionalTeamAdjustments({provisionalScores:e,numPlayersInLargestTeam:t,numPlayersInCurrentTeam:n}){return{correct:calculateAdjustmentForTeamPlayer(e.correct.total,t,n),incorrect:calculateAdjustmentForTeamPlayer(e.incorrect.total,t,n)}}function doesQuestionHaveCorrectAnswer(e={}){return[Constants.QuestionTypes.OPEN,Constants.QuestionTypes.DRAW,Constants.QuestionTypes.AUDIO,Constants.QuestionTypes.VIDEO].includes(e.type)?!1:_.has(e,"settings.hasCorrectAnswer")?e.settings.hasCorrectAnswer:!0}function isQuestionUngraded(e={}){return _.get(e,"marks.correct",-1)===0}function getQuesPositionFromAttemptOrder(e,t,n,r){const o=[...e,n,...t];let s=-1;for(let a=0;a<o.length;a++)if(o[a]===r.id&&(s+=1,s===r.attemptIndex))return a;return-1}function getIdForQuestionSound(e,t="question"){return QLogger$1.invariant(!isEmpty(e),`Invalid questionId(${e}) provided to getIdForQuestionSound`),`${t}_${e}`}function getUniqueIdForQuestionAudio(e){const t=[];return!isEmpty(e.media)&&e.media[0].type==="audio"&&t.push(getIdForQuestionSound(e.id)),e.explain&&!isEmpty(e.explain.media)&&e.explain.media[0].type==="audio"&&t.push(getIdForQuestionSound(e.id,"explain")),t}function canShowReplayLiveGameModal(e){const t=PageNames.isExactly(e,PageNames.List.IN_GAME.SUMMARY),n=PageNames.isExactly(e,PageNames.List.IN_GAME.GAME_OVER);return t||n||!isScreenForInGame(e)}function getPlayerAccuracyTier(e){return e===100?Constants.PLAYER_ACCURACY_TIERS.PERFECT:e>=75?Constants.PLAYER_ACCURACY_TIERS.GOOD:e>=40?Constants.PLAYER_ACCURACY_TIERS.AVERAGE:Constants.PLAYER_ACCURACY_TIERS.POOR}function getGameTypeDisplayNameAndIcon({gameType:e,gameMode:t}){if(e===Constants.GameType.LIVE)switch(t){case Constants.GameMode.CHALLENGE:return{icon:"icon-fas-user-friends",title:"Challenge game"};case Constants.GameMode.TEAM:return{icon:"icon-fas-users",title:"Team mode"};case Constants.GameMode.TEST:return{icon:"icon-fas-users",title:"Test mode"};default:return{icon:"icon-fas-users",title:"Live"}}else{if(e===Constants.GameType.SOLO)return{icon:"icon-fas-user",title:t===Constants.GameMode.FLASHCARD?"Flashcards":"Solo review"};if(e===Constants.GameType.ASYNC)return{icon:"icon-fas-clock",title:"Assignment"}}return{icon:"",title:""}}function doesQuestionRequireASubmitButton(e){switch(e.type){case Constants.QuestionTypes.MSQ:case Constants.QuestionTypes.OPEN:case Constants.QuestionTypes.BLANK:case Constants.QuestionTypes.DRAW:case Constants.QuestionTypes.VIDEO:case Constants.QuestionTypes.AUDIO:case Constants.QuestionTypes.MATCH:case Constants.QuestionTypes.REORDER:case Constants.QuestionTypes.DRAGNDROP:case Constants.QuestionTypes.DROPDOWN:case Constants.QuestionTypes.EQUATION:case Constants.QuestionTypes.GRAPHING:case Constants.QuestionTypes.DND_IMAGE:case Constants.QuestionTypes.HOTSPOT:case Constants.QuestionTypes.CLASSIFICATION:return!0;case Constants.QuestionTypes.MCQ:default:return!1}}function getQuizType({type:e,traits:t}){const n=_.isPlainObject(t)?t:{};let r=e;return isEmpty(e)&&(r=(_.isNumber(n.totalSlides)?n.totalSlides:0)>=1?Constants.QuizTypes.PRESENTATION:Constants.QuizTypes.QUIZ),r}function _sanitizeText(e){if(!e)return"";e=e.split("<br>").filter(Boolean).join("<br>"),e=e.split("&nbsp;").filter(Boolean).join(" ");const t=["script","link"],n=/<[^\s][^>]+>/gi;let r="",o=0,s;do if(s=n.exec(e),s){const a=s[0].match(/<\/?([^\s>]+)/)[1];t.indexOf(a)!==-1&&(r+=`${e.substring(o,s.index)} `,o=s.index+s[0].length)}while(s);return r+=`${e.substring(o,e.length)} `,e=r,e=e.split(" ").filter(Boolean).join(" "),e}function evaluatePlayerResponse({response:e},t){if(!doesQuestionHaveCorrectAnswer(t))return!0;if(t.type===Constants.QuestionTypes.BLANK){const s=_.trim(_.toLower(e)),a=_.map(t.options,u=>_.trim(_.toLower(_sanitizeText(u.text))));return _.includes(a,s)}const r=Array.isArray(e)?e:[e],o=Array.isArray(t.answer)?t.answer:[t.answer];return _.isEqual(_.sortBy(r),_.sortBy(o))}function getGameOptionsForFlashcards(){return{memes:!1,jumble:!1,jumbleAnswers:!1,redemption:Constants.GameOptionsValues.Redemption.NO,studentLeaderboard:Constants.GameOptionsValues.StudentLeaderboard.NO,powerups:Constants.GameOptionsValues.Powerups.NO,timer:Constants.GameOptionsValues.Timer.OFF}}function isSlideForContent(e){const t=e.type||e.questionType;return[Constants.QuestionTypes.CONTENT_SLIDE,Constants.QuestionTypes.CONTENT_SLIDE_V2].includes(t)}function isSlideForQuestion(e){const t=e.type||e.questionType;return[Constants.QuestionTypes.MCQ,Constants.QuestionTypes.MSQ,Constants.QuestionTypes.BLANK,Constants.QuestionTypes.OPEN,Constants.QuestionTypes.DRAW,Constants.QuestionTypes.AUDIO,Constants.QuestionTypes.VIDEO,Constants.QuestionTypes.MATCH,Constants.QuestionTypes.DRAGNDROP,Constants.QuestionTypes.DROPDOWN,Constants.QuestionTypes.EQUATION,Constants.QuestionTypes.REORDER,Constants.QuestionTypes.GRAPHING,Constants.QuestionTypes.DND_IMAGE,Constants.QuestionTypes.HOTSPOT,Constants.QuestionTypes.CLASSIFICATION].includes(t)}function isQuestionForPoll(e){return _.includes([Constants.QuestionTypes.MCQ,Constants.QuestionTypes.MSQ],e.type)&&_.get(e,"structure.settings.hasCorrectAnswer")===!1}function isQuestionWithoutStructForPoll(e){return _.includes([Constants.QuestionTypes.MCQ,Constants.QuestionTypes.MSQ],e.type)&&_.get(e,"settings.hasCorrectAnswer")===!1}function isOptionsBasedQuestion(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&(_.includes([Constants.QuestionTypes.MCQ,Constants.QuestionTypes.MSQ],t)||isQuestionForPoll(e))}function isTypingBasedQuestion(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.OPEN,Constants.QuestionTypes.BLANK],t)}function isMediaBasedQuestion(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.AUDIO,Constants.QuestionTypes.VIDEO],t)}function isDrawingBasedQuestion(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.DRAW],t)}function isMatchOrReorderQuestion(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.MATCH,Constants.QuestionTypes.REORDER],t)}function isQuestionForReOrder(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.REORDER],t)}function isQuestionForMatch(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.MATCH],t)}function isQuestionForAudio(e){const t=e.type||e.questionType;return isMediaBasedQuestion(e)&&_.includes([Constants.QuestionTypes.AUDIO],t)}function isQuestionForVideo(e){const t=e.type||e.questionType;return isMediaBasedQuestion(e)&&_.includes([Constants.QuestionTypes.VIDEO],t)}function isQuestionForDragAndDropOrDropdown(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.DRAGNDROP,Constants.QuestionTypes.DROPDOWN],t)}function isQuestionForEquation(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.EQUATION],t)}function isQuestionForGraphing(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.GRAPHING],t)}function isQuestionForDndImage(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.DND_IMAGE],t)}function isQuestionForHotspot(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.HOTSPOT],t)}function isQuestionForClassification(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.CLASSIFICATION],t)}function isQuestionForDropdown(e){const t=e.type||e.questionType;return isSlideForQuestion(e)&&_.includes([Constants.QuestionTypes.DROPDOWN],t)}function didQuestionVirtuallyTimedOut(e){return[Constants.QuestionResponseStates.TIMED_OUT,Constants.QuestionResponseStates.ATTEMPTED_SILENTLY].includes(e)}function isResponse2Point0(e){return e.version===Constants.ResponseVersion.TWO_POINT_ZERO}function getMediaUrlData(e){return{processedUrl:_.get(e,"media[0].url",""),unprocessedUrl:_.get(e,"media[0].meta.unprocessed",""),mimeType:_.get(e,"media[0].meta.mimeType","")}}function canShowVideoWarningMessage({currentQuizData:e,gameData:t}){const n=isEmpty(e.questionVersions)?t.version:e.questionVersions;return isIOSDevice()&&(n==null?void 0:n.findIndex(r=>r.type===Constants.QuestionTypes.VIDEO))>-1}function redirectToApp({quizId:e,roomCode:t,redirectTo:n="store"}){let r="https://apps.apple.com/in/app/quizizz-play-to-learn/id1160249042";n==="app"&&(isEmpty(t)?isEmpty(e)?r="quizizz://redirectapp":r=`quizizz://redirectapp&url=quizizz.com/join/quiz/${e}/start`:r=`quizizz://redirectapp&url=quizizz.com/join?gc=${t}`),window.location=r}function prepareReadAloudQuestion(e){const t=[];if(_.get(e,"media[0].url")&&t.push({text:`Question contains an ${_.get(e,"media[0].type")}`,id:e.id,type:"question"}),e.text)return t.push({text:`Question: ${getSanitizedTextForTTS(e.text)}`,id:e.id,type:"question"}),t;const r=_.get(e,"media[0].meta.text");return r?(t.push({text:`Question: ${getSanitizedTextForTTS(r)}`,id:e.id,type:"question"}),t):(t.push({text:"Question is an image",id:e.id,type:"question"}),t)}function prepareReadAloudOptions(e){const t=[],n=e.type===Constants.QuestionTypes.OPEN,r=e.type===Constants.QuestionTypes.BLANK;return n||r?[]:(_.forEach(e.options,(o,s)=>{if(o.type==="text"){t.push({text:`Option  ${s+1}: ${getSanitizedTextForTTS(o.text)}`,id:o.actualIndex,type:"option"});return}const a=_.get(o,"media[0].meta.text");if(a){t.push({text:`Option ${s+1}: ${getSanitizedTextForTTS(a)}`,id:o.actualIndex,type:"option"});return}t.push({text:`Option ${s+1} is an image`,id:o.actualIndex,type:"option"})}),t)}function getColorForPartialCorrectness(e){const{correctOptions:t,totalOptions:n}=getTotalCorrectSelections(e);return colorForPartialCorrectness(t,n)}function colorForPartialCorrectness(e,t){let n=0;const r=Object.keys(colorsForPartialCorrectness).length-1;return e===t||e>t||t>r?n=r:n=e,colorsForPartialCorrectness[n]}function getQuestionResponseState(e,t){let n=Constants.QuestionResponseStates.ATTEMPTED;return e&&(t?n=Constants.QuestionResponseStates.DRAFT:n=Constants.QuestionResponseStates.SEEN),n}function getAnswerLaterQuestions(e,t=!1){const n=e.filter(({state:r})=>GameConstants.ANSWER_LATER_RESPONSE_STATES.includes(r)).map(({questionId:r})=>r);return t&&e.forEach(r=>{r.state==="attempted"&&n.indexOf(r.questionId)>-1&&n.splice(n.indexOf(r.questionId),1)}),n}function shouldUserSeeReviewScreen(e,t,n,r){const o=n.filter(s=>s.attempt===0&&GameConstants.REVIEW_AND_SUBMIT_RESPONSE_STATES.includes(s.state));return r===o.length}function getCookedAnswerResponse({finalAnswer:e,answerResponseType:t="",answerResponseDescriptor:n="",meta:r,customAnswer:o,customAnswerResponseType:s="",customAnswerResponseDescriptor:a=""}){const u=[],l={type:t,value:e,descriptor:n};return r&&(l.meta=r),u.push(l),o&&u.push({type:s,value:o,descriptor:a}),u}function getAnswerValueFromResponse(e){var t;return isEmpty(e.answer)?[]:((t=e==null?void 0:e.answer[0])==null?void 0:t.value)||[]}function getGeneralMeme(e,t,n){return e[n]?e[n][t%e[n].length]:""}function getSpecialMeme(e,t,n){return e[n]?e[n][t%e[n].length]:""}function getSpecialMemeTypes(e,t){const n=[Constants.MemeTypes.TOO_FAST];if(t>=20&&e.length===Math.ceil(t/2)-1&&n.push(Constants.MemeTypes.HALFWAY),e.length)if(e[e.length-1])switch(calculateCurrentStreak(!0,e)){case t-1:n.push(Constants.MemeTypes.PERFECT);break;case 2:n.push(Constants.MemeTypes.THREE_IN_ROW);break;case 6:n.push(Constants.MemeTypes.SEVEN_IN_ROW);break;case 9:n.push(Constants.MemeTypes.TEN_IN_ROW);break}else calculateCurrentStreak(!1,e)>=3&&n.push(Constants.MemeTypes.COMEBACK);return n}function calculateCurrentStreak(e,t){let n=0;for(let r=t.length-1;r>=0;r--)if(t[r]===e)n+=1;else return n;return n}function getRandomIntInclusive(e,t=0){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function returnMemeObj(e,t){return{url:e[t],type:t,category:t===Constants.MemeTypes.CORRECT||t===Constants.MemeTypes.INCORRECT?Constants.MemeCategories.GENERAL:Constants.MemeCategories.SPECIAL}}function isQuestionFormatNew(e,t=2){const n=_.get(e,"ver");return _.isNumber(n)?n>=t:!0}function getDefaultQuestionSettings(e={}){const t=e.type||Constants.QuestionTypes.MCQ,n={hasCorrectAnswer:!0};return t===Constants.QuestionTypes.BLANK&&(n.fibDataType=Constants.TypedQuestionResponseTypes.STRING,n.questionDisplayVariant=Constants.DisplayVariantNames[Constants.QuestionTypes.BLANK].SINGLE_BLANK),t===Constants.QuestionTypes.EQUATION&&(n.equationDataType=Constants.TypedQuestionResponseTypes.STRING),n}function getTotalCorrectSelections(e){const t={totalOptions:e.length,correctOptions:0};return e.forEach(({isRightChoice:n})=>{n&&(t.correctOptions+=1)}),t}function isCorrectAttempt(e){return e&&e.state===Constants.QuestionResponseStates.ATTEMPTED&&e.result===Constants.QuestionResultTypes.CORRECT}function getIncorrectAttempts(e,t=new Set){const n=new Set;return e.forEach(r=>{const{questionId:o}=r;!isCorrectAttempt(r)&&!t.has(o)&&n.add(o)}),n}function getCorrectAttempts(e){const t=new Set;return e.forEach(n=>{isCorrectAttempt(n)&&t.add(n.questionId)}),t}function allowAnsweringAfterIncorrectAttempt({gameType:e,gameMode:t,isMasteryMode:n}){return!!(e===Constants.GameType.ASYNC&&n||isMysticPeakGame(t,e))}function isMysticPeakGame(e,t){return t===Constants.GameType.LIVE&&e===Constants.GameMode.MYSTIC_PEAK}function isFirstAttemptAccuracySameAsFinalAccuracy(e){const t=e.firstAttemptAccuracy,n=e.accuracy;return t===n}function getUngradedCountInAttemptedQuestions(e,t){return t.reduce((n,r)=>{if(r.state===Constants.QuestionResponseStates.TIMED_OUT)return n;const o=e[r.questionId];return(isSlideForContent(o)||isQuestionWithoutStructForPoll(o)||isQuestionUngraded(o))&&(n+=1),n},0)}function getLastAttemptResponseForQuestion(e={},t){const n=e[t],r=n.length-1>0?n.length-1:0;return n[r]||{}}function calculateProvisionalScoreForMysticPeak({attemptNo:e=0,isPathFinder:t=!1,pathFinderType:n=GameModeConfigs[Constants.GameMode.MYSTIC_PEAK].pathFinderTypes.SAFE}){const{base:r,attemptBonus:o,scoreConfig:s}=GameModeConfigs[Constants.GameMode.MYSTIC_PEAK].Score,a=o[e]||0,u=t&&e===0,l=r+a,m=u?s[n.toLowerCase()]:s.base,{correctMultiplier:y,incorrectMultiplier:d}=m,f=l*y,v=l*d;return{correct:{total:f,base:f,timer:0,streak:0,powerups:[]},incorrect:{total:v,base:v,time:0,streak:0,powerups:[]}}}function updateMysticPeakRemainingOrder({mysticPeakLevelMap:e,totalQuestionsInQuiz:t,totalCorrect:n,remainingOrder:r,currentId:o}){let s;for(s=0;s<e.length&&!(e[s]>n);s++);const a=s===e.length?t-n:e[s]-n,u=[...r];return u.splice(a-1,0,o),u}function getRandomArbitrary({min:e=0,max:t,shouldFloor:n=!1}){const r=Math.random()*(t-e)+e;return n?Math.floor(r):r}function updateRemainingOrder({remainingOrder:e,currentId:t}){const n=getRandomArbitrary({min:4,max:8,shouldFloor:!0}),r=[...e];if(n<=e.length-1){const o=getRandomArbitrary({min:n,max:r.length-1,shouldFloor:!0});r.splice(o,0,t)}else r.push(t);return r}function canMarkGameOverForMasteryMode$1({remainingOrder:e,hasReachedMastery:t}){return t&&e.length===0}function getAttemptSuperScript(e){return e===2?"nd ":e===3?"rd ":"th "}function setPositionForPassAnimation(){const e=document.querySelector("#screen-game");if(e){const{innerHeight:t,innerWidth:n}=window;e.style.setProperty("--skip-x",`${n-16}px`),e.style.setProperty("--skip-y",`-${t}px`)}}class CurrentGameStats{init(t){this.store=t}getStats(t={}){const{getters:n,state:r}=this.store,o=r.game.player.accuracy,s=r.game.player.totalCorrect,a=r.game.player.score,u=r.game.player.marks;let l=r.game.data.totalPossibleMarks;const m=r.game.data.gameType,y=r.game.data.gameOptions,d=_.isNumber(y.questionsPerAttempt)&&y.questionsPerAttempt>=1;let f=r.game.player.currentStreak,v=r.game.player.longestStreak;const A=r.game.questions.list,I=n.replacedByRedemptionOrderedResponses.filter(P=>!GameConstants.ANSWER_LATER_RESPONSE_STATES.includes(P.state));return t.isLastResponseAccounted===!1&&(f+=t.wasLastAttemptCorrect===!0?1:0,v=f>v?f:v),d&&(l=r.game.player.totalPossibleMarks),CurrentGameStats.calculateGameStats(n.allOrderedResponses,I,n.totalInteractiveSlidesInGame,n.totalQuestionsInGame,f,v,o,s,a,u,A,l,m)}static calculateGameStats(t,n,r,o,s=0,a=0,u=-1,l=-1,m=-1,y=-1,d={},f,v){const A={correct:0,incorrect:0,ungraded:{correct:0,incorrect:0,timedOut:0,unattempted:r-n.length},unAttempted:r-n.length,avgTime:0,totalTimeTaken:0,totalScored:0,accuracy:0,currentStreak:s,longestStreak:a,timedOut:0,isGameUngraded:!1};let I=!0,P=0;if(_.forEach(Object.keys(d),R=>{d[R].marks||(!isQuestionWithoutStructForPoll(d[R])&&!isSlideForContent(d[R])?d[R].marks={correct:1,incorrect:0}:d[R].marks={correct:0,incorrect:0})}),_.forEach(n,(R,M)=>{_.has(R,"isCorrect")||(I=!1),I&&(R.isCorrect?(P+=R.marks||0,A.correct+=1,A.ungraded.correct+=d[R.questionId].marks.correct===0?1:0):R.state===Constants.QuestionResponseStates.TIMED_OUT?A.ungraded.timedOut+=d[R.questionId].marks.correct===0?1:0:(A.incorrect+=1,A.ungraded.incorrect+=d[R.questionId].marks.correct===0?1:0)),A.totalScored+=R.score||0}),_.forEach(t,(R,M)=>{A.totalTimeTaken+=R.timeTaken/1e3,R.state===Constants.QuestionResponseStates.TIMED_OUT&&(A.timedOut+=1)}),!I){const R=getUngradedCountInAttemptedQuestions(d,n);A.correct=l,A.incorrect=o-A.correct-(A.unAttempted+A.timedOut),A.ungraded.correct=R}if(_.isNumber(m)&&m>=0&&(A.totalScored=_.round(m)),A.totalTimeTaken=_.round(A.totalTimeTaken,1),I?f>0?A.accuracy=Math.round(P*100/f):f===0?A.accuracy=Math.round(n.length*100/r):A.accuracy=Math.round(A.correct*100/r):A.accuracy=u,r-A.unAttempted>0){const R=A.totalTimeTaken/(r-A.unAttempted);R>10?A.avgTime=_.round(R,1):A.avgTime=_.round(R)}const O=_.filter(Object.keys(d),R=>d[R].marks.correct>0).length>0;return A.isGameUngraded=!O,A}}const CurrentGameStats$1=new CurrentGameStats;class ActivatePowerupSideEffects{init(t){this.getters=t.getters,this.getState=t.getState,this.dispatch=t.dispatch}resetAndFreezeTimerBar(){const n=this.getState().game.questions.currentId,r=this.getters.currentQuestionCurrentAttemptIndex;this.dispatch("pushTimerEventForQuestion",{questionId:n,attempt:r,eventType:Constants.QuestionTimerEventsTypes.RESET}),this.dispatch("pushTimerEventForQuestion",{questionId:n,attempt:r,eventType:Constants.QuestionTimerEventsTypes.FREEZE})}}const ActivatePowerupSideEffects$1=new ActivatePowerupSideEffects;class MarketingCampaigns{constructor(){this.campaignsList=[]}init(){this.campaignsList=Array.isArray(window.campaigns)?window.campaigns:[]}getAll(){return this.campaignsList}}const MarketingCampaigns$1=new MarketingCampaigns;function getEventsInBuffer(e){const t=e==="main"?"QuizizzAnalyticsBucket":"QuizizzAnalyticsBucketTemp";let n=[];if(window.localStorage){const r=JSON.parse(window.localStorage.getItem(t));Array.isArray(r)?n=r:QLogger$1.error(`Error at event logger getEventsInBuffer: Data for bucket(${t}) is not an Array`,r)}return n}function putEventsInBuffer(e,t=[],n=!1){const r=e==="main"?"QuizizzAnalyticsBucket":"QuizizzAnalyticsBucketTemp";try{if(n)window.localStorage&&window.localStorage.setItem(r,JSON.stringify(t));else{let o=getEventsInBuffer(e);o=_.concat(o,t),window.localStorage&&window.localStorage.setItem(r,JSON.stringify(o))}}catch(o){QLogger$1.error("Error at event logger putEventsInBuffer",o)}}function getLoggerInitDetails(){return{sessionId:Cookie().get("quizizz_uid"),modelDetails:{expSlot:Cookie().get("QUIZIZZ_EXP_SLOT"),expName:Cookie().get("QUIZIZZ_EXP_NAME"),platform:"web"}}}const Defaults={id:"",monster:0,name:"",uid:"",mongoId:"",rank:-1,score:0,scoreTrail:[],accuracy:"",marks:0,totalCorrect:0,totalAttempt:0,totalResponses:0,currentStreak:0,previousStreak:0,longestStreak:0,maximumStreak:0,createdAt:new Date,startedAt:new Date,lastPlayedAt:new Date,isAllowed:!0,isOver:!1,isUnderage:!1,isProfane:!1,deleted:!1,currentGameAttempts:[],extraLife:[],assignment:{},attempts:[],experiment:"",locale:"",origin:"web",metadata:{},playerMetadata:{},powerupEffects:[],powerups:[]};function Player(e){return _.defaultsDeep({...e,id:getFirstValid([e.id,e.playerId,Defaults.id]),monster:getFirstValid([e.monster,e.monsterId,Defaults.monster]),mongoId:getFirstValid([e.mongoId,e.userId,Defaults.mongoId])},Defaults)}function PowerupScoreBreakup(e){return _.defaultsDeep(e,{powerupEffectId:"",powerupId:"",name:"",score:0})}function ScoreBreakup(e){const t=_.defaultsDeep({...e,powerups:_.has(e,"powerups")?_.map(e.powerups,PowerupScoreBreakup):[]},{base:0,timer:0,streak:0,powerups:[],total:0});return t.total=_.ceil(t.base+t.timer+t.streak+_.sumBy(t.powerups,"score")),t}class URLParser{constructor(t){this.urlString=t||window.location.href,this.protocol="",this.host="",this.port="",this.path="",this.query={},this.hash=[],this.parseURL(t)}parseURL(t){const n=document.createElement("a");n.href=t,this.protocol=n.protocol,this.host=n.hostname,this.port=n.port,this.path=n.pathname;const r=n.search.replace("?",""),o=n.hash.replace("?","");_.compact(r.split("&")).forEach(s=>{this.query[s.split("=")[0]]=s.split("=")[1]}),_.compact(o.split(",")).forEach(s=>{this.hash.push(s)})}extend(t){t.query&&(this.query=_.merge(this.query,t.query)),t.hash&&(this.hash=this.hash.concat(t.hash))}getURL(){const t=Object.keys(this.query).reduce((n,r,o)=>(n+=`${(o>0?"&":"")+r}=${this.query[r]}`,n),"");return`${this.protocol}//${this.host}:${this.port}${this.path}${Object.keys(this.query).length>0?"?":""}${t}${this.hash.length>0?"#":""}${this.hash.join(",")}`}getQueryParams(){return this.query}toString(){return this.getURL()}}function applicationLoadedCooker(e,t){const{applicationContext:n}=e,r=new URLParser(_.get(window,"location.href")),o=_.get(document,"referrer"),s=r.query,a={source:"direct",screen:t,referrer:o};return s.c?a.source="lms":s.fromApp&&s.fromApp==="true"?a.source="app-webview":s.gc?a.source="code":s.from&&s.from==="gameRejoin"&&(a.source="rejoin"),isEmpty(s.ld)||(a.loadData=s.ld),_.isNumber(n.lastActivityOn)&&(a.openedAfter=Date.now()-_.toNumber(n.lastActivityOn)),n.areNetworkEventsAllowedInSession&&(a.networkEventsAllowed=!0),a.loadType=getPageLoadType(),{eventParams:a}}function saveCurrentContextCooker(e){const{applicationContext:t,game:n,user:r,appSettings:o,liveReactions:s,readAloud:a,raiseHand:u}=e;let l=null;if(!isEmpty(n.player.lastGamePlayed)){const f=_.clone(n.player.lastGamePlayed);l=getAspashtGameToStore(f)}let m=null;n.player.hasJoinedTheGame&&(m=Date.now());const y=["lastGamePlayed"];return{currentPlayer:_.pickBy(n.player,(f,v)=>!_.includes(y,v)),userProfile:r.profile,game:l,applicationContext:{deviceInfo:t.deviceInfo,lastGameActivityOn:m,lastActivityOn:Date.now()},appSettings:o,liveReactions:s,raiseHand:u,readAloudV2:a}}function loadPreviousContextCooker(e,t,n){const{appSettings:r}=e,o=_.find(Constants.Languages,{lang:"English"}).locale;let s=!1,a="",u=!1,l={},m=null;t&&t.game&&(m=getSpashtGameFromStorage(t.game));const y=pickValidDataFromStorage(t,m),d=y.userProfile&&y.userProfile.mongoId||"";let f={};isEmpty(y.userProfile)||(f={isLoggedIn:y.userProfile.isLoggedIn===!0});const v={currentPlayer:y.currentPlayer,game:y.game,applicationContext:y.applicationContext,appSettings:y.appSettings,prevSessionMongoId:d,userProfile:f,liveReactions:y.liveReactions,raiseHand:y.raiseHand,readAloudV2:y.readAloudV2},A=_.get(v,"appSettings.selectedLanguage",""),I=_.get(v,"appSettings.selectedTheme",""),P=_.get(v,"appSettings.isThemeAsLucky",!1),O=_.get(v,"appSettings.currentThemeWhichWasSetOnce","");return isAValidSelectedLanguage(A)&&A!==r.selectedLanguage&&v!==o&&(a=A,s=!0),!O||O!==Constants.ThemeSettings.NEXT_THEME_TO_BE_SET_ONCE?(u=!0,l={selectedTheme:Constants.ThemeSettings.NEXT_THEME_TO_BE_SET_ONCE,currentThemeWhichWasSetOnce:Constants.ThemeSettings.NEXT_THEME_TO_BE_SET_ONCE}):(isValidTheme(I)||P)&&(u=!0,l={selectedTheme:_.includes(n.themesAllowedToUser,I)?I:Constants.ThemeNames.CLASSIC,isThemeAsLucky:P}),{prevContext:v,shouldSetAppLanguage:s,selectedLanguage:a,shouldSetAppTheme:u,setThemeMutationPayload:l}}function rootBeforeEnterGuardCooker(e,t,n){const r=t.query||{},o=!isEmpty(r.gc),s=!isEmpty(r.c),a=!isEmpty(r.fromApp)&&r.fromApp==="true",u=!isEmpty(r.needAuth)&&r.needAuth==="true",l={};let m={},y="";if(o){const d=isEmpty(r.startSource)?"":`|${r.startSource}`,f=!isEmpty(r.isFLMS);let v="";f?v=GameStartSource.get(GameStartSource.List.GAME_CODE.PSEUDO_LMS)+d:v=GameStartSource.get(GameStartSource.List.GAME_CODE.PARAM)+d;const A=_.max(Constants.ALLOWED_LENGTHS_OF_GAME_CODE);m={roomCode:r.gc.slice(0,A),startSource:v}}return s&&(y=r.c),isEmpty(r.redirOnGameExit)||(l.redirectOnGameExit=decodeURIComponent(r.redirOnGameExit)),{shouldStartGCParamFlow:o,gcParamPipelineActionPayload:m,shouldStartGoogleClassroomFlow:s,gclParamPiplineActionPayload:y,initialGameMetadata:l,shouldStartAppAuthFlow:a&&u}}const GameDataKeysToObfs=["roomHash","quizId","quizName"];function getAspashtGameToStore(e){const t={};return _.forEach(GameDataKeysToObfs,n=>{isEmpty(e[n])||(t[n]=`${n}-${obfuscateData(e[n],n+_.random(1,9999),"local",3)}`)}),{...e,...t}}function getSpashtGameFromStorage(e){const t={};return _.forEach(GameDataKeysToObfs,n=>{if(!isEmpty(e[n])&&_.isString(e[n])&&_.includes(e[n],`${n}-`)){const o=e[n].split(`${n}-`)[1];t[n]=deObfuscateData(o)}}),{...e,...t}}function pickValidDataFromStorage(e,t){let n=!0;return _.isObject(t)&&(n=!(t.forPlayer||!t.subjects)),{currentPlayer:e.currentPlayer||null,userProfile:e.userProfile||null,game:n&&t||null,applicationContext:e.applicationContext||null,appSettings:e.appSettings||null,liveReactions:e.liveReactions||null,raiseHand:e.raiseHand||null,readAloudV2:e.readAloudV2||null}}function doesThemeRequireHallPass(e){switch(e){case Constants.ThemeNames.DOGSVILLE:case Constants.ThemeNames.THE_8_BIT:case Constants.ThemeNames.ANIME:case Constants.ThemeNames.FOOTBALL:case Constants.ThemeNames.NINETIES:case Constants.ThemeNames.SNOWFI:return!1;default:return!1}}function getThemeDisplayName(e){switch(e){case Constants.ThemeNames.CLASSIC:return getTranslatedText("Classic");case Constants.ThemeNames.WINTER:return getTranslatedText("Winter");case Constants.ThemeNames.SPACE:return getTranslatedText("Space");case Constants.ThemeNames.JUNGLE:return getTranslatedText("Jungle");case Constants.ThemeNames.HALLOWEEN:return getTranslatedText("Spooky");case Constants.ThemeNames.SYNTHWAVE:return getTranslatedText("Synthwave");case Constants.ThemeNames.DOGSVILLE:return getTranslatedText("Dogsville");case Constants.ThemeNames.THE_8_BIT:return getTranslatedText("Dark Night");case Constants.ThemeNames.ANIME:return getTranslatedText("Flame Impala");case Constants.ThemeNames.FOOTBALL:return getTranslatedText("Touchdown");case Constants.ThemeNames.NINETIES:return getTranslatedText("Nineties");case Constants.ThemeNames.SNOWFI:return getTranslatedText("SnowFi");default:return e}}function getStreakForTheme(e){return 0}function doesThemeRequireLogin(e){switch(e){case Constants.ThemeNames.ANIME:case Constants.ThemeNames.FOOTBALL:case Constants.ThemeNames.NINETIES:case Constants.ThemeNames.THE_8_BIT:return!0;default:return!1}}function themesToShowInOrder(){const e=[];return _.forEach(Constants.ThemeNames,t=>{e.push(t)}),e}function doesThemeHaveBackgroundImage(e){switch(e){case Constants.ThemeNames.SYNTHWAVE:case Constants.ThemeNames.DOGSVILLE:case Constants.ThemeNames.THE_8_BIT:case Constants.ThemeNames.ANIME:case Constants.ThemeNames.FOOTBALL:case Constants.ThemeNames.NINETIES:case Constants.ThemeNames.SNOWFI:return!0;default:return!1}}const SlideThemeConstants={[Constants.DeviceType.PHONE]:{fontSize:{title:{xs:12,s:14,m:16,l:20,xl:24},text:{xs:12,s:14,m:16,l:20,xl:24}}},[Constants.DeviceType.TABLET]:{fontSize:{title:{xs:32,s:40,m:48,l:64,xl:80},text:{xs:32,s:40,m:48,l:64,xl:80}}},fontFamily:{Quicksand:{name:"Quicksand",url:"https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700",fontWeight:{title:700,text:500}},"Open Sans":{name:"Open Sans",url:"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,800;1,400;1,800",fontWeight:{title:800,text:400}},Roboto:{name:"Roboto",url:"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,900;1,400;1,900",fontWeight:{title:900,text:400}},"Space Grotesk":{name:"Space Grotesk",url:"https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@0,400;0,700;1,400;1,700",fontWeight:{title:700,text:400}},"Eb Garamond":{name:"Eb Garamond",url:"https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,700;1,400;1,700",fontWeight:{title:800,text:500}},Merriweather:{name:"Merriweather",url:"https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,900;1,400;1,900&display=swap",fontWeight:{title:900,text:400}},"Libre Baskerville":{name:"Libre Baskerville",url:"https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap",fontWeight:{title:700,text:400}},"Patrick Hand":{name:"Patrick Hand",url:"https://fonts.googleapis.com/css2?family=Patrick+Hand",fontWeight:{title:400,text:400}},Cookie:{name:"Cookie",url:"https://fonts.googleapis.com/css2?family=Cookie&display=swap",fontWeight:{title:400,text:400}},"Permanent Marker":{name:"Permanent Marker",url:"https://fonts.googleapis.com/css2?family=Permanent+Marker",fontWeight:{title:400,text:400}},Lobster:{name:"Lobster",url:"https://fonts.googleapis.com/css2?family=Lobster",fontWeight:{title:400,text:400}},"Bebas Neue":{name:"Bebas Neue",url:"https://fonts.googleapis.com/css2?family=Bebas+Neue",fontWeight:{title:400,text:400}},"Playfair Display":{name:"Playfair Display",url:"https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&display=swap",fontWeight:{title:700,text:400}},Inconsolata:{name:"Inconsolata",url:"https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&display=swap",fontWeight:{title:700,text:400}},"Space Mono":{name:"Space Mono",url:"https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap",fontWeight:{title:700,text:400}}},LINK_COLORS:{DEFAULT:"#9A4292"},BG_COLORS:{DEFAULT:"#FFFFFF"}};function getCookedSlideTheme(e){const t=_.cloneDeep(e),n=_.get(t,"fontFamily","Quicksand");return{fontSize:{title:_.get(t,"fontSize.title"),text:_.get(t,"fontSize.text")},fontFamily:isEmpty(n)?"Quicksand":n,fontColor:{title:_.get(t,"fontColor.title"),text:_.get(t,"fontColor.text")},background:{color:_.get(t,"background.color"),image:_.get(t,"background.image"),video:_.get(t,"background.video")}}}function getFontSizeForSlideContentType({contentType:e,deviceType:t,fontSizeValue:n}){let r=t;return r=Constants.DeviceType.TABLET,SlideThemeConstants[r].fontSize[e][n]}function getUserData(e,t){const n={firstName:e.firstName||"",lastName:e.lastName||"",mongoId:e.id,photoUrl:e.media,selectedAvatar:e.selectedAvatar,courses:e.courses,isUnderAge:e.student&&e.student.underAge||!1,language:e.preferences&&e.preferences.lang||null,totalStats:e.totalStats||null,dob:e.student?new Date(e.student.dob):null,isTeacherOnJoin:(e==null?void 0:e.isTeacherOnJoin)||!1},r=e.username||e.userName||_.get(e,"local.casedUsername","");return n.isUnderAge?(n.email=r,n.userName=r):(n.email=e.email||_.get(e,"local.casedEmail",""),n.userName=r),n.name=constructNameOfUser(e,n.isUnderAge),e.grades&&Array.isArray(e.grades)&&(n.gradeList=[...e.grades]),e.subject_tags&&Array.isArray(e.subject_tags)&&(n.favSubjects=[...e.subject_tags]),e.occupation&&(n.occupation=e.occupation),e.parent&&e.parent.email&&(n.parentEmail=e.parent.email),Array.isArray(e.groups)&&(n.groupIds=e.groups),e.lms&&(n.lmsInfo={},Object.keys(e.lms).forEach(o=>{e.lms[o]&&(n.lmsInfo[o]={email:e.lms[o].email,studentId:e.lms[o].id})})),e.country&&(n.country=e.country),e.currentPlanStatus&&(n.currentPlanStatus=e.currentPlanStatus),e.createdAt&&(n.createdAt=e.createdAt),e.organization&&(n.organization=e.organization),e.paidOrganization&&(n.paidOrganization=e.paidOrganization),e.organizationRole&&(n.organizationRole=e.organizationRole),e.google&&(n.google=e.google),e.microsoft&&(n.microsoft=e.microsoft),e.local.phoneNumber&&(n.phoneNumber=e.local.phoneNumber),_.isBoolean(e.hasPassword)&&(n.hasPassword=e.hasPassword),Array.isArray(e.subscriptions)&&(n.subscriptions=e.subscriptions),n}function constructNameOfUser(e,t,n=Constants.DEFAULT_PLAYER_NAME,r={}){const o=r.addTitle===!0,s=r.firstNameOnly===!0,a=r.lastNameOnly===!0,u=e.username||e.local&&e.local.username||"";let l="";return!e.firstName&&!e.lastName&&e.email?t?l=u||n:l=e.email.split("@")[0]:(e.firstName&&!(a&&e.lastName)&&(l+=e.firstName),e.lastName&&!(s&&e.firstName)&&(l+=` ${e.lastName}`)),o&&e.title?`${e.title} ${l||u}`:l||u}function changeUserPasswordCooker(e,t){let n=e,r="",o=!1;return e==="success"?(t.message==="Done"||_.toLower(t.message)==="ok")&&(n=Constants.CallResolveStatuses.SUCCESS,r=t.message,o=!0):(n=Constants.CallResolveStatuses.FAILED,t.response&&(r="",_.isString(t.response.message)&&(r=t.response.message.replace("<newPassword>","Password")||""))),{status:n,message:r,changeSuccessful:o}}function updateUserProfileInfoCooker(e){const t=_.reduce(e,appendInUpdateItem,{}),n=_.map(e,r=>r.prop);return{requestData:t,propsBeingUpdated:n}}function updateUserInfoResponseCooker(e,t,n,r){const{user:o}=e;let s="",a="",u={},l=!1,m={};if(_.lowerCase(n.message)==="ok"||_.lowerCase(n.message)==="done"){s="success";const y=_.pick(o.profile,["userName","photoUrl","gradeList","favSubjects","language","selectedAvatar","name","firstName","lastName"]),d={},f=n.data.user;for(let v=0;v<r.length;v++)switch(r[v]){case"userName":d.userName=f.local.casedUsername,d.name=constructNameOfUser({...f.local,firstName:f.firstName,lastName:f.lastName},f.isUnderAge);break;case"firstName":d.firstName=f.firstName||"";case"lastName":d.lastName=f.lastName||"",d.name=constructNameOfUser({...f.local,firstName:f.firstName,lastName:f.lastName},f.isUnderAge),t.isPlayerInGame===!1&&(l=!0,m={playerName:d.name});break;case"gradeList":d.gradeList=f.grades;break;case"language":d.language=f.preferences.lang;break}u={...y,...d}}else s="failed",a="An error has occurred, please try again.";return{updatedProps:u,status:s,message:a,shouldUpdatePlayerId:l,playerIdUpdateMutationPayload:m}}function loadUserFromWindowCooker(e){const t=_.find(Constants.Languages,{lang:"English"}).locale;let n=!1,r={},o=!1,s="",a=!1;window&&"user"in window&&!isEmpty(window.user)&&(r=getUserData(window.user));const u=e.rootReducer&&e.rootReducer.prevSessionMongoId||"",l=r.mongoId;return l&&u&&l!==u&&(n=!0),isAValidSelectedLanguage(r.language)&&r.language!==e.appSettings.selectedLanguage&&r.language!==t&&(o=!0,s=r.language),_.get(r,"occupation","").indexOf("corporate")!==-1&&r.selectedAvatar<=0&&(r.selectedAvatar=_.sample([_.random(0,11),_.random(13,37)]),a=!0),{shouldSignOutFirst:n,shouldSetAppLanguage:o,selectedLanguage:s,shouldSaveUserAvatar:a,userData:r}}function loadUserFromAPICooker(e){const n=(e.courses||[]).map(s=>s._id),r={...e,courses:n};return{userData:getUserData(r)}}function loginUserResponseCooker(e,t,n,r=""){const o={isAuthenticatedUser:!1,error:""};let s="",a=!1;if(t.data.isGoogle||t.data.isMicrosoft)o.isAuthenticatedUser=!1,o.error=`Please use the ${t.data.isGoogle?'"Continue with Google"':'"Continue with Microsoft"'} button above`;else if(t.data.deactivated)s="/reactivate";else if(t.message==="Ok")if(o.isAuthenticatedUser=!0,!n)isEmpty(r)?a=!0:s=r;else{const u=e.game.data.roomCode,l=new URLParser(window.location.href),m=_.find(l.query,"gc");Object.keys(l.query)>0?s=m?`${URLConfig.getAppBaseUrl()}${window.location.search}`:`${l}&gc=${u}`:s=`${URLConfig.getAppBaseUrl()}?gc=${u}`}else o.error=t.message,o.isAuthenticatedUser=!1;return{redirectToHREF:s,shouldReload:a,mutationPayload:o}}function themeStreakNotificationCooker(e){const t={},n=_.find(Constants.ThemeNames,r=>_.toString(getStreakForTheme())===_.toString(e.count));return t.message=getTranslatedText(`You've hit a ${e.count} day streak and unlocked ${getThemeDisplayName(n)} theme.`),t.name=n,t.type="theme-streak-notification",t}function appendInUpdateItem(e,{prop:t,data:n}){const r=e;switch(t){case"language":!r.preferences&&(r.preferences={}),r.preferences.lang=n;break;case"userName":!r.local&&(r.local={}),r.username=n;break;case"firstName":r.firstName=n;case"lastName":r.lastName=n;break;case"gradeList":r.grades=Array.isArray(n)?n:[n];break}return r}function socDeletePlayerResponseCooker(e,t){const{game:n,routing:r}=e,o=n.player.playerId!==t.playerId,s={players:n.data.players,teams:n.data.teams,isOldPlayerFromCurrentTeam:!1};o&&(s.players=_.filter(n.data.players,y=>y.playerId!==t.playerId),n.data.gameMode===Constants.GameMode.TEAM&&(Array.isArray(t.teams)&&t.teams.length===n.data.teams.length&&(s.teams=t.teams),t&&t.teamId===n.team.teamId&&(s.isOldPlayerFromCurrentTeam=!0)));const a=n.data.gameMode===Constants.GameMode.CHALLENGE,u=PageNames.isExactly(r.currentPage,PageNames.List.IN_GAME.CHALLENGE_PRE_SUMMARY),l=a&&u;let m=_.get(n,"flow.challengeLiveLeaderboard",[]);return l&&(m=_.filter(m,y=>y.playerId===t.playerId)),{isAnotherPlayerDeleted:o,payload:s,shouldDeletePlayerFromChallengeLeaderboard:l,challengeLiveLeaderboard:m}}function socGameOverForAllResponseCooker(e,t){const{game:n}=e;let r=n.player.rank;const o=r;t&&t.leaderboard&&t.leaderboard.length>0&&(r=getPlayerRank(t.leaderboard,n.player.playerId));let s=n.team.rank,a=n.team.previousRank,u=n.team.score;const l=t&&t.teams||[];if(l.length>0){a=s;const y=getTeamsAfterUpdatingRank(l),d=_.find(y,f=>f.teamId===n.team.teamId);s=d.rank,u=d.score}const m={previousPlayerRank:o,currentPlayerRank:r,previousTeamRank:a,currentTeamRank:s,currentTeamScore:u};return l.length>0&&(m.teams=l),isEmpty(t.leaderboard)||(m.leaderboard=t.leaderboard,m.shouldUpdateLeaderboard=n.data.gameMode===Constants.GameMode.CHALLENGE),m}function socPlayerRespondedCooker(e,t){const{game:{data:n,player:r,flow:o}}=e,s=_.get(n,"gameMode","")===Constants.GameMode.CHALLENGE,a=_.get(n,"gameState","")===Constants.GameState.RUNNING;let u=!1,l=o.challengeLiveLeaderboard,m=r.rank;if(!isEmpty(t.player)){const y=_.pick(t.player,["id","score","monsterId","origin","currentStreak","totalAttempt","totalCorrect","totalResponses","isOver"]);y.playerId=y.id,delete y.id,l=_.map(o.challengeLiveLeaderboard,d=>d.playerId===t.player.id?{...d,...y}:d),l=_.map(_.orderBy(l,["score"],["desc"]),(d,f)=>({...d,rank:f+1})),u=s&&a,m=_.findIndex(l,{playerId:r.playerId})+1}return{shouldUpdateLeaderboard:u,leaderboard:l,currentPlayerRank:m}}const LatestPowerupsConfig={"double-jeopardy":{name:"double-jeopardy",status:"enabled",title:"Double Jeopardy",styles:{backgroundGradientColor:"rgba(133, 230, 80, 0.5)",backgroundColor:"#5FB03B",accentColor:"#85E650"},validateToAward:function e(t){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/double-jeopardy.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/double-jeopardy.png"},description:"Get double the points, but a wrong answer will cost you.",notification:{onActivate:"Aim for double or pay the price."},meta:["questionId","attempt"],specialEffects:{usesGlowEffect:!0,onActivate:function e(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"double-jeopardy"})},onApply:function e(t){},onDestroy:function e(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function e(t){return!!t.scopes.includes(this.activationScope)},validateToApply:function e(t,n){return t.questionId===n.questionId&&t.attempt===n.attempt},onApply:function e(t){if(t.response.getCorrectness()){const r=t.score.getTotal();t.score.pushScore(r)}else t.score.pushScore(-1*t.score.getDefaultBase())},onDestroy:function e(t){},help:{tips:[]},nudge:{type:"postAnswer",priority:0,text:"Hey, use 'Double Jeopardy' powerup to earn more points for this answer."}},"2x":{name:"2x",status:"enabled",title:"x2",styles:{backgroundGradientColor:"rgba(208, 116, 248, 0.5)",backgroundColor:"#491D65",accentColor:"#D074F8"},validateToAward:function e(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/x2.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/x2.png"},description:"Bag twice the points for one question.",notification:{onActivate:"Double your points!"},meta:["questionId","attempt"],specialEffects:{usesGlowEffect:!0,onActivate:function e(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"2x"})},onApply:function e(t){},onDestroy:function e(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function e(t){return!!t.scopes.includes(this.activationScope)},validateToApply:function e(t,n){return t.questionId===n.questionId&&t.attempt===n.attempt},onApply:function e(t){const n=t.score.getTotal();t.score.pushScore(n)},onDestroy:function e(t){},help:{tips:["Offensive power-ups like ‘2X points’ give you extra bonus points for the right answer."]},nudge:{type:"postAnswer",priority:1,text:"Hey, use 'x2' powerup to double the points for this answer."}},"50-50":{name:"50-50",status:"enabled",title:"50/50",styles:{backgroundGradientColor:"rgba(251, 152, 140, 0.5)",backgroundColor:"#E33E4E",accentColor:"#FB988C"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.areAllRemainingQuestionsMSQ||t.areAllGameQuestionsWithoutCorrectAnswer||t.doesRemainingQuestionsOptionsCountEqualsTwo||t.areAllRemainingQuestionsFIB)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/50-50.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/50-50.png"},description:"Make half the incorrect options disappear.",notification:{onActivate:"Let's cut out the clutter."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"question",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function e(t){return!(!t.isQuestionTypeMCQ||!t.doesQuestionHaveCorrectAnswer||!t.scopes.includes(this.activationScope)||t.options.length<=2)},validateToApply:function e(t,n){return t.questionId===n.questionId&&t.attempt===n.attempt},onApply:function e(t,n){const r=t.question.getOptions();let o=[];n.visibleOptionIndices?o=n.visibleOptionIndices:o=r.map((s,a)=>a);for(let s=0;s<r.length;s++)o.includes(s)||t.options.hideOption(s)},onDestroy:function e(t){},help:{tips:["Defensive power-ups like ‘50/50’ help you tackle questions you are not sure about."]},nudge:{type:"whileAnswering",priority:2,text:"Got stuck? Use 50-50 to cut down on options."}},eraser:{name:"eraser",status:"enabled",title:"Eraser",styles:{backgroundGradientColor:"rgba(211, 48, 61, 0.5)",backgroundColor:"#5A0C0C",accentColor:"#CF1A28"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.areAllRemainingQuestionsMSQ||t.areAllGameQuestionsWithoutCorrectAnswer||t.doesRemainingQuestionsOptionsCountEqualsTwo)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/eraser.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/eraser.png"},description:"Eliminate one incorrect option.",notification:{onActivate:"We've erased an option."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"question",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function e(t){return!(!t.isQuestionTypeMCQ||!t.doesQuestionHaveCorrectAnswer||!t.scopes.includes(this.activationScope)||t.options.length<=2)},validateToApply:function e(t,n){return t.questionId===n.questionId&&t.attempt===n.attempt},onApply:function e(t,n){const r=t.question.getOptions();let o=[];n.visibleOptionIndices?o=n.visibleOptionIndices:o=r.map((s,a)=>a);for(let s=0;s<r.length;s++)o.includes(s)||t.options.hideOption(s)},onDestroy:function e(t){},help:{tips:[]},nudge:{type:"whileAnswering",priority:3,text:"Got stuck? Use Eraser to cut down on options."}},immunity:{name:"immunity",status:"enabled",title:"Immunity",styles:{backgroundGradientColor:"rgba(242, 79, 201, 0.5)",backgroundColor:"#451431",accentColor:"#F24FC9"},validateToAward:function e(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/immunity.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/immunity.png"},description:"Get a second chance after an incorrect answer.",notification:{onActivate:"You're immune to an incorrect answer."},meta:["questionId","attempt"],specialEffects:{usesGlowEffect:!0,onActivate:function e(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"immunity"})},onApply:function e(t){},onDestroy:function e(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"before-answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function e(t){return!(!t.doesQuestionHaveCorrectAnswer||!t.scopes.includes(this.activationScope))},validateToApply:function e(t,n,r){return!r.response.getCorrectness()},onApply:function e(t){if(t.response.getCorrectness()===!0)return;const n=t.question.getType(),r=t.response.getActualSelectedIndices();switch(n){case"DROPDOWN":case"DRAGNDROP":case"REORDER":case"MATCH":case"GRAPHING":case"DND_IMAGE":case"HOTSPOT":t.options.resetOptions();break;case"CLASSIFICATION":t.options.resetOptions();break;case"BLANK":t.options.clearTypedAnswer();break;case"EQUATION":t.options.clearTypedAnswer();break;case"MCQ":t.options.hideOption(r[0]);break;case"MSQ":default:t.options.setOptionsAsPreviouslySelected(r)}t.response.setMoveAhead(!1)},onDestroy:function e(t){},help:{tips:[]},nudge:{type:"whileAnswering",priority:0,text:"Got stuck? Use Immunity to get an extra-life"}},"time-freeze":{name:"time-freeze",status:"enabled",title:"Time Freeze",styles:{backgroundGradientColor:"rgba(14, 234, 252, 0.5)",backgroundColor:"#005C83",accentColor:"#0EEAFC"},validateToAward:function e(t){return!(!(this.status==="enabled")||!t.isTimerOn)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/time-freeze.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/time-freeze.png"},description:"Freeze the timer and get full points.",notification:{onActivate:"Take your time and get it right."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function e(t){return t.doesQuestionHaveCorrectAnswer?!!t.scopes.includes(this.activationScope):!1},validateToApply:function e(t,n){return t.questionId===n.questionId&&t.attempt===n.attempt},onActivate:function e(t){t.resetAndFreezeTimerBar()},onApply:function e(t){if(t.response.getCorrectness()){const n=t.score.getDefaultTimer(),r=t.score.getTimer();t.score.pushScore(n-r)}},onDestroy:function e(t){},help:{tips:[]},nudge:{type:"whileAnswering",priority:1,text:"Running out of time? Use Time Freeze"}},"power-play":{name:"power-play",status:"enabled",title:"Power Play",styles:{backgroundGradientColor:"rgba(26, 180, 254, 0.5)",backgroundColor:"#1E0B71",accentColor:"#1AB4FE"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/power-play.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/power-play.png"},description:"Everyone gets 50% more points for 25 seconds.",mysteryBoxActivationDescription:"20% more points for the next 10 seconds.",notification:{onActivate:"Power Play is on!",onActivateByOtherUser:"has activated Power Play. Get 50% extra points for the next 25 seconds!"},meta:["questionId","attempt","startTime"],specialEffects:{usesGlowEffect:!0,onActivate:function e(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"power-play"})},onApply:function e(t){},onDestroy:function e(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},powerupType:"positive",time:25e3,disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"timerEnd",probability:{type:"global",weight:1},validateToActivate:function e(t){return!0},validateToApply:function e(t,n){const r=t.startTime,o=new Date().getTime();return r+this.time>=o},onApply:function e(t){if(t.response.getCorrectness()){const n=t.score.getTotal();t.score.pushScore(Math.floor(n/2))}},onDestroy:function e(t){},help:{tips:["‘Powerplay’ gives everyone 50% extra points for 25 seconds, use wisely."]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Power Play' to boost everyone's score for 25 seconds."}},supersonic:{name:"supersonic",status:"enabled",title:"Supersonic",styles:{backgroundGradientColor:"rgba(255, 164, 164, 0.5)",backgroundColor:"#760512",accentColor:"#D01D1D"},validateToAward:function e(){return this.status==="enabled"},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/supersonic.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/supersonic.png"},description:"Get 1.5x points for 20 seconds with ultra fast gameplay",mysteryBoxActivationDescription:"20% more points for the next 10 seconds.",notification:{onActivate:"You get 1.5x points for 20 seconds"},meta:["questionId","attempt","startTime"],specialEffects:{usesGlowEffect:!0,onActivate:function e(t){const n={disableMeme:!0,disableLeaderboard:!0,gamePlaySpeed:2,gameSoundSpeed:1.3};t.specialEffects.updatePowerupGameFlow(n),t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"power-play"})},onApply:function e(t){},onDestroy:function e(t){if(t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1)return;t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1});const r={disableMeme:!1,disableLeaderboard:!1,gamePlaySpeed:1};t.specialEffects.updatePowerupGameFlow(r)}},timedActions:{onApply:[],onActivate:[{time:18e3,do:function e(t){const n={gameSoundSpeed:1};t.specialEffects.updatePowerupGameFlow(n)}}]},powerupType:"positive",time:2e4,disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"timerEnd",probability:{type:"local",weight:3.5},validateToActivate:function e(t){return!0},validateToApply:function e(t,n){const r=t.startTime,o=new Date().getTime();return r+this.time>=o},onApply:function e(t){if(t.response.getCorrectness()){const n=t.score.getTotal();t.score.pushScore(Math.floor(n/2))}},onDestroy:function e(t){},help:{tips:["You get 1.5x points for 20 seconds"]},nudge:{type:"preQuestion",priority:2,text:"Hey, use the 'Supersonic' for ultra fast gameplay."}},"streak-saver":{name:"streak-saver",status:"enabled",title:"Streak Saver",styles:{backgroundGradientColor:"rgba(255, 167, 39, 0.5)",backgroundColor:"#CB2D00",accentColor:"#FFA727"},validateToAward:function e(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/streak-saver.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/streak-saver.png"},description:"Protect your streak against a wrong answer.",notification:{onActivate:"An incorrect answer won't break your streak."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"streak",destroyOn:"immediate",probability:{type:"local",weight:5},validateToActivate:function e(t){return!0},validateToApply:function e(t,n,r){return!r.response.getCorrectness()},onApply:function e(t){const n=t.streak.getPreviousStreak();t.streak.setCurrentStreak(n)},onDestroy:function e(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:3,text:"Hey, use the 'Streak Saver' to keep your streak bonus in case your answer is wrong."}},glitch:{name:"glitch",status:"enabled",title:"Glitch",styles:{backgroundGradientColor:"rgba(247, 31, 134, 0.5)",backgroundColor:"#811053",accentColor:"#F71F86"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/glitch.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/glitch.png"},description:"Everyone else sees a glitchy screen for 10 secs",mysteryBoxActivationDescription:"10 seconds of glitchy chaos.",notification:{onActivate:"Glitch is on!",onActivateByOtherUser:"caused your screen to glitch!"},meta:["startTime","currentPlayerId"],powerupType:"negative",time:1e4,shouldPersistNotification:!0,disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"game",destroyOn:"timerEnd",probability:{type:"global",weight:1},validateToActivate:function e(t){return!0},validateToApply:function e(t,n){const r=n.warningTime||0,o=t.startTime,s=this.time+r,a=new Date().getTime();return o+s>=a&&t.player.playerId!==n.currentPlayerId},onApply:function e(t){t.specialEffects.changeGameAppearance({name:"isGlitching",value:!0})},onDestroy:function e(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isGlitching",value:!1})},help:{tips:["‘Glitch’ wreaks havoc on your opponent’s screens giving you an advantage."]},nudge:{type:"preQuestion",priority:0,text:"Hey, use the 'Glitch' power-up to wreak havoc on everybody else's screen."}},"mystery-box-1":{name:"mystery-box-1",status:"disabled",title:"Power Play vs. Glitch",powerupType:"activator",styles:{backgroundGradientColor:"rgba(64, 160, 191, 0.5)",backgroundColor:"#15353F",accentColor:"#40A0BF",glowColor:"rgba(64, 160, 191, 0.5)"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],powerupsToActivate:["power-play","glitch"],icon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-1.png",drawerIcon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/drawer-icon-box-1.png",image:{sm:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-1.png",lg:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-1.png"},description:"Get either Power Play or Glitch",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:["powerupsToActivate"],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},shoudlDisableNotificationForReceiver:!0,validateToActivate:function e(t){return!0},validateToApply:function e(t,n){return!1},onApply:function e(t){},onDestroy:function e(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const n=t.activate.getPowerupsConfig(),r=t.activate.powerupToActivate,o=n[r.name];o.id=r.id,o.powerupId=r.powerupId,o.activationSource="mystery-box",t.activate.activatePowerup(o)},help:{tips:[]}},"mystery-box-2":{name:"mystery-box-2",status:"disabled",title:"Streak Booster vs. Breaker",powerupType:"activator",styles:{backgroundGradientColor:"rgba(191, 96, 64, 0.5)",backgroundColor:"#481B0D",accentColor:"#D95326",glowColor:"rgba(191, 96, 64, 0.5)"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-2.png",drawerIcon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/drawer-icon-box-2.png",image:{sm:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-2.png",lg:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-2.png"},description:"Get a full streak or lose it all.",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:["powerupsToActivate"],powerupsToActivate:["streak-booster","streak-breaker"],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},shoudlDisableNotificationForReceiver:!0,validateToActivate:function e(t){return!0},validateToApply:function e(t,n){return!1},onApply:function e(t){},onDestroy:function e(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const n=t.activate.getPowerupsConfig(),r=t.activate.powerupToActivate,o=n[r.name];o.id=r.id,o.powerupId=r.powerupId,o.activationSource="mystery-box",t.activate.activatePowerup(o)},help:{tips:[]}},"mystery-box-3":{name:"mystery-box-3",status:"disabled",title:"+1000pts vs. –1000pts",powerupType:"activator",styles:{backgroundGradientColor:"rgba(64, 191, 127, 0.5)",backgroundColor:"#153F2A",accentColor:"#40BF7F",glowColor:"rgba(64, 191, 127, 0.5)"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-3.png",drawerIcon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/drawer-icon-box-3.png",image:{sm:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-3.png",lg:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-3.png"},description:"Bag a 1000 points or be poorer by 1000.",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:["powerupsToActivate"],powerupsToActivate:["add-points","minus-points"],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},shoudlDisableNotificationForReceiver:!0,validateToActivate:function e(t){return!0},validateToApply:function e(t,n){return!1},onApply:function e(t){},onDestroy:function e(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const n=t.activate.getPowerupsConfig(),r=t.activate.powerupToActivate,o=n[r.name];o.id=r.id,o.powerupId=r.powerupId,o.activationSource="mystery-box",t.activate.activatePowerup(o)},help:{tips:[]}},"mystery-box":{name:"mystery-box",status:"disabled",title:"Mystery Cube",styles:{backgroundGradientColor:"rgba(255, 195, 26, 0.5)",backgroundColor:"#FFC31A",accentColor:"#FFC31A",glowColor:"rgba(255, 195, 26, 0.4)"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/mystery-box.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/mystery-box.png"},description:"",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:[],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},validateToActivate:function e(t){return!0},validateToApply:function e(t,n){return!1},onApply:function e(t){},onDestroy:function e(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const n=t.activate.getPowerupsConfig(),r=t.activate.powerupToActivate,o=n[r.name];o.id=r.id,o.powerupId=r.powerupId,o.activationSource="mystery-box",t.activate.activatePowerup(o)},help:{tips:[]}},"add-points":{name:"add-points",status:"enabled",title:"+1000pts",styles:{backgroundGradientColor:"rgba(77, 253, 47, 0.5)",backgroundColor:"#0DAE38",accentColor:"#4DFD2F"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/add-points.jpg",lg:"https://cf.quizizz.com/game/img/powerups/lg/add-points.jpg"},description:"",mysteryBoxActivationDescription:"Youâ€™re in luck.",notification:{onActivate:"",onActivateByOtherUser:""},meta:["scoreChange"],powerupType:"positive",scoreChange:1e3,disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},scoreChanges:{breakIntoChunks:!0,sfxName:"getPoints"},validateToActivate:function e(t){return!0},validateToApply:function e(t,n){return!0},onApply:function e(t){t.score.pushScore(this.scoreChange)},onDestroy:function e(t){},help:{tips:[]}},"minus-points":{name:"minus-points",status:"disabled",title:"â€“1000",styles:{backgroundGradientColor:"rgba(242, 109, 122, 0.5)",backgroundColor:"#E33E4E",accentColor:"#F26D7A"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/minus-points.jpg",lg:"https://cf.quizizz.com/game/img/powerups/lg/minus-points.jpg"},description:"",mysteryBoxActivationDescription:"Youâ€™re out of luck.",notification:{onActivate:"",onActivateByOtherUser:""},meta:["scoreChange"],powerupType:"negative",scoreChange:-1e3,disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},scoreChanges:{breakIntoChunks:!0,sfxName:"losePoints"},validateToActivate:function e(t){return!0},validateToApply:function e(t,n){return!0},onApply:function e(t){t.score.pushScore(this.scoreChange)},onDestroy:function e(t){},help:{tips:[]}},"streak-booster":{name:"streak-booster",status:"enabled",title:"Streak Booster",styles:{backgroundGradientColor:"rgba(254, 169, 47, 0.5)",backgroundColor:"#CB2D00",accentColor:"#FEA92F"},validateToAward:function e(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/streak-booster.jpg",lg:"https://cf.quizizz.com/game/img/powerups/lg/streak-booster.jpg"},description:"Apply to boost your streak counter by +6",mysteryBoxActivationDescription:"Your streak bar is full!",notification:{onActivate:""},meta:["streakChangeBy"],powerupType:"positive",disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"game",destroyOn:"response",probability:{type:"local",weight:3},streakChangeBy:6,shouldDestroyIfMysteryPowerup:!0,shouldHidePowerupEffect:!0,validateToActivate:function e(t){return!0},validateToApply:function e(t,n,r){return!0},onApply:function e(t){const n=t.streak.getCurrentStreak()+this.streakChangeBy;t.streak.setCurrentStreak(n)},onDestroy:function e(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:2,text:"Hey, use the 'Streak Booster' to instantly boost your streak by 6."}},"streak-breaker":{name:"streak-breaker",status:"disabled",title:"Streak Breaker",styles:{backgroundGradientColor:"rgba(8, 211, 234, 0.5)",backgroundColor:"#005C83",accentColor:"#08D3EA"},validateToAward:function e(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/streak-breaker.jpg",lg:"https://cf.quizizz.com/game/img/powerups/lg/streak-breaker.jpg"},description:"",mysteryBoxActivationDescription:"You lost your streak. Streak savers wonâ€™t help you.",notification:{onActivate:""},meta:[],powerupType:"negative",disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"post-answer",destroyOn:"response",probability:{type:"local",weight:0},shouldDestroyIfMysteryPowerup:!0,shouldHidePowerupEffect:!0,validateToActivate:function e(t){return!0},validateToApply:function e(t,n,r){return!0},onApply:function e(t){t.streak.setCurrentStreak(0)},onDestroy:function e(t){},help:{tips:[]}},"steal-points":{name:"steal-points",status:"disabled",title:"Pickpocket",styles:{backgroundGradientColor:"rgba(254, 86, 2, 0.5)",backgroundColor:"#CB2D00",accentColor:"#FE5602"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["players"],icon:"",image:{sm:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/steal-points.png",lg:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/steal-points.png"},description:"Steal points from another player!",notification:{onActivate:"600 points stolen"},targetting:{selectionHeader:"Steal 600 points from",count:1},meta:["questionId","attempt","targets"],specialEffects:{onActivate:function e(t,n){t.targetting.isCurrentPlayerTheTarget(n)&&t.specialEffects.showOverlay({name:"powerupStealPoints",data:{powerupName:"steal-points",targets:t.targetting.getPowerupTargets(n),applier:t.targetting.getPowerupApplier(n)}})},onApply:function e(t){},onDestroy:function e(t){}},shouldHidePowerupEffect:!0,shoudlDisableNotificationForReceiver:!0,powerupType:"positive",disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"response",scoreChange:600,probability:{type:"local",weight:.85},validateToActivate:function e(t){return!0},validateToApply:function e(t,n){return!0},onApply:function e(t,n){t.targetting.isCurrentPlayerTheApplier(n)&&t.score.pushScore(this.scoreChange),t.targetting.isCurrentPlayerTheTarget(n)&&t.score.pushScore(-1*this.scoreChange)},onDestroy:function e(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Steal Points' to mess with someone."}},"send-gift":{name:"send-gift",status:"enabled",title:"Gift",styles:{backgroundGradientColor:"rgba(128, 57, 162, 0.5)",backgroundColor:"#38194C",accentColor:"#8039A2"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["players"],icon:"",image:{sm:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/send-gift.png",lg:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/send-gift.png"},description:"Award your friends extra points!",notification:{onActivate:"You just helped your friend get extra points!"},targetting:{selectionHeader:"Gift bonus points to",count:1},meta:["questionId","attempt","targets"],specialEffects:{onActivate:function e(t,n){t.targetting.isCurrentPlayerTheTarget(n)&&t.specialEffects.showOverlay({name:"powerupOpenBox",data:{powerupName:"send-gift",boxType:"gift",targets:t.targetting.getPowerupTargets(n),applier:t.targetting.getPowerupApplier(n)}})},onApply:function e(t){},onDestroy:function e(t){}},shouldHidePowerupEffect:!0,shoudlDisableNotificationForReceiver:!0,powerupType:"positive",disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"immediate",scoreChange:800,probability:{type:"local",weight:.9},validateToActivate:function e(t){return t.activePlayersList.length>0},validateToApply:function e(t,n){return!0},onApply:function e(t,n){t.targetting.isCurrentPlayerTheTarget(n)&&t.score.pushScore(this.scoreChange)},onDestroy:function e(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Gift' to help a friend."}},"send-prank":{name:"send-prank",status:"disabled",title:"Psych!",styles:{backgroundGradientColor:"rgba(0, 135, 155, 0.5)",backgroundColor:"#005C83",accentColor:"#00879B"},validateToAward:function e(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["players"],icon:"",image:{sm:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/send-prank.png",lg:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/send-prank.png"},description:"Prank a player of your choice.",notification:{onActivate:"Wooohooo!!!!"},targetting:{selectionHeader:"Who do you wanna mess with?",count:1},meta:["questionId","attempt","targets"],specialEffects:{onActivate:function e(t,n){t.targetting.isCurrentPlayerTheTarget(n)&&t.specialEffects.showOverlay({name:"powerupOpenBox",data:{powerupName:"send-prank",boxType:"prank",targets:t.targetting.getPowerupTargets(n),applier:t.targetting.getPowerupApplier(n)}})},onApply:function e(t){},onDestroy:function e(t){}},shouldHidePowerupEffect:!0,shoudlDisableNotificationForReceiver:!0,powerupType:"positive",disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:.9},validateToActivate:function e(t){return!0},validateToApply:function e(t,n){return!0},onApply:function e(t,n){},onDestroy:function e(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Psych!' to mess with a friend."}}};class PowerupsConfigManager{constructor(){Vn(this,"CURRENT_CONFIG_API_VERSION",20);this.config=LatestPowerupsConfig}getConfig(){return this.config}}const PowerupsConfigManager$1=new PowerupsConfigManager;class PowerupEffects{constructor(){this.store=null,this.dispatch=()=>{}}init(t,n){this.store=t,this.dispatch=t.dispatch}validate(t,n,r){const o=PowerupsConfigManager$1.getConfig(),s=o[t.name],a=this.store.state.game.questions.currentId,u=this.store.getters.currentQuestionCurrentAttemptIndex,l=this.store.state.game.player.playerId,{gameMode:m,gameType:y}=this.store.state.game.data,d={};return s.meta.includes("questionId")&&(d.questionId=a),s.meta.includes("attempt")&&(d.attempt=u),s.meta.includes("currentPlayerId")&&(d.currentPlayerId=l),t.name==="glitch"&&isMysticPeakGame(m,y)&&(d.warningTime=GameModeConfigs[Constants.GameMode.MYSTIC_PEAK].powerups.avalanche.warningTime),o[t.name].validateToApply(t.meta,d,n)||r}apply(t,n,r){try{const o=PowerupsConfigManager$1.getConfig();this.validate(t,n,r)&&(n.setEffect(t),o[t.name].onApply(n,t.meta),n.dispatchActions(),o[t.name].destroyOn==="response"?this.dispatch("addPowerupEffectsToDestroyList",[t]):o[t.name].destroyOn==="immediate"&&this.dispatch("destroyPowerupEffect",t))}catch(o){QLogger$1.error("Error at PowerupEffects.apply, destroying effect:- ",o),this.dispatch("destroyPowerupEffect",t)}}applyPurely(t,n,r){try{const o=PowerupsConfigManager$1.getConfig();return this.validate(t,n,r)?(n.setEffect(t),o[t.name].onApply(n,t.meta),{applied:!0,destroyOn:o[t.name].destroyOn}):{applied:!1}}catch(o){return QLogger$1.error("Error at PowerupEffects.apply :- ",o),{destroyOn:null}}}applyEffects(t=[],n,r=!1){_.forEach(t,o=>{this.apply(o,n,r)})}applyEffectsPurely(t=[],n,r=!1){const o={};return _.forEach(t,s=>{const a=this.applyPurely(s,n,r);a.applied===!0&&(isEmpty(o[a.destroyOn])&&(o[a.destroyOn]=[]),o[a.destroyOn].push(s))}),{powerupEffectsToDestroy:o}}destroy(t,n){const r=PowerupsConfigManager$1.getConfig();n.setEffect(t),_.isFunction(r[t.name].onDestroy)&&r[t.name].onDestroy(n)}destroyEffects(t=[],n){_.forEach(t,r=>{this.destroy(r,n)}),n.dispatchActions()}applySpecialEffects(t=[],n,r){const o=PowerupsConfigManager$1.getConfig();_.forEach(t,s=>{isEmpty(o[s.name].specialEffects)||!_.isFunction(o[s.name].specialEffects[n])||(o[s.name].specialEffects[n].apply(o[s.name],[r,s.meta]),!(isEmpty(o[s.name].timedActions)||isEmpty(o[s.name].timedActions[n]))&&o[s.name].timedActions[n].forEach(a=>{setTimeout(()=>{a.do.apply(o[s.name],[r,s.meta]),r.dispatchActions()},a.time)}))}),r.dispatchActions()}}const PowerupEffects$1=new PowerupEffects;class Score{constructor(t,{base:n,timer:r,streak:o,total:s}){this.base=n,this.timer=r,this.streak=o,this.total=s,this.powerups=[],this.effectManager=t}getBase(){return this.base}getDefaultBase(){return Constants.Score.BASE}getTimer(){return this.timer}getDefaultTimer(){return Constants.Score.TIMER}getStreak(){return this.streak}getTotal(){return this.total}pushScore(t){const n=this.effectManager.getEffect();this.total+=t,this.powerups.push(PowerupScoreBreakup({powerupEffectId:n.id,powerupId:n.powerupId,name:n.name,score:t}))}getTransformed(){return ScoreBreakup({base:this.getBase(),timer:this.getTimer(),streak:this.getStreak(),total:this.getTotal(),powerups:this.powerups})}}class Streak{constructor(t,{currentStreak:n,previousStreak:r}){this.currentStreak=n,this.previousStreak=r,this.dispatch=t}getPreviousStreak(){return this.previousStreak}setPreviousStreak(t){this.previousStreak=t}getCurrentStreak(){return this.currentStreak}setCurrentStreak(t){this.currentStreak=t,this.dispatch("updateStreak",{currentStreak:t})}getTransformed(){return{previousStreak:this.getPreviousStreak(),currentStreak:this.getCurrentStreak()}}}class Options{constructor(t){this.dispatch=t}hideOption(t=0){this.dispatch("hideOption",t)}showOption(t=0){this.dispatch("showOption",t)}setOptionsAsPreviouslySelected(t=[]){this.dispatch("setOptionsAsPreviouslySelected",t)}clearTypedAnswer(){this.dispatch("clearTypedAnswer")}resetOptions(){this.dispatch("resetOptions")}}let Response$1=class{constructor({isCorrect:t,actualSelectedIndices:n}){this.isCorrect=t,this.moveAhead=!0,this.actualSelectedIndices=n}getCorrectness(){return this.isCorrect}setMoveAhead(t){this.moveAhead=t}canMoveAhead(){return this.moveAhead}getActualSelectedIndices(){return this.actualSelectedIndices}};class Question{constructor({answer:t,options:n,id:r,type:o}){this.answer=t,this.options=n,this.id=r,this.type=o}getAnswer(){return this.answer}getOptions(){return _.map(this.options,(t,n)=>({...t,isCorrect:this.answer.includes(n)}))}getId(){return this.id}getType(){return this.type}}let nanoid=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const OverlayDefaults={name:"",id:nanoid(6),targetId:OverlayTargetIds.ROOT,createdAt:new Date,data:{},options:{theme:"dark",isDissmissable:!0,transition:"fade"}};function Overlay$2(e){return _.defaultsDeep(e,OverlayDefaults)}const useUI=defineStore({id:"ui",state:()=>({visibleIds:[],overlays:[]}),getters:{isAnyOverlayVisible(e){return e.overlays.length>0}},actions:{showOverlay({name:e,targetId:t,data:n,options:r={}}){QLogger$1.invariant(Object.values(OverlayNames).includes(e),`showOverlay: Given 'name'- ${e} of the overlay needs to be in the list of 'OverlayNames'`),QLogger$1.invariant(Object.values(OverlayTargetIds).includes(t),`showOverlay: Given 'name'- ${t} of the overlay needs to be in the list of 'OverlayTargetIds'`);const o=Overlay$2({name:e,targetId:t,data:n,options:r});return this.overlays.push(o),o},hideOverlay({id:e="",name:t="",targetId:n=""}){_.remove(this.overlays,r=>r.id===e||r.name===t||r.targetId===n)},hideAllOverlays(){this.overlays=[]}}});class SpecialEffects{constructor(t){this.dispatch=t,this.gameAppearance={},this.activatedPowerupEffects=[]}changeGameAppearance(t){this.dispatch("changeGameAppearance",t)}updatePowerupGameFlow(t){this.dispatch("updatePowerupGameFlow",t)}setGameAppearance(t){this.gameAppearance=t}getGameAppearance(){return this.gameAppearance}setActivatedPowerupEffects(t){this.activatedPowerupEffects=_.cloneDeep(t)}getParticularActivatedPowerupEffects(t){return _.filter(this.activatedPowerupEffects,r=>r.name===t)}getGameAppearanceStatus(t){return this.getGameAppearance()[t]}showOverlay({name:t,data:n}){const r=useUI();switch(t){case OverlayNames.POWERUP_STEAL_POINTS:r.showOverlay({name:t,data:n,targetId:OverlayTargetIds.GAME});break;case OverlayNames.POWERUP_OPEN_BOX:r.showOverlay({name:t,data:n,targetId:OverlayTargetIds.GAME,options:{isDissmissable:!1}});break;default:QLogger$1.error("Targetting.showOverlay: the given overlay name by the powerup is not present")}}}class Activate{constructor(t,n,r){this.dispatch=t,this.effectManager=n,this.powerupToActivate=r}activatePowerup(t){this.dispatch("activatePowerupFromMysteryBox",t)}getPowerupsConfig(){return PowerupsConfigManager$1.getConfig()}}class Targetting{constructor({rootState:t}){this.currentPlayerId=t.game.player.playerId}getPowerupTargets(t){return t.targets||[]}getPowerupApplier(t){return t.player||{}}isCurrentPlayerTheTarget(t){const n=this.getPowerupTargets(t);return isEmpty(n)?void 0:n.map(o=>o.id).includes(this.currentPlayerId)}isCurrentPlayerTheApplier(t){return this.currentPlayerId===this.getPowerupApplier(t).playerId}}class EffectManager{constructor(){this.effect=null}getEffect(){return this.effect}setEffect(t){this.effect=t}}class PowerupAPIs{constructor(t,n){this.actions=[],this.storeDispatcher=t.dispatch,this.effectManager=n}addAPI(t,n){this[t]=n}setEffect(t){this.effectManager.setEffect(t)}addAction(t,n){this.actions.push({action:t,payload:n})}dispatchActions(t=!0){_.forEach(this.actions,n=>{const{action:r,payload:o}=n;this.storeDispatcher(r,o)}),t&&(this.actions=[])}}class PowerupAPICreator{constructor(){this.store=null,this.effectManager=null}init(t){this.store=t,this.effectManager=new EffectManager}createAPI({base:t=0,timer:n=0,streak:r=0,total:o=0,currentStreak:s=0,previousStreak:a=0,isCorrect:u=!1,actualSelectedIndices:l=[],powerupToActivate:m={},gameAppearance:y={},activatedPowerupEffects:d=[]}){const f=new PowerupAPIs(this.store,this.effectManager),v=f.addAction.bind(f),A=new SpecialEffects(v);return A.setGameAppearance(y),A.setActivatedPowerupEffects(d),f.addAPI("score",new Score(this.effectManager,{base:t,timer:n,streak:r,total:o})),f.addAPI("streak",new Streak(v,{currentStreak:s,previousStreak:a})),f.addAPI("question",this.getQuestionAPI()),f.addAPI("response",new Response$1({isCorrect:u,actualSelectedIndices:l})),f.addAPI("activate",new Activate(v,f.effectManager,m)),f.addAPI("options",new Options(v)),f.addAPI("specialEffects",A),f.addAPI("targetting",new Targetting({powerupToActivate:m,rootState:this.store.state})),f}getQuestionAPI(){const t=this.store.getters.currentQuestion;let n=[],r=[],o="",s="";return t&&(n=Array.isArray(t.answer)?t.answer:[t.answer],r=t.options,o=t.id,s=t.type),new Question({answer:n,options:r,id:o,type:s})}}const PowerupAPICreator$1=new PowerupAPICreator;var tinyEmitter={exports:{}};function E$1(){}E$1.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;for(r;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var s=0,a=r.length;s<a;s++)r[s].fn!==t&&r[s].fn._!==t&&o.push(r[s]);return o.length?n[e]=o:delete n[e],this}};tinyEmitter.exports=E$1;tinyEmitter.exports.TinyEmitter=E$1;var tinyEmitterExports=tinyEmitter.exports,E=tinyEmitterExports,instance=new E;const emitter=getDefaultExportFromCjs(instance),GlobalEventBus={$on:(...e)=>emitter.on(...e),$once:(...e)=>emitter.once(...e),$off:(...e)=>emitter.off(...e),$emit:(...e)=>emitter.emit(...e)},MutationTypes={S_CONNECT_SUCCESS:"S_CONNECT_SUCCESS",S_CONNECT_NOTIFICATION_SUCCESS:"S_CONNECT_NOTIFICATION_SUCCESS",S_CHECK_ROOM_RESPONDED:"S_CHECK_ROOM_RESPONDED",S_CHECK_ROOM_IN_PROGRESS:"S_CHECK_ROOM_IN_PROGRESS",S_CHECK_ASSIGNMENT_RESPONDED:"S_CHECK_ASSIGNMENT_RESPONDED",S_CHECK_ASSIGNMENT_IN_PROGRESS:"S_CHECK_ASSIGNMENT_IN_PROGRESS",S_JOIN_ROOM_RESPONDED:"S_JOIN_ROOM_RESPONDED",S_JOIN_ROOM_IN_PROGRESS:"S_JOIN_ROOM_IN_PROGRESS",S_SOCKET_DISCONNECTED:"S_SOCKET_DISCONNECTED",S_SIMILAR_REQUEST_SENT:"S_SIMILAR_REQUEST_SENT",S_NEW_PLAYER_JOINED:"S_NEW_PLAYER_JOINED",S_PLAYER_DELETED:"S_PLAYER_DELETED",S_TEAM_PLAYER_SHUFFLED:"S_TEAM_PLAYER_SHUFFLED",R_CALL_FAILURE:"R_CALL_FAILURE",UPDATE_CALLS_IN_PROGRESS:"UPDATE_CALLS_IN_PROGRESS",PREVIOUS_CONTEXT_LOADED:"PREVIOUS_CONTEXT_LOADED",SHOW_MENU:"SHOW_MENU",HIDE_MENU:"HIDE_MENU",GOOGLE_CONFIG_LOADED:"GOOGLE_CONFIG_LOADED",USER_SIGNED_IN:"USER_SIGNED_IN",USER_SIGNED_OUT:"USER_SIGNED_OUT",SET_DEVICE_INFO:"SET_DEVICE_INFO",SET_DEVICE_ORIENTATION:"SET_DEVICE_ORIENTATION",SET_APP_STATE:"SET_APP_STATE",IOS_REVIEW_MODAL_DISPLAYED:"IOS_REVIEW_MODAL_DISPLAYED",UPDATE_SAVED_GAME_HISTORY_ON_DEVICE:"UPDATE_SAVED_GAME_HISTORY_ON_DEVICE",SAVE_GAME_HISTORY_ON_DEVICE:"SAVE_GAME_HISTORY_ON_DEVICE",LOG_IN_HOUSE_EVENT:"LOG_IN_HOUSE_EVENT",SET_APP_SETTINGS:"SET_APP_SETTINGS",SET_MUSIC_STATUS:"SET_MUSIC_STATUS",GAME_SUB_DOMAIN_WHITE_LISTED:"GAME_SUB_DOMAIN_WHITE_LISTED",RATING_UPDATE:"RATING_UPDATE",SET_DEVICE_MEDIA_DETAILS:"SET_DEVICE_MEDIA_DETAILS",GET_FEATURED_MEMESETS_RESPONDED:"GET_FEATURED_MEMESETS_RESPONDED",UPDATE_READ_ALOUD:"UPDATE_READ_ALOUD",UPDATE_READ_ALOUD_V2:"UPDATE_READ_ALOUD_V2",ADD_READ_ALOUD_ID:"ADD_READ_ALOUD_ID",SET_READ_ALOUD_ORDER:"SET_READ_ALOUD_ORDER",TOGGLE_PRE_GAME_ERROR_MESSAGE:"TOGGLE_PRE_GAME_ERROR_MESSAGE",SET_CURRENT_LANGUAGE:"SET_CURRENT_LANGUAGE",SET_CURRENT_THEME:"SET_CURRENT_THEME",SET_THEME_STREAK:"SET_THEME_STREAK",UPDATE_TICKER:"UPDATE_TICKER",UPDATE_GLOBAL_LOADERS_LIST:"UPDATE_GLOBAL_LOADERS_LIST",GAME_STARTED:"GAME_STARTED",GAME_COMPLETED:"GAME_COMPLETED",GAME_STOPPED:"GAME_STOPPED",GAME_ENDED:"GAME_ENDED",SET_CURRENT_QUESTION:"SET_CURRENT_QUESTION",UPDATE_SLIDE:"UPDATE_SLIDE",ANSWERED_CURRENT_QUESTION:"ANSWERED_CURRENT_QUESTION",UPDATE_SCORE:"UPDATE_SCORE",POWERUP_ACTIVATED_FROM_MYSTERY_BOX:"POWERUP_ACTIVATED_FROM_MYSTERY_BOX",EXIT_GAME:"EXIT_GAME",RESET_GAME:"RESET_GAME",SET_QUIZ_INFO:"SET_QUIZ_INFO",UPDATE_PLAYER_INFO_FOR_RETRY:"UPDATE_PLAYER_INFO_FOR_RETRY",SET_QUESTIONS:"SET_QUESTIONS",SET_MEME_SET:"SET_MEME_SET",SET_NEXT_POSSIBLE_MEMES:"SET_NEXT_POSSIBLE_MEMES",QUIZ_REVIEW_BUTTON_CLICKED:"QUIZ_REVIEW_BUTTON_CLICKED",COMPLETED_QUES_IMAGES_PREFETCH:"COMPLETED_QUES_IMAGES_PREFETCH",COMPLETED_QUES_AUDIO_PREFETCH:"COMPLETED_QUES_AUDIO_PREFETCH",QUESTION_ZOOM_TOGGLED:"QUESTION_ZOOM_TOGGLED",CLICKED_TO_SKIP_MEME:"CLICKED_TO_SKIP_MEME",REMOVE_RESPONSE_FROM_BUFFER:"REMOVE_RESPONSE_FROM_BUFFER",PLAYER_JOINED_THE_GAME:"PLAYER_JOINED_THE_GAME",PLAYER_QUESTIONS_OVER:"PLAYER_QUESTIONS_OVER",CHANGE_REMAINING_QUESTIONS_ORDER:"CHANGE_REMAINING_QUESTIONS_ORDER",ADD_QUESTION_TO_DONE_ORDER:"ADD_QUESTION_TO_DONE_ORDER",TOGGLE_RESPONSE_REDIT_MODE:"TOGGLE_RESPONSE_REDIT_MODE",UPDATE_QUESTION_RESPONSE:"UPDATE_QUESTION_RESPONSE",UPDATE_QUESTION_RESPONSES:"UPDATE_QUESTION_RESPONSES",CLEAR_QUESTION_RESPONSE:"CLEAR_QUESTION_RESPONSE",SET_INITIAL_GAME_METADATA:"SET_INITIAL_GAME_METADATA",SET_TEST_TIMER_COUNTER:"SET_TEST_TIMER_COUNTER",SET_IS_TEST_TIMER_ENABLED:"SET_IS_TEST_TIMER_ENABLED",PROCEED_GAME_IN_PROGRESS:"PROCEED_GAME_IN_PROGRESS",PROCEED_GAME_RESPONDED:"PROCEED_GAME_RESPONDED",PROCEED_GAME_RESPONDED_WITH_ERROR:"PROCEED_GAME_RESPONDED_WITH_ERROR",REJOIN_GAME_IN_PROGRESS:"REJOIN_GAME_IN_PROGRESS",REJOIN_GAME_RESPONDED:"REJOIN_GAME_RESPONDED",REJOIN_GAME_RESPONDED_WITH_ERR:"REJOIN_GAME_RESPONDED_WITH_ERR",UPDATE_STREAK:"UPDATE_STREAK",SET_DATA_FOR_SOLO_SETTINGS:"SET_DATA_FOR_SOLO_SETTINGS",REACHED_SUMMARY_FOR_FIRST_TIME_IN_GAME:"REACHED_SUMMARY_FOR_FIRST_TIME_IN_GAME",CHANGE_CURRENT_OPTIONS_APPEARANCE:"CHANGE_CURRENT_OPTIONS_APPEARANCE",CHANGE_GAME_APPEARANCE:"CHANGE_GAME_APPEARANCE",DRAG_AND_DROP_UPDATE:"DRAG_AND_DROP_UPDATE",CLASSIFICATION_UPDATE:"CLASSIFICATION_UPDATE",DRAG_AND_DROP_UPDATE_RESET:"DRAG_AND_DROP_UPDATE_RESET",UPDATE_POWERUP_GAME_FLOW:"UPDATE_POWERUP_GAME_FLOW",NICKNAME_JOIN_DUPLICATE_ERR:"NICKNAME_JOIN_DUPLICATE_ERR",SET_CHALLENGE_LIVE_LEADERBOARD:"SET_CHALLENGE_LIVE_LEADERBOARD",SET_GAME_START_SOURCE:"SET_GAME_START_SOURCE",SET_APP_SETTINGS_TO_REVERT_AT_GAME_END:"SET_APP_SETTINGS_TO_REVERT_AT_GAME_END",UPDATE_QUESTION_TIMER:"UPDATE_QUESTION_TIMER",SET_LIVE_WHITEBOARD_STATES:"SET_LIVE_WHITEBOARD_STATES",UPDATE_SKIPPED_QUESTIONS:"UPDATE_SKIPPED_QUESTIONS",ADD_POWERUP_NUDGE_INTERACTION:"ADD_POWERUP_NUDGE_INTERACTION",SET_BOX_AWARD_PROGRESS:"SET_BOX_AWARD_PROGRESS",PAUSE_GAME:"PAUSE_GAME",COUNTDOWN_PAUSE_321:"COUNTDOWN_PAUSE_321",SET_REPLAY_ASYNC_MODAL_OPTIONS:"SET_REPLAY_ASYNC_MODAL_OPTIONS",SET_ROOM_HASH_BEFORE_REPLAY:"SET_ROOM_HASH_BEFORE_REPLAY",GAME_ISSUES_UPDATE:"GAME_ISSUES_UPDATE",ENABLE_ANSWER_FEEDBACK:"ENABLE_ANSWER_FEEDBACK",DISABLE_ANSWER_FEEDBACK:"DISABLE_ANSWER_FEEDBACK",UPDATE_ANSWER_LATER_QUESTIONS:"UPDATE_ANSWER_LATER_QUESTIONS",ATTEMPTED_ANSWER_LATER_QUESTION:"ATTEMPTED_ANSWER_LATER_QUESTION",SHOWING_ANSWER_LATER_QUESTIONS:"SHOWING_ANSWER_LATER_QUESTIONS",SHOW_POWERUP_ON_BREAKROOM:"SHOW_POWERUP",SET_REDEMPTION_CURRENT_QUESTION_NUMBER:"SET_REDEMPTION_CURRENT_QUESTION_NUMBER",SHOWING_REVIEW_SCREEN:"SHOWING_REVIEW_SCREEN",SET_CURRENT_PLAYER_RANK:"SET_CURRENT_PLAYER_RANK",UPDATE_PLAYER_NAME:"UPDATE_PLAYER_NAME",SET_INCOMPLETE_GAME:"SET_INCOMPLETE_GAME",UPDATE_INCOMPLETE_GAME:"UPDATE_INCOMPLETE_GAME",CLEAR_INCOMPLETE_GAME:"CLEAR_INCOMPLETE_GAME",UPDATE_PLAYER_STATS:"UPDATE_PLAYER_STATS",UPDATE_FLAGGED_QUESTION:"UPDATE_FLAGGED_QUESTION",UPDATE_SELECTED_TAB_IN_REVIEW:"UPDATE_SELECTED_TAB_IN_REVIEW",UPDATE_PREVIOUS_ACCURACY:"UPDATE_PREVIOUS_ACCURACY",SET_CURRENT_TEAM_RANK:"SET_CURRENT_TEAM_RANK",FETCH_TEAM_PLAYERS_RESPONDED:"FETCH_TEAM_PLAYERS_RESPONDED",PROFILE_INFO_UPDATION_IN_PROGRESS:"PROFILE_INFO_UPDATION_IN_PROGRESS",PROFILE_INFO_UPDATED:"PROFILE_INFO_UPDATED",PROFILE_INFO_OVERLAY_SUBMISSION:"PROFILE_INFO_OVERLAY_SUBMISSION",EMAIL_VALIDATION_IN_PROGRESS:"EMAIL_VALIDATION_IN_PROGRESS",EMAIL_VALIDATION_COMPLETED:"EMAIL_VALIDATION_COMPLETED",UPDATE_GAME_FACE_IMAGE_UPLOAD_DETAILS_STATE:"UPDATE_GAME_FACE_IMAGE_UPLOAD_DETAILS_STATE",PHONE_VALIDATION_IN_PROGRESS:"PHONE_VALIDATION_IN_PROGRESS",PHONE_VALIDATION_COMPLETED:"PHONE_VALIDATION_COMPLETED",ROOM_CODE_BEING_TYPED:"ROOM_CODE_BEING_TYPED",SUMMARY_REVIEW_DRAWER_TOGGLED:"SUMMARY_REVIEW_DRAWER_TOGGLED",SUMMARY_REVIEW_QUESTION_INTERACTED:"SUMMARY_REVIEW_QUESTION_INTERACTED",SHARE_QUIZ_RESULT:"SHARE_QUIZ_RESULT",LIVE_GAMES_INTERACTED:"LIVE_GAMES_INTERACTED",CHECK_CONNECTION_WARNING_SHOWN:"CHECK_CONNECTION_WARNING_SHOWN",CHANGE_OVERLAY_MESSAGE:"CHANGE_OVERLAY_MESSAGE",SET_OVERLAY_TYPE:"SET_OVERLAY_TYPE",JOIN_SOLO_GAME_IN_PROGRESS:"JOIN_SOLO_GAME_IN_PROGRESS",JOIN_SOLO_GAME_RESPONDED:"JOIN_SOLO_GAME_RESPONDED",PREVIEW_FEATURED_QUIZ:"PREVIEW_FEATURED_QUIZ",PREVIEW_SEARCH_RESULT:"PREVIEW_SEARCH_RESULT",START_SOLO_QUIZ:"START_SOLO_QUIZ",SEARCH_IN_PROGRESS:"SEARCH_IN_PROGRESS",SEARCH_RESPONDED:"SEARCH_RESPONDED",SEARCH_RESPONDED_WITH_ERR:"SEARCH_RESPONDED_WITH_ERR",SEARCH_FEATURED_IN_PROGRESS:"SEARCH_FEATURED_IN_PROGRESS",SEARCH_FEATURED_RESPONDED:"SEARCH_FEATURED_RESPONDED",SEARCH_FEATURED_RESPONDED_WITH_ERROR:"SEARCH_FEATURED_RESPONDED_WITH_ERROR",RESET_QUIZZES:"RESET_QUIZZES",GET_QUIZ_RECOMMENDATIONS_RESPONDED:"GET_QUIZ_RECOMMENDATIONS_RESPONDED",GET_SIMILAR_QUIZZES_RESPONDED:"GET_SIMILAR_QUIZZES_RESPONDED",UPDATE_RECOMENDATION_QUIZ_DATA:"UPDATE_RECOMENDATION_QUIZ_DATA",FEATURED_RECOMMENDATIONS_RESPONDED:"FEATURED_RECOMMENDATIONS_RESPONDED",UPDATE_SEARCH_QUERY_DETAILS:"UPDATE_SEARCH_QUERY_DETAILS",PROFILE_INFO_UPDATE_IN_PROGRESS:"PROFILE_INFO_UPDATE_IN_PROGRESS",AUTHENTICATION_IN_PROGRESS:"AUTHENTICATION_IN_PROGRESS",AUTHENTICATION_COMPLETED:"AUTHENTICATION_COMPLETED",FETCH_RUNNING_GAMES_LIST_IN_PROGRESS:"FETCH_RUNNING_GAMES_LIST_IN_PROGRESS",FETCH_RUNNING_GAMES_LIST_RESPONDED:"FETCH_RUNNING_GAMES_LIST_RESPONDED",FETCH_RUNNING_GAMES_LIST_RESPONDED_WITH_ERROR:"FETCH_RUNNING_GAMES_LIST_RESPONDED_WITH_ERROR",FETCH_COMPLETED_GAMES_LIST_IN_PROGRESS:"FETCH_COMPLETED_GAMES_LIST_IN_PROGRESS",FETCH_COMPLETED_GAMES_LIST_RESPONDED:"FETCH_COMPLETED_GAMES_LIST_RESPONDED",FETCH_COMPLETED_GAMES_LIST_RESPONDED_WITH_ERROR:"FETCH_COMPLETED_GAMES_LIST_RESPONDED_WITH_ERROR",SET_RECENT_ACTIVITY_LIST:"SET_RECENT_ACTIVITY_LIST",UPDATE_ATTEMPTS_QUIZ_DATA:"UPDATE_ATTEMPTS_QUIZ_DATA",UPDATE_COMMON_QUIZZES_DATA:"UPDATE_COMMON_QUIZZES_DATA",CHANGE_CURRENT_PAGE:"CHANGE_CURRENT_PAGE",UPDATE_NAVIGATION_TYPE:"UPDATE_NAVIGATION_TYPE",LMS_LINK_DECODED:"LMS_LINK_DECODED",ENTER_LMS_FLOW:"ENTER_LMS_FLOW",TOGGLE_DIALOG:"TOGGLE_DIALOG",GROUP_INFO_RESPONDED:"GROUP_INFO_RESPONDED",JOIN_GROUP_RESPONDED:"JOIN_GROUP_RESPONDED",UPDATE_GROUP_ASSIGNED_GAMES:"UPDATE_GROUP_ASSIGNED_GAMES",SET_GROUPS_LIST:"SET_GROUPS_LIST",CLEAR_PRE_GAME_QUIZ_INFO:"CLEAR_PRE_GAME_QUIZ_INFO",SET_PRE_GAME_INFO:"SET_PRE_GAME_INFO",NOTIFICATION_SUBSCRIBED:"NOTIFICATION_SUBSCRIBED",TOGGLE_SHOW_ONCE_NOTIFICATION:"TOGGLE_SHOW_ONCE_NOTIFICATION",COURSE_DETAILS_POPULATED:"COURSE_DETAILS_POPULATED",W_TOGGLE_MODAL:"W_TOGGLE_MODAL",W_UPDATE_MODAL_OPTIONS:"W_UPDATE_MODAL_OPTIONS",SAVE_AVATAR_RESPONDED:"SAVE_AVATAR_RESPONDED",W_TOGGLE_SNACKBAR:"W_TOGGLE_SNACKBAR",W_TOGGLE_POWERUP_TOAST:"W_TOGGLE_POWERUP_TOAST",SET_CURRENT_OPTIONS_VISIBILITY:"SET_CURRENT_OPTIONS_VISIBILITY",W_TOGGLE_GAME_FACE_TOAST:"W_TOGGLE_GAME_FACE_TOAST",UPDATE_GAME_FACE_TOAST_QUEUE:"UPDATE_GAME_FACE_TOAST_QUEUE",REJOINED_ON_PAGE_LOAD:"REJOINED_ON_PAGE_LOAD",TOGGLE_PAGE_LOADER:"TOGGLE_PAGE_LOADER",REJOINED_ON_SUMMARY_PAGE:"REJOINED_ON_SUMMARY_PAGE",SET_APP_MODES:"SET_APP_MODES",FETCH_USERS_QUIZZES_RESPONDED:"FETCH_USERS_QUIZZES_RESPONDED",FETCH_USERS_QUIZZES_ERRORED:"FETCH_USERS_QUIZZES_ERRORED",AWARD_POWERUPS:"AWARD_POWERUPS",UPDATE_POWERUPS:"UPDATE_POWERUPS",ADD_POWERUP_EFFECT:"ADD_POWERUP_EFFECT",ADD_POWERUP_EFFECTS_TO_DESTROY_LIST:"ADD_POWERUP_EFFECTS_TO_DESTROY_LIST",UPDATE_POWERUP_EFFECT:"UPDATE_POWERUP_EFFECT",UPDATE_POWERUP_EFFECTS:"UPDATE_POWERUP_EFFECTS",UPDATE_POWERUP_EFFECT_DESTROY_LIST:"UPDATE_POWERUP_EFFECT_DESTROY_LIST",SET_REQUEST_COUNTRY:"SET_REQUEST_COUNTRY",HOST_GAME_RESPONDED:"HOST_GAME_RESPONDED",SET_STRIPE_SCRIPT_LOAD_STATUS:"SET_STRIPE_SCRIPT_LOAD_STATUS",SHOW_GOOGLE_ONETAP:"SHOW_GOOGLE_ONETAP",HIDE_GOOGLE_ONETAP:"HIDE_GOOGLE_ONETAP",HIDE_PLAYER_EDUCATION_FOR_MATCH_AND_REORDER:"HIDE_PLAYER_EDUCATION_FOR_MATCH_AND_REORDER",HIDE_PLAYER_EDUCATION_FOR_DRAG_AND_DROP:"HIDE_PLAYER_EDUCATION_FOR_DRAG_AND_DROP",HIDE_PLAYER_EDUCATION_FOR_HOTSPOT:"HIDE_PLAYER_EDUCATION_FOR_HOTSPOT",HIDE_PLAYER_EDUCATION_FOR_CLASSIFICATION:"HIDE_PLAYER_EDUCATION_FOR_CLASSIFICATION",HIDE_PLAYER_EDUCATION_FOR_GRAPHING_POINTS:"HIDE_PLAYER_EDUCATION_FOR_GRAPHING_POINTS",HIDE_PLAYER_EDUCATION_FOR_GRAPHING_DRAGGING:"HIDE_PLAYER_EDUCATION_FOR_GRAPHING_DRAGGING",PUSH_TOAST:"PUSH_TOAST",SHIFT_TOAST:"SHIFT_TOAST",DROP_PLAYER_HAND:"DROP_PLAYER_HAND",TOGGLE_RAISE_HANDS:"TOGGLE_RAISE_HANDS",RESET_DROPPED_STATES:"RESET_DROPPED_STATES",PERSIST_RAISE_HAND:"PERSIST_RAISE_HAND",TOGGLE_RAISE_HAND_FOR_SLIDE:"TOGGLE_RAISE_HAND_FOR_SLIDE",REACTION_UPDATED:"REACTION_UPDATED",TOGGLE_LIVE_REACTIONS:"TOGGLE_LIVE_REACTIONS",PLAYER_ONCE_AGAIN_DISABLED:"PLAYER_ONCE_AGAIN_DISABLED",NEW_REACTION_ANIMATION_DISABLED:"NEW_REACTION_ANIMATION_DISABLED",UPDATE_GAME_OPTIONS:"UPDATE_GAME_OPTIONS",UPDATE_INCORRECT_ATTEMPT:"UPDATE_INCORRECT_ATTEMPT",ADD_QUESTION_TO_CORRECT_ATTEMPT:"ADD_QUESTION_TO_CORRECT_ATTEMPT",REMOVE_QUESTION_FROM_CORRECT_ATTEMPT:"REMOVE_QUESTION_FROM_CORRECT_ATTEMPT",ADD_QUESTION_TO_INCORRECT_ATTEMPT:"ADD_QUESTION_TO_INCORRECT_ATTEMPT",REMOVE_QUESTION_FROM_INCORRECT_ATTEMPT:"REMOVE_QUESTION_FROM_INCORRECT_ATTEMPT",UPDATE_BREAKROOM_TYPE:"UPDATE_BREAKROOM_TYPE",SET_PATH_FINDER_TYPE:"SET_PATH_FINDER_TYPE",UPDATE_HAS_REACHED_MASTERY_IN_MYSTIC_PEAK_ATLEAST_ONCE:"UPDATE_HAS_REACHED_MASTERY_IN_MYSTIC_PEAK_ATLEAST_ONCE",SET_TIERED_RANK:"SET_TIERED_RANK",HAS_REACHED_MASTERY:"HAS_REACHED_MASTERY",UPDATE_DONE_QUESTIONS_FREQUENCY:"UPDATE_DONE_QUESTIONS_FREQUENCY",SET_PATH_FINDER_ON_REJOIN:"SET_PATH_FINDER_ON_REJOIN",UPDATE_WAITING_MYSTIC_LEADERBOARD:"UPDATE_WAITING_MYSTIC_LEADERBOARD",SET_ACTION_ERROR_TRACE:"SET_ACTION_ERROR_TRACE",EMPTY_ACTION_ERROR_TRACE:"EMPTY_ACTION_ERROR_TRACE"},LOCALSTORAGE_PREVIOUS_CONTEXT_KEY_NAME="previousContext";function saveCurrentContext({rootState:e}){const t=saveCurrentContextCooker(e);LocalStorage$1.setItem(LOCALSTORAGE_PREVIOUS_CONTEXT_KEY_NAME,t)}async function loadPreviousContext({commit:e,dispatch:t,rootState:n,getters:r}){try{const o=LocalStorage$1.getItem(LOCALSTORAGE_PREVIOUS_CONTEXT_KEY_NAME,{removeItemOnError:!0}),s=loadPreviousContextCooker(n,o,r);e(MutationTypes.PREVIOUS_CONTEXT_LOADED,s.prevContext),s.shouldSetAppLanguage&&await t("setCurrentLanguage",{lang:s.selectedLanguage}),s.shouldSetAppTheme&&t("setCurrentTheme",s.setThemeMutationPayload)}catch(o){QLogger$1.logForSession(["Error at loadPreviousContext",o],"error"),e(MutationTypes.PREVIOUS_CONTEXT_LOADED,{})}}function soc_disconnect({commit:e,state:t},{response:n}){const r=n==="io client disconnect",o=t.routing.currentPage,s=!(PageNames.isExactly(o,PageNames.List.IN_GAME.SUMMARY)||PageNames.matches(o,PageNames.List.LANDING)&&!t.game.flow.isValidRoom);e(MutationTypes.S_SOCKET_DISCONNECTED,{shouldShowOverlay:s,disconnectedManually:r})}function soc_reconnect({dispatch:e,rootState:t,commit:n}){const{game:r}=t;if(r.player.hasJoinedTheGame&&isAnAssignedGame(r.data.gameType)){e("reconnectToGame");return}n(MutationTypes.S_CONNECT_SUCCESS)}function soc_addPlayer({commit:e,rootState:t,dispatch:n},{response:r}){const{game:o,rootReducer:s,routing:a}=t,u=o.data,l=Player(r),m=[...t.game.data.players];m.unshift(l);const y={teams:u.teams,isNewPlayerFromCurrentTeam:!1,players:m};if(u.gameMode===Constants.GameMode.TEAM){const v=_.findIndex(u.teams,{teamId:l.teamId});if(v>=0){const A=[...u.teams],I=A[v].totalPlayers+1;A[v]={...A[v],totalPlayers:I},y.teams=A}l&&l.teamId===o.team.teamId&&(y.isNewPlayerFromCurrentTeam=!0)}const d=u.gameMode===Constants.GameMode.CHALLENGE,f=PageNames.isExactly(a.currentPage,PageNames.List.IN_GAME.CHALLENGE_PRE_SUMMARY);d&&f&&(y.challengeLeaderboardNewPlayer={playerId:l.id,monster:l.monsterId,monsterId:l.monsterId,origin:l.origin,score:0,rank:y.players.length,currentStreak:0,totalAttempts:0,totalCorrect:0,isProfane:!!isProfane(l.id)}),e(MutationTypes.S_NEW_PLAYER_JOINED,y)}function soc_deletePlayer({commit:e,rootState:t,dispatch:n},{response:r}){const o=socDeletePlayerResponseCooker(t,r);if(o.isAnotherPlayerDeleted){const s=o.payload;o.shouldDeletePlayerFromChallengeLeaderboard&&(s.challengeLiveLeaderboard=o.challengeLiveLeaderboard),e(MutationTypes.S_PLAYER_DELETED,s);return}n("handleCurrentPlayerDeleted")}function soc_teamPlayerShuffled({commit:e,rootState:t},{response:n}){const{game:r}=t;if(r.data.gameMode===Constants.GameMode.TEAM&&n.mapping&&n.teams){const o=n.mapping[r.player.playerId],s=n.teams,a=_.map(r.data.players,y=>({...y,teamId:n.mapping[y.playerId]||""}));let u=r.team.teamName,l=r.team.totalPlayers;const m=_.find(s,y=>y.teamId===o);m&&(u=m.teamName,l=m.totalPlayers),e(MutationTypes.S_TEAM_PLAYER_SHUFFLED,{teams:s,teamId:o,currentTeamName:u,currentTeamTotalPlayers:l,players:a})}}function prepareReplay({commit:e,dispatch:t,rootState:n},{response:r}){const{routing:o,game:s,user:a,applicationContext:u}=n,l=getGameType(r.gameType),m=getGameMode(r.gameType),y=_.get(r,"host.occupation",s.data.hostOccupation);if(!canShowReplayLiveGameModal(o.currentPage))return;if(m===Constants.GameMode.CHALLENGE){const f=a.profile.mongoId,v=u.deviceInfo.quizizzUID,A=_.get(r,"replayMeta.hostId",""),I=_.get(r,"replayMeta.hostSessionId","");if(A&&A===f||I&&I===v)return;t("toggleModal",{type:Constants.W_MODAL_TYPES.CHALLENGE_REPLAY_NOTIF,options:{...r}}),setTimeout(()=>{t("clearPreGameQuizInfo"),t("challengeReplayNotifAcceptedPipeline",{roomHash:r.roomHash,roomCode:r.roomCode})},3e3);return}return{isReplayLiveGameModal:!0,gameTypeOfNextGame:l,gameModeOfNextGame:m,gameInfo:{gameCode:r.roomCode,roomHash:r.roomHash,hostOccupation:y}}}async function soc_replayAsync({commit:e,dispatch:t,rootState:n},{response:r}){const{game:o}=n;InHouseEventLogger$1.logEvent(WebEvents.TRIGGER_REPLAY_ASYNC,{expiry:o.data.expiry,isLoggedIn:n.user.profile.isLoggedIn,roomHash:r.roomHash,oldRoomHash:o.data.roomHash});const s=o.player.playerId,a=prepareReplay({commit:e,dispatch:t,rootState:n},{response:r});if(!a)return;const u={roomHash:_.clone(r.roomHash),playerId:_.clone(s.trim()),startSource:_.clone(GameStartSource.get(GameStartSource.List.REPLAY.REPLAY_LIVE_GAME_ASYNC)),handlePreGameErrorAs:"dialog",forcePageChange:!1,preventPageChange:!0};await t("joinRoom",u),a.isReplayLiveGameModal=!1,a.isReplayAsync=!0,t("setReplayAsyncModalOptions",a),t("toggleModal",{type:Constants.W_MODAL_TYPES.GAME_ASSIGNED_NOTIF,options:a})}function soc_replayGame({commit:e,dispatch:t,rootState:n},{response:r}){const{game:o}=n;InHouseEventLogger$1.logEvent(WebEvents.TRIGGER_REPLAY,{expiry:o.data.expiry,isLoggedIn:n.user.profile.isLoggedIn,roomHash:r.roomHash,oldRoomHash:o.data.roomHash});const s=prepareReplay({commit:e,dispatch:t,rootState:n},{response:r});s&&t("toggleModal",{type:Constants.W_MODAL_TYPES.GAME_ASSIGNED_NOTIF,options:s})}function soc_playerResponded({commit:e,rootState:t},{response:n}){const r=socPlayerRespondedCooker(t,n);r.shouldUpdateLeaderboard&&(e(MutationTypes.SET_CHALLENGE_LIVE_LEADERBOARD,r),e(MutationTypes.SET_CURRENT_PLAYER_RANK,r))}function soc_gameStarted({dispatch:e,rootState:t},{response:n}){const{game:r}=t;let o=r.team.teamId,s=r.data.teams,a=r.data.players,u=r.team.totalPlayers,l=null;if(n.mapping&&n.teams){o=n.mapping[r.player.playerId],s=n.teams,a=_.map(a,d=>({...d,teamId:n.mapping[d.playerId]||""}));const y=_.find(s,d=>d.teamId===r.team.teamId);u=_.get(y,"totalPlayers",u)}!isEmpty(n.nextQuestion)&&!isEmpty(n.nextQuestion.questionId)&&(l={...n.nextQuestion,questionId:n.nextQuestion.questionId,state:n.nextQuestion.state||""}),e("startGame",{teams:s,teamId:o,players:a,currentTeamTotalPlayers:u,nextQuestion:l}),e("soc_setGameTimer",{response:n})}function soc_gameOverAll({dispatch:e,rootState:t},{response:n}){const r=socGameOverForAllResponseCooker(t,n);e("gameCompleted",r)}function soc_gameEnded({dispatch:e,commit:t,rootState:n},{response:r}){const o=socGameOverForAllResponseCooker(n,r);o.shouldUpdateLeaderboard&&t(MutationTypes.SET_CHALLENGE_LIVE_LEADERBOARD,o),n.game.questions.slidesFlowControlType===Constants.SlidesFlowControlTypes.NONE&&t(MutationTypes.PLAYER_QUESTIONS_OVER),e("gameStopped",o)}function soc_updateQuestion({dispatch:e,commit:t,rootState:n,getters:r},{response:o}){const{game:s}=n,{question:a}=o;if(!isEmpty(s.questions.initSequence)&&isEmpty(s.questions.list)||r.isCurrentQuestionSkipped||(e("updateSlide",a),!r.hasCurrentQuestionBeenAnswered||r.isCurrentQuestionCurrentAttemptEvaluated||isEmpty(a.structure)||!r.isCurrentSlideInteractable))return;const u=evaluatePlayerResponse(r.currentQuestionCurrentAttemptResponse,r.currentQuestion),l=r.currentQuestionCurrentAttemptResponse.provisional,m={...r.currentQuestionCurrentAttemptResponse,isCorrect:u,score:_.clone(u?l.scores.correct:l.scores.incorrect),scoreBreakup:ScoreBreakup(_.clone(u?l.scoreBreakups.correct:l.scoreBreakups.incorrect)),teamAdjustment:_.clone(u?l.teamAdjustments.correct:l.teamAdjustments.incorrect),isEvaluated:!0};t(MutationTypes.UPDATE_QUESTION_RESPONSE,{updatedResponse:m})}function soc_proceedHostGame({dispatch:e,commit:t,rootState:n},{response:r}){e("updateSlide",r.currentQuestion),e("updateSlide",r.nextQuestion),e("setNextQuestion",r)}function soc_addNotification({commit:e,rootState:t,dispatch:n},{response:r}){const o=_.get(r,"notification.kind","");switch(o){case"game-assigned":n("gameAssignedNotifHandler",{response:r});break;default:QLogger$1.logForSession(`Warning at addNotification SocketMessageHandler: no handler for the notification kind '${o}'`,"warn")}}function soc_reactionStopped({commit:e,rootState:t,dispatch:n},{response:r}){n("toggleLiveReactions",r)}function soc_raiseHandToggled({commit:e,rootState:t,dispatch:n},{response:r}){n("toggleRaiseHands",r)}function soc_addPowerupEffect({commit:e,rootState:t,dispatch:n,getters:r},{response:o}){const s=PowerupsConfigManager$1.getConfig(),a=t.game.data.gameType,u=t.game.data.gameMode,l=t.game.flow.gameAppearance,m=r.activatedPowerupEffects;if((!r.isPowerupsOn||a===Constants.GameType.SOLO||u===Constants.GameMode.TEST)&&u!==Constants.GameMode.MYSTIC_PEAK)return;const y=o.powerupEffect,d=y._id;delete y._id,y.id=d,e(MutationTypes.ADD_POWERUP_EFFECT,{powerupEffect:y});const f=PowerupAPICreator$1.createAPI({gameAppearance:l,activatedPowerupEffects:m}),v=r.gameScopePowerupEffects,A=_.get(y,"meta.player.playerId",""),I=_.get(y,"meta.player.monsterId",""),P=s[y.name];PowerupEffects$1.applySpecialEffects([y],"onActivate",f),PowerupEffects$1.applyEffects(v,f);let O=P.notification.onActivateByOtherUser||`activated ${P.title}!`;u===Constants.GameMode.MYSTIC_PEAK&&(O=getTranslatedText("caused avalanche on your screen"));const R={title:P.title,name:y.name,playerId:A,message:O,type:"external-powerup-effect",styles:P.styles,monsterId:I};if(P.shouldPersistNotification){const M=P.time/1e3,k=(Date.now()-new Date(y.meta.startTime).getTime())/1e3;let U=M-k;U>M&&(U=M),R.destroyInTime=U}P.shoudlDisableNotificationForReceiver||n("togglePowerupToast",{isVisible:!0,options:R})}function soc_dropHand({commit:e,rootState:t,dispatch:n},{response:r}){n("dropStudentHand",r)}async function soc_authTokenExpired({dispatch:e}){try{await e("disconnectSocket"),await e("handleAuthTokenRefresh"),await e("connectSocket")}catch(t){QLogger$1.error("Error at socket action authTokenExpired",t)}}async function soc_hostCanvasActions({commit:e,dispatch:t},{response:n}){const r=_.get(n,"actions[0].type",!1),o=_.get(n,"actions[0].data",!1),s=(a,u=!0)=>{t("handleSyncingLiveWhiteboardState",{states:a,shouldUpdate:u,updateDelay:100})};switch(r){case Constants.LiveWhiteboardActions.SHOW_CANVAS:s({host:{isVisible:!0},player:{isVisible:!0}}),setTimeout(()=>{GlobalEventBus.$emit("liveWhiteboard:action",{type:Constants.LiveWhiteboardActions.UPDATE_CANVAS,data:o})},100);break;case Constants.LiveWhiteboardActions.HIDE_CANVAS:s({host:{isVisible:!1},player:{isVisible:!1}});break;case Constants.LiveWhiteboardActions.ENABLE_PLAYER_CANVAS:const a=o.metadata.clearHostCanvas;s({player:{canDraw:!0}},a),t("toggleSnackBar",{isVisible:!0,options:{message:getTranslatedText("Your whiteboard is enabled, try drawing!")}});break;case Constants.LiveWhiteboardActions.DISABLE_PLAYER_CANVAS:s({player:{canDraw:!1}});break;default:GlobalEventBus.$emit("liveWhiteboard:action",{type:r,data:o})}}async function soc_setGameTimer({state:e,dispatch:t,rootState:n},{response:r}){const o=_.get(r,"expiry",void 0),s=_.get(r,"totalTimeLeft",void 0),a=_.get(r,"delta",void 0),u=n.game.data.isTestTimerEnabled;(o||s)&&(t("setTestTimerCounter",o||s),t("showTestTimeAddedAlert",o||a),u||t("updateIsTestTimerEnabled",!0))}function soc_pauseGame({dispatch:e,commit:t,rootState:n,getters:r},{response:o}){e("pauseGame",o.pauseFor)}function soc_updateGameOptions({dispatch:e},{response:t}){const{updates:n}=t;_.intersection(Object.values(Constants.GS_RELOAD_NEEDED),Object.keys(n)).length?e("handleGameLockFails",{name:"game.settingsOutOfSync|confirm"}):e("updateGameOptions",t)}function soc_quizUpdated({dispatch:e},{response:t}){e("handleGameLockFails",{name:"game.quizModified|confirm"})}const allBaseActions=Object.freeze(Object.defineProperty({__proto__:null,loadPreviousContext,saveCurrentContext,soc_addNotification,soc_addPlayer,soc_addPowerupEffect,soc_authTokenExpired,soc_deletePlayer,soc_disconnect,soc_dropHand,soc_gameEnded,soc_gameOverAll,soc_gameStarted,soc_hostCanvasActions,soc_pauseGame,soc_playerResponded,soc_proceedHostGame,soc_quizUpdated,soc_raiseHandToggled,soc_reactionStopped,soc_reconnect,soc_replayAsync,soc_replayGame,soc_setGameTimer,soc_teamPlayerShuffled,soc_updateGameOptions,soc_updateQuestion},Symbol.toStringTag,{value:"Module"}));let customAlphabet=(e,t=21)=>(n=t)=>{let r="",o=n;for(;o--;)r+=e[Math.random()*e.length|0];return r};const GAME_OUTCOMES={WIN:"WIN",LOSE:"LOSE",TIME_UP:"TIME_UP"},MINI_GAME_TYPES={SLIDING_PUZZLE:"map-puzzle",OBSTACLE_AVOIDANCE:"obstacle-avoidance",DANGEROUS_CAVE:"dangerous-cave"},BREAK_ROOM_TYPES={OBSTACLES:"obstacle",POWERUP_SELECTION:"powerup_selection",LEVEL_UP:"level_up",PATH_FINDER:"path_finder",WAITING_FOR_OTHERS:"waiting_for_others"};function isBreakRoomEnabled(e,t){return e===Constants.GameMode.MYSTIC_PEAK&&t&&t.length>0}function getBreakRoomConfig({gameMode:e,breakRoomArr:t=[]}){return{shouldShow:isBreakRoomEnabled(e,t),breakRoomType:BREAK_ROOM_TYPES.POWERUP_SELECTION}}const BREAK_ROOM_ITEM_TYPES={powerup:"powerup",safeSpot:"safe_spot",obstacle:"obstacle"},obstacleConfig={"map-puzzle":{name:"map-puzzle",title:"Sliding Map",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/powerups/slidingwindowicon.png",lg:"https://cf.quizizz.com/join/img/mystic_peak/powerups/slidingwindowicon.png"},description:"Find directions to the mountain top",styles:{backgroundGradientColor:"rgba(0, 135, 155, 0.5)",backgroundColor:"#005C83",accentColor:"#00879B"}},"obstacle-avoidance":{name:"obstacle-avoidance",title:"Landslide",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/lanslide-new-3.png",lg:"https://cf.quizizz.com/join/img/mystic_peak/lanslide-new-3.png"},description:"Run away from the falling rocks",styles:{backgroundGradientColor:"rgba(0, 135, 155, 0.5)",backgroundColor:"#005C83",accentColor:"#00879B"}},"dangerous-cave":{name:"dangerous-cave",title:"Dangerous Cave",image:{sm:"https://cf.quizizz.com/game/img/powerups/temp/bat-rotated.svg",lg:"https://cf.quizizz.com/game/img/powerups/temp/bat-rotated.svg"},description:"Save yourself from the scary bats",styles:{backgroundGradientColor:"rgba(0, 135, 155, 0.5)",backgroundColor:"#005C83",accentColor:"#00879B"}}},MysticPeakPowerupsConfig={eraser:{title:"eraser",styles:{backgroundGradientColor:"rgba(211, 48, 61, 0.5)",backgroundColor:"#5A0C0C",accentColor:"#CF1A28"},description:"Eliminate one incorrect option.",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/powerups/Eraser.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/powerups/eraserWithBg.svg",xs:"https://cf.quizizz.com/join/img/mystic_peak/powerups/eraserxs.svg"}},"50-50":{title:"50/50",description:"Make half the incorrect options disappear.",styles:{backgroundGradientColor:"rgba(251, 152, 140, 0.5)",backgroundColor:"#E33E4E",accentColor:"#FB988C"},image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/powerups/50-50.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/powerups/50-50WithBg.svg",xs:"https://cf.quizizz.com/join/img/mystic_peak/powerups/50-50xs.svg"}},immunity:{title:"Immunity",description:"Get a second chance after an incorrect answer.",styles:{backgroundGradientColor:"rgba(242, 79, 201, 0.5)",backgroundColor:"#451431",accentColor:"#F24FC9"},image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/powerups/immunity.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/powerups/immunityWithBg.svg",xs:"https://cf.quizizz.com/join/img/mystic_peak/powerups/immunityxs.svg"}}},BREAK_ROOM_ITEM_TYPE_ICONS={powerup:"https://cf.quizizz.com/join/img/mystic_peak/powerup-arrow.svg",powerup_disabled:"https://cf.quizizz.com/join/img/mystic_peak/powerup-disabled.svg",obstacle:"https://cf.quizizz.com/join/img/mystic_peak/obstacle-arrow.svg"},MAP_IMAGES_ARRAY=["https://cf.quizizz.com/join/img/mystic_peak/map-puzzle-1.svg","https://cf.quizizz.com/join/img/mystic_peak/map-puzzle-2.svg","https://cf.quizizz.com/join/img/mystic_peak/map-puzzle-3.svg","https://cf.quizizz.com/join/img/mystic_peak/map-puzzle-4.svg","https://cf.quizizz.com/join/img/mystic_peak/map-puzzle-5.svg","https://cf.quizizz.com/join/img/mystic_peak/map-puzzle-6.svg"];var alea$3={exports:{}};alea$3.exports;(function(e){(function(t,n,r){function o(l){var m=this,y=u();m.next=function(){var d=2091639*m.s0+m.c*23283064365386963e-26;return m.s0=m.s1,m.s1=m.s2,m.s2=d-(m.c=d|0)},m.c=1,m.s0=y(" "),m.s1=y(" "),m.s2=y(" "),m.s0-=y(l),m.s0<0&&(m.s0+=1),m.s1-=y(l),m.s1<0&&(m.s1+=1),m.s2-=y(l),m.s2<0&&(m.s2+=1),y=null}function s(l,m){return m.c=l.c,m.s0=l.s0,m.s1=l.s1,m.s2=l.s2,m}function a(l,m){var y=new o(l),d=m&&m.state,f=y.next;return f.int32=function(){return y.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&s(d,y),f.state=function(){return s(y,{})}),f}function u(){var l=4022871197,m=function(y){y=String(y);for(var d=0;d<y.length;d++){l+=y.charCodeAt(d);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return m}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(commonjsGlobal,e,!1)})(alea$3);var aleaExports$1=alea$3.exports,xor128$3={exports:{}};xor128$3.exports;(function(e){(function(t,n,r){function o(u){var l=this,m="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},u===(u|0)?l.x=u:m+=u;for(var y=0;y<m.length+64;y++)l.x^=m.charCodeAt(y)|0,l.next()}function s(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l}function a(u,l){var m=new o(u),y=l&&l.state,d=function(){return(m.next()>>>0)/4294967296};return d.double=function(){do var f=m.next()>>>11,v=(m.next()>>>0)/4294967296,A=(f+v)/(1<<21);while(A===0);return A},d.int32=m.next,d.quick=d,y&&(typeof y=="object"&&s(y,m),d.state=function(){return s(m,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(commonjsGlobal,e,!1)})(xor128$3);var xor128Exports$1=xor128$3.exports,xorwow$3={exports:{}};xorwow$3.exports;(function(e){(function(t,n,r){function o(u){var l=this,m="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,u===(u|0)?l.x=u:m+=u;for(var y=0;y<m.length+64;y++)l.x^=m.charCodeAt(y)|0,y==m.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l.v=u.v,l.d=u.d,l}function a(u,l){var m=new o(u),y=l&&l.state,d=function(){return(m.next()>>>0)/4294967296};return d.double=function(){do var f=m.next()>>>11,v=(m.next()>>>0)/4294967296,A=(f+v)/(1<<21);while(A===0);return A},d.int32=m.next,d.quick=d,y&&(typeof y=="object"&&s(y,m),d.state=function(){return s(m,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(commonjsGlobal,e,!1)})(xorwow$3);var xorwowExports$1=xorwow$3.exports,xorshift7$3={exports:{}};xorshift7$3.exports;(function(e){(function(t,n,r){function o(u){var l=this;l.next=function(){var y=l.x,d=l.i,f,v;return f=y[d],f^=f>>>7,v=f^f<<24,f=y[d+1&7],v^=f^f>>>10,f=y[d+3&7],v^=f^f>>>3,f=y[d+4&7],v^=f^f<<7,f=y[d+7&7],f=f^f<<13,v^=f^f<<9,y[d]=v,l.i=d+1&7,v};function m(y,d){var f,v=[];if(d===(d|0))v[0]=d;else for(d=""+d,f=0;f<d.length;++f)v[f&7]=v[f&7]<<15^d.charCodeAt(f)+v[f+1&7]<<13;for(;v.length<8;)v.push(0);for(f=0;f<8&&v[f]===0;++f);for(f==8?v[7]=-1:v[f],y.x=v,y.i=0,f=256;f>0;--f)y.next()}m(l,u)}function s(u,l){return l.x=u.x.slice(),l.i=u.i,l}function a(u,l){u==null&&(u=+new Date);var m=new o(u),y=l&&l.state,d=function(){return(m.next()>>>0)/4294967296};return d.double=function(){do var f=m.next()>>>11,v=(m.next()>>>0)/4294967296,A=(f+v)/(1<<21);while(A===0);return A},d.int32=m.next,d.quick=d,y&&(y.x&&s(y,m),d.state=function(){return s(m,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(commonjsGlobal,e,!1)})(xorshift7$3);var xorshift7Exports$1=xorshift7$3.exports,xor4096$3={exports:{}};xor4096$3.exports;(function(e){(function(t,n,r){function o(u){var l=this;l.next=function(){var y=l.w,d=l.X,f=l.i,v,A;return l.w=y=y+1640531527|0,A=d[f+34&127],v=d[f=f+1&127],A^=A<<13,v^=v<<17,A^=A>>>15,v^=v>>>12,A=d[f]=A^v,l.i=f,A+(y^y>>>16)|0};function m(y,d){var f,v,A,I,P,O=[],R=128;for(d===(d|0)?(v=d,d=null):(d=d+"\0",v=0,R=Math.max(R,d.length)),A=0,I=-32;I<R;++I)d&&(v^=d.charCodeAt((I+32)%d.length)),I===0&&(P=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,I>=0&&(P=P+1640531527|0,f=O[I&127]^=v+P,A=f==0?A+1:0);for(A>=128&&(O[(d&&d.length||0)&127]=-1),A=127,I=4*128;I>0;--I)v=O[A+34&127],f=O[A=A+1&127],v^=v<<13,f^=f<<17,v^=v>>>15,f^=f>>>12,O[A]=v^f;y.w=P,y.X=O,y.i=A}m(l,u)}function s(u,l){return l.i=u.i,l.w=u.w,l.X=u.X.slice(),l}function a(u,l){u==null&&(u=+new Date);var m=new o(u),y=l&&l.state,d=function(){return(m.next()>>>0)/4294967296};return d.double=function(){do var f=m.next()>>>11,v=(m.next()>>>0)/4294967296,A=(f+v)/(1<<21);while(A===0);return A},d.int32=m.next,d.quick=d,y&&(y.X&&s(y,m),d.state=function(){return s(m,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(commonjsGlobal,e,!1)})(xor4096$3);var xor4096Exports$1=xor4096$3.exports,tychei$3={exports:{}};tychei$3.exports;(function(e){(function(t,n,r){function o(u){var l=this,m="";l.next=function(){var d=l.b,f=l.c,v=l.d,A=l.a;return d=d<<25^d>>>7^f,f=f-v|0,v=v<<24^v>>>8^A,A=A-d|0,l.b=d=d<<20^d>>>12^f,l.c=f=f-v|0,l.d=v<<16^f>>>16^A,l.a=A-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,u===Math.floor(u)?(l.a=u/4294967296|0,l.b=u|0):m+=u;for(var y=0;y<m.length+20;y++)l.b^=m.charCodeAt(y)|0,l.next()}function s(u,l){return l.a=u.a,l.b=u.b,l.c=u.c,l.d=u.d,l}function a(u,l){var m=new o(u),y=l&&l.state,d=function(){return(m.next()>>>0)/4294967296};return d.double=function(){do var f=m.next()>>>11,v=(m.next()>>>0)/4294967296,A=(f+v)/(1<<21);while(A===0);return A},d.int32=m.next,d.quick=d,y&&(typeof y=="object"&&s(y,m),d.state=function(){return s(m,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(commonjsGlobal,e,!1)})(tychei$3);var tycheiExports$1=tychei$3.exports,seedrandom$4={exports:{}};(function(e){(function(t,n,r){var o=256,s=6,a=52,u="random",l=r.pow(o,s),m=r.pow(2,a),y=m*2,d=o-1,f;function v(k,U,Q){var B=[];U=U==!0?{entropy:!0}:U||{};var W=O(P(U.entropy?[k,M(n)]:k??R(),3),B),Z=new A(B),j=function(){for(var J=Z.g(s),ee=l,ae=0;J<m;)J=(J+ae)*o,ee*=o,ae=Z.g(1);for(;J>=y;)J/=2,ee/=2,ae>>>=1;return(J+ae)/ee};return j.int32=function(){return Z.g(4)|0},j.quick=function(){return Z.g(4)/4294967296},j.double=j,O(M(Z.S),n),(U.pass||Q||function(J,ee,ae,ne){return ne&&(ne.S&&I(ne,Z),J.state=function(){return I(Z,{})}),ae?(r[u]=J,ee):J})(j,W,"global"in U?U.global:this==r,U.state)}function A(k){var U,Q=k.length,B=this,W=0,Z=B.i=B.j=0,j=B.S=[];for(Q||(k=[Q++]);W<o;)j[W]=W++;for(W=0;W<o;W++)j[W]=j[Z=d&Z+k[W%Q]+(U=j[W])],j[Z]=U;(B.g=function(J){for(var ee,ae=0,ne=B.i,fe=B.j,ge=B.S;J--;)ee=ge[ne=d&ne+1],ae=ae*o+ge[d&(ge[ne]=ge[fe=d&fe+ee])+(ge[fe]=ee)];return B.i=ne,B.j=fe,ae})(o)}function I(k,U){return U.i=k.i,U.j=k.j,U.S=k.S.slice(),U}function P(k,U){var Q=[],B=typeof k,W;if(U&&B=="object")for(W in k)try{Q.push(P(k[W],U-1))}catch{}return Q.length?Q:B=="string"?k:k+"\0"}function O(k,U){for(var Q=k+"",B,W=0;W<Q.length;)U[d&W]=d&(B^=U[d&W]*19)+Q.charCodeAt(W++);return M(U)}function R(){try{var k;return f&&(k=f.randomBytes)?k=k(o):(k=new Uint8Array(o),(t.crypto||t.msCrypto).getRandomValues(k)),M(k)}catch{var U=t.navigator,Q=U&&U.plugins;return[+new Date,t,Q,t.screen,M(n)]}}function M(k){return String.fromCharCode.apply(0,k)}if(O(r.random(),n),e.exports){e.exports=v;try{f=require$$0}catch{}}else r["seed"+u]=v})(typeof self<"u"?self:commonjsGlobal,[],Math)})(seedrandom$4);var seedrandomExports$1=seedrandom$4.exports,alea$2=aleaExports$1,xor128$2=xor128Exports$1,xorwow$2=xorwowExports$1,xorshift7$2=xorshift7Exports$1,xor4096$2=xor4096Exports$1,tychei$2=tycheiExports$1,sr$1=seedrandomExports$1;sr$1.alea=alea$2;sr$1.xor128=xor128$2;sr$1.xorwow=xorwow$2;sr$1.xorshift7=xorshift7$2;sr$1.xor4096=xor4096$2;sr$1.tychei=tychei$2;var seedrandom$2=sr$1;const seedrandom$3=getDefaultExportFromCjs(seedrandom$2);var alea$1={exports:{}};alea$1.exports;(function(e){(function(t,n,r){function o(l){var m=this,y=u();m.next=function(){var d=2091639*m.s0+m.c*23283064365386963e-26;return m.s0=m.s1,m.s1=m.s2,m.s2=d-(m.c=d|0)},m.c=1,m.s0=y(" "),m.s1=y(" "),m.s2=y(" "),m.s0-=y(l),m.s0<0&&(m.s0+=1),m.s1-=y(l),m.s1<0&&(m.s1+=1),m.s2-=y(l),m.s2<0&&(m.s2+=1),y=null}function s(l,m){return m.c=l.c,m.s0=l.s0,m.s1=l.s1,m.s2=l.s2,m}function a(l,m){var y=new o(l),d=m&&m.state,f=y.next;return f.int32=function(){return y.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&s(d,y),f.state=function(){return s(y,{})}),f}function u(){var l=4022871197,m=function(y){y=y.toString();for(var d=0;d<y.length;d++){l+=y.charCodeAt(d);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return m}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(commonjsGlobal,e,!1)})(alea$1);var aleaExports=alea$1.exports,xor128$1={exports:{}};xor128$1.exports;(function(e){(function(t,n,r){function o(u){var l=this,m="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},u===(u|0)?l.x=u:m+=u;for(var y=0;y<m.length+64;y++)l.x^=m.charCodeAt(y)|0,l.next()}function s(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l}function a(u,l){var m=new o(u),y=l&&l.state,d=function(){return(m.next()>>>0)/4294967296};return d.double=function(){do var f=m.next()>>>11,v=(m.next()>>>0)/4294967296,A=(f+v)/(1<<21);while(A===0);return A},d.int32=m.next,d.quick=d,y&&(typeof y=="object"&&s(y,m),d.state=function(){return s(m,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(commonjsGlobal,e,!1)})(xor128$1);var xor128Exports=xor128$1.exports,xorwow$1={exports:{}};xorwow$1.exports;(function(e){(function(t,n,r){function o(u){var l=this,m="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,u===(u|0)?l.x=u:m+=u;for(var y=0;y<m.length+64;y++)l.x^=m.charCodeAt(y)|0,y==m.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l.v=u.v,l.d=u.d,l}function a(u,l){var m=new o(u),y=l&&l.state,d=function(){return(m.next()>>>0)/4294967296};return d.double=function(){do var f=m.next()>>>11,v=(m.next()>>>0)/4294967296,A=(f+v)/(1<<21);while(A===0);return A},d.int32=m.next,d.quick=d,y&&(typeof y=="object"&&s(y,m),d.state=function(){return s(m,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(commonjsGlobal,e,!1)})(xorwow$1);var xorwowExports=xorwow$1.exports,xorshift7$1={exports:{}};xorshift7$1.exports;(function(e){(function(t,n,r){function o(u){var l=this;l.next=function(){var y=l.x,d=l.i,f,v;return f=y[d],f^=f>>>7,v=f^f<<24,f=y[d+1&7],v^=f^f>>>10,f=y[d+3&7],v^=f^f>>>3,f=y[d+4&7],v^=f^f<<7,f=y[d+7&7],f=f^f<<13,v^=f^f<<9,y[d]=v,l.i=d+1&7,v};function m(y,d){var f,v=[];if(d===(d|0))v[0]=d;else for(d=""+d,f=0;f<d.length;++f)v[f&7]=v[f&7]<<15^d.charCodeAt(f)+v[f+1&7]<<13;for(;v.length<8;)v.push(0);for(f=0;f<8&&v[f]===0;++f);for(f==8?v[7]=-1:v[f],y.x=v,y.i=0,f=256;f>0;--f)y.next()}m(l,u)}function s(u,l){return l.x=u.x.slice(),l.i=u.i,l}function a(u,l){u==null&&(u=+new Date);var m=new o(u),y=l&&l.state,d=function(){return(m.next()>>>0)/4294967296};return d.double=function(){do var f=m.next()>>>11,v=(m.next()>>>0)/4294967296,A=(f+v)/(1<<21);while(A===0);return A},d.int32=m.next,d.quick=d,y&&(y.x&&s(y,m),d.state=function(){return s(m,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(commonjsGlobal,e,!1)})(xorshift7$1);var xorshift7Exports=xorshift7$1.exports,xor4096$1={exports:{}};xor4096$1.exports;(function(e){(function(t,n,r){function o(u){var l=this;l.next=function(){var y=l.w,d=l.X,f=l.i,v,A;return l.w=y=y+1640531527|0,A=d[f+34&127],v=d[f=f+1&127],A^=A<<13,v^=v<<17,A^=A>>>15,v^=v>>>12,A=d[f]=A^v,l.i=f,A+(y^y>>>16)|0};function m(y,d){var f,v,A,I,P,O=[],R=128;for(d===(d|0)?(v=d,d=null):(d=d+"\0",v=0,R=Math.max(R,d.length)),A=0,I=-32;I<R;++I)d&&(v^=d.charCodeAt((I+32)%d.length)),I===0&&(P=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,I>=0&&(P=P+1640531527|0,f=O[I&127]^=v+P,A=f==0?A+1:0);for(A>=128&&(O[(d&&d.length||0)&127]=-1),A=127,I=4*128;I>0;--I)v=O[A+34&127],f=O[A=A+1&127],v^=v<<13,f^=f<<17,v^=v>>>15,f^=f>>>12,O[A]=v^f;y.w=P,y.X=O,y.i=A}m(l,u)}function s(u,l){return l.i=u.i,l.w=u.w,l.X=u.X.slice(),l}function a(u,l){u==null&&(u=+new Date);var m=new o(u),y=l&&l.state,d=function(){return(m.next()>>>0)/4294967296};return d.double=function(){do var f=m.next()>>>11,v=(m.next()>>>0)/4294967296,A=(f+v)/(1<<21);while(A===0);return A},d.int32=m.next,d.quick=d,y&&(y.X&&s(y,m),d.state=function(){return s(m,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(commonjsGlobal,e,!1)})(xor4096$1);var xor4096Exports=xor4096$1.exports,tychei$1={exports:{}};tychei$1.exports;(function(e){(function(t,n,r){function o(u){var l=this,m="";l.next=function(){var d=l.b,f=l.c,v=l.d,A=l.a;return d=d<<25^d>>>7^f,f=f-v|0,v=v<<24^v>>>8^A,A=A-d|0,l.b=d=d<<20^d>>>12^f,l.c=f=f-v|0,l.d=v<<16^f>>>16^A,l.a=A-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,u===Math.floor(u)?(l.a=u/4294967296|0,l.b=u|0):m+=u;for(var y=0;y<m.length+20;y++)l.b^=m.charCodeAt(y)|0,l.next()}function s(u,l){return l.a=u.a,l.b=u.b,l.c=u.c,l.d=u.d,l}function a(u,l){var m=new o(u),y=l&&l.state,d=function(){return(m.next()>>>0)/4294967296};return d.double=function(){do var f=m.next()>>>11,v=(m.next()>>>0)/4294967296,A=(f+v)/(1<<21);while(A===0);return A},d.int32=m.next,d.quick=d,y&&(typeof y=="object"&&s(y,m),d.state=function(){return s(m,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(commonjsGlobal,e,!1)})(tychei$1);var tycheiExports=tychei$1.exports,seedrandom$1={exports:{}};(function(e){(function(t,n){var r=(0,eval)("this"),o=256,s=6,a=52,u="random",l=n.pow(o,s),m=n.pow(2,a),y=m*2,d=o-1,f;function v(k,U,Q){var B=[];U=U==!0?{entropy:!0}:U||{};var W=O(P(U.entropy?[k,M(t)]:k??R(),3),B),Z=new A(B),j=function(){for(var J=Z.g(s),ee=l,ae=0;J<m;)J=(J+ae)*o,ee*=o,ae=Z.g(1);for(;J>=y;)J/=2,ee/=2,ae>>>=1;return(J+ae)/ee};return j.int32=function(){return Z.g(4)|0},j.quick=function(){return Z.g(4)/4294967296},j.double=j,O(M(Z.S),t),(U.pass||Q||function(J,ee,ae,ne){return ne&&(ne.S&&I(ne,Z),J.state=function(){return I(Z,{})}),ae?(n[u]=J,ee):J})(j,W,"global"in U?U.global:this==n,U.state)}n["seed"+u]=v;function A(k){var U,Q=k.length,B=this,W=0,Z=B.i=B.j=0,j=B.S=[];for(Q||(k=[Q++]);W<o;)j[W]=W++;for(W=0;W<o;W++)j[W]=j[Z=d&Z+k[W%Q]+(U=j[W])],j[Z]=U;(B.g=function(J){for(var ee,ae=0,ne=B.i,fe=B.j,ge=B.S;J--;)ee=ge[ne=d&ne+1],ae=ae*o+ge[d&(ge[ne]=ge[fe=d&fe+ee])+(ge[fe]=ee)];return B.i=ne,B.j=fe,ae})(o)}function I(k,U){return U.i=k.i,U.j=k.j,U.S=k.S.slice(),U}function P(k,U){var Q=[],B=typeof k,W;if(U&&B=="object")for(W in k)try{Q.push(P(k[W],U-1))}catch{}return Q.length?Q:B=="string"?k:k+"\0"}function O(k,U){for(var Q=k+"",B,W=0;W<Q.length;)U[d&W]=d&(B^=U[d&W]*19)+Q.charCodeAt(W++);return M(U)}function R(){try{var k;return f&&(k=f.randomBytes)?k=k(o):(k=new Uint8Array(o),(r.crypto||r.msCrypto).getRandomValues(k)),M(k)}catch{var U=r.navigator,Q=U&&U.plugins;return[+new Date,r,Q,r.screen,M(t)]}}function M(k){return String.fromCharCode.apply(0,k)}if(O(n.random(),t),e.exports){e.exports=v;try{f=require$$0}catch{}}})([],Math)})(seedrandom$1);var seedrandomExports=seedrandom$1.exports,alea=aleaExports,xor128=xor128Exports,xorwow=xorwowExports,xorshift7=xorshift7Exports,xor4096=xor4096Exports,tychei=tycheiExports,sr=seedrandomExports;sr.alea=alea;sr.xor128=xor128;sr.xorwow=xorwow;sr.xorshift7=xorshift7;sr.xor4096=xor4096;sr.tychei=tychei;var seedrandom=sr,shuffleSeed$2={exports:{}};(function(e,t){var n=seedrandom;(function(){var r={},o=function(u){return Object.prototype.toString.call(u)==="[object Array]"},s=function(u){return/(number|string)/i.test(Object.prototype.toString.call(u).match(/^\[object (.*)\]$/)[1])?u:isNaN(u)?Number(String(this.strSeed=u).split("").map(function(l){return l.charCodeAt(0)}).join("")):u},a=function(u,l,m){return Math.floor(u()*(m-l+1))+l};r.shuffle=function(u,l){if(!o(u))return null;l=s(l)||"none";for(var m=u.length,y=n(l),d=[],f=[],v=0;v<m;v++)f.push(v);for(var v=0;v<m;v++){var A=a(y,0,f.length-1),I=f[A];f.splice(A,1),d.push(u[I])}return d},r.unshuffle=function(u,l){if(!o(u))return null;l=s(l)||"none";for(var m=u.length,y=n(l),d=[],f=[],v=0;v<m;v++)d.push(null),f.push(v);for(var v=0;v<m;v++){var A=a(y,0,f.length-1),I=f[A];f.splice(A,1),d[I]=u[v]}return d},e.exports=r}).call(commonjsGlobal)})(shuffleSeed$2);var shuffleSeedExports=shuffleSeed$2.exports,self$1=shuffleSeedExports,shuffleSeed=self$1;const shuffleSeed$1=getDefaultExportFromCjs(shuffleSeed),nicknames=["Ela Coyne","Riva Baumgartner","melita","Katy","Violette Rendon","Prashant Iyyer","Charis Rosenthal","Mitsue Escobar","Tanesha Whitney","Cristine Tapia","shanita77","Libby Dunaway","Shery Asbury","Rasheeda Orta","Arlinda Fine","Abby Shake!","Lucinda Petit","Deloise Lau","My job in","Yang Hoy","Jong","Darth Sarth","Isabelle Keeler","tianna daley","Doretta Crawley","Miguelina Faber","Leeann Winter","Margery","Priscila Langdon","Alexandria Wenger","Ernestina Short","Annmarie Duong","Thora Carrington","R@yf0rd #ubert","Anika Clarkson","In3s C00k3","Leana Mcclain","Minh Bundy","Andera","Alysa Macias","Cheree Weathers","Sood da Dood","Lindsay Cutler","Nestor Worth","Indira Moll","Tristan Gregg","alex123","Jon Guyton","Britta Ison","Your not their","3D Waffle","Any rude","Papa Smurf","VeeJaaYaa","Pepper Legs","101","Pracker","Pinball Wizard","Accidental Genius","Hyper","Pluto","Alpha","Jester","Sew-raj","Airport Hobo","Jigsaw","Prometheus","Bearded Angler","Joker's Grin","DeeChee","Beetle King","Judge","Pusher","Bitmap","Junkyard Dog","Riff Raff","Blister","K-9","Roadblock","Bowie","Sham eel","Rooster","A new raag","Kickstart","Sandbox","Breadmaker","Scrapper","Nimbus 2000","Kingfisher","Bugger","Knuckles","Shadow Chaser","Sherwood Gladiator","Liquid Science","Little Cobra","Little General","Sky Bully","Lord Pistachio","Sour Tuck","Snake Eyes","Chocolate Thunder","Snow Hound","Chuckles","Sofa King","Cool Whip","Marbles","Spider Fuji","Couch Potato","Crash Override","Marshmallow","Squatch","Crash Test","Harvester of Sorrow","Crazy Eights","Mercury Reborn","Criss Cross","Midas Touch","Cross Thread","Midnight Rambler","2shower","Ciao Ciao","Midnight Rider","Swerve","Mindless Bobcat","Tacklebox","Mr. 44","Take Away","Dark Horse","Ms. Fabulous","Tan Stallion","Day Hawk","Mr. Gadget","The China Wall","Desert Haze","The Dude","Action Dre","Mr. Peppermint","The Flying Mouse","Disco Thunder","Disco Potato","Mud Pie Man","Dropkick","Nacho","Natural Mess","Troubadour","Necromancer","Turnip King","Twitch","Nessie","Vagabond Warrior","Flint","Nickname Master","Vortex","Dark Matter","2nd Hand Joe","Flotsams54","Core 2 Dua","Mechani-Man","Kazami of Truth","Gbbledgoodk","High Beam","Eye Devil","Tea Kettle","MrOnsTr","Wrangler Jim","a(n) kid","Ameeno Acid","Flyswat Briggs","All eye do is Win","Scooby Did","Unseen","Crossing Guard","Bad Bond","Easy Mac","Sky","Toxic-oxide","Corner pears on","GiddeeUP","sagar curry raa","DragonBlood","Tse Tse Fly","Shay8910","IceDog","Sloth","minecrafter121","Skool","Multicorn","Noise Toy","Flash","Achilles Mountain","Whip Chu","Elektrik","Shoo Bam","LocKz","Coldy","spookoku","SneakerKid"];function simulateResponses(e,t,n,r){Math.seedrandom(n);for(let o=0;o<t;o++)for(let s=0;s<e.length;s++){const a=e[s];let u=1,l=1;const y=a.accuracy>Math.random()*100;r?u=Math.random():l=Math.random();const d=y?Constants.Score.BASE*l+Constants.Score.TIMER*u:0;a.score+=Math.round(d/10)*10}return e}function generatePlayers(e,t,n,r){const o=Math.PI,s=Math.E,a=34;var u=1;let l=0,m=0;for(var y=0;y<10;y++){var u=y/10,d=Math.pow(2*o*t*t,-.5)*Math.pow(s,-1*Math.pow(u-e,2)/(2*t*t));l+=d}const f=n/l,v=[];for(var y=9;y>=0;y--){var u=y/10,d=Math.pow(2*o*t*t,-.5)*Math.pow(s,-1*Math.pow(u-e,2)/(2*t*t));let O=Math.round(d*f);O==0&&m>0&&m<n&&(O=n-m);for(let R=0;R<O;R++){if(m++,m>n){m--;break}let M=`Player ${m}`;m<r.length&&(M=r[v.length]);const k={playerId:M,score:0,monsterId:m%a,origin:"bot",rank:m,accuracy:5+100*u};v.push(k)}}return v}function leadGen(e,t,n,r,o,s,a,u,l){const m=e==null||e.length!=24?"5b7d0aa503fa930019364cc8":e;seedrandom$3(e,{global:!0});const y=o=="waiting"?"waiting":"leaderboard",d=s&&_.isString(s.timer)?s.timer!==Constants.GameOptionsValues.Timer.OFF:!0,f=isNaN(a)||a<0?20:parseInt(a),v=isNaN(u)||u<=0||u>=1?.7:u,A=isNaN(l)||l<0||l>1e4?15+Math.round(Math.random()*10):parseInt(l),I=t==null||t.length<1?Constants.DEFAULT_PLAYER_NAME:t,P=n==null||n<0?0:n,O=r;(m!=e||o!=y||I!=t||O!=r)&&console.error("Invalid inputs provided to leadGen, falling back to default values."),y=="leaderboard"&&f!=a&&console.error("Invalid inputs provided to leadGen for leaderboard mode, falling back to default values.");const R=shuffleSeed$1.shuffle(nicknames,m),M=v>.5?(1-v)/3:v/3;let k=generatePlayers(v,M,A,R);y=="leaderboard"&&(k=simulateResponses(k,f,m,d)),k.push({playerId:I,score:P,monsterId:O,origin:"web",rank:1}),k=_.orderBy(k,["score"],["desc"]);for(let U=0;U<k.length;U++)k[U].rank=U+1;return k}function reconnectToGameResponseCooker(e,t){const{game:n,routing:r}=t,o=PageNames.isExactly(r.currentPage,PageNames.List.IN_GAME.WAITING),a={gameData:{roomHash:n.data.roomHash,playerId:n.player.playerId,gameType:n.data.gameType,gameState:n.data.gameState},startSource:GameStartSource.get(GameStartSource.List.RECONNECT_REJOIN)};return{shouldRejoinRoom:o,rejoinParams:a}}function proceedGameInProgressCooker(e,t,n={}){let r={};const o=e.questions.questionResponseStatuses;isEmpty(n)?isEmpty(t.currentQuestionCurrentAttemptResponse)||o[t.currentQuestionCurrentAttemptResponse.questionId][t.currentQuestionCurrentAttemptResponse.attempt]===Constants.QuestionResponseStatuses.NOT_SENT&&(r=t.currentQuestionCurrentAttemptResponse):r=n;const s=!isEmpty(r);let a=o;if(s){const u=_.isNumber(r.attempt)?r.attempt:0;a={...o},a[r.questionId]={...a[r.questionId],[u]:Constants.QuestionResponseStatuses.SENDING}}return{allResponseStatuses:a,isCallRequired:s,responseToBeSent:r}}function handleProceedingGameCooker(e,t,n){const{game:r}=e,{data:o,flow:s,player:a,team:u,questions:l}=r,m=o.gameType,d=m===Constants.GameType.SOLO?n.data:n,f=_.cloneDeep(r.questions.questionResponseStatuses),v=r.data.gameOptions,A=d.powerupEffects||[],I=d.breakRoomArr,P=n.mysticPeakLeaderboard,O=d.mysticPeakLevelBoard,R=n.mysticPeakTieredRank,M=_.filter(A,me=>me.status===Constants.PowerupEffectStatuses.DESTROYED),k=_.get(d,"metadata.extraLife",[]),U=t.isAdaptiveLearningGame,Q=d.breakRoomDifficulty||"";let B={...s.leaderboard.forQues},W=s.leaderboard,Z=s.teamLeaderboard.list,j=s.leaderboard.totalPlayers,J=s.teamLeaderboard.totalTeams,ee=o.teams,ae=u.rank,ne=u.score,fe={},ge={},Le={};if(!isEmpty(d.response)){const me=d.response,pe=isExtraLifeInProgress({extraLife:k,questionId:me.questionId}),le=_.isNumber(me.attempt)?me.attempt:0,De=_.pickBy(r.questions.questionResponses[me.questionId],(G,Ee)=>Ee!=="provisional");if(B={id:me.questionId,attemptIndex:r.questions.questionResponses[me.questionId].length},Le={..._.get(d,"question",{}),id:me.questionId,state:Constants.SlideStates.REVEAL},l.slidesFlowControlType===Constants.SlidesFlowControlTypes.NONE&&delete Le.state,f[me.questionId][le]=Constants.QuestionResponseStatuses.SENT,fe={...me,...De,isEvaluated:!0},v.showAnswers!==Constants.GameOptionsValues.ShowAnswers.NEVER){const G=t.totalQuestionAttempted;t.allInteractiveSlidesOrderedResponses;let Ee=a.marks,Fe=a.totalCorrect,Me=a.firstAttempts,ze=a.firstCorrectAttempts,je=a.firstAttemptMarks;if(!GameConstants.ANSWER_LATER_RESPONSE_STATES.includes(me.state)){if(me.isCorrect){const ye=[Constants.QuestionResultTypes.PARTIALLY_CORRECT,Constants.QuestionResultTypes.CORRECT];if(_.isNumber(me.marks)&&me.marks>0){if(ye.includes(me.result)){const Ae=r.questions.questionResponses[me.questionId];if(Ae&&Ae.length>1){const we=Ae[Ae.length-2];Ee-=we.marks||0}}Ee+=me.marks}if(ye.includes(me.result)){const Ae=r.questions.questionResponses[me.questionId];Ae&&Ae.length>1&&Ae[Ae.length-2].isCorrect&&(Fe-=1)}Fe+=1}me.attempt===0&&(Me+=1,me.isCorrect&&(ze+=1,_.isNumber(me.marks)&&me.marks>0&&(je+=me.marks)))}let Te=0,Ke=0;const Y=U?a.totalPossibleMarks:o.totalPossibleMarks,te=U?v.questionsPerAttempt:o.totalQuestionsInQuiz;Y>0?(Te=Math.round(Ee*100/Y),Ke=Math.round(je*100/Y)):Y===0?(Te=Math.round(G*100/te),Ke=Math.round(Me*100/te)):(Te=Math.round(Fe*100/te),Ke=Math.round(ze*100/te));let de=a.currentSteak;!isEmpty(d.player)&&_.isNumber(d.player.currentStreak)?de=d.player.currentStreak:de=me.isCorrect?a.currentStreak+1:0,ge={score:a.score+(pe?0:me.score),marks:Ee,totalCorrect:Fe,currentStreak:de,accuracy:Te,firstAttempts:Me,firstCorrectAttempts:ze,firstAttemptMarks:je,firstAttemptAccuracy:Ke}}}switch(m){case Constants.GameType.SOLO:const me=_.isNumber(o.accuracy)&&o.accuracy/100||.5;W=leadGen(o.roomHash,a.playerId,ge.score||0,a.monsterId,"leaderboard",o.gameOptions,t.totalQuestionAttempted,me);break;default:if(d.leaderboard&&d.leaderboard.length&&(W=getUpdatedPlayers(d.leaderboard),B={id:r.questions.currentId,attemptIndex:t.currentQuestionCurrentAttemptIndex}),d.teamLeaderboard&&d.teamLeaderboard.length>0){Z=getUpdatedTeamLeaderboard(d.teamLeaderboard,o.teams),B={id:r.questions.currentId,attemptIndex:t.currentQuestionCurrentAttemptIndex};const le=u.teamId,De=_.find(Z,G=>G.teamId===le);if(De){ee=_.cloneDeep(ee);const G=_.find(ee,Ee=>Ee.teamId===le);G&&(G.score=De.score),ne=De.score,ae=De.rank}}j=d.playerCount||Math.max(s.leaderboard.totalPlayers,W.length>0&&W[W.length-1].rank||0),J=d.teamCount||Math.max(s.teamLeaderboard.totalTeams,Z.length>0&&Z[Z.length-1].rank||0)}const Ge=getQuesIdsForResponseStatus(f,[Constants.QuestionResponseStatuses.SENDING,Constants.QuestionResponseStatuses.NOT_SENT]),rt=r.questions.remainingOrder.length===0&&_.keys(Ge).length===0;return{leaderboard:W,totalPlayers:j,forQues:B,currentPlayerRank:getPlayerRank(W,a.playerId),previousPlayerRank:a.rank,teamLeaderboard:Z,totalTeams:J,teams:ee,currentTeamScore:ne,currentTeamRank:ae,previousTeamRank:u.rank,powerupEffects:A,powerupEffectsDestroyed:M,allResponseStatuses:f,allResponsesSent:rt,updatedResponse:fe,playerStats:ge,updatedSlide:Le,extraLife:k,breakRoomArr:I,mysticPeakLevelBoard:O,mysticPeakTieredRank:R,currentDifficulty:Q,mysticPeakLeaderboard:P}}function setDataForProceedGame(e,t,n,r){const{game:o}=e,{gameMode:s,gameType:a,gameOptions:u,roomHash:l,quizVersionId:m}=o.data,y=Array.isArray(r),d=u.updatedAt,f={roomHash:l,playerId:o.player.playerId,response:n,questionId:o.questions.currentId,powerupEffects:{destroy:[]},gameType:a,gameOptionsUpdatedAt:d,quizVersionId:m};if(a===Constants.GameType.ASYNC){let v=0;t.allOrderedResponses.length||(v=calculateElapsedTime(t.allOrderedResponses)),f.elapsed=v}if(s===Constants.GameMode.CHALLENGE&&!t.areQuestionAttemptsLeft&&(f.isLastPlayerResponse=!0),s===Constants.GameMode.PRESENTATION&&(a===Constants.GameType.ASYNC||a===Constants.GameType.SOLO)&&!isEmpty(o.questions.remainingOrder)){const v=o.questions.remainingOrder[0],A=_.findIndex(o.questions.initSequence,I=>I===v);f.metadata={qId:v,qIdIndex:A}}return QLogger$1.invariant(y,["setDataForProceedGame: powerupEffectsToDestroy is not valid. Recieved - ",r],{logOnSentry:!0}),_.forEach(r,v=>{const A=!isEmpty(v);QLogger$1.invariant(A,["setDataForProceedGame: powerupEffect is not valid. All effects recieved - ",r],{logOnSentry:!0}),A&&f.powerupEffects.destroy.push(v)}),f}function getShouldShowRedemptionQuestion(e){const t=[e.data.gameType,e.data.gameMode,e.data.gameOptions];return e.data.gameOptions.hasRedemptionPass===Constants.GameOptionsValues.hasRedemptionPass.YES?RedemptionQuizConfig.shouldShowRedemptionQuestion(...t):RedemptionQuestionConfig.shouldShowRedemptionQuestion(...t)}function showQuestionCooker(e,t,n){const{game:r,appSettings:o}=e,{data:{gameType:s,gameMode:a,gameOptions:u,roomHash:l},player:{playerId:m}}=r;let y=[...r.questions.remainingOrder];const d=[...r.questions.answerLaterQuestions],f=r.questions.currentId,v=n.doneOrderForEvaluatedQuestions,A=f==="",I=n.isMasteryMode,P={roomHash:l,gameType:s,playerId:m};let O=!1,R={},M=!1,k=f,U=!1,Q=y.length>0,B=[],W=[],Z=!1;if(I&&!t&&(Q=y.length>0||f!==""),t&&getShouldShowRedemptionQuestion(e.game))U=!0,M=!0,Q=!0,k="";else if(Q){k=y.shift(),A||v.push(f);const J=_.find(r.questions.list,fe=>fe.id===k),ee=_.isObject(J)?J.options:[],ne=((J==null?void 0:J.type)===Constants.QuestionTypes.CONTENT_SLIDE||(J==null?void 0:J.type)===Constants.QuestionTypes.CONTENT_SLIDE_V2)&&!isEmpty(_.get(J,"structure.bullets"));M=k in r.questions.list,B=_.map(ee,()=>({isVisible:!0})),W=U?["game"]:["game","question"],o.readAloud&&r.questions.slidesFlowControlType!==Constants.SlidesFlowControlTypes.NONE&&ne&&(O=!0,R={...J,metadata:{...J.metadata||{},currentBulletIndex:J.structure.bullets.length-1}})}else d.length>0&&(M=!0,Q=!0,y=[...r.questions.answerLaterQuestions],k=y.shift(),Z=!0);return{mutationPayload:{questionId:k,doneOrder:v,remainingOrder:y,currentOptionsAppearance:B,powerupScopes:W},areThereQuestionsLeftToShow:Q,isQuestionToShowValid:M,shouldShowRedemptionQuestion:U,gameData:P,shouldUpdateSlide:O,updatedSlide:R,showingAnswerLaterQuestions:Z}}function onCurrentQuestionOverCooker(e,t){let n={},r={};const{remainingOrder:o,currentId:s,answerLaterQuestions:a,questionResponses:u}=e.questions,{breakRoomArr:l}=e.flow,{gameType:m,gameMode:y,gameOptions:d,mysticPeakLevelMap:f}=e.data,{playerId:v,totalCorrect:A}=e.player,I=[...o],P=s,O=[...e.questions.doneOrder],R=t.doneOrderForEvaluatedQuestions,M=I.length<1&&e.data.gameOptions.reviewAndSubmit,k=[...a],U=!M&&I.length<1&&k.length>0;let Q=!U&&getShouldShowRedemptionQuestion(e);allowAnsweringAfterIncorrectAttempt({gameType:m,gameMode:y,isMasteryMode:t.isMasteryMode})&&(Q=!1);const B=t.isCurrentQuestionSkipped?{}:getLastAttemptResponseForQuestion(u,s),{shouldShow:W}=getBreakRoomConfig({gameMode:y,breakRoomArr:l}),Z=o.length>0,j=(t.isCurrentQuestionSkipped||isCorrectAttempt(B))&&Z&&W,J=A===f[f.length-1];let ee=!1;return t.isMasteryMode&&(O.length+1)%GameViewConfig.SHOW_LEADERBOARD_AFTER_EVERY_NTH_QUESTION===0?ee=!0:ee=!1,M&&(R.push(P),n={questionId:"",doneOrder:R,remainingOrder:I,powerupScopes:["game"]}),Q&&(R.push(P),n={questionId:"",doneOrder:R,remainingOrder:I,currentOptionsAppearance:[],powerupScopes:["game"]}),U&&(R.push(P),r={questionId:"",doneOrder:R,remainingOrder:I,powerupScopes:["game"]}),{shouldShowRedemptionQuestion:Q,mutationPayload:n,shouldShowAnswerLaterQuestions:U,answerLaterMutationPayload:r,shouldShowBreakRoom:j||J&&Z,hasReachedMasteryForMysticPeak:J,shouldShowReviewQuestions:M,shouldShowMasteryCountdown:ee}}function getPowerupActivationPayload({state:e,getters:t,id:n=null,name:r="",meta:o={}}){const s=e.player.playerId,a=e.data.roomHash,l=PowerupsConfigManager$1.getConfig()[r].meta,m={id:n,powerupId:n,playerId:s,roomHash:a,meta:{},gameType:e.data.gameType,name:r};return l.push("playerId","monsterId"),m.meta={...getPowerupMetaFields({state:e,name:r,metaProps:l,getters:t,meta:o})},m.meta.player={playerId:e.player.playerId,monsterId:e.player.monsterId},m}function getPowerupMetaFields({state:e,name:t,metaProps:n,getters:r,meta:o}){const s=PowerupsConfigManager$1.getConfig(),a={};return _.forEach(n,u=>{u==="questionId"&&(a.questionId=e.questions.currentId),u==="attempt"&&(a.attempt=r.currentQuestionCurrentAttemptIndex),u==="startTime"&&(a.startTime=new Date().getTime()),u==="scoreChange"&&(a.scoreChange=s[t].scoreChange),u==="powerupsToActivate"&&(a.boxPowerups=s[t].powerupsToActivate),u==="playerId"&&(a.playerId=e.player.playerId),u==="monsterId"&&(a.monsterId=e.player.monsterId),u==="targets"&&(a.targets=o.targets||[]),u==="streakChangeBy"&&(a.streakChangeBy=s[t].streakChangeBy)}),a}function proceedFullPlayerControlledGamesCooker(e,t,n){const{game:r,appSettings:o}=e,s=r.questions.currentId,a=t.currentQuestion,u={currentOptionsAppearance:[],powerupScopes:["game","question"]},l=o.readAloud===!0;let m=!1,y=!1,d=!1,f=!1,v=!1,A={},I={};const P=e.game.data.gameState===Constants.GameState.COMPLETED,O=e.game.player.isOver,R=_.get(a,"structure.bullets",[]),M=_.get(a,"metadata.currentBulletIndex",-1),k=R.length,U=k>=0,Q=n==="forward"?M+1:M-1,B=t.isCurrentSlideInteractable||!U||n==="backward"||Q<0||Q>=k;if(n==="backward"&&t.currentQuestionNumber<=1)m=!0;else if(n==="forward"&&isEmpty(r.questions.remainingOrder)&&B)y=!0;else{let W="";if(n==="forward"?W=r.questions.remainingOrder[0]:W=r.questions.initSequence[t.currentQuestionNumber-1-1],t.isCurrentSlideForContent&&!B&&(d=!0,A={id:s,state:a.state,metadata:{currentBulletIndex:Q}}),B){const Z=r.questions.list[W],j=_.get(Z,"structure.bullets",[]).length,J=Z.type===Constants.QuestionTypes.CONTENT_SLIDE,ee=[...r.questions.remainingOrder],ae=[...r.questions.doneOrder];if(n==="forward"?ee.shift():ee.unshift(s),ae.push(s),f=!0,u.questionId=W,u.doneOrder=ae,u.remainingOrder=ee,t.isCurrentSlideForContent&&!P&&!O&&(v=!0,I={questionId:W}),J){let ne=n==="forward"&&!l?-1:j-1;if(j>0){const fe=_.get(Z,"structure.title.text",""),ge=_.replace(fe,"<p><br /></p>","");!isEmpty(ge.trim())||ne===-1&&n==="forward"&&(ne=0)}d=!0,A={id:W,state:Z.state,metadata:{currentBulletIndex:ne}}}}}return{isNotAllowedToProceed:m,areQuestionsOver:y,shouldUpdateSlideState:d,updateSlidePayload:A,shouldUpdateCurrentSlide:f,setCurrentQuestionMutationPayload:u,isGameCompleted:P,shouldUpdatePlayerMetadata:v,updateMetadataPayload:I}}function syncGameQuestionsCooker(e,t){const n=t.gameState||"",r=e.data.gameState,o=_.find(e.questions.list,m=>!_.includes([Constants.SlideStates.INACTIVE,Constants.SlideStates.COMPLETED],m.state));let s=!1,a=!1,u=!1,l={};if(n){const m=n===Constants.GameState.STOPPED||n===Constants.GameState.COMPLETED;s=r===Constants.GameState.RUNNING&&m,a=e.questions.slidesFlowControlType===Constants.SlidesFlowControlTypes.NONE}return isEmpty(o)||(u=!0,l={nextQuestion:{questionId:o.id}}),{shouldEndGame:s,areAllPlayerSlidesDone:a,shouldUpdateSlide:u,updateSlidePayload:l}}function currentQuestionReEditedCooker(e,t,n){const r=!isEmpty(t.currentQuestionCurrentAttemptResponse);let o={},s={};if(r){const a=getQuesIdsForResponseStatus(e.questions.questionResponseStatuses,[Constants.QuestionResponseStatuses.NOT_SENT]),u={..._.cloneDeep(t.currentQuestionCurrentAttemptResponse),response:n};o={playerStats:{score:t.currentQuestionCurrentAttemptResponse.score,marks:t.currentQuestionCurrentAttemptResponse.marks,accuracy:e.player.accuracy,totalCorrect:e.player.totalCorrect,currentStreak:e.player.currentStreak},response:u,questionType:t.currentQuestion.type,updatedLeaderboardList:e.flow.leaderboard.list,powerupScopes:["game"],responsesRemaining:_.keys(a).length,shouldStoreResponseStatus:!1},s={questionId:e.questions.currentId,roomHash:e.data.roomHash,playerId:e.player.playerId,response:u}}return{hasCurrentQuestionBeenAnswered:r,mutationPayload:o,updateResponsePayload:s}}function cookServerPowerups(e){return _.map(e,t=>({id:t._id,name:t.name,status:t.status,meta:t.meta}))}function calculateElapsedTime(e){const t=e;let n=0;_.forEach(t,s=>{n+=s.timeTaken});const r=1e3*t,o=1e3*t;return n+r+o}const PROCEED_GAME_REQUEST_TIMEOUT=1e4;function checkGameDomain(){return HTTP.get("checkGameDomain",{retryCount:0,timeout:5e3,additionalFetchOptions:{},noJSONParseRequired:!0})}function checkMediaOptionUrlExists(e,t=!1,n=!0){const r={additionalFetchOptions:{},urlEvalParameters:[e],noHeaders:!0,retryCount:0,noJSONParseRequired:n};return t&&(r.retryCount=5,r.timeout=2e4,r.retryDelay=3e3,r.statusCodesToRetryOn=[">=400"]),HTTP.get("mediaOptionUrl",r)}function getSearchResult({searchText:e,from:t,pageSize:n,gradeFilter:r=[],subjectFilter:o=[],languageFilter:s=[],questionNumRange:a="",metaDataToUse:u={},profaneFilter:l}){return HTTP.get("searchQuizzes",{retryCount:0,urlEvalParameters:[e,t,n,r,o,s,a,l,u]})}function getFeaturedResult(){return HTTP.get("searchFeaturedQuizzes",{retryCount:1})}function getQuizRecommendationsResult(e,t=Constants.GameState.RUNNING,n="",r){return HTTP.get("getQuizRecommendation",{retryCount:1,urlEvalParameters:[e,t,n,r]})}function getSimilarQuizzesResult(e,t=Constants.GameState.RUNNING,n="",r=1,o=4){return HTTP.get("getSimilarQuizzes",{retryCount:1,urlEvalParameters:[e,t,n,r,o]})}function getQuizData({quizId:e,bypassProfanityCheck:t=!1,retryCount:n=1,requestPrivileges:r=!1}){return HTTP.get("getQuizData",{retryCount:n,urlEvalParameters:[e,t,r],callId:e})}function getCourses(e){return HTTP.post("getSelectedCourses",e)}function getFeaturedMemesets(){return HTTP.get("getFeaturedMemesets")}function getMyQuizzes(e=0,t="createdAt",n="desc",r=10){return HTTP.get("getMyQuizzes",{retryCount:1,urlEvalParameters:[e,t,n,!0,{tags:[]},r]})}function getFeaturedRecommendations(){return HTTP.get("getFeaturedRecommendations")}function getRecommendationsForTopic(e,t,n){return HTTP.get("getRecommendationsForTopic",{retryCount:1,urlEvalParameters:[e,t,n]})}function getEventQuizzes(){return HTTP.get("getEventQuizzes",{retryCount:1})}function updateUserInfo(e){return HTTP.put("updateUserInfo",e)}function saveAvatarForUser(e){return HTTP.post("saveAvatar",{selectedAvatar:e})}function changeUserPassword(e){return HTTP.post("changeUserPassword",e)}function isEmailAvailable(e){return HTTP.get("checkEmailAvail",{urlEvalParameters:[e]})}function addGameQuestionIssue(e,t){return HTTP.post("addGameQuestionIssue",{issue:t},{retryCount:1,urlEvalParameters:[e]})}function featureFlags(){return HTTP.get("featureFlags")}function isPhoneNumberAvailable(e){return HTTP.get("checkPhoneNumberAvail",{urlEvalParameters:[e]})}function loginUser(e,t){return HTTP.post("loginUser",{username:e,password:t})}function loginUserWhenPrototyping(e,t){return HTTP.post("loginUserWhenPrototyping",{username:e,password:t})}function isUserNameAvailable(e){return HTTP.get("checkUserNameAvail",{urlEvalParameters:[e]})}function getCurrentUserData(){return HTTP.get("getCurrentUserInfo")}function refreshAuthToken(){return HTTP.post("refreshAuthToken")}function runningGamesList(e,t){return HTTP.get("runningGames")}function completedGamesList(e,t){return HTTP.get("completedGames",{urlEvalParameters:[e,t]})}function allQuizAttempts(e){return HTTP.get("allQuizAttempts",{urlEvalParameters:[e]})}function getRunningGame(e){return HTTP.get("getRunningGame",{timeout:6e3,retryCount:1,urlEvalParameters:[e]})}function getRankRequest(e,t,n="",r){const o={roomHash:e,playerId:t};return _.isString(n)&&n!==""&&(o.teamId=n),HTTP.post("getRank",o,{urlEvalParameters:[r]})}function setUpdateReactionRequest(e){return HTTP.post("reactionUpdate",e)}function checkRoomRequest(e,t){return HTTP.post("v5/checkRoom",e,{timeout:6e3,urlEvalParameters:[t]})}function joinSoloGameRequest(e,t){const n=!!e.contestId;if(isEmpty(e.quizId)||isEmpty(e.player))throw QLogger$1.logOnSentry(["request.VALIDATION_ERROR",e]),{error:{type:"request.VALIDATION_ERROR"}};const r=n?"joinContest":"joinSoloGame";return HTTP.post(r,e,{timeout:1e4,urlEvalParameters:[t]})}function rejoinAnyGameRequest(e,t){if(isEmpty(e.roomHash)||isEmpty(e.playerId))throw QLogger$1.logOnSentry(["request.VALIDATION_ERROR",e]),{error:{type:"request.VALIDATION_ERROR"}};return HTTP.post("rejoinAnyGame",e,{timeout:1e4,urlEvalParameters:[t]})}function getQuestionsRequest(e,t,n,r){const o={roomHash:e};return t&&(o.type=t),HTTP.post("v4/getQuestions",o,{retryCount:1,timeout:1e4,urlEvalParameters:[r]})}function getTeamPlayersRequest(e,t){return HTTP.post("getTeamPlayers",e,{urlEvalParameters:[t]})}function getMemeSet(e){const t=e.game.flow.meme.setId||"";QLogger$1.invariant(t.length!==0,`At getMemeSet: expected a valid memeSet Id but got '${t}'. Falling back to default`);const r=[t.length!==0?t:Constants.DEFAULT_MEME_SET_ID,e.appSettings.selectedLanguage,e.appSettings.selectedTheme];return HTTP.get("getMemeSetById",{retryCount:1,urlEvalParameters:r})}function getQuizInfo(e){return HTTP.get("getQuizInfo",{retryCount:1,urlEvalParameters:[e]})}function getQuizInfoForGame(e,t,n){return HTTP.get("getQuizInfoForGame",{retryCount:1,urlEvalParameters:[e,t,n]})}function getContestData(e){return HTTP.get("getContestData",{retryCount:0,urlEvalParameters:[e]})}function proceedGame(e,t,n,r){const o=setDataForProceedGame(e,t,n,r);return HTTP.post("v4/proceedGame",o,{timeout:PROCEED_GAME_REQUEST_TIMEOUT,urlEvalParameters:[e.applicationContext.isGameSubDomainWhiteListed],callId:n.questionId})}function skipQuestion(e){return HTTP.post("skipQuestion",e,{retryCount:1})}function updateWaitingLeaderboard(e){return HTTP.post("updateWaitingLeaderboard",e)}function discardPlayerAttempt(e,t){return HTTP.post("playerGameOver",e,{urlEvalParameters:[t]})}function proceedSoloGame(e,t,n,r,o){const s=setDataForProceedGame(e,t,n,r);return HTTP.post("proceedSoloGame",s,{timeout:PROCEED_GAME_REQUEST_TIMEOUT,urlEvalParameters:[e.applicationContext.isGameSubDomainWhiteListed],callId:n.questionId})}function endSoloGame(e){return HTTP.post("endSoloGame",e,{retryCount:1})}function updatePlayerMetadata(e,t,n,r){return HTTP.post("updatePlayerMetadata",{roomHash:e,playerId:t,metadata:r,type:n},{retryCount:1})}function hostGameRequest(e){return HTTP.post("hostGame",e)}function getGameDataRequest(e){return HTTP.get("getGameData",{retryCount:1,urlEvalParameters:[e]})}function replayChallengeGameRequest(e,t){return HTTP.post("replayChallengeGame",t,{urlEvalParameters:[e]})}function updateResponse(e){return HTTP.post("updateResponse",e,{timeout:1e4,callId:e.response.id})}function updatePlayerLiveWhiteboard(e,t,n){return HTTP.post("playerLiveWhiteboard",n,{timeout:1e4,urlEvalParameters:[e,t]})}function getPlayerLiveWhiteboard(e,t){return HTTP.get("playerLiveWhiteboard",{timeout:1e4,urlEvalParameters:[e,t]})}function createTestGameActivity(e){return HTTP.post("createTestGameActivity",e)}function sendRaiseHandRequest(e){return HTTP.post("raiseHand",e)}function awardPowerupsRequest(e,t){return HTTP.post("awardPowerups",e,{urlEvalParameters:[t]})}function replacePowerupsRequest(e,t){return HTTP.post("replacePowerups",e,{urlEvalParameters:[t]})}function destroyPowerupEffectRequest(e,t=""){return HTTP.post("destroyPowerupEffect",e,{callId:t})}function getGroups(){return HTTP.get("getGroups")}function getGroupInfo(e){return HTTP.get("getGroupInfo",{retryCount:1,timeout:1e4,urlEvalParameters:[e]})}function joinGroupRequest(e){return HTTP.post("joinGroup",e)}function generateGameChangerCertificate(e){return HTTP.post("generateGameChangerCertificate",e)}function importOrRefreshLmsClasses(e){return HTTP.post("importOrRefreshLmsClasses",e)}function uploadFileToS3(e,{destination:t,folder:n,metadata:r,appendRandomizedQueryParam:o},s,a=2e4){const u=o||!1;let l=!1;return new Promise((m,y)=>{const d=setTimeout(()=>{l=!0,y(new Error("Request timed out"))},a);getUploadURL(t,n,r,u).then(({finalUrl:f,fields:v})=>{let A="https://quizizz.com/directS3Upload";u&&(A+=`?_=${customAlphabet(6)}`);const I=new FormData,P=new XMLHttpRequest;P.onerror=()=>{l||y(new Error("File upload error"))},P.ontimeout=()=>{l||y(new Error("File upload timed out"))},P.onload=O=>{if(O.target.status===400){if(l)return;y(new Error("File upload timed out"))}else clearTimeout(d),l||m(f)},Object.keys(v).forEach(O=>{I.append(O,v[O])}),I.append("file",e),P.open("POST",A,!0),s&&P.setRequestHeader("x-amz-meta-image-processed","1"),P.send(I)}).catch(f=>{l||y(f)})})}function getUploadURL(e,t,n,r=!1){return new Promise((o,s)=>{const a=new XMLHttpRequest;a.onerror=l=>s(l),a.ontimeout=()=>s("Request timed out"),a.onload=l=>{if(l.target.status!==200)s("Request failed");else{const m=JSON.parse(l.target.response||"{}");o(m)}};const u=`https://quizizz.com/media/getUploadURL?destination=${e}${t?`&folder=${t}`:""}${n?`&metadata=${encodeURIComponent(JSON.stringify(n))}`:""}${r?`&_=${customAlphabet(6)}`:""}`;a.open("POST",u),a.send()})}function updateBreakRoomRequest(e,t){return HTTP.post("updateBreakRoom",e,{urlEvalParameters:[t]})}function updatePlayerObstacleRequest(e,t){return HTTP.post("updatePlayerObstacle",e,{urlEvalParameters:[t]})}function updatePathFinderRequest(e,t){return HTTP.post("updatePathFinder",e,{urlEvalParameters:[t]})}class SocketCall{constructor(t,n={},r=""){this.retryTimeouts={},this.retrier=null,this._hasRetryResolved=!1,this._baseIdentifier=r,this._timeComponentForIdentifier=null,this.callData={eventName:t,payload:n,emitsSoFar:0,callIdentifier:"",timeout:null,onAckCB:null,stream:"main"},QLogger$1.invariant(!_.includes(r,"."),'SocketCall: the call identifier cannot have character "." in it')}static addToBus(t,n,r){if(t.eventName==="connect"){SocketEventBus$1.connect(t);return}if(t.eventName==="disconnect"){SocketEventBus$1.disconnect(t);return}n?SocketEventBus$1.addRetry(r,t):SocketEventBus$1.add(t),SocketEventBus$1.emitEvent(t.callIdentifier,n,t.stream)}resolveCall(t){this._hasRetryResolved||(this._hasRetryResolved=!0,SocketEventBus$1.rejectAllRetries(this.callData.callIdentifier),SocketEventBus$1.resolveCall(this.callData.callIdentifier,t))}rejectCall(t){this._hasRetryResolved||(this._hasRetryResolved=!0,SocketEventBus$1.rejectAllRetries(this.callData.callIdentifier),SocketEventBus$1.rejectCall(this.callData.callIdentifier,t))}emit(){return this.callData.emitsSoFar+=1,this._timeComponentForIdentifier=Date.now(),this.callData.callIdentifier=SocketCall._generateIdentifier(this.callData.eventName,this._baseIdentifier,this.callData.emitsSoFar,this._timeComponentForIdentifier),this.callData.payload=SocketCall._getCookedPayload(this.callData.payload,this.callData.callIdentifier),this._emit(this.callData,!1)}clearAllTimeouts(){_.forOwn(this.retryTimeouts,(t,n)=>{clearTimeout(t)}),this.retryTimeouts={}}addRetrier(t){this.retrier=t}timeoutAfter(t){this.callData.timeout=t}setStream(t){if(!t||!SocketConfig.endPoints[t]){QLogger$1.error("SocketCall: set a valid stream which should have a valid endPoint. Defaulting to stream `main`");return}this.callData.stream=t}async _invokeRetrier(t){if(t!==this.callData.callIdentifier&&SocketEventBus$1.rejectRetry(this.callData.callIdentifier,this.callData.emitsSoFar,this._getRejectData(!0,{type:"timeout"},!0,t)),this.retrier&&_.isFunction(this.retrier)){const n=this.retrier(this.callData);if(n.shouldRetry&&!this._hasRetryResolved){this.callData.emitsSoFar+=1;const r=SocketCall._generateIdentifier(this.callData.eventName,this._baseIdentifier,this.callData.emitsSoFar,this._timeComponentForIdentifier),o={...n.callData,payload:SocketCall._getCookedPayload(n.callData.payload,r),eventName:this.callData.eventName,callIdentifier:r};try{const s=await this._emit(o,!0);this.resolveCall(s)}catch(s){QLogger$1.logForSession([`SocketCall: error at _invokeRetrier for ${t}`,o,s],"error",{numArgsToUseForSessionLog:1}),s&&s.cancelled&&s.error&&s.error.type!=="timeout"&&this.rejectCall({...s,callIdentifier:r})}}else this.rejectCall(this._getRejectData(!1,{type:"timeout"},!0,this.callData.callIdentifier))}else this.rejectCall(this._getRejectData(!1,{type:"timeout"},!1,this.callData.callIdentifier))}_emit(t,n){return new Promise((r,o)=>{let s;const a=t.callIdentifier;t.promiseRefs={resolve:r,reject:o},_.isNumber(this.callData.timeout)&&t.eventName!=="connect"&&(s=setTimeout(()=>{this._invokeRetrier(a),s&&clearTimeout(s)},t.timeout),this.retryTimeouts[a]=s,t.promiseRefs={resolve:SocketCall._wrapPromiseRefs(r,this.retryTimeouts[a]),reject:SocketCall._wrapPromiseRefs(o,this.retryTimeouts[a])}),SocketCall.addToBus(t,n,this.callData.callIdentifier)})}static _getCookedPayload(t,n){return QLogger$1.invariant(_.isPlainObject(t),`SocketCall 'payload' needs to be an object for identifier ${n}`),t[CALL_ID_PAYLOAD_KEY]=n,t}static _generateIdentifier(t,n,r,o){let s=n||"";return n&&_.isFunction(n)&&(s=n()),SocketEventBus$1.joinIdentifierParts({eventName:t,baseUniqueId:s,currentTryNum:r,time:o||Date.now()})}static _wrapPromiseRefs(t,n){return function(...o){n&&clearTimeout(n),t(...o)}}static _rejectRetry(t,n){SocketEventBus$1.rejectRetry(t,n)}_getRejectData(t,n,r=!1,o){return{callIdentifier:o,cancelled:t,error:n||{type:"unknown"},didRetry:r}}}function connectMainCall(){const e=new SocketCall("connect");return e.setStream("main"),e.timeoutAfter(12e3),e.emit()}function connectNotificationCall(){const e=new SocketCall("connect");return e.setStream("notification"),e.timeoutAfter(12e3),e.emit()}function disconnectMain(){return new SocketCall("disconnect").emit()}function activatePowerupCall(e){const t=new SocketCall("v4/activatePowerup",e);return t.timeoutAfter(1e4),t.emit()}function checkAssignmentCall(e){const t=new SocketCall("v5/checkAssignment",e);return t.timeoutAfter(12e3),t.emit()}function joinRoomCall(e){if(isEmpty(e.roomHash)||isEmpty(e.player))throw QLogger$1.logOnSentry(["request.VALIDATION_ERROR",e]),{error:{type:"request.VALIDATION_ERROR"}};const t=new SocketCall("v5/join",e);return t.timeoutAfter(15e3),t.emit()}function rejoinRoomCall(e){if(isEmpty(e.roomHash)||isEmpty(e.playerId))throw QLogger$1.logOnSentry(["request.VALIDATION_ERROR",e]),{error:{type:"request.VALIDATION_ERROR"}};const t=new SocketCall("v5/rejoinGame",e);return t.timeoutAfter(12e3),t.emit()}function reconnectRoomCall(e,t=[]){const n=new SocketCall("reconnectRoom",{roomHash:e,entities:t});return n.timeoutAfter(5e3),n.addRetrier(r=>({shouldRetry:r.emitsSoFar<=1,callData:r})),n.emit()}function playerGameOverCall(e){const t=new SocketCall("v2/playerGameOver",e);return t.timeoutAfter(5e3),t.addRetrier(n=>({shouldRetry:n.emitsSoFar<=1,callData:n})),t.emit()}function subscribeCall(e){const t=new SocketCall("subscribe",e);return t.setStream("notification"),t.timeoutAfter(6e3),t.addRetrier(n=>({shouldRetry:n.emitsSoFar<=1,callData:n})),t.emit()}function startGameCall(e){const t=new SocketCall("startGame",e);return t.timeoutAfter(1e4),t.emit()}function getGameReportCall(e){const t=new SocketCall("getReport",e);return t.timeoutAfter(1e4),t.emit()}function deletePlayerCall(e){return new SocketCall("v2/deletePlayer",e).emit()}function Hotjar(e,t,n,r,o,s){e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:2931244,hjsv:6},o=t.getElementsByTagName("head")[0],s=t.createElement("script"),s.async=1,s.src=n+e._hjSettings.hjid+r+e._hjSettings.hjsv,o.appendChild(s)}function getSignupType(e){return e!=null&&e.microsoft?"microsoft":e!=null&&e.google?"google":e!=null&&e.phoneNumber?"mobile":e!=null&&e.email?"email":""}class HotjarService{static setUserAttributes(t){var n;if(!(!t.mongoId||!window.hj)&&t.mongoId&&window.hj){const r=getSignupType(t);window.hj("identify",t==null?void 0:t.id,{user_id:t==null?void 0:t.mongoId,occupation:t==null?void 0:t.occupation,country:t==null?void 0:t.country,plan:(n=t==null?void 0:t.currentPlanStatus)==null?void 0:n.status,createdAt:t==null?void 0:t.createdAt,organizationId:t==null?void 0:t.organization,studentUnderage:t==null?void 0:t.isUnderAge,paidOrganization:t==null?void 0:t.paidOrganization,organizationRole:t==null?void 0:t.organizationRole,experiment:Cookie().get("QUIZIZZ_EXP_NAME"),signupType:r})}}static triggerEvent(t){window.hj&&window.hj("event",t)}}function appendExperimentName(e){return`${String(e)}_${Cookie().get("QUIZIZZ_EXP_NAME")}`}const HotjarEvents={GAME_LOAD:appendExperimentName("game_load"),HOTJAR_MATCH_QUESTION_ACTIVE:appendExperimentName("match_question_active"),HOTJAR_REORDER_QUESTION_ACTIVE:appendExperimentName("reorder_question_active"),HOTJAR_DRAGDROP_QUESTION_ACTIVE:appendExperimentName("dragdrop_question_active"),HOTJAR_DROPDOWN_QUESTION_ACTIVE:appendExperimentName("dropdown_question_active"),HOTJAR_MATH_RESPONSE_QUESTION_ACTIVE:appendExperimentName("math_response_question_active"),HOTSPOT_QUESTION_ACTIVE:appendExperimentName("hotspot_question_active"),CLASSIFICATION_QUESTION_ACTIVE:appendExperimentName("classification_question_active"),HOTJAR_DND_IMAGE_QUESTION_ACTIVE:appendExperimentName("dnd_image_question_active"),HOTJAR_STUDENT_RAISED_HAND:"student_raised_hand",READ_ALOUD_ENABLED:appendExperimentName("read_aloud_enabled"),HOTJAR_START_SKIP_ENABLED_GAME:appendExperimentName("start_skip_enabled_game"),HOTJAR_SKIP_QUESTION_CLICKED:appendExperimentName("skip_question_clicked"),HOTJAR_GRAPHING_QUESTION_ACTIVE:appendExperimentName("graphing_question_active"),HOTJAR_MYSTIC_PEAK:"mystic_peak_active",HOTJAR_PARTICIPANT_REPORTING_ISSUE:"participating_reporting_issue",HOTJAR_FIBV2_QUESTION_ACTIVE:appendExperimentName("fibv2_question_active")};var howler={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var d=this||n;return d._counter=1e3,d._html5AudioPool=[],d.html5PoolSize=10,d._codecs={},d._howls=[],d._muted=!1,d._volume=1,d._canPlayEvent="canplaythrough",d._navigator=typeof window<"u"&&window.navigator?window.navigator:null,d.masterGain=null,d.noAudio=!1,d.usingWebAudio=!0,d.autoSuspend=!0,d.ctx=null,d.autoUnlock=!0,d._setup(),d},volume:function(d){var f=this||n;if(d=parseFloat(d),f.ctx||y(),typeof d<"u"&&d>=0&&d<=1){if(f._volume=d,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(d,n.ctx.currentTime);for(var v=0;v<f._howls.length;v++)if(!f._howls[v]._webAudio)for(var A=f._howls[v]._getSoundIds(),I=0;I<A.length;I++){var P=f._howls[v]._soundById(A[I]);P&&P._node&&(P._node.volume=P._volume*d)}return f}return f._volume},mute:function(d){var f=this||n;f.ctx||y(),f._muted=d,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(d?0:f._volume,n.ctx.currentTime);for(var v=0;v<f._howls.length;v++)if(!f._howls[v]._webAudio)for(var A=f._howls[v]._getSoundIds(),I=0;I<A.length;I++){var P=f._howls[v]._soundById(A[I]);P&&P._node&&(P._node.muted=d?!0:P._muted)}return f},stop:function(){for(var d=this||n,f=0;f<d._howls.length;f++)d._howls[f].stop();return d},unload:function(){for(var d=this||n,f=d._howls.length-1;f>=0;f--)d._howls[f].unload();return d.usingWebAudio&&d.ctx&&typeof d.ctx.close<"u"&&(d.ctx.close(),d.ctx=null,y()),d},codecs:function(d){return(this||n)._codecs[d.replace(/^x-/,"")]},_setup:function(){var d=this||n;if(d.state=d.ctx&&d.ctx.state||"suspended",d._autoSuspend(),!d.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(d._canPlayEvent="canplay")}catch{d.noAudio=!0}else d.noAudio=!0;try{var f=new Audio;f.muted&&(d.noAudio=!0)}catch{}return d.noAudio||d._setupCodecs(),d},_setupCodecs:function(){var d=this||n,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return d}if(!f||typeof f.canPlayType!="function")return d;var v=f.canPlayType("audio/mpeg;").replace(/^no$/,""),A=d._navigator?d._navigator.userAgent:"",I=A.match(/OPR\/([0-6].)/g),P=I&&parseInt(I[0].split("/")[1],10)<33,O=A.indexOf("Safari")!==-1&&A.indexOf("Chrome")===-1,R=A.match(/Version\/(.*?) /),M=O&&R&&parseInt(R[1],10)<15;return d._codecs={mp3:!!(!P&&(v||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!v,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!M&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!M&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},d},_unlockAudio:function(){var d=this||n;if(!(d._audioUnlocked||!d.ctx)){d._audioUnlocked=!1,d.autoUnlock=!1,!d._mobileUnloaded&&d.ctx.sampleRate!==44100&&(d._mobileUnloaded=!0,d.unload()),d._scratchBuffer=d.ctx.createBuffer(1,1,22050);var f=function(v){for(;d._html5AudioPool.length<d.html5PoolSize;)try{var A=new Audio;A._unlocked=!0,d._releaseHtml5Audio(A)}catch{d.noAudio=!0;break}for(var I=0;I<d._howls.length;I++)if(!d._howls[I]._webAudio)for(var P=d._howls[I]._getSoundIds(),O=0;O<P.length;O++){var R=d._howls[I]._soundById(P[O]);R&&R._node&&!R._node._unlocked&&(R._node._unlocked=!0,R._node.load())}d._autoResume();var M=d.ctx.createBufferSource();M.buffer=d._scratchBuffer,M.connect(d.ctx.destination),typeof M.start>"u"?M.noteOn(0):M.start(0),typeof d.ctx.resume=="function"&&d.ctx.resume(),M.onended=function(){M.disconnect(0),d._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var k=0;k<d._howls.length;k++)d._howls[k]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),d}},_obtainHtml5Audio:function(){var d=this||n;if(d._html5AudioPool.length)return d._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(d){var f=this||n;return d._unlocked&&f._html5AudioPool.push(d),f},_autoSuspend:function(){var d=this;if(!(!d.autoSuspend||!d.ctx||typeof d.ctx.suspend>"u"||!n.usingWebAudio)){for(var f=0;f<d._howls.length;f++)if(d._howls[f]._webAudio){for(var v=0;v<d._howls[f]._sounds.length;v++)if(!d._howls[f]._sounds[v]._paused)return d}return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){if(d.autoSuspend){d._suspendTimer=null,d.state="suspending";var A=function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())};d.ctx.suspend().then(A,A)}},3e4),d}},_autoResume:function(){var d=this;if(!(!d.ctx||typeof d.ctx.resume>"u"||!n.usingWebAudio))return d.state==="running"&&d.ctx.state!=="interrupted"&&d._suspendTimer?(clearTimeout(d._suspendTimer),d._suspendTimer=null):d.state==="suspended"||d.state==="running"&&d.ctx.state==="interrupted"?(d.ctx.resume().then(function(){d.state="running";for(var f=0;f<d._howls.length;f++)d._howls[f]._emit("resume")}),d._suspendTimer&&(clearTimeout(d._suspendTimer),d._suspendTimer=null)):d.state==="suspending"&&(d._resumeAfterSuspend=!0),d}};var n=new t,r=function(d){var f=this;if(!d.src||d.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(d)};r.prototype={init:function(d){var f=this;return n.ctx||y(),f._autoplay=d.autoplay||!1,f._format=typeof d.format!="string"?d.format:[d.format],f._html5=d.html5||!1,f._muted=d.mute||!1,f._loop=d.loop||!1,f._pool=d.pool||5,f._preload=typeof d.preload=="boolean"||d.preload==="metadata"?d.preload:!0,f._rate=d.rate||1,f._sprite=d.sprite||{},f._src=typeof d.src!="string"?d.src:[d.src],f._volume=d.volume!==void 0?d.volume:1,f._xhr={method:d.xhr&&d.xhr.method?d.xhr.method:"GET",headers:d.xhr&&d.xhr.headers?d.xhr.headers:null,withCredentials:d.xhr&&d.xhr.withCredentials?d.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=d.onend?[{fn:d.onend}]:[],f._onfade=d.onfade?[{fn:d.onfade}]:[],f._onload=d.onload?[{fn:d.onload}]:[],f._onloaderror=d.onloaderror?[{fn:d.onloaderror}]:[],f._onplayerror=d.onplayerror?[{fn:d.onplayerror}]:[],f._onpause=d.onpause?[{fn:d.onpause}]:[],f._onplay=d.onplay?[{fn:d.onplay}]:[],f._onstop=d.onstop?[{fn:d.onstop}]:[],f._onmute=d.onmute?[{fn:d.onmute}]:[],f._onvolume=d.onvolume?[{fn:d.onvolume}]:[],f._onrate=d.onrate?[{fn:d.onrate}]:[],f._onseek=d.onseek?[{fn:d.onseek}]:[],f._onunlock=d.onunlock?[{fn:d.onunlock}]:[],f._onresume=[],f._webAudio=n.usingWebAudio&&!f._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var d=this,f=null;if(n.noAudio){d._emit("loaderror",null,"No audio support.");return}typeof d._src=="string"&&(d._src=[d._src]);for(var v=0;v<d._src.length;v++){var A,I;if(d._format&&d._format[v])A=d._format[v];else{if(I=d._src[v],typeof I!="string"){d._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}A=/^data:audio\/([^;,]+);/i.exec(I),A||(A=/\.([^.]+)$/.exec(I.split("?",1)[0])),A&&(A=A[1].toLowerCase())}if(A||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),A&&n.codecs(A)){f=d._src[v];break}}if(!f){d._emit("loaderror",null,"No codec support for selected audio sources.");return}return d._src=f,d._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(d._html5=!0,d._webAudio=!1),new o(d),d._webAudio&&a(d),d},play:function(d,f){var v=this,A=null;if(typeof d=="number")A=d,d=null;else{if(typeof d=="string"&&v._state==="loaded"&&!v._sprite[d])return null;if(typeof d>"u"&&(d="__default",!v._playLock)){for(var I=0,P=0;P<v._sounds.length;P++)v._sounds[P]._paused&&!v._sounds[P]._ended&&(I++,A=v._sounds[P]._id);I===1?d=null:A=null}}var O=A?v._soundById(A):v._inactiveSound();if(!O)return null;if(A&&!d&&(d=O._sprite||"__default"),v._state!=="loaded"){O._sprite=d,O._ended=!1;var R=O._id;return v._queue.push({event:"play",action:function(){v.play(R)}}),R}if(A&&!O._paused)return f||v._loadQueue("play"),O._id;v._webAudio&&n._autoResume();var M=Math.max(0,O._seek>0?O._seek:v._sprite[d][0]/1e3),k=Math.max(0,(v._sprite[d][0]+v._sprite[d][1])/1e3-M),U=k*1e3/Math.abs(O._rate),Q=v._sprite[d][0]/1e3,B=(v._sprite[d][0]+v._sprite[d][1])/1e3;O._sprite=d,O._ended=!1;var W=function(){O._paused=!1,O._seek=M,O._start=Q,O._stop=B,O._loop=!!(O._loop||v._sprite[d][2])};if(M>=B){v._ended(O);return}var Z=O._node;if(v._webAudio){var j=function(){v._playLock=!1,W(),v._refreshBuffer(O);var ne=O._muted||v._muted?0:O._volume;Z.gain.setValueAtTime(ne,n.ctx.currentTime),O._playStart=n.ctx.currentTime,typeof Z.bufferSource.start>"u"?O._loop?Z.bufferSource.noteGrainOn(0,M,86400):Z.bufferSource.noteGrainOn(0,M,k):O._loop?Z.bufferSource.start(0,M,86400):Z.bufferSource.start(0,M,k),U!==1/0&&(v._endTimers[O._id]=setTimeout(v._ended.bind(v,O),U)),f||setTimeout(function(){v._emit("play",O._id),v._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?j():(v._playLock=!0,v.once("resume",j),v._clearTimer(O._id))}else{var J=function(){Z.currentTime=M,Z.muted=O._muted||v._muted||n._muted||Z.muted,Z.volume=O._volume*n.volume(),Z.playbackRate=O._rate;try{var ne=Z.play();if(ne&&typeof Promise<"u"&&(ne instanceof Promise||typeof ne.then=="function")?(v._playLock=!0,W(),ne.then(function(){v._playLock=!1,Z._unlocked=!0,f?v._loadQueue():v._emit("play",O._id)}).catch(function(){v._playLock=!1,v._emit("playerror",O._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),O._ended=!0,O._paused=!0})):f||(v._playLock=!1,W(),v._emit("play",O._id)),Z.playbackRate=O._rate,Z.paused){v._emit("playerror",O._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}d!=="__default"||O._loop?v._endTimers[O._id]=setTimeout(v._ended.bind(v,O),U):(v._endTimers[O._id]=function(){v._ended(O),Z.removeEventListener("ended",v._endTimers[O._id],!1)},Z.addEventListener("ended",v._endTimers[O._id],!1))}catch(fe){v._emit("playerror",O._id,fe)}};Z.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(Z.src=v._src,Z.load());var ee=window&&window.ejecta||!Z.readyState&&n._navigator.isCocoonJS;if(Z.readyState>=3||ee)J();else{v._playLock=!0,v._state="loading";var ae=function(){v._state="loaded",J(),Z.removeEventListener(n._canPlayEvent,ae,!1)};Z.addEventListener(n._canPlayEvent,ae,!1),v._clearTimer(O._id)}}return O._id},pause:function(d){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(d)}}),f;for(var v=f._getSoundIds(d),A=0;A<v.length;A++){f._clearTimer(v[A]);var I=f._soundById(v[A]);if(I&&!I._paused&&(I._seek=f.seek(v[A]),I._rateSeek=0,I._paused=!0,f._stopFade(v[A]),I._node))if(f._webAudio){if(!I._node.bufferSource)continue;typeof I._node.bufferSource.stop>"u"?I._node.bufferSource.noteOff(0):I._node.bufferSource.stop(0),f._cleanBuffer(I._node)}else(!isNaN(I._node.duration)||I._node.duration===1/0)&&I._node.pause();arguments[1]||f._emit("pause",I?I._id:null)}return f},stop:function(d,f){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"stop",action:function(){v.stop(d)}}),v;for(var A=v._getSoundIds(d),I=0;I<A.length;I++){v._clearTimer(A[I]);var P=v._soundById(A[I]);P&&(P._seek=P._start||0,P._rateSeek=0,P._paused=!0,P._ended=!0,v._stopFade(A[I]),P._node&&(v._webAudio?P._node.bufferSource&&(typeof P._node.bufferSource.stop>"u"?P._node.bufferSource.noteOff(0):P._node.bufferSource.stop(0),v._cleanBuffer(P._node)):(!isNaN(P._node.duration)||P._node.duration===1/0)&&(P._node.currentTime=P._start||0,P._node.pause(),P._node.duration===1/0&&v._clearSound(P._node))),f||v._emit("stop",P._id))}return v},mute:function(d,f){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"mute",action:function(){v.mute(d,f)}}),v;if(typeof f>"u")if(typeof d=="boolean")v._muted=d;else return v._muted;for(var A=v._getSoundIds(f),I=0;I<A.length;I++){var P=v._soundById(A[I]);P&&(P._muted=d,P._interval&&v._stopFade(P._id),v._webAudio&&P._node?P._node.gain.setValueAtTime(d?0:P._volume,n.ctx.currentTime):P._node&&(P._node.muted=n._muted?!0:d),v._emit("mute",P._id))}return v},volume:function(){var d=this,f=arguments,v,A;if(f.length===0)return d._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var I=d._getSoundIds(),P=I.indexOf(f[0]);P>=0?A=parseInt(f[0],10):v=parseFloat(f[0])}else f.length>=2&&(v=parseFloat(f[0]),A=parseInt(f[1],10));var O;if(typeof v<"u"&&v>=0&&v<=1){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,f)}}),d;typeof A>"u"&&(d._volume=v),A=d._getSoundIds(A);for(var R=0;R<A.length;R++)O=d._soundById(A[R]),O&&(O._volume=v,f[2]||d._stopFade(A[R]),d._webAudio&&O._node&&!O._muted?O._node.gain.setValueAtTime(v,n.ctx.currentTime):O._node&&!O._muted&&(O._node.volume=v*n.volume()),d._emit("volume",O._id))}else return O=A?d._soundById(A):d._sounds[0],O?O._volume:0;return d},fade:function(d,f,v,A){var I=this;if(I._state!=="loaded"||I._playLock)return I._queue.push({event:"fade",action:function(){I.fade(d,f,v,A)}}),I;d=Math.min(Math.max(0,parseFloat(d)),1),f=Math.min(Math.max(0,parseFloat(f)),1),v=parseFloat(v),I.volume(d,A);for(var P=I._getSoundIds(A),O=0;O<P.length;O++){var R=I._soundById(P[O]);if(R){if(A||I._stopFade(P[O]),I._webAudio&&!R._muted){var M=n.ctx.currentTime,k=M+v/1e3;R._volume=d,R._node.gain.setValueAtTime(d,M),R._node.gain.linearRampToValueAtTime(f,k)}I._startFadeInterval(R,d,f,v,P[O],typeof A>"u")}}return I},_startFadeInterval:function(d,f,v,A,I,P){var O=this,R=f,M=v-f,k=Math.abs(M/.01),U=Math.max(4,k>0?A/k:A),Q=Date.now();d._fadeTo=v,d._interval=setInterval(function(){var B=(Date.now()-Q)/A;Q=Date.now(),R+=M*B,R=Math.round(R*100)/100,M<0?R=Math.max(v,R):R=Math.min(v,R),O._webAudio?d._volume=R:O.volume(R,d._id,!0),P&&(O._volume=R),(v<f&&R<=v||v>f&&R>=v)&&(clearInterval(d._interval),d._interval=null,d._fadeTo=null,O.volume(v,d._id),O._emit("fade",d._id))},U)},_stopFade:function(d){var f=this,v=f._soundById(d);return v&&v._interval&&(f._webAudio&&v._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(v._interval),v._interval=null,f.volume(v._fadeTo,d),v._fadeTo=null,f._emit("fade",d)),f},loop:function(){var d=this,f=arguments,v,A,I;if(f.length===0)return d._loop;if(f.length===1)if(typeof f[0]=="boolean")v=f[0],d._loop=v;else return I=d._soundById(parseInt(f[0],10)),I?I._loop:!1;else f.length===2&&(v=f[0],A=parseInt(f[1],10));for(var P=d._getSoundIds(A),O=0;O<P.length;O++)I=d._soundById(P[O]),I&&(I._loop=v,d._webAudio&&I._node&&I._node.bufferSource&&(I._node.bufferSource.loop=v,v&&(I._node.bufferSource.loopStart=I._start||0,I._node.bufferSource.loopEnd=I._stop,d.playing(P[O])&&(d.pause(P[O],!0),d.play(P[O],!0)))));return d},rate:function(){var d=this,f=arguments,v,A;if(f.length===0)A=d._sounds[0]._id;else if(f.length===1){var I=d._getSoundIds(),P=I.indexOf(f[0]);P>=0?A=parseInt(f[0],10):v=parseFloat(f[0])}else f.length===2&&(v=parseFloat(f[0]),A=parseInt(f[1],10));var O;if(typeof v=="number"){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,f)}}),d;typeof A>"u"&&(d._rate=v),A=d._getSoundIds(A);for(var R=0;R<A.length;R++)if(O=d._soundById(A[R]),O){d.playing(A[R])&&(O._rateSeek=d.seek(A[R]),O._playStart=d._webAudio?n.ctx.currentTime:O._playStart),O._rate=v,d._webAudio&&O._node&&O._node.bufferSource?O._node.bufferSource.playbackRate.setValueAtTime(v,n.ctx.currentTime):O._node&&(O._node.playbackRate=v);var M=d.seek(A[R]),k=(d._sprite[O._sprite][0]+d._sprite[O._sprite][1])/1e3-M,U=k*1e3/Math.abs(O._rate);(d._endTimers[A[R]]||!O._paused)&&(d._clearTimer(A[R]),d._endTimers[A[R]]=setTimeout(d._ended.bind(d,O),U)),d._emit("rate",O._id)}}else return O=d._soundById(A),O?O._rate:d._rate;return d},seek:function(){var d=this,f=arguments,v,A;if(f.length===0)d._sounds.length&&(A=d._sounds[0]._id);else if(f.length===1){var I=d._getSoundIds(),P=I.indexOf(f[0]);P>=0?A=parseInt(f[0],10):d._sounds.length&&(A=d._sounds[0]._id,v=parseFloat(f[0]))}else f.length===2&&(v=parseFloat(f[0]),A=parseInt(f[1],10));if(typeof A>"u")return 0;if(typeof v=="number"&&(d._state!=="loaded"||d._playLock))return d._queue.push({event:"seek",action:function(){d.seek.apply(d,f)}}),d;var O=d._soundById(A);if(O)if(typeof v=="number"&&v>=0){var R=d.playing(A);R&&d.pause(A,!0),O._seek=v,O._ended=!1,d._clearTimer(A),!d._webAudio&&O._node&&!isNaN(O._node.duration)&&(O._node.currentTime=v);var M=function(){R&&d.play(A,!0),d._emit("seek",A)};if(R&&!d._webAudio){var k=function(){d._playLock?setTimeout(k,0):M()};setTimeout(k,0)}else M()}else if(d._webAudio){var U=d.playing(A)?n.ctx.currentTime-O._playStart:0,Q=O._rateSeek?O._rateSeek-O._seek:0;return O._seek+(Q+U*Math.abs(O._rate))}else return O._node.currentTime;return d},playing:function(d){var f=this;if(typeof d=="number"){var v=f._soundById(d);return v?!v._paused:!1}for(var A=0;A<f._sounds.length;A++)if(!f._sounds[A]._paused)return!0;return!1},duration:function(d){var f=this,v=f._duration,A=f._soundById(d);return A&&(v=f._sprite[A._sprite][1]/1e3),v},state:function(){return this._state},unload:function(){for(var d=this,f=d._sounds,v=0;v<f.length;v++)f[v]._paused||d.stop(f[v]._id),d._webAudio||(d._clearSound(f[v]._node),f[v]._node.removeEventListener("error",f[v]._errorFn,!1),f[v]._node.removeEventListener(n._canPlayEvent,f[v]._loadFn,!1),f[v]._node.removeEventListener("ended",f[v]._endFn,!1),n._releaseHtml5Audio(f[v]._node)),delete f[v]._node,d._clearTimer(f[v]._id);var A=n._howls.indexOf(d);A>=0&&n._howls.splice(A,1);var I=!0;for(v=0;v<n._howls.length;v++)if(n._howls[v]._src===d._src||d._src.indexOf(n._howls[v]._src)>=0){I=!1;break}return s&&I&&delete s[d._src],n.noAudio=!1,d._state="unloaded",d._sounds=[],d=null,null},on:function(d,f,v,A){var I=this,P=I["_on"+d];return typeof f=="function"&&P.push(A?{id:v,fn:f,once:A}:{id:v,fn:f}),I},off:function(d,f,v){var A=this,I=A["_on"+d],P=0;if(typeof f=="number"&&(v=f,f=null),f||v)for(P=0;P<I.length;P++){var O=v===I[P].id;if(f===I[P].fn&&O||!f&&O){I.splice(P,1);break}}else if(d)A["_on"+d]=[];else{var R=Object.keys(A);for(P=0;P<R.length;P++)R[P].indexOf("_on")===0&&Array.isArray(A[R[P]])&&(A[R[P]]=[])}return A},once:function(d,f,v){var A=this;return A.on(d,f,v,1),A},_emit:function(d,f,v){for(var A=this,I=A["_on"+d],P=I.length-1;P>=0;P--)(!I[P].id||I[P].id===f||d==="load")&&(setTimeout(function(O){O.call(this,f,v)}.bind(A,I[P].fn),0),I[P].once&&A.off(d,I[P].fn,I[P].id));return A._loadQueue(d),A},_loadQueue:function(d){var f=this;if(f._queue.length>0){var v=f._queue[0];v.event===d&&(f._queue.shift(),f._loadQueue()),d||v.action()}return f},_ended:function(d){var f=this,v=d._sprite;if(!f._webAudio&&d._node&&!d._node.paused&&!d._node.ended&&d._node.currentTime<d._stop)return setTimeout(f._ended.bind(f,d),100),f;var A=!!(d._loop||f._sprite[v][2]);if(f._emit("end",d._id),!f._webAudio&&A&&f.stop(d._id,!0).play(d._id),f._webAudio&&A){f._emit("play",d._id),d._seek=d._start||0,d._rateSeek=0,d._playStart=n.ctx.currentTime;var I=(d._stop-d._start)*1e3/Math.abs(d._rate);f._endTimers[d._id]=setTimeout(f._ended.bind(f,d),I)}return f._webAudio&&!A&&(d._paused=!0,d._ended=!0,d._seek=d._start||0,d._rateSeek=0,f._clearTimer(d._id),f._cleanBuffer(d._node),n._autoSuspend()),!f._webAudio&&!A&&f.stop(d._id,!0),f},_clearTimer:function(d){var f=this;if(f._endTimers[d]){if(typeof f._endTimers[d]!="function")clearTimeout(f._endTimers[d]);else{var v=f._soundById(d);v&&v._node&&v._node.removeEventListener("ended",f._endTimers[d],!1)}delete f._endTimers[d]}return f},_soundById:function(d){for(var f=this,v=0;v<f._sounds.length;v++)if(d===f._sounds[v]._id)return f._sounds[v];return null},_inactiveSound:function(){var d=this;d._drain();for(var f=0;f<d._sounds.length;f++)if(d._sounds[f]._ended)return d._sounds[f].reset();return new o(d)},_drain:function(){var d=this,f=d._pool,v=0,A=0;if(!(d._sounds.length<f)){for(A=0;A<d._sounds.length;A++)d._sounds[A]._ended&&v++;for(A=d._sounds.length-1;A>=0;A--){if(v<=f)return;d._sounds[A]._ended&&(d._webAudio&&d._sounds[A]._node&&d._sounds[A]._node.disconnect(0),d._sounds.splice(A,1),v--)}}},_getSoundIds:function(d){var f=this;if(typeof d>"u"){for(var v=[],A=0;A<f._sounds.length;A++)v.push(f._sounds[A]._id);return v}else return[d]},_refreshBuffer:function(d){var f=this;return d._node.bufferSource=n.ctx.createBufferSource(),d._node.bufferSource.buffer=s[f._src],d._panner?d._node.bufferSource.connect(d._panner):d._node.bufferSource.connect(d._node),d._node.bufferSource.loop=d._loop,d._loop&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop||0),d._node.bufferSource.playbackRate.setValueAtTime(d._rate,n.ctx.currentTime),f},_cleanBuffer:function(d){var f=this,v=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&d.bufferSource&&(d.bufferSource.onended=null,d.bufferSource.disconnect(0),v))try{d.bufferSource.buffer=n._scratchBuffer}catch{}return d.bufferSource=null,f},_clearSound:function(d){var f=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);f||(d.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(d){this._parent=d,this.init()};o.prototype={init:function(){var d=this,f=d._parent;return d._muted=f._muted,d._loop=f._loop,d._volume=f._volume,d._rate=f._rate,d._seek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++n._counter,f._sounds.push(d),d.create(),d},create:function(){var d=this,f=d._parent,v=n._muted||d._muted||d._parent._muted?0:d._volume;return f._webAudio?(d._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),d._node.gain.setValueAtTime(v,n.ctx.currentTime),d._node.paused=!0,d._node.connect(n.masterGain)):n.noAudio||(d._node=n._obtainHtml5Audio(),d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(n._canPlayEvent,d._loadFn,!1),d._endFn=d._endListener.bind(d),d._node.addEventListener("ended",d._endFn,!1),d._node.src=f._src,d._node.preload=f._preload===!0?"auto":f._preload,d._node.volume=v*n.volume(),d._node.load()),d},reset:function(){var d=this,f=d._parent;return d._muted=f._muted,d._loop=f._loop,d._volume=f._volume,d._rate=f._rate,d._seek=0,d._rateSeek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++n._counter,d},_errorListener:function(){var d=this;d._parent._emit("loaderror",d._id,d._node.error?d._node.error.code:0),d._node.removeEventListener("error",d._errorFn,!1)},_loadListener:function(){var d=this,f=d._parent;f._duration=Math.ceil(d._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),d._node.removeEventListener(n._canPlayEvent,d._loadFn,!1)},_endListener:function(){var d=this,f=d._parent;f._duration===1/0&&(f._duration=Math.ceil(d._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(d)),d._node.removeEventListener("ended",d._endFn,!1)}};var s={},a=function(d){var f=d._src;if(s[f]){d._duration=s[f].duration,m(d);return}if(/^data:[^;]+;base64,/.test(f)){for(var v=atob(f.split(",")[1]),A=new Uint8Array(v.length),I=0;I<v.length;++I)A[I]=v.charCodeAt(I);l(A.buffer,d)}else{var P=new XMLHttpRequest;P.open(d._xhr.method,f,!0),P.withCredentials=d._xhr.withCredentials,P.responseType="arraybuffer",d._xhr.headers&&Object.keys(d._xhr.headers).forEach(function(O){P.setRequestHeader(O,d._xhr.headers[O])}),P.onload=function(){var O=(P.status+"")[0];if(O!=="0"&&O!=="2"&&O!=="3"){d._emit("loaderror",null,"Failed loading audio file with status: "+P.status+".");return}l(P.response,d)},P.onerror=function(){d._webAudio&&(d._html5=!0,d._webAudio=!1,d._sounds=[],delete s[f],d.load())},u(P)}},u=function(d){try{d.send()}catch{d.onerror()}},l=function(d,f){var v=function(){f._emit("loaderror",null,"Decoding audio data failed.")},A=function(I){I&&f._sounds.length>0?(s[f._src]=I,m(f,I)):v()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(d).then(A).catch(v):n.ctx.decodeAudioData(d,A,v)},m=function(d,f){f&&!d._duration&&(d._duration=f.duration),Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue())},y=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),f=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),v=f?parseInt(f[1],10):null;if(d&&v&&v<9){var A=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!A&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof commonjsGlobal<"u"?(commonjsGlobal.HowlerGlobal=t,commonjsGlobal.Howler=n,commonjsGlobal.Howl=r,commonjsGlobal.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,a,u){var l=this;if(!l.ctx||!l.ctx.listener)return l;var m=l._orientation;if(r=typeof r!="number"?m[1]:r,o=typeof o!="number"?m[2]:o,s=typeof s!="number"?m[3]:s,a=typeof a!="number"?m[4]:a,u=typeof u!="number"?m[5]:u,typeof n=="number")l._orientation=[n,r,o,s,a,u],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(n,r,o,s,a,u);else return m;return l},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var a=o._getSoundIds(r),u=0;u<a.length;u++){var l=o._soundById(a[u]);if(l)if(typeof n=="number")l._stereo=n,l._pos=[n,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&t(l,s),s==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(n,0,0):l._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",l._id);else return l._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,r,o,s)}}),a;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")a._pos=[n,r,o];else return a._pos;for(var u=a._getSoundIds(s),l=0;l<u.length;l++){var m=a._soundById(u[l]);if(m)if(typeof n=="number")m._pos=[n,r,o],m._node&&((!m._panner||m._panner.pan)&&t(m,"spatial"),typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setPosition(n,r,o)),a._emit("pos",m._id);else return m._pos}return a},Howl.prototype.orientation=function(n,r,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,r,o,s)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,o=typeof o!="number"?a._orientation[2]:o,typeof s>"u")if(typeof n=="number")a._orientation=[n,r,o];else return a._orientation;for(var u=a._getSoundIds(s),l=0;l<u.length;l++){var m=a._soundById(u[l]);if(m)if(typeof n=="number")m._orientation=[n,r,o],m._node&&(m._panner||(m._pos||(m._pos=a._pos||[0,0,-.5]),t(m,"spatial")),typeof m._panner.orientationX<"u"?(m._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),m._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),m._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setOrientation(n,r,o)),a._emit("orientation",m._id);else return m._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,a;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(r[0],10)),a?a._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var u=n._getSoundIds(s),l=0;l<u.length;l++)if(a=n._soundById(u[l]),a){var m=a._pannerAttr;m={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:m.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:m.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:m.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:m.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:m.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:m.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:m.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:m.panningModel};var y=a._panner;y?(y.coneInnerAngle=m.coneInnerAngle,y.coneOuterAngle=m.coneOuterAngle,y.coneOuterGain=m.coneOuterGain,y.distanceModel=m.distanceModel,y.maxDistance=m.maxDistance,y.refDistance=m.refDistance,y.rolloffFactor=m.rolloffFactor,y.panningModel=m.panningModel):(a._pos||(a._pos=n._pos||[0,0,-.5]),t(a,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(howler);const SoundStatuses={IDLE:-1,STOPPED:-2,LOADING:0,PAUSED:1,PLAYING:2,MUTED:3};class SoundManager{constructor(t,n,r,o){this.sounds={},this.howled={},this.effects={},this.statuses={},this.dummySounds=[],this.onloadCallbacks={},this.onendCallbacks={},this.onstopCallbacks={},this.overriddenSoundSettings={},this.initCallbacks=[],this.initComplete=!1,this.ThemeDependantSounds=t,this.IndependantSounds=n,this.EffectsForSound=r,this.ExtraSoundsForTheme=o||{}}init(t=Constants.ThemeNames.CLASSIC,n=[],r={},o={}){return new Promise((s,a)=>{const u=this.filterSoundsToInit(t,n);this.statuses={...this.statuses},this.effects={...this.effects,...this.EffectsForSound,...o},this.sounds={...this.sounds,...u,...r};const l=_.keys(this.ThemeDependantSounds[t]);let m=0,y=0;_.forEach(this.sounds,(d,f)=>{if(!this.howled[f]||_.includes(l,f)){m+=1;const v=()=>{y+=1,_.isFunction(d.onload)&&d.onload(),this.statuses[f]=SoundStatuses.IDLE,d.autoplay&&(this.statuses[f]=SoundStatuses.PLAYING),m===y&&(this.onInitComplete(),s())},A=(P,O)=>{_.isFunction(d.onloaderror)&&d.onloaderror(P,O),a(new Error(`Error in loading sound ${f} for id ${P}`))};let I={...d,onend:this.constructOnEndCallback(f,d),onstop:this.constructOnStopCallback(f,d),onload:v,onloaderror:A};this.overriddenSoundSettings[f]&&(I={...I,...this.overriddenSoundSettings[f]}),this.howled[f]=this.constructSound(I)}this.statuses[f]=SoundStatuses.LOADING}),m===0&&s()})}addSoundAtRuntime(t,n,r){return new Promise((o,s)=>{if(_.has(this.sounds,t)&&Constants.NodeEnvs.DEV==="production")throw new Error(`Error at SoundManager's addSoundAtRuntime: sound(${t}) already exists`);this.sounds[t]=n,isEmpty(r)||(this.effects[t]=r);const u=()=>{_.isFunction(n.onload)&&n.onload(),_.isFunction(this.onloadCallbacks[t])&&this.onloadCallbacks[t](),this.dummySounds[t]=t,this.statuses[t]=SoundStatuses.IDLE,n.autoplay&&(this.statuses[t]=SoundStatuses.PLAYING),o()},l=(m,y)=>{_.isFunction(n.onloaderror)&&n.onloaderror(m,y),s(new Error(`Error in loading sound ${t} for id(${m}) :- ${y}`))};this.howled[t]=this.constructSound({...n,onend:this.constructOnEndCallback(t,n),onstop:this.constructOnStopCallback(t,n),onload:u,onloaderror:l},!1),this.statuses[t]=SoundStatuses.LOADING})}registerOnLoadCallback(t,n){_.isFunction(n)&&(this.onloadCallbacks[t]=n)}registerOnStopCallback(t,n){_.isFunction(n)&&(this.onstopCallbacks[t]=n)}registerOnEndCallback(t,n){_.isFunction(n)&&(this.onendCallbacks[t]=n)}hasSound(t){return _.has(this.sounds,t)}constructSound(t){QLogger$1.warn("CoreSoundManager: method 'constructSound' need to be extended so as to implement effects in consumer of CoreSoundManager")}play(t,n=!1,r={}){return new Promise((o,s)=>{if(this.effects[t]){const a=getEffectObject(this.effects[t],EffectPlacement.PRE_PLAY,this.effects);a&&this.executeEffect(a,t)}if(!this.howled[t]){throwErrorForHowled("play",t,this.howled);return}(n||this.statuses[t]!==SoundStatuses.PLAYING)&&(this.howled[t].on("play",()=>{this.dummySounds[t]&&delete this.dummySounds[t],this.statuses[t]=SoundStatuses.PLAYING,o()}),this.howled[t].on("playerror",a=>{this.statuses[t]=SoundStatuses.STOPPED,s()}),this.howled[t].play())})}pause(t){if(!this.howled[t]){throwErrorForHowled("pause",t,this.howled);return}if(this.effects[t]){const n=getEffectObject(this.effects[t],EffectPlacement.PRE_PAUSE,this.effects);n&&this.executeEffect(n,t)}this.howled[t].pause(),this.statuses[t]=SoundStatuses.PAUSED}getPlaybackPosition(t){return this.howled[t]?this.howled[t].seek():(throwErrorForHowled("seek",t,this.howled),0)}getDuration(t){return this.howled[t]?this.howled[t].duration():(throwErrorForHowled("getDuration",t,this.howled),0)}getVolume(t){return this.howled[t]?this.howled[t].volume():(throwErrorForHowled("getVolume",t,this.howled),0)}setVolume(t,n){if(!this.howled[t]){throwErrorForHowled("setVolume",t,this.howled);return}return this.howled[t].volume(n)}getStatus(t){return this.howled[t]?this.statuses[t]:(throwErrorForHowled("getStatus",t,this.howled),Number.MIN_SAFE_INTEGER)}stop(t){this.howled[t]?(this.howled[t].stop(),this.statuses[t]=SoundStatuses.STOPPED):throwErrorForHowled("stop",t,this.howled)}destroy(t){if(!this.howled[t]){throwErrorForHowled("destroy",t,this.howled);return}this.howled[t].unload(),delete this.howled[t],delete this.sounds[t],delete this.effects[t],delete this.statuses[t],delete this.onloadCallbacks[t],delete this.onendCallbacks[t],delete this.onstopCallbacks[t]}stopAll(t=[SoundCategories.MUSIC,SoundCategories.SFX]){let n=[];_.forEach(t,r=>{n=n.concat(CategorizedSounds[r])}),_.forEach(this.howled,(r,o)=>{n.includes(o)&&this.stop(o)})}playDummySounds(){_.forEach(this.dummySounds,async t=>{this.statuses[t]===SoundStatuses.IDLE&&(await this.play(t),this.stop(t))})}overrideSettings(t,n={}){!isEmpty(t)&&_.isString(t)&&(this.overriddenSoundSettings[t]=n)}removeOverriddenSettings(t){this.overriddenSoundSettings[t]&&delete this.overriddenSoundSettings[t]}destroyOverriddenSettings(){this.overriddenSoundSettings={}}addInitCalback(t){this.initComplete?t&&t():_.isFunction(t)&&this.initCallbacks.push(t)}clearInitCallbacks(){this.initCallbacks=[]}executeEffect(t,n){switch(t.name){case EffectNames.FADE:this.fade(n,t.from,t.to,t.duration);break;case EffectNames.FADE_ALL:this.fadeAll(n,t.from,t.to,t.duration);break;case EffectNames.FADE_ALL_BUT:this.fadeAllBut(n,t.from,t.to,t.duration,t.nameToLeave);break;case EffectNames.FADE_ALL_BUT_CURRENT:this.fadeAllButCurrent(n,t.from,t.to,t.duration);break;default:QLogger$1.warn(`SoundManager executeEffect: The effect '${t.name}' for sound '${n}' has no handler. Please create an effect handler in SoundManager`)}}fade(t,n,r,o){QLogger$1.warn("CoreSoundManager: method 'fade' need to be extended so as to implement effects in consumer of CoreSoundManager")}fadeAll(t,n,r,o){_.forEach(this.statuses,(s,a)=>{s===SoundStatuses.PLAYING&&this.fade(a,n,r,o)})}fadeAllBut(t,n,r,o,s){_.forEach(this.statuses,(a,u)=>{a===SoundStatuses.PLAYING&&u!==s&&this.fade(u,n,r,o)})}fadeAllButCurrent(t,n,r,o){this.fadeAllBut(t,n,r,o,t)}getCBForEffect(t,n,r){if(t[r]){const o=getEffectObject(t[r],n,t);if(o)return()=>{n===EffectPlacement.ON_END&&this.statuses[r]===SoundStatuses.STOPPED||this.executeEffect(o,r)}}return null}getVolumeForEffect(t,n){switch(t){case"initial":return this.sounds[n].volume;case"current":return this.howled[n].volume()||this.sounds[n].volume;default:return t}}onInitComplete(){this.initComplete=!0,_.forEach(this.initCallbacks,t=>t&&t()),this.clearInitCallbacks()}constructOnEndCallback(t,n){return(...r)=>{const o=this.getCBForEffect(this.effects,EffectPlacement.ON_END,t);n.autoplay||(this.statuses[t]=SoundStatuses.IDLE),o&&o(),_.isFunction(n.onend)&&n.onend(...r),_.isFunction(this.onendCallbacks[t])&&this.onendCallbacks[t]()}}constructOnStopCallback(t,n){return(...r)=>{const o=this.getCBForEffect(this.effects,EffectPlacement.ON_STOP,t);o&&o(),_.isFunction(this.onstopCallbacks[t])&&this.onstopCallbacks[t](),_.isFunction(n.onstop)&&n.onstop(...r)}}filterSoundsToInit(t,n){const r={},o=_.reduce(CategorizedSounds,(a,u,l)=>_.includes(n,l)?_.concat(a,u):a,[]);_.forEach(this.ThemeDependantSounds[t],(a,u)=>{_.includes(o,u)&&(r[u]=a)}),_.forEach(this.IndependantSounds,(a,u)=>{_.includes(o,u)&&(r[u]=a)});const s=this.ExtraSoundsForTheme[t];return s&&Object.keys(s).forEach(a=>{const u=s[a];o.includes(a)&&(r[a]=u)}),r}}function getEffectObject(e,t,n){let r;if(_.isString(e)){const o=e.split("*")[1];r=n[o]}return _.isObject(e)&&(r=e),r&&r[t]?r[t]:null}function throwErrorForHowled(e,t,n={}){const r=_.keys(n);QLogger$1.error(`Error at: SoundManager ${e} for name ${t}:  doesn't exist in the current available 'howled' sounds. Call init to add to currently howled sounds which are:- `,r)}class WebSoundManager extends SoundManager{constructSound(t,n){return new howler.Howl({...t,src:getAllSrcs(t.src,t.extensions,n)})}fade(t,n,r,o){if(!this.howled[t])return;const s=this.getVolumeForEffect(n,t),a=this.getVolumeForEffect(r,t);this.howled[t].fade(s,a,o)}setRate(t,n){this.howled[t]&&this.howled[t].rate(n)}fadeRate(t){let n=t.from;const r=t.to-t.from,o=r/(t.changePeriod*1e3/250),s=setInterval(()=>{r>0&&n<t.to||r<0&&n>t.to?(n+=o,this.howled[t.name].rate(n)):clearInterval(s)},250)}muteAll(){howler.Howler.mute(!0)}unMuteAll(){howler.Howler.mute(!1)}playSFX(t,n=!1){$store.state.appSettings.playSFX&&this.play(t,n)}}const Sound$1=new WebSoundManager(ThemeDependantSounds,IndependantSounds,EffectsForSound,ExtraSoundsForTheme);function getAllSrcs(e,t=["mp3","ogg"],n=!0){return _.map(t,r=>n?`${e}.${r}`:e)}function stateAssigner(e={},t={}){const n=_.keys(t);for(let r=0;r<n.length;r++){const o=n[r];QLogger$1.invariant(o in e,`Error at stateAssigner: The keyName[${o}] is present in the stateToBeAssigned but is not present in currentState`),e[o]=t[o]}}function stateResetter(e={},t={},n=[]){const r=_.keys(e);Constants.NodeEnvs.PROD!=="production"&&checkIfKeysToPreserveExistInState(r,n);for(let o=0;o<r.length;o++){const s=r[o],a=n.length>0?_.includes(n,s):!1,u=s in t;a||(QLogger$1.invariant(u,`Error at stateResetter: The keyName[${s}] is present in the currentState but is not present in initialState`),e[s]=t[s])}}function useGetters(e){const t=getStoreFromInstance();QLogger$1.invariant(Array.isArray(e),()=>`useGetters: the array provided should be an array. Recieved - ${e}`);const n={};for(let r=0,o=e.length;r<o;r++){const s=e[r];QLogger$1.invariant(_.has(t.getters,s),()=>`useGetters: provided value for ${s} needs to be a non-empty string`),n[s]=computed(()=>{const a=t.getters[s];return typeof a=="object"?readonly(a):a})}return n}function getStoreFromInstance(){var t;const e=getCurrentInstance();if(!e)throw new Error('You must use this function within the "setup()" or "<script setup><\/script>" method');return(t=e.proxy)==null?void 0:t.$store}function checkIfKeysToPreserveExistInState(e,t){_.forEach(t,n=>{const r=_.includes(e,n);QLogger$1.invariant(r,`Error at stateResetter: The key name to preserve [${n}] does not exist in the state. Only valid state keys will be NOT reset. Keys present - [${e.join(",")}]`)})}const ONE_SECOND_IN_MS=1e3;let tickerRafId=()=>{};function getInitialState$n(){return{deviceInfo:{},areNetworkEventsAllowedInSession:_.random(1,1e3)<=2,sessionDetails:{csrf:{header:Cookie().get("x-csrf-token")||null,cookie:Cookie().get("_csrf")||null}},socketConnected:!1,notifSocketConnected:!1,hasSocketConnectedOnce:!1,socketDisconnectedManually:!1,callsInProgress:[],currentAppState:Constants.AppStates.ACTIVE,previousAppState:Constants.AppStates.KILLED,previousContextLoaded:!1,isMenuVisible:!1,clientType:Constants.ClientType.WEB,isGameSubDomainWhiteListed:!1,lastActivityOn:null,lastGameActivityOn:null,lastLanguageSelected:"",needToCheckForFirewallIssues:!1,areSoundsLoaded:{[SoundCategories.MUSIC]:!1,[SoundCategories.SFX]:!1},requestCountry:"",readAloud:{isPlaying:!1,isDisabled:!1,highlight:null,data:null},isAppInProMode:!1,isAppInEmbedMode:!1,ticker:{lastTickOn:0,count:0,interval:ONE_SECOND_IN_MS},globalLoaders:[]}}const getters$i={isApplicationLoaded(e){return e.previousContextLoaded},hasDisconnected(e){return!e.socketConnected&&e.hasSocketConnectedOnce&&!e.socketDisconnectedManually},isEnterGameInteractionDisabled(e,t,n){const r=n.game.player.hasJoinedTheGame,o=checkIfCallInProgress("checkRoom",e.callsInProgress).isIt,s=checkIfCallInProgress("checkAssignment",e.callsInProgress).isIt,a=checkIfCallInProgress("join",e.callsInProgress).isIt,u=checkIfCallInProgress("rejoin",e.callsInProgress).isIt,l=checkIfCallInProgress("getQuestions",e.callsInProgress).isIt,m=checkIfCallInProgress("powerupsConfig",e.callsInProgress).isIt;return o||s||a||u||l||m||r}},mutations$m={[MutationTypes.EXIT_GAME](e,t){const n=["previousContextLoaded","deviceInfo","currentAppState","previousAppState","clientType","isGameSubDomainWhiteListed","hasSocketConnectedOnce","isAppInProMode"];stateResetter(e,getInitialState$n(),n)},[MutationTypes.PREVIOUS_CONTEXT_LOADED](e,t){const n=t.applicationContext;e.previousContextLoaded=!0,n&&(e.lastGameActivityOn=n.lastGameActivityOn||e.lastGameActivityOn,e.lastActivityOn=n.lastActivityOn||e.lastActivityOn,e.lastLanguageSelected=n.deviceInfo.locale||e.lastLanguageSelected)},[MutationTypes.UPDATE_READ_ALOUD](e,t){e.readAloud={...e.readAloud,...t}},[MutationTypes.SET_APP_STATE](e,t){e.currentAppState=t.appStateToBe,e.previousAppState=t.previousAppState},[MutationTypes.SET_DEVICE_INFO](e,t){e.deviceInfo=t.deviceInfo},[MutationTypes.SET_DEVICE_ORIENTATION](e,t){e.deviceInfo={...e.deviceInfo,orientation:t.orientation}},[MutationTypes.SHOW_MENU](e,t){e.isMenuVisible=!0},[MutationTypes.HIDE_MENU](e,t){e.isMenuVisible=!1},[MutationTypes.SET_MUSIC_STATUS](e,t){e.areSoundsLoaded=t.areSoundsLoaded},[MutationTypes.GAME_SUB_DOMAIN_WHITE_LISTED](e,t){e.isGameSubDomainWhiteListed=!0},[MutationTypes.S_CONNECT_SUCCESS](e,t){e.socketConnected=!0,e.hasSocketConnectedOnce=!0,e.socketDisconnectedManually=!1,e.needToCheckForFirewallIssues=!1},[MutationTypes.S_CONNECT_NOTIFICATION_SUCCESS](e,t){e.notifSocketConnected=!0},[MutationTypes.S_SOCKET_DISCONNECTED](e,t){e.socketDisconnectedManually=t.disconnectedManually,e.socketConnected=!1},[MutationTypes.UPDATE_CALLS_IN_PROGRESS](e,t){e.callsInProgress=t.callsList},[MutationTypes.SET_REQUEST_COUNTRY](e,t){e.requestCountry=t.requestCountry},[MutationTypes.SET_APP_MODES](e,t){e.isAppInProMode=t.isAppInProMode===!0,e.isAppInEmbedMode=t.isAppInEmbedMode===!0},[MutationTypes.UPDATE_TICKER](e,t){e.ticker.count=t.count,e.ticker.lastTickOn=t.lastTickOn},[MutationTypes.UPDATE_GLOBAL_LOADERS_LIST](e,t){e.globalLoaders=t.updatedList}},actions$n={async loadApplication({commit:e,dispatch:t,state:n,rootState:r},{openingRoute:o}){t("startTicker"),e(MutationTypes.SET_APP_MODES,{isAppInProMode:window.isProJoinRoute===!0,isAppInEmbedMode:PageNames.matches(o.name,PageNames.List.EMBED)}),window.requestCountry&&e(MutationTypes.SET_REQUEST_COUNTRY,{requestCountry:window.requestCountry}),t("setDeviceMedia"),t("sendPageViewEvent",{isOnLoad:!0,screen:o.name}),await t("setDefaultLanguage"),await t("loadPreviousContext"),await t("loadUser"),await t("checkIfGameDomainIsAvailable"),t("setDeviceInfoAction"),setIfUserCanSendEventsToSentry(),r.user.profile&&HotjarService.setUserAttributes(r.user.profile),HotjarService.triggerEvent(HotjarEvents.GAME_LOAD)},async setDeviceInfoAction({commit:e,rootState:t,dispatch:n}){const r=_.find(Constants.Languages,{lang:"English"}).locale,o=Cookie().get("locale")||null;isAValidSelectedLanguage(o)&&(o!==t.appSettings.selectedLanguage&&o!==r||t.applicationContext.lastLanguageSelected!==o)&&await n("setCurrentLanguage",{lang:o}),e(MutationTypes.SET_DEVICE_INFO,{deviceInfo:{userAgent:window.navigator.userAgent,quizizzUID:Cookie().get("quizizz_uid")||"null",experimentSlot:Cookie().get("QUIZIZZ_EXP_SLOT")||"null",experimentName:Cookie().get("QUIZIZZ_EXP_NAME")||"null",locale:o}})},setDeviceOrientation({commit:e},{orientation:t}){e(MutationTypes.SET_DEVICE_ORIENTATION,{orientation:t})},toggleMenu({state:e,dispatch:t}){e.isMenuVisible?t("hideMenu"):t("showMenu")},updateReadAloud({state:e,commit:t},n){const r={isPlaying:_.has(n,"isPlaying")?n.isPlaying:e.readAloud.isPlaying,isDisabled:_.has(n,"isDisabled")?n.isDisabled:e.readAloud.isDisabled,highlight:_.has(n,"highlight")?n.highlight:e.readAloud.highlight,data:_.has(n,"data")?_.clone(n.data):e.readAloud.data};t(MutationTypes.UPDATE_READ_ALOUD,r)},showMenu({commit:e}){e(MutationTypes.SHOW_MENU)},hideMenu({commit:e,dispatch:t}){e(MutationTypes.HIDE_MENU),t("saveCurrentContext")},setMusicLoadStatus({commit:e,state:t},n){const r={...t.areSoundsLoaded,...n};e(MutationTypes.SET_MUSIC_STATUS,{areSoundsLoaded:r})},async checkIfGameDomainIsAvailable({commit:e},{status:t}={}){try{const n=await checkGameDomain();e(MutationTypes.GAME_SUB_DOMAIN_WHITE_LISTED)}catch(n){QLogger$1.error("at action: checkIfGameDomainIsAvailable",n)}},async connectSocket({commit:e,dispatch:t,state:n}){try{const r=Date.now();if(!(await connectMainCall()).connected){const s=n.hasSocketConnectedOnce?"soc_disconn_init":"soc_disconn_session",a=Date.now()-r;return t("toggleOverlay",{type:"socketConnectError"}),t("logNetworkIssue",{issueType:s,params:{timeTaken:a}}),!1}return e(MutationTypes.S_CONNECT_SUCCESS),!0}catch(r){QLogger$1.error("at action: connectSocket",r)}},async connectSocketForNotification({commit:e,dispatch:t}){try{if(!(await connectNotificationCall()).connected)return;e(MutationTypes.S_CONNECT_NOTIFICATION_SUCCESS),t("subscribeForNotifications")}catch(n){QLogger$1.error("at action: connectSocketForNotification",n)}},async disconnectSocket(){try{disconnectMain()}catch(e){QLogger$1.error("at action: disconnectSocket",e)}},updateCallInProgressStatus({commit:e,state:t},{callBeingUpdated:n,updationType:r}){const o=updateCallsInProgressCooker(t,n,r);e(MutationTypes.UPDATE_CALLS_IN_PROGRESS,o)},async setDefaultLanguage({dispatch:e,rootState:t}){const n=t.appSettings.selectedLanguage,r=getBrowserDefaultLanguage().split("-")[0];isAValidSelectedLanguage(r)&&n!==r&&await e("setCurrentLanguage",{lang:r})},setDeviceMedia({rootState:e,commit:t,dispatch:n},{isFirstTouch:r=!1}={}){const{rootReducer:o,applicationContext:s}=e,a=o.media,u=getDeviceMediaDetails(a,r);t(MutationTypes.SET_DEVICE_MEDIA_DETAILS,{media:u}),u.orientation!==_.get(s,"deviceInfo.orientation")&&n("setDeviceOrientation",{orientation:u.orientation})},handleAppStateChange({state:e,commit:t,rootState:n,dispatch:r},{appStateToBe:o}){if(o===e.currentAppState)return;t(MutationTypes.SET_APP_STATE,{appStateToBe:o,previousAppState:e.currentAppState});const{game:{player:s}}=n;_.includes([Constants.AppStates.INACTIVE,Constants.AppStates.KILLED,Constants.AppStates.BACKGROUND],o)&&(!isEmpty(s.lastGamePlayed)&&s.hasJoinedTheGame&&r("updateIncompleteGame",{}),r("saveCurrentContext"))},handleExitGame({dispatch:e,getters:t,rootState:n},{redirectTo:r,preserveClassroomInfo:o=!1}={}){const s={...n.game.flow.appSettingsToRevertAtGameEnd},{slidesFlowControlType:a}=n.game.questions,{applicationContext:u}=n;a===Constants.SlidesFlowControlTypes.FULL&&e("doPlayerMetadataUpdation"),(u.socketConnected||!u.socketConnected&&u.hasSocketConnectedOnce&&!u.socketDisconnectedManually)&&e("disconnectSocket"),e("exitGame",{preserveClassroomInfo:o,redirectTo:r}),Sound$1.destroyOverriddenSettings(),!isEmpty(r)&&r.name&&e("requestToChangePage",{to:r.name,metaData:r.metaData}),e("connectSocket"),isEmpty(s)||e("setAppSettings",s)},logUserFeedbackDataToServer(e,{data:t,eventName:n}){InHouseEventLogger$1.logEvent(n,t.params,"immediate",{apiEndpoint:URLConfig.getFeedbackTrackingURL(),attachAdditionalParams:!1,eventOptions:t.eventOptions})},onSearchSubmitInteraction(e,{query:t,hasFilters:n=!1}){InHouseEventLogger$1.logEvent(WebEvents.SEARCH_SUBMIT,{query:t,hasFilters:n})},gameCardClickInteraction(e,t){InHouseEventLogger$1.logEvent(WebEvents.GAME_CARD_CLICK,t)},async setLanguageForAppUser({rootState:e,dispatch:t},{language:n}){const{user:{profile:r}}=e,o=await t("setCurrentLanguage",{lang:n});return o.success&&r.isLoggedIn&&t("updateUserProfileInfo",{itemsBeingUpdated:[{prop:"language",data:n}]}),o},reloadFromNetworkIssue({dispatch:e},{modalReloadButtonClick:t=!0}={}){e("saveCurrentContext"),setTimeout(()=>{window.location.reload()},1e3)},handleAdminRedirection(){const e=getIEVersion();return e>0&&e<=11?(window.location.href="https://quizizz.com/admin",!0):!1},logNetworkIssue({state:e},{issueType:t,params:n={}}){if(!e.areNetworkEventsAllowedInSession)return;const r=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,o={issueType:t,...n};r&&(o.effType=r.effectiveType,o.downlink=r.downlink,o.connType=r.type||""),InHouseEventLogger$1.logEvent(WebEvents.NETWORK_ISSUE,o)},async handleCommonApplicationErrors({dispatch:e},{response:t,tryData:n}){const{respObj:r}=t,o={shouldRetry:!1};try{if(r&&r.type)switch(r.type){case"user.AUTH_TOKEN_EXPIRED":await e("handleAuthTokenRefresh"),o.shouldRetry=!0;break;case"user.MISMATCHED_AUTH":window.location.reload();break;default:}}catch(s){QLogger$1.error("Error at action handleCommonApplicationErrors",s)}return o},triggerEmbedEvent({rootState:e,getters:t},{eventName:n,eventPayload:r={}}){window.parent.postMessage({eventName:n,payload:{gameId:e.game.data.roomHash,playerId:e.game.player.playerId,numCorrect:e.game.player.totalCorrect,numAttempted:t.totalInteractiveSlidesAttempted,gameState:e.game.data.gameState,totalQuestionInQuiz:t.totalQuestionsInGame,...r}},"*")},sendPageViewEvent({rootState:e},{isOnLoad:t=!1,screen:n=null}={}){let r=_.isString(n)?n:e.routing.currentPage;if(PageNames.matches(r,PageNames.List.IN_GAME)&&(r="inGame"),!t){InHouseEventLogger$1.logEvent(WebEvents.PAGE_VIEW,{screen:r},"immediate",{attachAdditionalGameParams:!1});return}const{eventParams:o}=applicationLoadedCooker(e,r);InHouseEventLogger$1.logEvent(WebEvents.APP_LOADING,o,"immediate")},startTicker({state:e,commit:t}){const n=r=>{const o=e.ticker,s=Math.floor((r-o.count)/o.interval);if(s>=1){const a=(r-o.count)%o.interval;t(MutationTypes.UPDATE_TICKER,{lastTickOn:Date.now()-_.round(a),count:o.count+s*o.interval})}tickerRafId=window.requestAnimationFrame(n)};tickerRafId=window.requestAnimationFrame(n)},stopTicker({state:e}){cancelAnimationFrame(tickerRafId)},startGlobalLoader({rootState:e,commit:t},{loader:{name:n,meta:r={}}}){QLogger$1.invariant(_.isString(n)&&!isEmpty(n),`startGlobalLoader: loader 'name' needs to be a non empty string. Recieved '${n}'`);const{applicationContext:o}=e,s={id:Symbol(n),name:n,meta:r};return t(MutationTypes.UPDATE_GLOBAL_LOADERS_LIST,{updatedList:[...o.globalLoaders,s]}),s},endGlobalLoader({rootState:e,commit:t},{loader:{id:n}}){const{applicationContext:r}=e,o=r.globalLoaders;QLogger$1.invariant(_.isSymbol(n),()=>`endGlobalLoader: loader 'id' needs to be a Symbol. Recieved '${n}'`);const s=_.filter(o,a=>a.id!==n);return t(MutationTypes.UPDATE_GLOBAL_LOADERS_LIST,{updatedList:s}),s}},applicationContext={state:getInitialState$n(),getters:getters$i,mutations:mutations$m,actions:actions$n};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(e,t){const n={};for(const r in t){const o=t[r];n[r]=isArray(o)?o.map(e):e(o)}return n}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,t,n="/"){let r,o={},s="",a="";const u=t.indexOf("#");let l=t.indexOf("?");return u<l&&u>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,u>-1?u:t.length),o=e(s)),u>-1&&(r=r||t.slice(0,u),a=t.slice(u,t.length)),r=resolveRelativePath(r??t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:o,hash:a}}function stringifyURL(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function stripBase(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function isSameRouteLocation(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&isSameRouteRecord(t.matched[r],n.matched[o])&&isSameRouteLocationParams(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!isSameRouteLocationParamsValue(e[n],t[n]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return isArray(e)?isEquivalentArray(e,t):isArray(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,t){return isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var NavigationType;(function(e){e.pop="pop",e.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(e){e.back="back",e.forward="forward",e.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(e){if(!e)if(isBrowser){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=getElementPosition(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){const t=scrollPositions.get(e);return scrollPositions.delete(e),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let u=o.includes(e.slice(s))?e.slice(s).length:1,l=o.slice(u);return l[0]!=="/"&&(l="/"+l),stripBase(l,"")}return stripBase(n,e)+r+o}function useHistoryListeners(e,t,n,r){let o=[],s=[],a=null;const u=({state:f})=>{const v=createCurrentLocation(e,location),A=n.value,I=t.value;let P=0;if(f){if(n.value=v,t.value=f,a&&a===A){a=null;return}P=I?f.position-I.position:0}else r(v);o.forEach(O=>{O(n.value,A,{delta:P,type:NavigationType.pop,direction:P?P>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function l(){a=n.value}function m(f){o.push(f);const v=()=>{const A=o.indexOf(f);A>-1&&o.splice(A,1)};return s.push(v),v}function y(){const{history:f}=window;f.state&&f.replaceState(assign({},f.state,{scroll:computeScrollPosition()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",y),{pauseListeners:l,listen:m,destroy:d}}function buildState(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:t,location:n}=window,r={value:createCurrentLocation(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,m,y){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:createBaseLocation()+e+l;try{t[y?"replaceState":"pushState"](m,"",f),o.value=m}catch(v){console.error(v),n[y?"replace":"assign"](f)}}function a(l,m){const y=assign({},t.state,buildState(o.value.back,l,o.value.forward,!0),m,{position:o.value.position});s(l,y,!0),r.value=l}function u(l,m){const y=assign({},o.value,t.state,{forward:l,scroll:computeScrollPosition()});s(y.current,y,!0);const d=assign({},buildState(r.value,l,null),{position:y.position+1},m);s(l,d,!1),r.value=l}return{location:r,state:o,push:u,replace:a}}function createWebHistory(e){e=normalizeBase(e);const t=useHistoryStateNavigation(e),n=useHistoryListeners(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=assign({location:"",base:e,go:r,createHref:createHref.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(e,t){return assign(new Error,{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(t==null||!!(e.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){const n=assign({},BASE_PATH_PARSER_OPTIONS,t),r=[];let o=n.start?"^":"";const s=[];for(const m of e){const y=m.length?[]:[90];n.strict&&!m.length&&(o+="/");for(let d=0;d<m.length;d++){const f=m[d];let v=40+(n.sensitive?.25:0);if(f.type===0)d||(o+="/"),o+=f.value.replace(REGEX_CHARS_RE,"\\$&"),v+=40;else if(f.type===1){const{value:A,repeatable:I,optional:P,regexp:O}=f;s.push({name:A,repeatable:I,optional:P});const R=O||BASE_PARAM_PATTERN;if(R!==BASE_PARAM_PATTERN){v+=10;try{new RegExp(`(${R})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${A}" (${R}): `+k.message)}}let M=I?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;d||(M=P&&m.length<2?`(?:/${M})`:"/"+M),P&&(M+="?"),o+=M,v+=20,P&&(v+=-8),I&&(v+=-20),R===".*"&&(v+=-50)}y.push(v)}r.push(y)}if(n.strict&&n.end){const m=r.length-1;r[m][r[m].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function u(m){const y=m.match(a),d={};if(!y)return null;for(let f=1;f<y.length;f++){const v=y[f]||"",A=s[f-1];d[A.name]=v&&A.repeatable?v.split("/"):v}return d}function l(m){let y="",d=!1;for(const f of e){(!d||!y.endsWith("/"))&&(y+="/"),d=!1;for(const v of f)if(v.type===0)y+=v.value;else if(v.type===1){const{value:A,repeatable:I,optional:P}=v,O=A in m?m[A]:"";if(isArray(O)&&!I)throw new Error(`Provided param "${A}" is an array but it is not repeatable (* or + modifiers)`);const R=isArray(O)?O.join("/"):O;if(!R)if(P)f.length<2&&(y.endsWith("/")?y=y.slice(0,-1):d=!0);else throw new Error(`Missing required param "${A}"`);y+=R}}return y||"/"}return{re:a,score:r,keys:s,parse:u,stringify:l}}function compareScoreArray(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function comparePathParserScore(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=compareScoreArray(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(isLastScoreNegative(r))return 1;if(isLastScoreNegative(o))return-1}return o.length-r.length}function isLastScoreNegative(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${m}": ${v}`)}let n=0,r=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let u=0,l,m="",y="";function d(){m&&(n===0?s.push({type:0,value:m}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:m,regexp:y,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),m="")}function f(){m+=l}for(;u<e.length;){if(l=e[u++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(m&&d(),a()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:VALID_PARAM_RE.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&u--);break;case 2:l===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+l:n=3:y+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&u--,y="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${m}"`),d(),a(),o}function createRouteRecordMatcher(e,t,n){const r=tokensToParser(tokenizePath(e.path),n),o=assign(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function createRouterMatcher(e,t){const n=[],r=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function o(y){return r.get(y)}function s(y,d,f){const v=!f,A=normalizeRouteRecord(y);A.aliasOf=f&&f.record;const I=mergeOptions(t,y),P=[A];if("alias"in y){const M=typeof y.alias=="string"?[y.alias]:y.alias;for(const k of M)P.push(assign({},A,{components:f?f.record.components:A.components,path:k,aliasOf:f?f.record:A}))}let O,R;for(const M of P){const{path:k}=M;if(d&&k[0]!=="/"){const U=d.record.path,Q=U[U.length-1]==="/"?"":"/";M.path=d.record.path+(k&&Q+k)}if(O=createRouteRecordMatcher(M,d,I),f?f.alias.push(O):(R=R||O,R!==O&&R.alias.push(O),v&&y.name&&!isAliasRecord(O)&&a(y.name)),A.children){const U=A.children;for(let Q=0;Q<U.length;Q++)s(U[Q],O,f&&f.children[Q])}f=f||O,(O.record.components&&Object.keys(O.record.components).length||O.record.name||O.record.redirect)&&l(O)}return R?()=>{a(R)}:noop}function a(y){if(isRouteName(y)){const d=r.get(y);d&&(r.delete(y),n.splice(n.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=n.indexOf(y);d>-1&&(n.splice(d,1),y.record.name&&r.delete(y.record.name),y.children.forEach(a),y.alias.forEach(a))}}function u(){return n}function l(y){let d=0;for(;d<n.length&&comparePathParserScore(y,n[d])>=0&&(y.record.path!==n[d].record.path||!isRecordChildOf(y,n[d]));)d++;n.splice(d,0,y),y.record.name&&!isAliasRecord(y)&&r.set(y.record.name,y)}function m(y,d){let f,v={},A,I;if("name"in y&&y.name){if(f=r.get(y.name),!f)throw createRouterError(1,{location:y});I=f.record.name,v=assign(paramsFromLocation(d.params,f.keys.filter(R=>!R.optional).map(R=>R.name)),y.params&&paramsFromLocation(y.params,f.keys.map(R=>R.name))),A=f.stringify(v)}else if("path"in y)A=y.path,f=n.find(R=>R.re.test(A)),f&&(v=f.parse(A),I=f.record.name);else{if(f=d.name?r.get(d.name):n.find(R=>R.re.test(d.path)),!f)throw createRouterError(1,{location:y,currentLocation:d});I=f.record.name,v=assign({},d.params,y.params),A=f.stringify(v)}const P=[];let O=f;for(;O;)P.unshift(O.record),O=O.parent;return{name:I,path:A,params:v,matched:P,meta:mergeMetaFields(P)}}return e.forEach(y=>s(y)),{addRoute:s,resolve:m,removeRoute:a,getRoutes:u,getRecordMatcher:o}}function paramsFromLocation(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function normalizeRecordProps(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((t,n)=>assign(t,n.meta),{})}function mergeOptions(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function isRecordChildOf(e,t){return t.children.some(n=>n===e||isRecordChildOf(e,n))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return e==null?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function parseQuery(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(PLUS_RE," "),a=s.indexOf("="),u=decode(a<0?s:s.slice(0,a)),l=a<0?null:decode(s.slice(a+1));if(u in t){let m=t[u];isArray(m)||(m=t[u]=[m]),m.push(l)}else t[u]=l}return t}function stringifyQuery(e){let t="";for(let n in e){const r=e[n];if(n=encodeQueryKey(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(isArray(r)?r.map(s=>s&&encodeQueryValue(s)):[r&&encodeQueryValue(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function normalizeQuery(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=isArray(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function guardToPromiseFn(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,u)=>{const l=d=>{d===!1?u(createRouterError(4,{from:n,to:t})):d instanceof Error?u(d):isRouteLocation(d)?u(createRouterError(2,{from:t,to:d})):(s&&r.enterCallbacks[o]===s&&typeof d=="function"&&s.push(d),a())},m=e.call(r&&r.instances[o],t,n,l);let y=Promise.resolve(m);e.length<3&&(y=y.then(l)),y.catch(d=>u(d))})}function extractComponentsGuards(e,t,n,r){const o=[];for(const s of e)for(const a in s.components){let u=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(isRouteComponent(u)){const m=(u.__vccOpts||u)[t];m&&o.push(guardToPromiseFn(m,n,r,s,a))}else{let l=u();o.push(()=>l.then(m=>{if(!m)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const y=isESModule(m)?m.default:m;s.components[a]=y;const f=(y.__vccOpts||y)[t];return f&&guardToPromiseFn(f,n,r,s,a)()}))}}return o}function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(e){const t=inject(routerKey),n=inject(routeLocationKey),r=computed(()=>t.resolve(unref(e.to))),o=computed(()=>{const{matched:l}=r.value,{length:m}=l,y=l[m-1],d=n.matched;if(!y||!d.length)return-1;const f=d.findIndex(isSameRouteRecord.bind(null,y));if(f>-1)return f;const v=getOriginalPath(l[m-2]);return m>1&&getOriginalPath(y)===v&&d[d.length-1].path!==v?d.findIndex(isSameRouteRecord.bind(null,l[m-2])):f}),s=computed(()=>o.value>-1&&includesParams(n.params,r.value.params)),a=computed(()=>o.value>-1&&o.value===n.matched.length-1&&isSameRouteLocationParams(n.params,r.value.params));function u(l={}){return guardEvent(l)?t[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop):Promise.resolve()}return{route:r,href:computed(()=>r.value.href),isActive:s,isExactActive:a,navigate:u}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(e,{slots:t}){const n=reactive(useLink(e)),{options:r}=inject(routerKey),o=computed(()=>({[getLinkClass(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[getLinkClass(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:h("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!isArray(o)||o.length!==r.length||r.some((s,a)=>s!==o[a]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,t,n)=>e??t??n,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=inject(routerViewLocationKey),o=computed(()=>e.route||r.value),s=inject(viewDepthKey,0),a=computed(()=>{let m=unref(s);const{matched:y}=o.value;let d;for(;(d=y[m])&&!d.components;)m++;return m}),u=computed(()=>o.value.matched[a.value]);provide(viewDepthKey,computed(()=>a.value+1)),provide(matchedRouteKey,u),provide(routerViewLocationKey,o);const l=ref();return watch(()=>[l.value,u.value,e.name],([m,y,d],[f,v,A])=>{y&&(y.instances[d]=m,v&&v!==y&&m&&m===f&&(y.leaveGuards.size||(y.leaveGuards=v.leaveGuards),y.updateGuards.size||(y.updateGuards=v.updateGuards))),m&&y&&(!v||!isSameRouteRecord(y,v)||!f)&&(y.enterCallbacks[d]||[]).forEach(I=>I(m))},{flush:"post"}),()=>{const m=o.value,y=e.name,d=u.value,f=d&&d.components[y];if(!f)return normalizeSlot(n.default,{Component:f,route:m});const v=d.props[y],A=v?v===!0?m.params:typeof v=="function"?v(m):v:null,P=h(f,assign({},A,t,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(d.instances[y]=null)},ref:l}));return normalizeSlot(n.default,{Component:P,route:m})||P}}});function normalizeSlot(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const RouterView=RouterViewImpl;function createRouter(e){const t=createRouterMatcher(e.routes,e),n=e.parseQuery||parseQuery,r=e.stringifyQuery||stringifyQuery,o=e.history,s=useCallbacks(),a=useCallbacks(),u=useCallbacks(),l=shallowRef(START_LOCATION_NORMALIZED);let m=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=applyToParams.bind(null,Ee=>""+Ee),d=applyToParams.bind(null,encodeParam),f=applyToParams.bind(null,decode);function v(Ee,Fe){let Me,ze;return isRouteName(Ee)?(Me=t.getRecordMatcher(Ee),ze=Fe):ze=Ee,t.addRoute(ze,Me)}function A(Ee){const Fe=t.getRecordMatcher(Ee);Fe&&t.removeRoute(Fe)}function I(){return t.getRoutes().map(Ee=>Ee.record)}function P(Ee){return!!t.getRecordMatcher(Ee)}function O(Ee,Fe){if(Fe=assign({},Fe||l.value),typeof Ee=="string"){const Y=parseURL(n,Ee,Fe.path),te=t.resolve({path:Y.path},Fe),de=o.createHref(Y.fullPath);return assign(Y,te,{params:f(te.params),hash:decode(Y.hash),redirectedFrom:void 0,href:de})}let Me;if("path"in Ee)Me=assign({},Ee,{path:parseURL(n,Ee.path,Fe.path).path});else{const Y=assign({},Ee.params);for(const te in Y)Y[te]==null&&delete Y[te];Me=assign({},Ee,{params:d(Ee.params)}),Fe.params=d(Fe.params)}const ze=t.resolve(Me,Fe),je=Ee.hash||"";ze.params=y(f(ze.params));const Te=stringifyURL(r,assign({},Ee,{hash:encodeHash(je),path:ze.path})),Ke=o.createHref(Te);return assign({fullPath:Te,hash:je,query:r===stringifyQuery?normalizeQuery(Ee.query):Ee.query||{}},ze,{redirectedFrom:void 0,href:Ke})}function R(Ee){return typeof Ee=="string"?parseURL(n,Ee,l.value.path):assign({},Ee)}function M(Ee,Fe){if(m!==Ee)return createRouterError(8,{from:Fe,to:Ee})}function k(Ee){return B(Ee)}function U(Ee){return k(assign(R(Ee),{replace:!0}))}function Q(Ee){const Fe=Ee.matched[Ee.matched.length-1];if(Fe&&Fe.redirect){const{redirect:Me}=Fe;let ze=typeof Me=="function"?Me(Ee):Me;return typeof ze=="string"&&(ze=ze.includes("?")||ze.includes("#")?ze=R(ze):{path:ze},ze.params={}),assign({query:Ee.query,hash:Ee.hash,params:"path"in ze?{}:Ee.params},ze)}}function B(Ee,Fe){const Me=m=O(Ee),ze=l.value,je=Ee.state,Te=Ee.force,Ke=Ee.replace===!0,Y=Q(Me);if(Y)return B(assign(R(Y),{state:typeof Y=="object"?assign({},je,Y.state):je,force:Te,replace:Ke}),Fe||Me);const te=Me;te.redirectedFrom=Fe;let de;return!Te&&isSameRouteLocation(r,ze,Me)&&(de=createRouterError(16,{to:te,from:ze}),me(ze,ze,!0,!1)),(de?Promise.resolve(de):Z(te,ze)).catch(ye=>isNavigationFailure(ye)?isNavigationFailure(ye,2)?ye:rt(ye):Le(ye,te,ze)).then(ye=>{if(ye){if(isNavigationFailure(ye,2))return B(assign({replace:Ke},R(ye.to),{state:typeof ye.to=="object"?assign({},je,ye.to.state):je,force:Te}),Fe||te)}else ye=J(te,ze,!0,Ke,je);return j(te,ze,ye),ye})}function W(Ee,Fe){const Me=M(Ee,Fe);return Me?Promise.reject(Me):Promise.resolve()}function Z(Ee,Fe){let Me;const[ze,je,Te]=extractChangingRecords(Ee,Fe);Me=extractComponentsGuards(ze.reverse(),"beforeRouteLeave",Ee,Fe);for(const Y of ze)Y.leaveGuards.forEach(te=>{Me.push(guardToPromiseFn(te,Ee,Fe))});const Ke=W.bind(null,Ee,Fe);return Me.push(Ke),runGuardQueue(Me).then(()=>{Me=[];for(const Y of s.list())Me.push(guardToPromiseFn(Y,Ee,Fe));return Me.push(Ke),runGuardQueue(Me)}).then(()=>{Me=extractComponentsGuards(je,"beforeRouteUpdate",Ee,Fe);for(const Y of je)Y.updateGuards.forEach(te=>{Me.push(guardToPromiseFn(te,Ee,Fe))});return Me.push(Ke),runGuardQueue(Me)}).then(()=>{Me=[];for(const Y of Ee.matched)if(Y.beforeEnter&&!Fe.matched.includes(Y))if(isArray(Y.beforeEnter))for(const te of Y.beforeEnter)Me.push(guardToPromiseFn(te,Ee,Fe));else Me.push(guardToPromiseFn(Y.beforeEnter,Ee,Fe));return Me.push(Ke),runGuardQueue(Me)}).then(()=>(Ee.matched.forEach(Y=>Y.enterCallbacks={}),Me=extractComponentsGuards(Te,"beforeRouteEnter",Ee,Fe),Me.push(Ke),runGuardQueue(Me))).then(()=>{Me=[];for(const Y of a.list())Me.push(guardToPromiseFn(Y,Ee,Fe));return Me.push(Ke),runGuardQueue(Me)}).catch(Y=>isNavigationFailure(Y,8)?Y:Promise.reject(Y))}function j(Ee,Fe,Me){for(const ze of u.list())ze(Ee,Fe,Me)}function J(Ee,Fe,Me,ze,je){const Te=M(Ee,Fe);if(Te)return Te;const Ke=Fe===START_LOCATION_NORMALIZED,Y=isBrowser?history.state:{};Me&&(ze||Ke?o.replace(Ee.fullPath,assign({scroll:Ke&&Y&&Y.scroll},je)):o.push(Ee.fullPath,je)),l.value=Ee,me(Ee,Fe,Me,Ke),rt()}let ee;function ae(){ee||(ee=o.listen((Ee,Fe,Me)=>{if(!G.listening)return;const ze=O(Ee),je=Q(ze);if(je){B(assign(je,{replace:!0}),ze).catch(noop);return}m=ze;const Te=l.value;isBrowser&&saveScrollPosition(getScrollKey(Te.fullPath,Me.delta),computeScrollPosition()),Z(ze,Te).catch(Ke=>isNavigationFailure(Ke,12)?Ke:isNavigationFailure(Ke,2)?(B(Ke.to,ze).then(Y=>{isNavigationFailure(Y,20)&&!Me.delta&&Me.type===NavigationType.pop&&o.go(-1,!1)}).catch(noop),Promise.reject()):(Me.delta&&o.go(-Me.delta,!1),Le(Ke,ze,Te))).then(Ke=>{Ke=Ke||J(ze,Te,!1),Ke&&(Me.delta&&!isNavigationFailure(Ke,8)?o.go(-Me.delta,!1):Me.type===NavigationType.pop&&isNavigationFailure(Ke,20)&&o.go(-1,!1)),j(ze,Te,Ke)}).catch(noop)}))}let ne=useCallbacks(),fe=useCallbacks(),ge;function Le(Ee,Fe,Me){rt(Ee);const ze=fe.list();return ze.length?ze.forEach(je=>je(Ee,Fe,Me)):console.error(Ee),Promise.reject(Ee)}function Ge(){return ge&&l.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Ee,Fe)=>{ne.add([Ee,Fe])})}function rt(Ee){return ge||(ge=!Ee,ae(),ne.list().forEach(([Fe,Me])=>Ee?Me(Ee):Fe()),ne.reset()),Ee}function me(Ee,Fe,Me,ze){const{scrollBehavior:je}=e;if(!isBrowser||!je)return Promise.resolve();const Te=!Me&&getSavedScrollPosition(getScrollKey(Ee.fullPath,0))||(ze||!Me)&&history.state&&history.state.scroll||null;return nextTick$1().then(()=>je(Ee,Fe,Te)).then(Ke=>Ke&&scrollToPosition(Ke)).catch(Ke=>Le(Ke,Ee,Fe))}const pe=Ee=>o.go(Ee);let le;const De=new Set,G={currentRoute:l,listening:!0,addRoute:v,removeRoute:A,hasRoute:P,getRoutes:I,resolve:O,options:e,push:k,replace:U,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:s.add,beforeResolve:a.add,afterEach:u.add,onError:fe.add,isReady:Ge,install(Ee){const Fe=this;Ee.component("RouterLink",RouterLink),Ee.component("RouterView",RouterView),Ee.config.globalProperties.$router=Fe,Object.defineProperty(Ee.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(l)}),isBrowser&&!le&&l.value===START_LOCATION_NORMALIZED&&(le=!0,k(o.location).catch(je=>{}));const Me={};for(const je in START_LOCATION_NORMALIZED)Me[je]=computed(()=>l.value[je]);Ee.provide(routerKey,Fe),Ee.provide(routeLocationKey,reactive(Me)),Ee.provide(routerViewLocationKey,l);const ze=Ee.unmount;De.add(Ee),Ee.unmount=function(){De.delete(Ee),De.size<1&&(m=START_LOCATION_NORMALIZED,ee&&ee(),ee=null,l.value=START_LOCATION_NORMALIZED,le=!1,ge=!1),ze()}}};return G}function runGuardQueue(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function extractChangingRecords(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const u=t.matched[a];u&&(e.matched.find(m=>isSameRouteRecord(m,u))?r.push(u):n.push(u));const l=e.matched[a];l&&(t.matched.find(m=>isSameRouteRecord(m,l))||o.push(l))}return[n,r,o]}function useRouter(){return inject(routerKey)}function useRoute(){return inject(routeLocationKey)}function useTicker(){const e=useStore();return{count:computed(()=>e.state.applicationContext.ticker.count)}}function useAutoClearingSetTimeout(e,t){const n=setTimeout(e,t);return onBeforeUnmount(()=>{clearTimeout(n)}),n}function useAutoClearingSetInterval(e,t){const n=setInterval(e,t);return onBeforeUnmount(()=>{clearTimeout(n)}),n}function useAddEventToSource(e,t,n){onMounted(()=>{e.addEventListener(t,n)}),onBeforeUnmount(()=>{e.removeEventListener(t,n)})}function useAddEventToWindow(e,t){return useAddEventToSource(window,e,t)}function useDeviceProps(){const e=useStore();return computed(()=>e.state.rootReducer.media)}function useListItemAddRemove(e=[],{allowDuplicates:t=!1}={}){QLogger$1.invariant(Array.isArray(e),"[useListItemAddRemove]: initial value passed must be an array");const n=ref(e),r=u=>n.value.includes(u);return{state:n,includes:r,add:u=>(QLogger$1.isEnvProd||(isPrimitiveType(u)||QLogger$1.warn("[useListItemAddRemove]: Only toggle primitives. This composable is not suited for others since it would only be a reference comparision"),QLogger$1.invariant(t||!r(u),`[useListItemAddRemove]: cannot add ${u} as duplicates are not allowed`)),n.value.push(u)),remove:u=>_.remove(n.value,l=>l===u),clear:()=>{n.value=[]}}}function useListItemToggler(e=[]){const{state:t,includes:n,add:r,remove:o,clear:s}=useListItemAddRemove(e);return{state:t,has:n,toggle:u=>n(u)?o(u):r(u),clear:s}}const AuthModal_vue_vue_type_style_index_0_scoped_4d7d0fef_lang="",_export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},_sfc_main$u={name:"AuthModal",inject:["getTranslatedText"],props:{media:{type:Object},validationStatus:{type:Object,default:()=>({})},validationStatusPhone:{type:Object,default:()=>({})},isAuthenticated:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},requestCountry:{type:String,deault:""}},emits:["scrollToBottom","onCloseAuthModal","onValidateEmail","onValidatePhoneNumber","onChangeAuthView","onAuthenticateUser"],data(){return{isGoogleLoginInProcess:!1,isMSLoginInProcess:!1,isValidatedEmail:!1,isValidatedPhoneNumber:!1,isSignupProceedPending:!1,isAuthenticatedUser:!1,isAuthenticatingUser:!1,email:"",username:"",password:"",error:"",phoneError:"",isValidatingEmail:!1,isValidatingPhoneNumber:!1,sourceString:"",authenticationError:"",tosCheckValue:!1,commsCheckValue:!1,isTosCheckError:!1,phoneNumber:""}},computed:{getCountryCode(){switch(this.requestCountry){case"IN":return"+91";case"ID":return"+62";case"TH":return"+66";case"MY":return"+60";case"PH":return"+63";default:return""}},getHeaderString(){return this.options.title?this.options.title:this.getTranslatedText("Don't lose your progress—create a free account!")},isHostFromQFW(){return[Constants.UserOccupations.CORPORATE_TEACHER,Constants.UserOccupations.CORPORATE_LEARNER].includes(this.options.hostOccupation)},skipBtnText(){switch(this.options.source){case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK:return this.getTranslatedText("Decline invitation");default:return this.getTranslatedText("Skip for now")}},illustrationSource(){switch(this.options.source){case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK:case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_HEADER_CLASSES:case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE:return"https://cf.quizizz.com/image/joinside-classsignupprompt.png";default:return"https://cf.quizizz.com/image/joinside-signupprompt.png"}},illustrationWrapperClasses(){const e=["modal-illustration-wrapper"];switch(this.options.source){case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK:case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_HEADER_CLASSES:case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE:e.push("illust-bg-4");break;default:e.push("illust-bg-2")}return e},shouldShowPrivacyAgreementChecks(){return isGDPRCountry(this.requestCountry)||this.requestCountry==="CA"},showClassName(){return!!this.options.className},className(){return this.options.className},isNewMobileAuthFlow(){switch(this.requestCountry){case"IN":return!0;case"ID":return!0;case"TH":return!0;case"MY":return!0;case"PH":return!0;default:return!1}}},watch:{email(e){this.debouncedValidateEmail(e)},phoneNumber(e){this.debouncedValidatePhoneNumber(e)},validationStatus(e){const t=Object.assign({},e);this.isValidatingEmail=t.isValidatingEmail,this.isValidatedEmail=t.isValidatedEmail,!this.isValidatingEmail&&this.isValidatedEmail&&this.isSignupProceedPending&&this.emailSignupProcess(),this.error=t.error},validationStatusPhone(e){const t=Object.assign({},e);this.isValidatingPhoneNumber=t.isValidatingPhoneNumber,this.isValidatedPhoneNumber=t.isValidatedPhoneNumber,!this.isValidatingPhoneNumber&&this.isValidatedPhoneNumber&&this.isSignupProceedPending&&this.emailSignupProcess(),this.phoneError=t.error},isAuthenticated(e){const t=Object.assign({},e);this.isAuthenticatedUser=t.isAuthenticatedUser,this.isAuthenticatingUser=t.isAuthenticatingUser,this.authenticationError=t.error}},created(){switch(this.debouncedValidateEmail=_.debounce(this.validateEmail,500),this.debouncedValidatePhoneNumber=_.debounce(this.validatePhoneNumber,500),this.sourceString="&source=",this.options.source){case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO_MOBILE:this.sourceString+="hero-mobile";break;case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO:this.sourceString+="hero-desktop";break;case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_HEADER:case Constants.AuthModalActions.REDIRECT_TO_LOGIN:this.sourceString+="header-desktop";break;case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_ACTIVITY_MOBILE:this.sourceString+="activity-mobile";break;case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING:this.sourceString+="game-settings";break;case Constants.AuthModalActions.REDIRECT_TO_LOGIN_FROM_SUMMARY:this.sourceString+="summary";break;case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK:this.sourceString+="game-group-join-link";break;case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY:this.sourceString+="summary-create-activity";break;case Constants.AuthModalActions.REDIRECT_TO_LOGIN_FROM_DUPLICATE_NAME:this.sourceString+="pre-game-duplicate-name";break;case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_HEADER_CLASSES:this.sourceString+="signup-from-header-classes";break;case Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE:this.sourceString+="signup-from-class-link-without-code";break;default:this.sourceString+=this.options.source}},mounted(){this.options.authView==="login"?this.$refs.loginDialog&&this.$refs.loginDialog.focus():this.options.authView==="signup"&&this.$refs.signUpDialog&&this.$refs.signUpDialog.focus()},methods:{onEmailInputFocus(){this.$emit("scrollToBottom")},closeModal(){this.$emit("onCloseAuthModal")},validateEmail(e){this.error="",this.validated=!1,e!==""&&(isValidEmail(e)?(e=encodeURIComponent(e),this.$emit("onValidateEmail",e)):(this.isValidatingEmail=!1,this.isValidatedEmail=!1,this.error="Please enter a valid email"))},validatePhoneNumber(e){this.phoneError="",e!==""&&(isValidPhoneNumber(e)?(e=encodeURIComponent(e),this.$emit("onValidatePhoneNumber",e)):(this.isValidatingPhoneNumber=!1,this.isValidatedPhoneNumber=!1,this.phoneError=this.getTranslatedText("Please enter a valid phone number")))},googleSignupProcess(){const e=this,t=1500;if(this.shouldShowPrivacyAgreementChecks&&!this.tosCheckValue){this.isTosCheckError=!0;return}this.source===Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY&&InHouseEventLogger$1.logEvent(WebEvents.SUMMARY_CREATE_ACTIVITY,{toSignup:!0,isGoogle:!0}),this.isGoogleLoginInProcess=!0,setTimeout(()=>{e.redirectToGoogleSignup()},t)},googleLoginProcess(){const e=this,t=1500;this.isGoogleLoginInProcess=!0,this.source===Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY&&InHouseEventLogger$1.logEvent(WebEvents.SUMMARY_CREATE_ACTIVITY,{toLogin:!0,isGoogle:!0}),setTimeout(()=>{e.redirectToGoogleLogin()},t)},redirectToGoogleLogin(){var n,r,o,s;const e={deviceType:(r=(n=window==null?void 0:window.navigator)==null?void 0:n.userAgentData)!=null&&r.mobile?"mobile":"desktop",ctaSource:this.$route.query.ctaSource,OS:(s=(o=window==null?void 0:window.navigator)==null?void 0:o.userAgentData)==null?void 0:s.platform,page:this.$route.query.fromPage,medium:"google"};let t="/auth/google?ref=login";if(t+=`${this.sourceString}&platformSource=${encodeURIComponent(JSON.stringify(e))}&${this.getAuthRedirectQueryParam()}`,this.$msTeams.isTeamApp()){const a=this;this.$msTeams.initiateAuthFlow(t,u=>{u?document.location.reload():window.open(t),a.isGoogleLoginInProcess=!1})}else window.location.href=t},redirectToGoogleSignup(){var n,r,o,s;const e={deviceType:(r=(n=window==null?void 0:window.navigator)==null?void 0:n.userAgentData)!=null&&r.mobile?"mobile":"desktop",ctaSource:this.$route.query.ctaSource,OS:(s=(o=window==null?void 0:window.navigator)==null?void 0:o.userAgentData)==null?void 0:s.platform,page:this.$route.query.fromPage,medium:"google"};let t="/auth/google?ref=signup";if(t+=`${this.sourceString}&platformSource=${encodeURIComponent(JSON.stringify(e))}&${this.getAuthRedirectQueryParam()}`,this.shouldShowPrivacyAgreementChecks&&(t+=`&commsPreference=${+this.commsCheckValue}`),this.$msTeams.isTeamApp()){const a=this;this.$msTeams.initiateAuthFlow(t,u=>{u?document.location.reload():window.open(t),a.isGoogleLoginInProcess=!1})}else window.location.href=t},microsoftSignupProcess(){const e=this,t=1500;if(this.shouldShowPrivacyAgreementChecks&&!this.tosCheckValue){this.isTosCheckError=!0;return}this.source===Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY&&InHouseEventLogger$1.logEvent(WebEvents.SUMMARY_CREATE_ACTIVITY,{toSignup:!0,isMicrosoft:!0}),this.isMSLoginInProcess=!0,setTimeout(()=>{e.redirectToMicrosoftSignup()},t)},microsoftLoginProcess(){const e=this,t=1500;this.isMSLoginInProcess=!0,this.source===Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY&&InHouseEventLogger$1.logEvent(WebEvents.SUMMARY_CREATE_ACTIVITY,{toLogin:!0,isMicrosoft:!0}),setTimeout(()=>{e.redirectToMicrosoftLogin()},t)},redirectToMicrosoftSignup(){var n,r,o,s;const e={deviceType:(r=(n=window==null?void 0:window.navigator)==null?void 0:n.userAgentData)!=null&&r.mobile?"mobile":"desktop",ctaSource:this.$route.query.ctaSource,OS:(s=(o=window==null?void 0:window.navigator)==null?void 0:o.userAgentData)==null?void 0:s.platform,page:this.$route.query.fromPage,medium:"google"};let t="/auth/microsoft?ref=signup";if(t+=`${this.sourceString}&platformSource=${encodeURIComponent(JSON.stringify(e))}&${this.getAuthRedirectQueryParam()}`,this.shouldShowPrivacyAgreementChecks&&(t+=`&commsPreference=${+this.commsCheckValue}`),this.$msTeams.isTeamApp()){const a=this;this.$msTeams.initiateAuthFlow(t,u=>{u?document.location.reload():window.open(t),a.isMSLoginInProcess=!1})}else window.location.href=t},redirectToMicrosoftLogin(){var n,r,o,s;const e={deviceType:(r=(n=window==null?void 0:window.navigator)==null?void 0:n.userAgentData)!=null&&r.mobile?"mobile":"desktop",ctaSource:this.$route.query.ctaSource,OS:(s=(o=window==null?void 0:window.navigator)==null?void 0:o.userAgentData)==null?void 0:s.platform,page:this.$route.query.fromPage,medium:"google"};let t="/auth/microsoft?ref=login";if(t+=`${this.sourceString}&platformSource=${encodeURIComponent(JSON.stringify(e))}&${this.getAuthRedirectQueryParam()}`,this.$msTeams.isTeamApp()){const a=this;this.$msTeams.initiateAuthFlow(t,u=>{u?document.location.reload():window.open(t),a.isMSLoginInProcess=!1})}else window.location.href=t},redirectToForgotPassword(){let e="/forgot-password?";e+=this.sourceString.replace("&",""),e+=`&${this.getAuthRedirectQueryParam()}`,window.location.href=e},emailSignupProcess(){if(this.isSignupProceedPending=this.isValidatingEmail||this.isValidatingPhoneNumber,!(this.isValidatedEmail||this.isValidatedPhoneNumber)||!this.email&&!this.phoneNumber)return;if(this.isSignupProceedPending=!1,this.shouldShowPrivacyAgreementChecks&&!this.tosCheckValue){this.isTosCheckError=!0;return}let e="";this.isNewMobileAuthFlow&&this.phoneNumber?e=`/signup/occupation?pid=${encodeURIComponent(btoa(this.phoneNumber))}${this.sourceString}&${this.getAuthRedirectQueryParam()}`:e=`/signup/occupation?eid=${encodeURIComponent(btoa(this.email))}${this.sourceString}&${this.getAuthRedirectQueryParam()}`,this.shouldShowPrivacyAgreementChecks&&(e+=`&comms=${this.commsCheckValue}`),this.source===Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY&&InHouseEventLogger$1.logEvent(WebEvents.SUMMARY_CREATE_ACTIVITY,{toSignup:!0}),setTimeout(()=>{this.options.source==="game-summary"?(this.closeModal(),window.open(e,"_blank")):window.location.href=e},10)},clearEmailInput(){this.email=""},clearPhoneInput(){this.phoneNumber=""},changeAuthView(){this.error="",this.$emit("onChangeAuthView")},attemptLogin(e){if(e.preventDefault(),!this.isAuthenticatingUser)if(this.username===""||this.password==="")this.authenticationError="Please fill in all the fields.";else{if(this.options.source===Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY&&InHouseEventLogger$1.logEvent(WebEvents.SUMMARY_CREATE_ACTIVITY,{toLogin:!0}),this.options.source===Constants.AuthModalActions.REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING){this.$emit("onAuthenticateUser",this.username,this.password,!0);return}if(this.options.useSignupRedirectForLoginSuccess===!0&&!isEmpty(this.options.redirect)){this.$emit("onAuthenticateUser",this.username,this.password,!1,this.options.redirect);return}this.$emit("onAuthenticateUser",this.username,this.password)}},onAuthSkip(){this.closeModal()},onTosCheckChange(){this.isTosCheckError=!1},getAuthRedirectQueryParam(){const t=_.has(this.options,"shouldRedirectAfter")?this.options.shouldRedirectAfter==="registeration":!0,n=this.options.shouldRedirectAfter==="signup";let r="";return(t||n)&&(this.options.redirect?r+=`q=${encodeURIComponent(this.options.redirect)}`:r+=`q=${encodeURIComponent(URLConfig.getAppBaseUrl())}`,n?r+="&forcedRedirAfter=signup":t&&(r+="&forcedRedirAfter=registeration"),this.isHostFromQFW&&(r+="&qfwUser=true")),r}}},_withScopeId$9=e=>(pushScopeId("data-v-4d7d0fef"),e=e(),popScopeId(),e),_hoisted_1$l=["aria-label"],_hoisted_2$j={class:"illustration-container"},_hoisted_3$f=["src"],_hoisted_4$c={class:"modal-body-container"},_hoisted_5$9={class:"kr-modal-body"},_hoisted_6$9=["aria-label"],_hoisted_7$9=_withScopeId$9(()=>createBaseVNode("i",{class:"icon-fas-times"},null,-1)),_hoisted_8$9=[_hoisted_7$9],_hoisted_9$9={key:0,class:"modal-title"},_hoisted_10$8={class:"modal-action-wrapper"},_hoisted_11$8={key:0,class:"search-input-wrapper email-input-wrapper phone-number-input-wrapper"},_hoisted_12$8={id:"sign-up-phone-input-label",class:"search-input-label"},_hoisted_13$6={class:"country-code-wrapper"},_hoisted_14$5=_withScopeId$9(()=>createBaseVNode("i",{class:"icon-fas-times"},null,-1)),_hoisted_15$5=[_hoisted_14$5],_hoisted_16$4=["disabled"],_hoisted_17$3={key:0,class:"email-validation-tooltip kr2-tooltip kr2-tooltip-danger"},_hoisted_18$3={class:"kr2-tooltip-text"},_hoisted_19$3=_withScopeId$9(()=>createBaseVNode("div",{class:"kr2-tooltip-arrow kr2-tooltip-arrow-left"},null,-1)),_hoisted_20$3={key:1,class:"email-validation-msg kr2-field-msg"},_hoisted_21$3={class:"kr2-field-msg-text"},_hoisted_22$3={key:1,class:"next-btn-wrapper"},_hoisted_23$2={key:1,class:"divider-or divider-or-phone-auth"},_hoisted_24$2=["aria-label"],_hoisted_25$2={key:0,class:"loader-dots-container"},_hoisted_26$2=_withScopeId$9(()=>createBaseVNode("div",{class:"loader-dots"},null,-1)),_hoisted_27$2=[_hoisted_26$2],_hoisted_28$2=_withScopeId$9(()=>createBaseVNode("span",{class:"logo-wrapper"},[createBaseVNode("img",{src:"https://cf.quizizz.com/img/logos/google-logo-1.png",alt:"Google logo"})],-1)),_hoisted_29$2={key:0,class:"btn-label"},_hoisted_30$2={key:1,class:"btn-label"},_hoisted_31$2=["aria-label"],_hoisted_32$2={key:0,class:"loader-dots-container"},_hoisted_33$2=_withScopeId$9(()=>createBaseVNode("div",{class:"loader-dots"},null,-1)),_hoisted_34$2=[_hoisted_33$2],_hoisted_35$2=_withScopeId$9(()=>createBaseVNode("span",{class:"logo-wrapper"},[createBaseVNode("img",{src:"https://cf.quizizz.com/img/logos/ms-logo.png",alt:"MS logo"})],-1)),_hoisted_36$2={key:0,class:"btn-label"},_hoisted_37$1={key:1,class:"btn-label"},_hoisted_38$1={key:2,class:"divider-or"},_hoisted_39$1={class:"search-input-wrapper email-input-wrapper"},_hoisted_40$1={id:"sign-up-input-label",class:"search-input-label"},_hoisted_41$1=_withScopeId$9(()=>createBaseVNode("span",{class:"kr2-textfield-icon"},[createBaseVNode("i",{class:"icon-far-envelope"})],-1)),_hoisted_42$1=_withScopeId$9(()=>createBaseVNode("i",{class:"icon-fas-times"},null,-1)),_hoisted_43=[_hoisted_42$1],_hoisted_44=["disabled"],_hoisted_45={key:0,class:"email-validation-tooltip kr2-tooltip kr2-tooltip-danger"},_hoisted_46={class:"kr2-tooltip-text"},_hoisted_47=_withScopeId$9(()=>createBaseVNode("div",{class:"kr2-tooltip-arrow kr2-tooltip-arrow-left"},null,-1)),_hoisted_48={key:1,class:"email-validation-msg kr2-field-msg"},_hoisted_49={class:"kr2-field-msg-text"},_hoisted_50={key:1,class:"next-btn-wrapper"},_hoisted_51={key:3,class:"privacy-agreement-checks"},_hoisted_52=_withScopeId$9(()=>createBaseVNode("label",{for:"tos-check"},[createTextVNode(" I have read and agree to the "),createBaseVNode("a",{href:"/tos",target:"_blank"},"Terms and Conditions"),createTextVNode(" and "),createBaseVNode("a",{href:"/privacy",target:"_blank"},"Privacy Policy"),createTextVNode(". (required) ")],-1)),_hoisted_53={class:"checkbox-wrapper"},_hoisted_54=_withScopeId$9(()=>createBaseVNode("label",{for:"comms-check"},"I want to receive product updates, offers, and recommended content.",-1)),_hoisted_55={class:"kr-modal-footer"},_hoisted_56={class:"footer-text"},_hoisted_57=["aria-label"],_hoisted_58={class:"illustration-container"},_hoisted_59=["src"],_hoisted_60={class:"modal-body-container"},_hoisted_61={class:"kr-modal-body"},_hoisted_62=["aria-label"],_hoisted_63={key:1,class:"modal-title"},_hoisted_64={class:"modal-action-wrapper"},_hoisted_65=["aria-label"],_hoisted_66={key:0,class:"loader-dots-container"},_hoisted_67=_withScopeId$9(()=>createBaseVNode("div",{class:"loader-dots"},null,-1)),_hoisted_68=[_hoisted_67],_hoisted_69=_withScopeId$9(()=>createBaseVNode("span",{class:"logo-wrapper"},[createBaseVNode("img",{src:"https://cf.quizizz.com/img/logos/google-logo-1.png",alt:"Google logo"})],-1)),_hoisted_70={key:0,class:"btn-label"},_hoisted_71={key:1,class:"btn-label"},_hoisted_72=["aria-label"],_hoisted_73={key:0,class:"loader-dots-container"},_hoisted_74=_withScopeId$9(()=>createBaseVNode("div",{class:"loader-dots"},null,-1)),_hoisted_75=[_hoisted_74],_hoisted_76=_withScopeId$9(()=>createBaseVNode("span",{class:"logo-wrapper"},[createBaseVNode("img",{src:"https://cf.quizizz.com/img/logos/ms-logo.png",alt:"MS logo"})],-1)),_hoisted_77={key:0,class:"btn-label"},_hoisted_78={key:1,class:"btn-label"},_hoisted_79={key:0,class:"divider-or"},_hoisted_80={key:1,class:"divider-or"},_hoisted_81={class:"search-input-wrapper email-input-wrapper"},_hoisted_82={class:"search-input-container"},_hoisted_83={key:0,id:"email-label-auth",class:"search-input-label"},_hoisted_84={key:1,id:"email-label",class:"search-input-label"},_hoisted_85={key:2,class:"reset-input-icon"},_hoisted_86=_withScopeId$9(()=>createBaseVNode("i",{class:"icon-fas-times"},null,-1)),_hoisted_87=[_hoisted_86],_hoisted_88=["placeholder"],_hoisted_89={id:"password-label",class:"search-input-label"},_hoisted_90={key:0,class:"email-validation-tooltip kr2-tooltip kr2-tooltip-danger"},_hoisted_91={class:"kr2-tooltip-text"},_hoisted_92=_withScopeId$9(()=>createBaseVNode("div",{class:"kr2-tooltip-arrow kr2-tooltip-arrow-left"},null,-1)),_hoisted_93={key:1,class:"email-validation-msg kr2-field-msg"},_hoisted_94={class:"kr2-field-msg-text"},_hoisted_95={key:4,class:"login-submit-btn",type:"button"},_hoisted_96=_withScopeId$9(()=>createBaseVNode("span",{class:"loading-circle"},null,-1)),_hoisted_97=[_hoisted_96],_hoisted_98={key:5,type:"submit",class:"login-submit-btn",value:"Log In","data-cy":"login-submit-btn"},_hoisted_99={key:6,class:"user-authentication-error","data-cy":"auth-error-message"},_hoisted_100={class:"kr-modal-footer"},_hoisted_101={class:"footer-text"};function _sfc_render$h(e,t,n,r,o,s){return openBlock(),createElementBlock("div",{class:normalizeClass(["signup-prompt-special-view",{"modal-type-login":n.options.authView==="login"}]),"data-cy":"signup-prompt-special-view"},[n.options.authView==="signup"?(openBlock(),createElementBlock("div",{key:0,ref:"signUpDialog",class:"auth-signup-view kr-modal-container",tabindex:"0",role:"dialog","aria-modal":"true","aria-label":s.getTranslatedText("Sign up"),"data-cy":"auth-signup-view"},[createBaseVNode("div",{class:normalizeClass(s.illustrationWrapperClasses)},[createBaseVNode("div",_hoisted_2$j,[createBaseVNode("img",{src:s.illustrationSource,alt:"Sign up illustration"},null,8,_hoisted_3$f)])],2),createBaseVNode("div",_hoisted_4$c,[createBaseVNode("div",_hoisted_5$9,[createBaseVNode("button",{class:"kr-modal-close-btn","aria-label":s.getTranslatedText("Close sign up dialog"),type:"button",onKeyup:t[0]||(t[0]=withKeys((...a)=>s.closeModal&&s.closeModal(...a),["enter","space"])),onClick:t[1]||(t[1]=(...a)=>s.closeModal&&s.closeModal(...a))},_hoisted_8$9,40,_hoisted_6$9),createBaseVNode("div",{class:normalizeClass(["modal-title",{"with-class":s.showClassName}])},toDisplayString(s.getHeaderString),3),s.showClassName?(openBlock(),createElementBlock("div",_hoisted_9$9,toDisplayString(s.className),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10$8,[s.isNewMobileAuthFlow?(openBlock(),createElementBlock("div",_hoisted_11$8,[createBaseVNode("div",{class:normalizeClass(["search-input-container",{"search-input-success":o.isValidatedPhoneNumber,"search-input-danger":o.phoneError,"search-input-process":o.isValidatingPhoneNumber}])},[createBaseVNode("label",_hoisted_12$8,toDisplayString(s.getTranslatedText("Sign up with mobile number")),1),createBaseVNode("span",_hoisted_13$6,toDisplayString(s.getCountryCode),1),createBaseVNode("div",null,[o.phoneError?(openBlock(),createElementBlock("span",{key:0,class:"reset-input-icon",onClick:t[2]||(t[2]=(...a)=>s.clearPhoneInput&&s.clearPhoneInput(...a))},_hoisted_15$5)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("input",{ref:"phoneInput","onUpdate:modelValue":t[3]||(t[3]=a=>o.phoneNumber=a),disabled:o.email.length>0,class:"search-input phone-number-auth-input",type:"text",placeholder:"000 000 0000","aria-labelledby":"sign-up-input-label",onKeyup:t[4]||(t[4]=withKeys((...a)=>s.emailSignupProcess&&s.emailSignupProcess(...a),["enter"]))},null,40,_hoisted_16$4),[[vModelText,o.phoneNumber]]),o.phoneError&&o.phoneError.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[n.media.type!=="mobile"?(openBlock(),createElementBlock("div",_hoisted_17$3,[createBaseVNode("div",_hoisted_18$3,toDisplayString(o.phoneError),1),_hoisted_19$3])):(openBlock(),createElementBlock("div",_hoisted_20$3,[createBaseVNode("div",_hoisted_21$3,toDisplayString(o.phoneError),1)]))],64)):createCommentVNode("",!0),o.isValidatedPhoneNumber&&o.phoneNumber.length>0?(openBlock(),createElementBlock("div",_hoisted_22$3,[createBaseVNode("div",{class:"next-step-btn",onClick:t[5]||(t[5]=(...a)=>s.emailSignupProcess&&s.emailSignupProcess(...a))},[createBaseVNode("span",null,toDisplayString(s.getTranslatedText("Get started")),1)])])):createCommentVNode("",!0)],2)])):createCommentVNode("",!0),s.isNewMobileAuthFlow?(openBlock(),createElementBlock("div",_hoisted_23$2," — "+toDisplayString(s.getTranslatedText("or continue with"))+" — ",1)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["modal-action-btn-wrapper",[s.isNewMobileAuthFlow?"modal-action-btn-phone-auth":""]])},[createBaseVNode("button",{class:"google-signup-btn","aria-label":s.getTranslatedText("Sign in with Google"),type:"button",onKeyup:t[6]||(t[6]=withKeys((...a)=>s.googleSignupProcess&&s.googleSignupProcess(...a),["enter","space"])),onClick:t[7]||(t[7]=(...a)=>s.googleSignupProcess&&s.googleSignupProcess(...a))},[o.isGoogleLoginInProcess?(openBlock(),createElementBlock("div",_hoisted_25$2,_hoisted_27$2)):(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_28$2,s.isNewMobileAuthFlow?(openBlock(),createElementBlock("span",_hoisted_29$2," Google ")):(openBlock(),createElementBlock("span",_hoisted_30$2,toDisplayString(s.getTranslatedText("Continue with Google")),1))],64))],40,_hoisted_24$2),createBaseVNode("button",{class:"ms-signup-btn","aria-label":s.getTranslatedText("Sign in with Microsoft"),type:"button",onKeyup:t[8]||(t[8]=withKeys((...a)=>s.microsoftSignupProcess&&s.microsoftSignupProcess(...a),["enter","space"])),onClick:t[9]||(t[9]=(...a)=>s.microsoftSignupProcess&&s.microsoftSignupProcess(...a))},[o.isMSLoginInProcess?(openBlock(),createElementBlock("div",_hoisted_32$2,_hoisted_34$2)):(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_35$2,s.isNewMobileAuthFlow?(openBlock(),createElementBlock("span",_hoisted_36$2," Microsoft ")):(openBlock(),createElementBlock("span",_hoisted_37$1,toDisplayString(s.getTranslatedText("Continue with Microsoft")),1))],64))],40,_hoisted_31$2)],2),s.isNewMobileAuthFlow?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_38$1," — or — ")),createBaseVNode("div",_hoisted_39$1,[createBaseVNode("div",{class:normalizeClass(["search-input-container",{"search-input-success":o.isValidatedEmail,"search-input-danger":o.error,"search-input-process":o.isValidatingEmail}])},[createBaseVNode("label",_hoisted_40$1,toDisplayString(s.getTranslatedText("Sign up with email")),1),_hoisted_41$1,createBaseVNode("div",null,[o.error?(openBlock(),createElementBlock("span",{key:0,class:"reset-input-icon",onClick:t[10]||(t[10]=(...a)=>s.clearEmailInput&&s.clearEmailInput(...a))},_hoisted_43)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("input",{ref:"emailInput","onUpdate:modelValue":t[11]||(t[11]=a=>o.email=a),disabled:o.phoneNumber.length>0,class:"search-input",type:"email",autocapitalize:"off",placeholder:"mmcgonagall@hogwarts.edu","aria-labelledby":"sign-up-input-label","data-cy":"emailInput",onKeyup:t[12]||(t[12]=withKeys((...a)=>s.emailSignupProcess&&s.emailSignupProcess(...a),["enter"]))},null,40,_hoisted_44),[[vModelText,o.email]]),o.error&&o.error.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[n.media.type!=="mobile"?(openBlock(),createElementBlock("div",_hoisted_45,[createBaseVNode("div",_hoisted_46,toDisplayString(o.error),1),_hoisted_47])):(openBlock(),createElementBlock("div",_hoisted_48,[createBaseVNode("div",_hoisted_49,toDisplayString(o.error),1)]))],64)):createCommentVNode("",!0),o.isValidatedEmail&&o.email.length>0?(openBlock(),createElementBlock("div",_hoisted_50,[createBaseVNode("div",{class:"next-step-btn",onClick:t[13]||(t[13]=(...a)=>s.emailSignupProcess&&s.emailSignupProcess(...a))},[createBaseVNode("span",null,toDisplayString(s.getTranslatedText("Get started")),1)])])):createCommentVNode("",!0)],2)]),s.shouldShowPrivacyAgreementChecks?(openBlock(),createElementBlock("div",_hoisted_51,[createBaseVNode("div",{class:normalizeClass(["checkbox-wrapper",[{"checkbox-danger":o.isTosCheckError}]])},[withDirectives(createBaseVNode("input",{id:"tos-check","onUpdate:modelValue":t[14]||(t[14]=a=>o.tosCheckValue=a),type:"checkbox",onChange:t[15]||(t[15]=(...a)=>s.onTosCheckChange&&s.onTosCheckChange(...a))},null,544),[[vModelCheckbox,o.tosCheckValue]]),_hoisted_52],2),createBaseVNode("div",_hoisted_53,[withDirectives(createBaseVNode("input",{id:"comms-check","onUpdate:modelValue":t[16]||(t[16]=a=>o.commsCheckValue=a),type:"checkbox"},null,512),[[vModelCheckbox,o.commsCheckValue]]),_hoisted_54])])):createCommentVNode("",!0),n.options.skippable?(openBlock(),createElementBlock("div",{key:4,class:"skip-btn skip-auth",onClick:t[17]||(t[17]=(...a)=>s.onAuthSkip&&s.onAuthSkip(...a))},toDisplayString(s.skipBtnText),1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_55,[createBaseVNode("div",_hoisted_56,[createTextVNode(toDisplayString(s.getTranslatedText("Already have an account?"))+" ",1),createBaseVNode("button",{class:"footer-login-btn","data-cy":"footer-login-btn",type:"button",onClick:t[18]||(t[18]=(...a)=>s.changeAuthView&&s.changeAuthView(...a))},toDisplayString(s.getTranslatedText("Log In")),1)])])])],8,_hoisted_1$l)):createCommentVNode("",!0),n.options.authView==="login"?(openBlock(),createElementBlock("div",{key:1,ref:"loginDialog",class:"auth-login-view kr-modal-container",tabindex:"0",role:"dialog","aria-modal":"true","aria-label":s.getTranslatedText("Log in"),"data-cy":"auth-login-view"},[createBaseVNode("div",{class:normalizeClass(s.illustrationWrapperClasses)},[createBaseVNode("div",_hoisted_58,[createBaseVNode("img",{src:s.illustrationSource,alt:"Log in illustration"},null,8,_hoisted_59)])],2),createBaseVNode("div",_hoisted_60,[createBaseVNode("div",_hoisted_61,[createBaseVNode("button",{class:"kr-modal-close-btn",type:"button",onKeyup:t[19]||(t[19]=withKeys((...a)=>s.closeModal&&s.closeModal(...a),["enter","space"])),onClick:t[20]||(t[20]=(...a)=>s.closeModal&&s.closeModal(...a))},[createBaseVNode("i",{class:"icon-fas-times","aria-label":s.getTranslatedText("Close log in dialog")},null,8,_hoisted_62)],32),s.showClassName?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["modal-title",{"with-class":s.showClassName}])},toDisplayString(s.getTranslatedText("Log in with your account to join")),3)):createCommentVNode("",!0),s.showClassName?(openBlock(),createElementBlock("div",_hoisted_63,toDisplayString(s.className),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_64,[createBaseVNode("div",{class:normalizeClass(["modal-action-btn-wrapper",[s.isNewMobileAuthFlow?"modal-action-btn-phone-auth":""]])},[createBaseVNode("button",{class:"google-signup-btn","aria-label":s.getTranslatedText("Log in with Google"),type:"button",onKeyup:t[21]||(t[21]=withKeys((...a)=>s.googleLoginProcess&&s.googleLoginProcess(...a),["enter","space"])),onClick:t[22]||(t[22]=(...a)=>s.googleLoginProcess&&s.googleLoginProcess(...a))},[o.isGoogleLoginInProcess?(openBlock(),createElementBlock("div",_hoisted_66,_hoisted_68)):(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_69,s.isNewMobileAuthFlow?(openBlock(),createElementBlock("span",_hoisted_70," Google ")):(openBlock(),createElementBlock("span",_hoisted_71,toDisplayString(s.getTranslatedText("Continue with Google")),1))],64))],40,_hoisted_65),createBaseVNode("button",{class:"ms-signup-btn","aria-label":s.getTranslatedText("Log in with Microsoft"),type:"button",onKeyup:t[23]||(t[23]=withKeys((...a)=>s.microsoftLoginProcess&&s.microsoftLoginProcess(...a),["enter","space"])),onClick:t[24]||(t[24]=(...a)=>s.microsoftLoginProcess&&s.microsoftLoginProcess(...a))},[o.isMSLoginInProcess?(openBlock(),createElementBlock("div",_hoisted_73,_hoisted_75)):(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_76,s.isNewMobileAuthFlow?(openBlock(),createElementBlock("span",_hoisted_77," Microsoft ")):(openBlock(),createElementBlock("span",_hoisted_78,toDisplayString(s.getTranslatedText("Continue with Microsoft")),1))],64))],40,_hoisted_72)],2),s.isNewMobileAuthFlow?(openBlock(),createElementBlock("div",_hoisted_79," — or continue with — ")):(openBlock(),createElementBlock("div",_hoisted_80," — or — ")),createBaseVNode("div",_hoisted_81,[createBaseVNode("div",_hoisted_82,[createBaseVNode("form",{onSubmit:t[30]||(t[30]=(...a)=>s.attemptLogin&&s.attemptLogin(...a))},[s.isNewMobileAuthFlow?(openBlock(),createElementBlock("label",_hoisted_83,toDisplayString(s.getTranslatedText("Mobile number, email or username")),1)):(openBlock(),createElementBlock("label",_hoisted_84,toDisplayString(s.getTranslatedText("Email"))+" / "+toDisplayString(s.getTranslatedText("Username")),1)),o.error?(openBlock(),createElementBlock("span",_hoisted_85,_hoisted_87)):createCommentVNode("",!0),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[25]||(t[25]=a=>o.username=a),class:"auth-input",autocapitalize:"off",placeholder:s.isNewMobileAuthFlow?s.getTranslatedText("start typing..."):"johndoe@company.com","aria-labelledby":"email-label","data-cy":"email-input"},null,8,_hoisted_88),[[vModelText,o.username]]),createBaseVNode("label",_hoisted_89,toDisplayString(s.getTranslatedText("Password")),1),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[26]||(t[26]=a=>o.password=a),class:"auth-input",type:"password","aria-labelledby":"password-label","data-cy":"password-input",onKeyup:t[27]||(t[27]=withKeys((...a)=>s.attemptLogin&&s.attemptLogin(...a),["enter","space"]))},null,544),[[vModelText,o.password]]),o.error&&o.error.length>0?(openBlock(),createElementBlock(Fragment,{key:3},[n.media.type!=="mobile"?(openBlock(),createElementBlock("div",_hoisted_90,[createBaseVNode("div",_hoisted_91,toDisplayString(o.error),1),_hoisted_92])):(openBlock(),createElementBlock("div",_hoisted_93,[createBaseVNode("div",_hoisted_94,toDisplayString(o.error),1)]))],64)):createCommentVNode("",!0),createBaseVNode("a",{tabindex:"0",class:"skip-btn",onKeyup:t[28]||(t[28]=withKeys((...a)=>s.redirectToForgotPassword&&s.redirectToForgotPassword(...a),["enter","space"])),onClick:t[29]||(t[29]=(...a)=>s.redirectToForgotPassword&&s.redirectToForgotPassword(...a))},toDisplayString(s.getTranslatedText("Forgot Password?")),33),o.isAuthenticatingUser?(openBlock(),createElementBlock("button",_hoisted_95,_hoisted_97)):createCommentVNode("",!0),o.isAuthenticatingUser?createCommentVNode("",!0):(openBlock(),createElementBlock("input",_hoisted_98)),o.authenticationError&&o.authenticationError.length>0?(openBlock(),createElementBlock("div",_hoisted_99,toDisplayString(o.authenticationError),1)):createCommentVNode("",!0)],32)])])])]),createBaseVNode("div",_hoisted_100,[createBaseVNode("div",_hoisted_101,[createTextVNode(toDisplayString(s.getTranslatedText("Don't have an account?"))+" ",1),createBaseVNode("button",{class:"footer-login-btn","data-cy":"footer-signup-btn",type:"button",onClick:t[31]||(t[31]=(...a)=>s.changeAuthView&&s.changeAuthView(...a))},toDisplayString(s.getTranslatedText("Sign Up")),1)])])])],8,_hoisted_57)):createCommentVNode("",!0)],2)}const AuthModal=_export_sfc(_sfc_main$u,[["render",_sfc_render$h],["__scopeId","data-v-4d7d0fef"]]);async function importOrRefreshClassService(e,t){try{const{response:n}=await importOrRefreshLmsClasses({courseIds:[e.courseId],lmsName:e.lmsName,userId:t})}catch(n){QLogger$1.log(["Error while importing or refreshing class",n],["error"])}}function getGroupInfoResponseCooker(e,t={},n,r=""){const{user:o}=e,s=_.map(t.groups,u=>({..._.pick(u,["color","name","requireParentEmail","isGoogle"]),id:u._id}));return{isValidResponse:s.length>0&&s[0].id,response:{teacher:t.teacher||{},groups:s},eventData:getGroupActionsEventData(s,r,o.profile,n)}}function joinGroupResponseCooker(e,t,n,r,o,s){const{user:a,groups:{inviteGroupInfo:u}}=e,l=getUserData(t.user),m=l.groupIds||a.profile.groupIds,y={};let d=!1;o==="checkRoom"&&s.roomCode&&(d=!0,y.roomCode=s.roomCode),o==="checkAssignment"&&s.lmsInfo&&s.lmsInfo.lmsName&&(d=!0,y.lmsInfo=s.lmsInfo);const f=getGroupActionsEventData(u.groups,o,a.profile,r);return{mutationPayload:{user:l,updatedGroupIds:m},returnData:{didJoin:!0,persistInvite:!1,shouldContinueWithFlow:d,flowActionArgs:y},eventData:{...f,isParentFilled:!!(n.parent&&n.parent.email),didError:!1}}}function joinGroupErrorResponseCooker(e,t,n,r){const{game:o,user:s,groups:{inviteGroupInfo:a}}=e;return{eventData:{...getGroupActionsEventData(a.groups,r,s.profile,n),isParentFilled:!!(t.parent&&t.parent.email),didError:!0}}}function isParentEmailRequired(e){if(e&&e.length){for(let t=0;t<e.length;t++)if(e[t].requireParentEmail)return!0}return!1}function getGroupActionsEventData(e,t,n,r){let o=null;return r===Constants.GroupJoinModalTypes.FROM_LINK?o="link":isEmpty(t)||(o=t==="checkRoom"?"gcode":"gcl"),{groupIds:_.map(e,s=>s.id),isParentRequired:isParentEmailRequired(e),isFirstNamePrefilled:!!n.firstName,isLastNamePrefilled:!!n.lastName,isParentPrefilled:!!n.parentEmail,source:o}}const Tooltip_vue_vue_type_style_index_0_scoped_146108e7_lang="",_sfc_main$t={name:"Tooltip",props:{showOnFocus:{type:Boolean,default:!1},showOnHover:{type:Boolean,default:!1},text:{type:String,default:""},isVisible:{type:Boolean,default:!1},showTool:{type:Boolean,default:!0},tooltipStyle:{type:Object,default:()=>({})},tooltipContentStyle:{type:Object,default:()=>({})},position:{type:String,default:"bottom",validator:e=>["top","right","bottom","left","top-right","top-left","bottom-right","bottom-left","top-over"].includes(e)},fallbackPosition:{type:String,default:"",validator:e=>["","top","right","bottom","left","top-right","top-left","bottom-right","bottom-left"].includes(e)},theme:{type:String,default:"default",validator:e=>["error","warning","success","default","dark"].includes(e)},applyShadow:{type:Boolean,default:!1},hasTextSlot:{type:Boolean,default:!1},size:{type:String,default:"med",validator:e=>["large","med","small"].includes(e)}},emits:["onTooltipClick","onTooltipOptionEnter"],data(){return{showManually:!0,currentPosition:"",transitionEndTimeout:null}},computed:{actionClass(){return this.isVisible?"default-action":this.showOnFocus&&this.showOnHover?"focus hover":this.showOnFocus?"focus":this.showOnHover?"hover":""},themeClass(){return this.theme},shadowClass(){return this.applyShadow?"apply-shadow":""},sizeClass(){return`size-${this.size}`}},mounted(){var e;this.currentPosition=this.position,this.transitionEndTimeout=setTimeout(()=>{this.onTooltipTransitionEnd()},200),(e=this.$refs.tooltipContainer)==null||e.addEventListener("transitionend",this.onTooltipTransitionEnd)},beforeUnmount(){var e;this.transitionEndTimeout&&clearTimeout(this.transitionEndTimeout),(e=this.$refs.tooltipContainer)==null||e.removeEventListener("transitionend",this.onTooltipTransitionEnd)},methods:{onTooltipTransitionEnd(){switch(this.currentPosition){case"top":{this.setFallbackPosition(this.calculateIfNoSpaceFromTop());break}case"right":{this.setFallbackPosition(this.calculateIfNoSpaceFromRight());break}case"bottom":{this.setFallbackPosition(this.calculateIfNoSpaceFromBottom());break}case"left":{this.setFallbackPosition(this.calculateIfNoSpaceFromLeft());break}case"top-right":{this.setFallbackPosition(this.calculateIfNoSpaceFromTop()||this.calculateIfNoSpaceFromRight());break}case"top-left":{this.setFallbackPosition(this.calculateIfNoSpaceFromTop()||this.calculateIfNoSpaceFromLeft());break}case"bottom-right":{this.setFallbackPosition(this.calculateIfNoSpaceFromBottom()||this.calculateIfNoSpaceFromRight());break}case"bottom-left":{this.setFallbackPosition(this.calculateIfNoSpaceFromBottom()||this.calculateIfNoSpaceFromLeft());break}}},calculateIfNoSpaceFromTop(){const e=this.$refs.tooltipContainer.getBoundingClientRect().top,t=this.$refs.tooltipContent.offsetHeight;return e<t},calculateIfNoSpaceFromRight(){const e=document.documentElement.getBoundingClientRect().right,t=this.$refs.tooltipContainer.getBoundingClientRect().right,n=e-t,r=this.$refs.tooltipContent.offsetWidth;return n<r},calculateIfNoSpaceFromBottom(){const e=document.documentElement.getBoundingClientRect().bottom,t=this.$refs.tooltipContainer.getBoundingClientRect().bottom,n=e-t,r=this.$refs.tooltipContent.offsetHeight;return n<r},calculateIfNoSpaceFromLeft(){const e=this.$refs.tooltipContainer.getBoundingClientRect().left,t=this.$refs.tooltipContent.offsetWidth;return e<t},setFallbackPosition(e=!1){e&&_.isString(this.fallbackPosition)&&this.fallbackPosition!==""&&(this.currentPosition=this.fallbackPosition),this.$refs.tooltipContainer.removeEventListener("transitionend",this.onTooltipTransitionEnd)},onTooltipOptionEnter(e){e.stopPropagation(),this.hasTextSlot&&this.$emit("onTooltipOptionEnter")},onTooltipContainerClick(e){this.$emit("onTooltipClick",e)}}},_hoisted_1$k=["tabindex"],_hoisted_2$i=["innerHTML"];function _sfc_render$g(e,t,n,r,o,s){return openBlock(),createElementBlock("div",{ref:"tooltipContainer",class:normalizeClass(["show-tooltip",[s.actionClass,s.themeClass]]),style:normalizeStyle(n.tooltipStyle),tabindex:n.hasTextSlot?"0":"-1",onKeyup:t[1]||(t[1]=withKeys((...a)=>s.onTooltipOptionEnter&&s.onTooltipOptionEnter(...a),["enter"]))},[renderSlot(e.$slots,"default",{},void 0,!0),createBaseVNode("div",{ref:"tooltipContent",class:normalizeClass(["content",[o.currentPosition,s.themeClass,s.shadowClass,s.sizeClass]]),style:normalizeStyle(n.tooltipContentStyle),onClick:t[0]||(t[0]=a=>s.onTooltipContainerClick(a)),innerHTML:n.text},null,14,_hoisted_2$i)],46,_hoisted_1$k)}const Tooltip=_export_sfc(_sfc_main$t,[["render",_sfc_render$g],["__scopeId","data-v-146108e7"]]),UnEditableInput_vue_vue_type_style_index_0_scoped_1880973a_lang="",namePropValidator=e=>!(_.isPlainObject(e)&&(!e.main||isEmpty(e.constituents))),_sfc_main$s={name:"UnEditableInput",components:{Tooltip},props:{name:{type:[String,Object],required:!0,validator:namePropValidator},modelValue:{type:[String,Object],required:!0},placeholder:{type:[String,Object],default:""},inputType:{type:String,default:"text"},infoText:[String,Object],inputProps:{type:Object,default:()=>({})}},emits:["update:modelValue"],data(){return{isEditable:!1}},computed:{isSingleField(){return _.isString(this.name)},editBtnAriaLabel(){return this.isSingleField?`${this.name} Edit Button`:`${this.name.main} Edit Button`},finalValue(){return this.isSingleField?this.modelValue:_.reduce(this.modelValue,(e,t)=>t?`${e} ${t}`:e,"")},singleFieldInputVal:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},singleFieldInfoText(){return this.infoText?this.infoText:""}},mounted(){this.finalValue||this.makeEditable()},methods:{kebabCase(e){return _.kebabCase(e)},makeEditable(){this.isEditable||(this.isEditable=!0,this.$nextTick().then(this.focusInputByIndex.bind(this,0)))},makeUnEditable(){isEmpty(this.finalValue)||(this.isEditable=!1)},focusInputByIndex(e){const t=this.$refs.input,n=Array.isArray(t)?t[e]:t;n&&n.focus&&n.focus()},getMultiFieldPlaceholder(e){return this.placeholder&&this.placeholder[e]?this.placeholder[e]:""},getMultiFieldInputValue(e){return this.modelValue[e]},setMultiFieldInputValue(e,t){this.$emit("update:modelValue",{...this.modelValue,[t]:e.target.value})},multiFieldEnterPress(e){const t=_.keys(this.name.constituents).length-1;if(e<t){this.focusInputByIndex(e+1);return}this.makeUnEditable()},getMultiFieldInfoText(e){return this.infoText&&this.infoText[e]?this.infoText[e]:""}}},_withScopeId$8=e=>(pushScopeId("data-v-1880973a"),e=e(),popScopeId(),e),_hoisted_1$j={class:"fields-container flex-view flex-row"},_hoisted_2$h={key:0,class:"content"},_hoisted_3$e=_withScopeId$8(()=>createBaseVNode("span",{class:"info-icon extra-small-text icon-fas-info-circle"},null,-1)),_hoisted_4$b=["type","name","placeholder"],_hoisted_5$8={key:1,class:"when-uneditable text medium-text bold-text black-text"},_hoisted_6$8={key:1,class:"content"},_hoisted_7$8=_withScopeId$8(()=>createBaseVNode("span",{class:"info-icon extra-small-text icon-fas-info-circle"},null,-1)),_hoisted_8$8=["tabindex","value","type","name","placeholder","onInput","onKeyup"],_hoisted_9$8={class:"when-uneditable text medium-text bold-text black-text"},_hoisted_10$7=["aria-label"],_hoisted_11$7=_withScopeId$8(()=>createBaseVNode("i",{class:"icon-far-pen"},null,-1)),_hoisted_12$7=[_hoisted_11$7];function _sfc_render$f(e,t,n,r,o,s){const a=resolveComponent("Tooltip");return openBlock(),createElementBlock("div",_hoisted_1$j,[s.isSingleField?(openBlock(),createElementBlock("div",_hoisted_2$h,[createBaseVNode("label",null,[createTextVNode(toDisplayString(n.name)+" ",1),s.singleFieldInfoText?withDirectives((openBlock(),createBlock(a,{key:0,text:s.singleFieldInfoText,showOnHover:!0,position:"top-right",applyShadow:!0},{default:withCtx(()=>[_hoisted_3$e]),_:1},8,["text"])),[[vShow,o.isEditable]]):createCommentVNode("",!0)]),o.isEditable?(openBlock(),createBlock(Transition,{key:0,appear:"",enterActiveClass:"animated fadeIn anim-200-duration"},{default:withCtx(()=>[o.isEditable?withDirectives((openBlock(),createElementBlock("input",mergeProps({key:0,ref:"input","onUpdate:modelValue":t[0]||(t[0]=u=>s.singleFieldInputVal=u),type:n.inputType,name:s.kebabCase(n.name),placeholder:n.placeholder},n.inputProps,{onKeyup:t[1]||(t[1]=withKeys(u=>s.makeUnEditable(),["enter"]))}),null,16,_hoisted_4$b)),[[vModelDynamic,s.singleFieldInputVal]]):createCommentVNode("",!0)]),_:1})):(openBlock(),createElementBlock("div",_hoisted_5$8,toDisplayString(s.finalValue),1))])):(openBlock(),createElementBlock("div",_hoisted_6$8,[o.isEditable?(openBlock(),createBlock(TransitionGroup,{key:0,appear:"",enterActiveClass:"animated fadeIn anim-200-duration"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.name.constituents,(u,l,m)=>(openBlock(),createElementBlock("div",{key:`field_${l}`,class:"field"},[createBaseVNode("label",null,[createTextVNode(toDisplayString(u)+" ",1),s.getMultiFieldInfoText(l)?withDirectives((openBlock(),createBlock(a,{key:0,text:s.getMultiFieldInfoText(l),showOnHover:!0,position:"top-right",applyShadow:!0},{default:withCtx(()=>[_hoisted_7$8]),_:2},1032,["text"])),[[vShow,o.isEditable]]):createCommentVNode("",!0)]),createBaseVNode("input",mergeProps({ref_for:!0,ref:"input",tabindex:m+1,value:s.getMultiFieldInputValue(l),type:n.inputType,name:s.kebabCase(u),placeholder:s.getMultiFieldPlaceholder(l)},n.inputProps[l],{onInput:y=>s.setMultiFieldInputValue(y,l),onKeyup:withKeys(y=>s.multiFieldEnterPress(m),["enter"])}),null,16,_hoisted_8$8)]))),128))]),_:1})):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("label",null,toDisplayString(n.name.main),1),createBaseVNode("div",_hoisted_9$8,toDisplayString(s.finalValue),1)],64))])),withDirectives(createBaseVNode("button",{class:"edit-btn strip-default-btn-style black-text",type:"submit","aria-label":s.editBtnAriaLabel,onClick:t[2]||(t[2]=(...u)=>s.makeEditable&&s.makeEditable(...u))},_hoisted_12$7,8,_hoisted_10$7),[[vShow,!o.isEditable]])])}const UnEditableInput=_export_sfc(_sfc_main$s,[["render",_sfc_render$f],["__scopeId","data-v-1880973a"]]),RefreshRosterModal_vue_vue_type_style_index_0_scoped_7b62edf2_lang="",_hoisted_1$i={key:0,class:"refresh-roster-modal"},_hoisted_2$g={class:"refresh-roster-container"},_hoisted_3$d={class:"refresh-roster-message"},_hoisted_4$a={class:"spinner"},_sfc_main$r={__name:"RefreshRosterModal",props:{showRefreshRosterModal:{type:Boolean,default:!1}},setup(e){const t=e,n=inject("getTranslatedText"),r=ref(t.showRefreshRosterModal);return watch(r,(o,s)=>{if(o){this.showModal=!0;return}this.showModal=!1}),(o,s)=>{const a=resolveComponent("QLoader");return e.showRefreshRosterModal?(openBlock(),createElementBlock("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$g,[createBaseVNode("div",_hoisted_3$d,toDisplayString(unref(n)("Please wait while we let you in")),1),createBaseVNode("div",_hoisted_4$a,[createVNode(a,{size:"30"})])])])):createCommentVNode("",!0)}}},RefreshRosterModal=_export_sfc(_sfc_main$r,[["__scopeId","data-v-7b62edf2"]]),GroupJoinModal_vue_vue_type_style_index_0_scoped_22808d86_lang="",_sfc_main$q={name:"GroupJoinModal",components:{UnEditableInput,RefreshRosterModal},inject:["getTranslatedText"],props:{isGroupJoinInProgress:Boolean,isGetGroupInfoInProgress:Boolean,options:{type:Object,default:()=>({})},groupInfo:{type:Object,default:()=>({})},userFirstName:String,userLastName:String,userIsUnderAge:Boolean,userParentEmail:String},emits:["inviteAccepted","inviteDeclined"],data(){return{parentEmail:"",nameValue:{firstName:"",lastName:""},errorText:"",showRefreshRosterModal:!1}},computed:{...mapGettersToComputed$3(),isLinkModal(){return this.options.type===Constants.GroupJoinModalTypes.FROM_LINK},isGameCodeModal(){return this.options.type===Constants.GroupJoinModalTypes.FROM_GAME_CODE},isInviteForGoogleAssigned(){const e=_.map(this.groupInfo.groups,t=>t.isGoogle);return _.includes(e,!0)&&!this.isLinkModal},isInviteForMultipleGroups(){return this.groupInfo.groups&&this.groupInfo.groups.length>1},groupName(){return _.get(this.groupInfo.groups,"[0].name","")},isEmailRequired(){return isParentEmailRequired(this.groupInfo.groups)},teacherLocalObject(){const e=this.groupInfo.teacher||{},t=e.local||{};return{...e,...t}},isTeacherUnderAge(){const e=this.groupInfo.teacher||{};return e.student&&e.student.underAge||!1},teacherFullName(){return constructNameOfUser(this.teacherLocalObject,this.isTeacherUnderAge,"Teacher",{addTitle:!0})},teacherHalfName(){return this.teacherLocalObject.title?constructNameOfUser(this.teacherLocalObject,this.isTeacherUnderAge,"Teacher",{addTitle:!0,lastNameOnly:!0}):this.teacherFullName},teacherEmail(){return!this.teacherLocalObject.email||this.isTeacherUnderAge?"":this.teacherLocalObject.email},parentEmailInputName(){return this.isEmailRequired?this.getTranslatedText("Parent or guardian email address"):`${this.getTranslatedText("Parent or guardian email address")} (${this.getTranslatedText("optional")})`}},watch:{parentEmail(e){isValidEmail(e)&&(this.errorText="")},async groupInfo(e){this.showRefreshRosterModal=!0;const t=window.history.state.current;LocalStorage$1.setItem(Constants.LOCALSTORAGE_REFRESH_ROSTER_TRIES,LocalStorage$1.getItem(Constants.LOCALSTORAGE_REFRESH_ROSTER_TRIES)?LocalStorage$1.getItem(Constants.LOCALSTORAGE_REFRESH_ROSTER_TRIES)+1:1),LocalStorage$1.getItem(Constants.LOCALSTORAGE_REFRESH_ROSTER_TRIES)>1?(LocalStorage$1.removeItem(Constants.LOCALSTORAGE_REFRESH_ROSTER_TRIES),this.showRefreshRosterModal=!1):(window.lmsName&&window.lmsName!==""&&(await importOrRefreshClassService({courseId:window.lmsCourseId,lmsName:window.lmsName},this.groupInfo.teacher.id),InHouseEventLogger$1.logEvent(WebEvents.STUDENT_ROSTERING_TRIGGERED,{lms:window.lmsName}),window.location.href=`${t}&rostered=true&lms=${window.lmsName}`),this.showRefreshRosterModal=!1)}},created(){this.setInitialUserData()},methods:{setInitialUserData(){this.userFirstName&&(this.nameValue.firstName=this.userFirstName),this.userLastName&&(this.nameValue.lastName=this.userLastName),this.userParentEmail&&(this.parentEmail=this.userParentEmail)},validateData(){return this.nameValue.firstName?this.userIsUnderAge&&(!this.nameValue.lastName||this.nameValue.lastName.length>1)?(this.errorText=this.getTranslatedText("Please enter your last name initial"),!1):!this.userIsUnderAge&&!this.nameValue.lastName?(this.errorText=this.getTranslatedText("Please enter your last name"),!1):this.isEmailRequired&&this.parentEmail.length===0?(this.errorText=this.getTranslatedText("Email is Required"),!1):(this.isEmailRequired||this.parentEmail.length>0)&&!isValidEmail(this.parentEmail)?(this.errorText=this.getTranslatedText("Please enter a valid email"),!1):!0:(this.errorText=this.getTranslatedText("Please enter your first name"),!1)},acceptInvite(){if(this.errorText="",!this.validateData()||this.isGroupJoinInProgress)return;const e={token:this.options.inviteToken||"",firstName:this.nameValue.firstName,lastName:this.nameValue.lastName};this.parentEmail&&(e.parent={email:this.parentEmail}),this.clearURLParams(),this.$emit("inviteAccepted",{requestData:e,sourceRequest:this.options.sourceRequest||"",sourceRequestMeta:this.options.sourceRequestMeta||{},inviteType:this.options.type,groupName:this.groupName})},rejectInvite(){if(this.isGroupJoinInProgress)return;this.clearURLParams();const e=this.options.sourceRequest||"";this.$emit("inviteDeclined",{sourceRequest:e})},clearURLParams(){window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"class")),window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"t")),window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"showGroupJoin"))}}};function mapGettersToComputed$3(){return mapGetters({isCorporateUser:"isCorporateUser"})}const _withScopeId$7=e=>(pushScopeId("data-v-22808d86"),e=e(),popScopeId(),e),_hoisted_1$h=_withScopeId$7(()=>createBaseVNode("div",{class:"illustration-container"},[createBaseVNode("img",{src:"https://cf.quizizz.com/img/illustrations/classes_signup_upsell.png",alt:"Illustration"})],-1)),_hoisted_2$f={class:"modal-content"},_hoisted_3$c={class:"header"},_hoisted_4$9={key:0,class:"title"},_hoisted_5$7={key:1,class:"title"},_hoisted_6$7={class:"sub-title"},_hoisted_7$7={class:"body"},_hoisted_8$7={key:0,class:"info-text grey-text extra-small-text"},_hoisted_9$7={class:"teacher-name"},_hoisted_10$6={key:1,class:"info-text grey-text extra-small-text"},_hoisted_11$6={class:"teacher-name"},_hoisted_12$6={class:"form"},_hoisted_13$5={class:"error-text-container text centered-text special-small-text error-text"},_hoisted_14$4={class:"footer"},_hoisted_15$4={key:1};function _sfc_render$e(e,t,n,r,o,s){const a=resolveComponent("QLoader"),u=resolveComponent("UnEditableInput"),l=resolveComponent("RefreshRosterModal");return openBlock(),createElementBlock("div",null,[n.isGetGroupInfoInProgress?(openBlock(),createBlock(a,{key:0,size:"60"})):(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_1$h,createBaseVNode("div",_hoisted_2$f,[createBaseVNode("div",_hoisted_3$c,[e.isCorporateUser?(openBlock(),createElementBlock("p",_hoisted_4$9,toDisplayString(s.getTranslatedText("You’re joining the group:")),1)):(openBlock(),createElementBlock("p",_hoisted_5$7,toDisplayString(s.getTranslatedText("You’re joining the Class:")),1)),createBaseVNode("p",_hoisted_6$7,toDisplayString(s.getTranslatedText("{$1}",[s.groupName])),1)]),createBaseVNode("div",_hoisted_7$7,[e.isCorporateUser?(openBlock(),createElementBlock("p",_hoisted_8$7,[createBaseVNode("span",null,toDisplayString(s.getTranslatedText("Your host,")),1),createBaseVNode("span",_hoisted_9$7,toDisplayString(s.getTranslatedText(" {$1},",[s.teacherHalfName])),1),createBaseVNode("span",null,toDisplayString(s.getTranslatedText(" will see the details below.")),1)])):(openBlock(),createElementBlock("p",_hoisted_10$6,[createBaseVNode("span",null,toDisplayString(s.getTranslatedText("Your teacher,")),1),createBaseVNode("span",_hoisted_11$6,toDisplayString(s.getTranslatedText(" {$1},",[s.teacherHalfName])),1),createBaseVNode("span",null,toDisplayString(s.getTranslatedText(" will see the details below.")),1)])),createBaseVNode("div",_hoisted_12$6,[createVNode(u,{modelValue:o.nameValue,"onUpdate:modelValue":t[0]||(t[0]=m=>o.nameValue=m),name:{main:s.getTranslatedText("Your name"),constituents:{firstName:s.getTranslatedText("First name"),lastName:n.userIsUnderAge?s.getTranslatedText("Last name initial"):s.getTranslatedText("Last name")}},placeholder:{firstName:s.getTranslatedText("Enter first name"),lastName:n.userIsUnderAge?s.getTranslatedText("Enter last name initial"):s.getTranslatedText("Enter last name")},infoText:{lastName:n.userIsUnderAge?s.getTranslatedText("We only collect the last initial from users under 13 years of age."):null},inputProps:{lastName:{maxlength:n.userIsUnderAge?1:-1}}},null,8,["modelValue","name","placeholder","infoText","inputProps"]),e.isCorporateUser?createCommentVNode("",!0):(openBlock(),createBlock(u,{key:0,modelValue:o.parentEmail,"onUpdate:modelValue":t[1]||(t[1]=m=>o.parentEmail=m),class:"parent-email-input",name:s.parentEmailInputName,placeholder:s.getTranslatedText("Enter parent's or guardian's email")},null,8,["modelValue","name","placeholder"]))])]),createBaseVNode("div",_hoisted_13$5,toDisplayString(o.errorText),1),createBaseVNode("div",_hoisted_14$4,[createBaseVNode("button",{class:"accept-invite-btn",onClick:t[2]||(t[2]=(...m)=>s.acceptInvite&&s.acceptInvite(...m))},[n.isGroupJoinInProgress?(openBlock(),createBlock(a,{key:0,size:"16"})):(openBlock(),createElementBlock("span",_hoisted_15$4,[s.isInviteForGoogleAssigned?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(s.getTranslatedText("Start quiz")),1)],64)):s.isGameCodeModal?(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(s.getTranslatedText("Join game")),1)],64)):e.isCorporateUser?(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(s.getTranslatedText("Join group")),1)],64)):(openBlock(),createElementBlock(Fragment,{key:3},[createTextVNode(toDisplayString(s.getTranslatedText("Join Class")),1)],64))]))]),createBaseVNode("button",{class:normalizeClass(["reject-invite-btn",{"hide-btn":n.isGroupJoinInProgress}]),onClick:t[3]||(t[3]=(...m)=>s.rejectInvite&&s.rejectInvite(...m))},[s.isInviteForGoogleAssigned||s.isGameCodeModal?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(s.getTranslatedText("Go back")),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(s.getTranslatedText("Cancel")),1)],64))],2)])]),createVNode(l,{showRefreshRosterModal:o.showRefreshRosterModal},null,8,["showRefreshRosterModal"])],64))])}const GroupJoinModal=_export_sfc(_sfc_main$q,[["render",_sfc_render$e],["__scopeId","data-v-22808d86"]]),ClassCodeModal_vue_vue_type_style_index_0_scoped_6ee276e1_lang="",_sfc_main$p={name:"ClassCodeModal",inject:["getTranslatedText"],emits:["onCloseClassCodeModal"],data(){return{classCode:"",errorText:"Please Enter a valid value",showError:!1}},watch:{classCode(e){e.length&&(this.showError=!1)}},mounted(){this.focusInput()},computed:{...mapGettersToComputed$2()},methods:{...mapActionsToMethods$5(),close(){this.$emit("onCloseClassCodeModal")},focusInput(){this.$refs["class-code-input"].focus()},proceed(){if(this.classCode===""){this.showError=!0,this.errorText=this.getTranslatedText("Please enter your code");return}if(this.classCode.length!==7){this.showError=!0,this.errorText=this.getTranslatedText("Please enter complete join code");return}if(!/^([A-Z][0-9]{6})$/.test(this.classCode)){this.showError=!0,this.errorText=this.getTranslatedText("Please enter correct format code");return}this.handleGroupInvite({token:this.classCode,type:Constants.GroupJoinModalTypes.FROM_CLASS_CODE})}}};function mapActionsToMethods$5(){return mapActions(["handleGroupInvite"])}function mapGettersToComputed$2(){return mapGetters({isCorporateUser:"isCorporateUser"})}const _hoisted_1$g={class:"kr-modal-container"},_hoisted_2$e={class:"title"},_hoisted_3$b={class:"sub-title"},_hoisted_4$8={class:"btn-tray"};function _sfc_render$d(e,t,n,r,o,s){return openBlock(),createElementBlock("div",_hoisted_1$g,[createBaseVNode("p",_hoisted_2$e,toDisplayString(e.isCorporateUser?s.getTranslatedText("Join a Group"):s.getTranslatedText("Join a Class")),1),createBaseVNode("p",_hoisted_3$b,toDisplayString(e.isCorporateUser?s.getTranslatedText("Enter the group code that your host has shared with you."):s.getTranslatedText("Enter the class code that your teacher has shared with you.")),1),withDirectives(createBaseVNode("input",{ref:"class-code-input","onUpdate:modelValue":t[0]||(t[0]=a=>o.classCode=a),class:"class-code-input",maxlength:"7"},null,512),[[vModelText,o.classCode]]),createBaseVNode("p",{class:normalizeClass(["error-text",o.showError?"red-text":"white-text"])},toDisplayString(o.errorText),3),createBaseVNode("div",_hoisted_4$8,[createBaseVNode("button",{type:"submit",class:"continue",onClick:t[1]||(t[1]=a=>s.proceed())},toDisplayString(s.getTranslatedText("Continue")),1),createBaseVNode("button",{type:"button",class:"cancel",onKeyup:t[2]||(t[2]=withKeys((...a)=>s.close&&s.close(...a),["enter","space"])),onClick:t[3]||(t[3]=(...a)=>s.close&&s.close(...a))},toDisplayString(s.getTranslatedText("Cancel")),33)])])}const ClassCodeModal=_export_sfc(_sfc_main$p,[["render",_sfc_render$d],["__scopeId","data-v-6ee276e1"]]),Modal_vue_vue_type_style_index_0_scoped_6a9d305a_lang="",_sfc_main$o={name:"Modal",props:{shouldShowMediaOptionModal:{type:Boolean,default:!1},selectedTheme:{type:String,default:Constants.ThemeNames.CLASSIC},acquireFullHeight:{type:Boolean,default:!1},acquireFullWidth:{type:Boolean,default:!1},focusContainer:{type:Boolean,defalt:!0},stackToBottom:{type:Boolean,default:!1},transition:{type:String,default:"slide"},modalContainerStyle:{type:Object,default:()=>({})},modalMaskStyle:{type:Object,default:()=>({})},modalMaskContainerStyle:{type:Object,default:()=>({})}},emits:["closeModal"],data(){return{lastActiveElement:null}},computed:{shouldAlignAtStart(){return!!(this.shouldShowMediaOptionModal&&this.selectedTheme!==Constants.ThemeNames.CLASSIC)}},created(){document.activeElement&&(this.lastActiveElement=document.activeElement)},mounted(){document.addEventListener("keydown",this.closeOnEscapeInstance),this.$nextTick().then(()=>{this.$refs.modalContentContainer&&this.focusContainer&&this.$refs.modalContentContainer.focus()})},beforeUnmount(){document.removeEventListener("keydown",this.closeOnEscapeInstance),this.lastActiveElement&&this.lastActiveElement.focus()},methods:{closeModal(e=!1,t=!1){this.$emit("closeModal",e,t)},closeOnEscapeInstance(e){e.keyCode===27&&this.closeModal(!0)}}};function _sfc_render$c(e,t,n,r,o,s){return openBlock(),createBlock(Transition,{name:n.transition,appear:""},{default:withCtx(()=>[createBaseVNode("div",{class:"modal-container","data-cy":"modal-container",style:normalizeStyle(n.modalContainerStyle)},[createBaseVNode("div",{class:normalizeClass(["modal-mask-container",[n.stackToBottom?"stack-to-bottom":""]]),style:normalizeStyle(n.modalMaskContainerStyle)},[createBaseVNode("div",{class:"modal-mask",style:normalizeStyle(n.modalMaskStyle),onClick:t[0]||(t[0]=a=>s.closeModal(!0))},null,4),createBaseVNode("div",{ref:"modalContentContainer",tabindex:"0",class:normalizeClass(["modal-body",[n.acquireFullHeight?"acquire-full-height":"",n.acquireFullWidth?"acquire-full-width":"",s.shouldAlignAtStart?"align-at-start":""]]),onClick:t[1]||(t[1]=withModifiers(()=>{},["stop"]))},[renderSlot(e.$slots,"body",{role:"dialog",ariaModal:"true"},void 0,!0)],2)],6)],4)]),_:3},8,["name"])}const Modal=_export_sfc(_sfc_main$o,[["render",_sfc_render$c],["__scopeId","data-v-6a9d305a"]]),SnackBar_vue_vue_type_style_index_0_scoped_5ea80229_lang="",_sfc_main$n={name:"SnackBar",props:{destroyInTime:{type:Number,default:5},message:{type:String,default:""},clickToDismiss:{type:Boolean,default:!0}},emits:["hideSnackBar"],data(){return{snackBarTimeout:null}},mounted(){this.snackBarTimeout=setTimeout(()=>this.$emit("hideSnackBar"),this.destroyInTime*1e3)},beforeUnmount(){this.snackBarTimeout&&clearTimeout(this.snackBarTimeout)},methods:{dismiss(){this.clickToDismiss&&(this.snackBarTimeout&&clearTimeout(this.snackBarTimeout),this.snackBarTimeout=null,this.$emit("hideSnackBar"))}}},_withScopeId$6=e=>(pushScopeId("data-v-5ea80229"),e=e(),popScopeId(),e),_hoisted_1$f={translate:"no",class:"snackbar-container","data-cy":"snackbar-container",role:"alert"},_hoisted_2$d=["innerHTML"],_hoisted_3$a=_withScopeId$6(()=>createBaseVNode("div",{class:"action"},null,-1));function _sfc_render$b(e,t,n,r,o,s){return openBlock(),createBlock(Transition,{appear:"",enterActiveClass:"animated zoomIn anim-dur-300",leaveActiveClass:"animated zoomOut anim-dur-300"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$f,[createBaseVNode("div",{class:"content","data-cy":"content",onClick:t[0]||(t[0]=(...a)=>s.dismiss&&s.dismiss(...a))},[createBaseVNode("p",{class:"message","data-cy":"message",innerHTML:n.message},null,8,_hoisted_2$d)]),_hoisted_3$a])]),_:1})}const SnackBar=_export_sfc(_sfc_main$n,[["render",_sfc_render$b],["__scopeId","data-v-5ea80229"]]);class ToastService{static add(t){const n=_.isNumber(t.time)?t.time:3e3,r=$store.getters.toasts;_.find(r,o=>o.title===t.title)||($store.dispatch("pushToast",t),setTimeout(()=>{$store.dispatch("shiftToast")},n))}}const emojiRegex=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function isUserATeacher(e){return e===Constants.UserOccupations.TEACHER||e===Constants.UserOccupations.TEACHER_SCHOOL||e===Constants.UserOccupations.TEACHER_UNIVERSITY}function isUserDeleted(e){return e&&e.deleted===!0}function isCorporateUser(e){return!e||!e.occupation?!1:e.occupation===Constants.UserOccupations.CORPORATE||e.occupation===Constants.UserOccupations.CORPORATE_LEARNER||e.occupation===Constants.UserOccupations.CORPORATE_TEACHER}function nameValidator(){return{containsEmoji:s=>!!emojiRegex().exec(s),containsSpecialCharacter:s=>!!/[#$%^&*()`~<>\/\\|]+/gm.exec(s),isFirstNameEmpty:s=>s.length===0,isFirstNameGreaterThanLimit:(s,a)=>s.length>a,isLastNameGreaterThanLimit:(s,a)=>s.length>a}}const GameAssignedNotifModal_vue_vue_type_style_index_0_scoped_a0be5396_lang="",GameAssignedNotifModal={name:"game-assigned-notif-modal",inject:["getTranslatedText","getTranslatedDate"],props:{options:{type:Object,default:()=>({})},isCheckOrJoinRoomInProgress:{type:Boolean,default:!1}},data(){return{isReplayAsyncStep1:!1}},mounted(){this.options.isReplayAsyncStep1&&(this.isReplayAsyncStep1=!0)},computed:{gameInfo(){return this.options.gameInfo||{}},shouldRejectButtonBeRed(){return!this.options.isReplayLiveGameModal&&this.isGameTypeLive},isGameTypeLive(){return this.gameInfo.gameType===Constants.GameType.LIVE},acceptCtaText(){return this.options.isReplayLiveGameModal?this.options.gameModeOfNextGame===Constants.GameMode.PRESENTATION?this.getTranslatedText("Start again"):this.getTranslatedText("Play again"):this.options.isReplayAsync?this.getTranslatedText("Attempt now"):this.isGameTypeLive?this.getTranslatedText("Join game"):this.getTranslatedText("Play now")},declineCtaText(){return this.options.isReplayLiveGameModal?this.getTranslatedText("No thanks"):this.options.isReplayAsync?this.getTranslatedText("I'll do it later"):this.isGameTypeLive?this.getTranslatedText("Decline"):this.getTranslatedText("Do it later")},assignerName(){return this.options.assignedBy&&!this.options.isReplayLiveGameModal&&(this.options.assignedBy.fullName||this.options.assignedBy.username)||""},headerText(){if(this.options.isReplayLiveGameModal)return this.options.gameModeOfNextGame===Constants.GameMode.PRESENTATION?isCorporateUser(this.gameInfo.hostOccupation)?this.getTranslatedText("You've been invited to join the presentation again."):this.getTranslatedText("You've been invited to join the lesson again."):this.getTranslatedText("You've been invited to a rematch!");if(this.options.isReplayAsync)return this.getTranslatedText("This quiz has been assigned to you as homework!");if(!this.assignerName){if(this.isGameTypeLive)return this.options.assignmentTitle?this.getTranslatedText("You have beed invited to join the live game '{$1}'",[this.options.assignmentTitle]):this.getTranslatedText("You have been invited to join a live game!");if(this.options.assignmentTitle)return this.getTranslatedText("You have been assigned '{$1}'",[this.options.assignmentTitle]);const r=_.filter(this.options.gameSubject,o=>o!=="Other"&&o!=="Others")[0]||"";return this.getTranslatedText("You have been assigned a {$1} quiz!",[r])}if(this.isGameTypeLive)return this.options.assignmentTitle?this.getTranslatedText("has invited you to join the live game '{$1}'",[this.options.assignmentTitle]):this.getTranslatedText("has invited you to join a live game!");if(this.options.assignmentTitle)return this.getTranslatedText("has assigned you '{$1}'",[this.options.assignmentTitle]);const t=_.filter(this.options.gameSubject,n=>n!=="Other"&&n!=="Others")[0]||"";return this.getTranslatedText("has assigned you a {$1} quiz!",[t])},dueDateText(){if(!(this.isGameTypeLive||!this.gameInfo.dueDate))return this.getTranslatedDate(this.gameInfo.dueDate,!0,!0)},replayAsyncJoinLink(){const t=`${this.isCorporateUser?"/pro":""}/join?gc=${this.options.gameInfo.gameCode}&source=asyncReplayModal`;return window.location.origin+t},formattedGameCode(){let e=this.options.gameInfo.gameCode;return e=`${e.substring(0,4)} ${e.substring(4,8)}`,e},imgSrc(){return this.options.isReplayAsync?"https://cf.quizizz.com/game/img/misc/girl_assignment.png":"https://cf.quizizz.com/game/img/misc/children_going_yay.png"},imgStyle(){return this.options.isReplayAsync?{width:"100px",height:"100px",minWidth:"unset"}:{width:"100px",height:"105px"}}},methods:{...mapActionsToMethods$4(),onDecline(e){const t={isReplayLiveGameModal:this.options.isReplayLiveGameModal,isReplayAsyncModal:this.options.isReplayAsync,gameTypeOfNextGame:this.options.gameTypeOfNextGame,gameModeOfNextGame:this.options.gameModeOfNextGame};if(this.options.isReplayAsync&&(e?InHouseEventLogger$1.logEvent(WebEvents.HIDE_REPLAY_ASYNC_LINK,{isLoggedIn:this.$store.state.user.profile.isLoggedIn,expiry:this.$store.state.game.data.expiry,oldRoomHash:this.$store.state.game.data.roomHashBeforeReplay}):InHouseEventLogger$1.logEvent(WebEvents.TABLE_REPLAY_ASYNC,{isLoggedIn:this.$store.state.user.profile.isLoggedIn,expiry:this.$store.state.game.data.expiry,oldRoomHash:this.$store.state.game.data.roomHashBeforeReplay})),this.options.isReplayAsync&&!this.isReplayAsyncStep1&&!this.$store.state.user.profile.isLoggedIn){this.isReplayAsyncStep1=!0;return}this.options.isReplayAsync&&GlobalEventBus.$emit("showSummaryReplayAsyncActions"),this.$emit("onAction","decline",this.options.notifId,t)},onAccept(){const e={...this.gameInfo,lmsInfo:this.options.lmsInfo||{},isReplayLiveGameModal:this.options.isReplayLiveGameModal,isReplayAsyncModal:this.options.isReplayAsync,gameTypeOfNextGame:this.options.gameTypeOfNextGame,gameModeOfNextGame:this.options.gameModeOfNextGame};this.options.isReplayAsync&&InHouseEventLogger$1.logEvent(WebEvents.PLAY_REPLAY_ASYNC,{isLoggedIn:this.$store.state.user.profile.isLoggedIn,expiry:this.$store.state.game.data.expiry,oldRoomHash:this.$store.state.game.data.roomHashBeforeReplay,src:"modal"}),this.$emit("onAction","accept",this.options.notifId,e)},getFormattedDeadline(){const e=new Date(this.$store.state.game.data.expiry),t={weekday:"long",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return e.toLocaleDateString("en-US",t)},copyTextToClipboard(e,t){t?InHouseEventLogger$1.logEvent(WebEvents.COPY_REPLAY_ASYNC_LINK,{isLoggedIn:this.$store.state.user.profile.isLoggedIn,expiry:this.$store.state.game.data.expiry,oldRoomHash:this.$store.state.game.data.roomHashBeforeReplay}):InHouseEventLogger$1.logEvent(WebEvents.COPY_REPLAY_ASYNC_CODE,{isLoggedIn:this.$store.state.user.profile.isLoggedIn,expiry:this.$store.state.game.data.expiry,oldRoomHash:this.$store.state.game.data.roomHashBeforeReplay}),ToastService.add({type:Constants.ToastTypes.DEFAULT,icon:"icon-fas-alarm-clock",title:this.getTranslatedText("Game code copied to clipboard!")}),copyTextToClipboard(e)}}},_sfc_main$m=GameAssignedNotifModal;function mapActionsToMethods$4(){return mapActions(["requestToChangePage"])}const _withScopeId$5=e=>(pushScopeId("data-v-a0be5396"),e=e(),popScopeId(),e),_hoisted_1$e={key:0,class:"container"},_hoisted_2$c={class:"header flex-view flex-row all-center"},_hoisted_3$9=["src"],_hoisted_4$7={class:"text medium-text bold-text"},_hoisted_5$6={key:0,class:"assigner"},_hoisted_6$6={key:0,class:"text special-small-text due-text"},_hoisted_7$6={class:"bold-text"},_hoisted_8$6={class:"footer flex-view flex-row"},_hoisted_9$6={key:1,class:"kr-modal-container step-count-1"},_hoisted_10$5={class:"kr-modal-body"},_hoisted_11$5={class:"modal-header"},_hoisted_12$5={class:"modal-title"},_hoisted_13$4=_withScopeId$5(()=>createBaseVNode("i",{class:"fas fa-badge-check"},null,-1)),_hoisted_14$3={class:"title-text"},_hoisted_15$3={class:"modal-subtitle"},_hoisted_16$3={class:"deadline"},_hoisted_17$2=_withScopeId$5(()=>createBaseVNode("i",{class:"icon-fas-clock"},null,-1)),_hoisted_18$2={class:"deadline-text"},_hoisted_19$2={class:"modal-content"},_hoisted_20$2={class:"live-dashboard-join-instr-main"},_hoisted_21$2={class:"join-instructions-heading"},_hoisted_22$2={class:"join-instructions"},_hoisted_23$1={class:"well-container"},_hoisted_24$1={class:"label"},_hoisted_25$1={class:"well"},_hoisted_26$1=["href"],_hoisted_27$1=_withScopeId$5(()=>createBaseVNode("span",{class:"my"},"my",-1)),_hoisted_28$1=_withScopeId$5(()=>createBaseVNode("i",{class:"icon icon-far-copy","aria-hidden":"true"},null,-1)),_hoisted_29$1=[_hoisted_28$1],_hoisted_30$1={class:"gamecode-container"},_hoisted_31$1={class:"well-container game-code-well-container"},_hoisted_32$1={class:"label"},_hoisted_33$1={class:"code-well well"},_hoisted_34$1=_withScopeId$5(()=>createBaseVNode("i",{class:"icon-far-copy","aria-hidden":"true"},null,-1)),_hoisted_35$1=[_hoisted_34$1],_hoisted_36$1={class:"modal-ctas"};function _sfc_render$a(e,t,n,r,o,s){const a=resolveComponent("QLoader");return openBlock(),createElementBlock("div",null,[e.isReplayAsyncStep1?(openBlock(),createElementBlock("div",_hoisted_9$6,[createBaseVNode("div",_hoisted_10$5,[createBaseVNode("div",_hoisted_11$5,[createBaseVNode("h1",_hoisted_12$5,[_hoisted_13$4,createBaseVNode("div",_hoisted_14$3,toDisplayString(e.getTranslatedText("Submit this quiz via this code before the deadline.")),1)]),createBaseVNode("h2",_hoisted_15$3,[createBaseVNode("div",_hoisted_16$3,[_hoisted_17$2,createBaseVNode("span",_hoisted_18$2,toDisplayString(e.getFormattedDeadline()),1)])])]),createBaseVNode("div",_hoisted_19$2,[createBaseVNode("div",_hoisted_20$2,[createBaseVNode("div",_hoisted_21$2,toDisplayString(e.getTranslatedText("Save this code to attempt the homework later.",-1)),1),createBaseVNode("div",_hoisted_22$2,[createBaseVNode("div",{class:normalizeClass(["join-link-container",[e.isCorporateUser?"join-link-pro":""]])},[createBaseVNode("div",_hoisted_23$1,[createBaseVNode("div",_hoisted_24$1," 1. "+toDisplayString(e.getTranslatedText("Use any device to open",-1)),1),createBaseVNode("div",_hoisted_25$1,[createBaseVNode("a",{id:"join-url-link",target:"_BLANK",href:e.replayAsyncJoinLink},[createTextVNode("join"),_hoisted_27$1,createTextVNode("quiz.com"+toDisplayString(e.isCorporateUser?"/pro":""),1)],8,_hoisted_26$1),createBaseVNode("button",{class:"copy-icon join-url-copy-icon",onClick:t[2]||(t[2]=u=>e.copyTextToClipboard(e.replayAsyncJoinLink,!0))},_hoisted_29$1)])])],2),createBaseVNode("div",_hoisted_30$1,[createBaseVNode("div",_hoisted_31$1,[createBaseVNode("div",_hoisted_32$1," 2. "+toDisplayString(e.getTranslatedText("Enter homework code",-1)),1),createBaseVNode("div",_hoisted_33$1,[createBaseVNode("span",{class:"code-text",onClick:t[3]||(t[3]=u=>e.copyTextToClipboard(e.options.gameInfo.gameCode))},toDisplayString(e.formattedGameCode),1),createBaseVNode("button",{class:"copy-icon code-copy-icon",onClick:t[4]||(t[4]=u=>e.copyTextToClipboard(e.options.gameInfo.gameCode))},_hoisted_35$1)])])])])])]),createBaseVNode("div",_hoisted_36$1,[createBaseVNode("button",{class:"modal-cta cancel-btn",onClick:t[5]||(t[5]=u=>e.onDecline(!0))},toDisplayString(e.getTranslatedText("Back to summary",-1)),1)])])])):(openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$c,[createBaseVNode("img",{alt:"Game assigned Notification media",src:e.imgSrc,style:normalizeStyle(e.imgStyle)},null,12,_hoisted_3$9),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_4$7,[e.assignerName?(openBlock(),createElementBlock("span",_hoisted_5$6,toDisplayString(e.assignerName),1)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(e.headerText),1)]),e.dueDateText?(openBlock(),createElementBlock("div",_hoisted_6$6,[createBaseVNode("span",_hoisted_7$6,toDisplayString(e.getTranslatedText("Due by"))+":",1),createTextVNode(" "+toDisplayString(e.dueDateText),1)])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_8$6,[createBaseVNode("button",{type:"button",class:normalizeClass(["strip-default-btn-style btn decline",e.shouldRejectButtonBeRed?"red-btn":""]),onClick:t[0]||(t[0]=u=>e.onDecline(!1))},toDisplayString(e.declineCtaText),3),createBaseVNode("button",{type:"button",class:"strip-default-btn-style btn accept",onClick:t[1]||(t[1]=(...u)=>e.onAccept&&e.onAccept(...u))},[e.isCheckOrJoinRoomInProgress?(openBlock(),createBlock(a,{key:0,size:"20",theme:"lilac"})):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass([{invisible:e.isCheckOrJoinRoomInProgress}])},toDisplayString(e.acceptCtaText),3)])])]))])}const GameAssignedNotifModal$1=_export_sfc(_sfc_main$m,[["render",_sfc_render$a],["__scopeId","data-v-a0be5396"]]),ImageZoomPreview_vue_vue_type_style_index_0_lang="",_sfc_main$l={name:"ImageZoomPreview",inject:["getTranslatedText"],props:{options:{type:Object,default:()=>{}},media:{type:Object,default:()=>{}}},emits:["onDismissPreview"],data(){return{carouselImages:[],currentImage:0,questionText:"",hasCurrentImageLoaded:!1,displayedImageDimensions:{},mainImageCaptionStyles:{},loadingImageStyles:{},shouldDisplayQuestionText:!0}},computed:{isMobileLandscape(){return this.media.width<=896&&this.media.orientation===Constants.Orientation.LANDSCAPE},imageDescriptionText(){let e=" ";if(this.options.hideText)return e;const t=this.options.images.question;if(this.currentImage===0&&t&&t.url)e=this.getTranslatedText("Question Image");else{const n=this.options.images.options,r=_.findIndex(n,o=>this.getOriginalSizeURL(o)===this.currentImageUrl);e=this.getTranslatedText("Option {$1} ",[r+1])}return e},shouldShowCachedImage(){const e=this.currentImageData;return e.url&&!this.hasCurrentImageLoaded&&!this.isImageCached(e.url)},currentImageOptionNumber(){return this.currentImage},currentImageData(){return this.carouselImages[this.currentImage]?this.carouselImages[this.currentImage]:{}},defaultImageUrl(){const e=this.currentImageData;return e.url?this.getDefaultSizeURL(e.url):""},currentImageUrl(){const e=this.currentImageData;return e.url?this.getOriginalSizeURL(e.url):""},questionHasText(){return this.questionText!==""},isDeviceMobile(){return this.media.type===Constants.DeviceType.PHONE},areThereMultipleImages(){return this.carouselImages.length>1}},watch:{media(e,t){this.calculateImageLoaderDimensions()}},created(){window.addEventListener("keyup",this.handleKeyPresses),this.composeQuestionText()},mounted(){this.carouselImages=this.getCarouselImages(),this.$refs.closeButton&&this.$refs.closeButton.focus(),this.$nextTick().then(()=>{this.calculateImageLoaderDimensions()})},beforeUnmount(){window.removeEventListener("keyup",this.handleKeyPresses)},methods:{composeQuestionText(){const e=this.options.images.question;e.text&&e.text!==""&&(this.questionText=`Q. ${e.text}`)},isImageCached(e){const t=new Image;return t.src=this.getOriginalSizeURL(e),t.complete},onCurrentImageLoaded(){this.hasCurrentImageLoaded=!0},getOriginalSizeURL(e){return attachParamForType(e,{},"preview")},getDefaultSizeURL(e){return this.options.images.question&&this.options.images.question.url&&e===this.options.images.question.url?attachParamForType(e,{imageType:"question",deviceType:this.media.type},"preview-default"):attachParamForType(e,{imageType:"option",deviceType:this.media.type},"preview-default")},calculateImageLoaderDimensions(){const e=window.document.documentElement.clientHeight,t=window.document.documentElement.clientWidth,n=this.$refs.imageDescription&&this.$refs.imageDescription.clientHeight||62,r=this.$refs.thumbnailWrapper&&this.$refs.thumbnailWrapper.clientHeight||112;let o=16;if(this.$refs.thumbnailWrapper){const u=window.getComputedStyle(this.$refs.thumbnailWrapper,null).getPropertyValue("padding-bottom");o=getNumberFromCSSValue(u)}const s=(e-n-r-o)*.925,a=Math.min(t-32,s*(16/9));this.displayedImageDimensions={height:`${s}px`,"margin-top":`${n}px`},this.mainImageCaptionStyles={},this.isMobileLandscape||(this.displayedImageDimensions.width=`${a}px`,this.mainImageCaptionStyles={width:`${a}px`})},handleKeyPresses(e){this.carouselImages.length>1&&(e.which===37?this.moveToPreviousImage():e.which===39&&this.moveToNextImage())},moveToPreviousImage(e){if(this.hasCurrentImageLoaded=!1,this.currentImage===0){this.currentImage=this.carouselImages.length-1;return}const t=(this.currentImage-1)%this.carouselImages.length;this.currentImage=t},moveToNextImage(e){this.hasCurrentImageLoaded=!1;const t=(this.currentImage+1)%this.carouselImages.length;this.currentImage=t},getQuestionImageUrl(){return this.options.images.question?this.options.images.question.url:""},getCarouselImages(){const e=[];let t=this.options.images.options?this.options.images.options:[];return this.options.images.question&&this.options.images.question.url&&e.push(this.options.images.question),t=t.filter(n=>n!=="TEXT_OPTION"),t=t.map(n=>({url:n})),e.push(...t),e},selectImage(e){this.hasCurrentImageLoaded=!1,this.currentImage=e},isCurrentImage(e){return this.currentImage===e},closePreview(){this.$emit("onDismissPreview")}}},_hoisted_1$d={class:"image-description"},_hoisted_2$b={class:"preview-close-btn-container"},_hoisted_3$8=createBaseVNode("i",{class:"icon-far-times preview-close-btn-icon"},null,-1),_hoisted_4$6=[_hoisted_3$8],_hoisted_5$5={class:"loading-state-wrapper"},_hoisted_6$5=createBaseVNode("i",{class:"icon-fas-chevron-left"},null,-1),_hoisted_7$5=[_hoisted_6$5],_hoisted_8$5=createBaseVNode("i",{class:"icon-fas-chevron-right"},null,-1),_hoisted_9$5=[_hoisted_8$5],_hoisted_10$4={class:"main-image-wrapper"},_hoisted_11$4=["src"],_hoisted_12$4=["src"],_hoisted_13$3=["innerHTML"],_hoisted_14$2={key:0,class:"thumbnail-carousel"},_hoisted_15$2=["id","onClick"],_hoisted_16$2=["src"];function _sfc_render$9(e,t,n,r,o,s){return openBlock(),createElementBlock("div",{class:normalizeClass(["question-lightbox",[{"justify-start":!s.areThereMultipleImages}]])},[createBaseVNode("div",_hoisted_1$d,[createBaseVNode("span",null,toDisplayString(s.imageDescriptionText),1),createBaseVNode("div",_hoisted_2$b,[createBaseVNode("button",{ref:"closeButton","aria-label":"Close button. Press space to close the modal",class:"preview-close-btn",onClick:t[0]||(t[0]=withModifiers((...a)=>s.closePreview&&s.closePreview(...a),["stop"])),onKeyup:t[1]||(t[1]=withKeys((...a)=>s.closePreview&&s.closePreview(...a),["space"]))},_hoisted_4$6,544)])]),createBaseVNode("div",_hoisted_5$5,[createBaseVNode("div",{class:"loading-image",style:normalizeStyle(o.displayedImageDimensions)},[s.areThereMultipleImages?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",{class:"image-arrow left",onClick:t[2]||(t[2]=withModifiers(a=>s.moveToPreviousImage("ARROW"),["stop"]))},_hoisted_7$5),createBaseVNode("div",{class:"image-arrow right",onClick:t[3]||(t[3]=withModifiers(a=>s.moveToNextImage("ARROW"),["stop"]))},_hoisted_9$5)],64)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10$4,[createVNode(Transition,{enterActiveClass:"animated fadeIn anim-300-duration"},{default:withCtx(()=>[s.shouldShowCachedImage?(openBlock(),createElementBlock("img",{key:s.defaultImageUrl,alt:"Question Image",class:"cached-image",src:s.defaultImageUrl},null,8,_hoisted_11$4)):createCommentVNode("",!0)]),_:1}),(openBlock(),createElementBlock("img",{key:s.currentImageUrl,class:"main-image",alt:"Question Image",src:s.currentImageUrl,onLoad:t[4]||(t[4]=(...a)=>s.onCurrentImageLoaded&&s.onCurrentImageLoaded(...a))},null,40,_hoisted_12$4))])],4),s.questionHasText&&o.shouldDisplayQuestionText?(openBlock(),createElementBlock("div",{key:0,class:"main-image-caption",style:normalizeStyle(o.mainImageCaptionStyles)},[createBaseVNode("span",{class:"image-text",innerHTML:o.questionText},null,8,_hoisted_13$3)],4)):createCommentVNode("",!0),createBaseVNode("div",{ref:"thumbnailWrapper",class:"thumbnail-wrapper",onClick:t[5]||(t[5]=withModifiers((...a)=>s.closePreview&&s.closePreview(...a),["stop"]))},[s.areThereMultipleImages?(openBlock(),createElementBlock("div",_hoisted_14$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.carouselImages,(a,u)=>(openBlock(),createElementBlock("div",{id:"thumbnail-"+u,key:u,ref_for:!0,ref:"thumbnailImages",class:normalizeClass(["thumbnail-image-wrapper",[{active:s.isCurrentImage(u)}]]),onClick:withModifiers(l=>s.selectImage(u),["stop"])},[createBaseVNode("img",{alt:"thumbnail",class:"thumbnail-image",src:s.getDefaultSizeURL(a.url)},null,8,_hoisted_16$2)],10,_hoisted_15$2))),128))])):createCommentVNode("",!0)],512)])],2)}const ImageZoomPreview=_export_sfc(_sfc_main$l,[["render",_sfc_render$9]]),ChallengeReplayNotifModal_vue_vue_type_style_index_0_scoped_17190857_lang="",_sfc_main$k={name:"ChallengeReplayNotifModal",inject:["getTranslatedText","getTranslatedDate"],props:{options:{type:Object,default:()=>({})}},computed:{quizImage(){return this.options.quizImage||"https://cf.quizizz.com/game/img/misc/children_going_yay.png"},quizName(){return this.options.quizName||""},quizNumQuestions(){return _.get(this.options,"replayMeta.quizNumQuestions","")}},methods:{}},_hoisted_1$c={class:"container"},_hoisted_2$a={class:"header"},_hoisted_3$7={class:"header-text"},_hoisted_4$5={class:"notif-card"},_hoisted_5$4={class:"quiz-info-wrapper"},_hoisted_6$4={class:"quiz-info-title"},_hoisted_7$4={class:"quiz-info-text"},_hoisted_8$4={class:"footer"},_hoisted_9$4={class:"footer-text"};function _sfc_render$8(e,t,n,r,o,s){return openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("div",_hoisted_3$7,toDisplayString(s.getTranslatedText("You have been invited to play")),1)]),createBaseVNode("div",_hoisted_4$5,[createBaseVNode("div",{class:"quiz-image-wrapper",style:normalizeStyle({backgroundImage:`url('${s.quizImage}')`})},null,4),createBaseVNode("div",_hoisted_5$4,[createBaseVNode("div",_hoisted_6$4,toDisplayString(s.quizName),1),createBaseVNode("div",_hoisted_7$4,toDisplayString(s.quizNumQuestions)+" questions ",1)])]),createBaseVNode("div",_hoisted_8$4,[createBaseVNode("div",_hoisted_9$4,toDisplayString(`${s.getTranslatedText("Starting the game soon")}...`),1)])])}const ChallengeReplayNotifModal=_export_sfc(_sfc_main$k,[["render",_sfc_render$8],["__scopeId","data-v-17190857"]]),Loading_vue_vue_type_style_index_0_scoped_74c6d8db_lang="",_sfc_main$j={},_hoisted_1$b={class:"theme-classic"},_hoisted_2$9=createStaticVNode('<div class="screen-loading" data-v-74c6d8db><div class="loader-div" data-v-74c6d8db><img alt="Loader" class="loading-logo" src="https://cf.quizizz.com/img/logos/new/logo-wot-sm-updated.png" data-v-74c6d8db><div class="loading-graphic" data-v-74c6d8db><div class="circle-1" data-v-74c6d8db><div class="circle-2" data-v-74c6d8db><div class="circle-3" data-v-74c6d8db><div class="circle-4" data-v-74c6d8db><div class="circle-5" data-v-74c6d8db><div class="circle-6" data-v-74c6d8db><div class="circle-7" data-v-74c6d8db><div class="circle-8" data-v-74c6d8db></div></div></div></div></div></div></div></div></div></div></div>',1),_hoisted_3$6=[_hoisted_2$9];function _sfc_render$7(e,t){return openBlock(),createElementBlock("div",_hoisted_1$b,_hoisted_3$6)}const Loading=_export_sfc(_sfc_main$j,[["render",_sfc_render$7],["__scopeId","data-v-74c6d8db"]]),Dialog_vue_vue_type_style_index_0_scoped_ff299272_lang="",_sfc_main$i={name:"Dialog",inject:["getTranslatedText"],props:{title:{type:String,default:""},message:{type:String,default:""},buttons:{type:Array,default:()=>[]},type:{type:String,default:"confirm",validator:e=>_.includes(["confirm","success","danger","default"],e)},areBtnUppercase:{type:Boolean,default:!0},centerText:{type:Boolean,default:!1}},emits:["onButtonClick"],methods:{getBtnClass(e){return e==="confirm"?"confirm":e==="success"?"success":e==="danger"?"danger":"default"},buttonClicked(e,t){e.stopPropagation(),this.$emit("onButtonClick",t)}}},_hoisted_1$a=["innerHTML"],_hoisted_2$8=["data-cy","onClick"];function _sfc_render$6(e,t,n,r,o,s){return openBlock(),createElementBlock("div",null,[createBaseVNode("p",{class:normalizeClass(["title",{"center-text":n.centerText}]),innerHTML:n.title},null,10,_hoisted_1$a),createBaseVNode("p",{class:normalizeClass(["message",{"center-text":n.centerText}])},toDisplayString(n.message),3),createBaseVNode("div",{class:normalizeClass(["action-btn-wrapper",{"center-btn":n.centerText}]),"data-cy":"action-btn-wrapper"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.buttons,(a,u)=>(openBlock(),createElementBlock("button",{key:u,type:"button","data-cy":s.getBtnClass(a.type),class:normalizeClass(["button",[n.areBtnUppercase?"make-uppercase":"",s.getBtnClass(a.type)]]),onClick:l=>s.buttonClicked(l,u)},toDisplayString(a.text),11,_hoisted_2$8))),128))],2)])}const DialogComponent=_export_sfc(_sfc_main$i,[["render",_sfc_render$6],["__scopeId","data-v-ff299272"]]),DialogWrapper_vue_vue_type_style_index_0_scoped_39c60349_lang="",_sfc_main$h={name:"DialogWrapper",components:{DialogComponent},inject:["getTranslatedText"],data:()=>({title:"",message:"",buttons:[],areBtnUppercase:!0,centerText:!1}),computed:{...mapStateToComputed$3(),dialogType(){const e=_.get(this.dialog,"name","");return isEmpty(e)?"confirm":e.split("|")[1]},completeMessage(){const e=this.dialog.options.errorCode;return isEmpty(e)?this.message:`${this.message} 

 ${this.getTranslatedText("If the issue persists please share a screenshot at")} student-support@quizizz.com 
 Error code - ${e}`}},mounted(){this.init()},methods:{...mapActionsToMethods$3(),init(){switch(this.$refs.dialogComponent.focus(),this.buttons=[{text:this.getTranslatedText("OKAY"),type:"confirm"}],this.areBtnUppercase=!0,this.dialog.name){case"resumeClassroomGame|confirm":this.title="Resume Game?",this.message=`${this.getTranslatedText("You are currently logged in as ")} ${this.email}. Resume this game?`,this.buttons=[{text:this.getTranslatedText("No"),type:"default"},{text:this.getTranslatedText("Yes"),type:"confirm"}];break;case"addedToClass|confirm":this.title=this.getTranslatedText("You're in!"),this.message=this.dialog.options.message,this.buttons=[{text:this.getTranslatedText("Okay"),type:"confirm"}];break;case"notAddedToClass|confirm":this.message=this.dialog.options.message,this.buttons=[{text:this.getTranslatedText("Okay"),type:"confirm"}];break;case"exitGame|danger":this.title=this.getTranslatedText("Exit this game?"),this.message=this.getTranslatedText("You can rejoin this game again from this device and you won't lose any progress."),PageNames.isExactly(this.currentPage,PageNames.List.IN_GAME.SUMMARY)&&(this.message=this.getTranslatedText("Would you like to exit the game?")),this.buttons=[{text:this.getTranslatedText("Cancel"),type:"default"},{text:this.getTranslatedText("Exit"),type:"danger"}];break;case"playAgainWithADifferentName|confirm":const e=`${this.playerName}*`;this.title=`${this.getTranslatedText("Play again as")} ${e}`,this.message=this.getTranslatedText("A game has already been completed using this name."),this.buttons=[{text:this.getTranslatedText("No"),type:"default"},{text:this.getTranslatedText("Yes"),type:"confirm"}];break;case"resumeIncompleteGame|confirm":this.title=`${this.getTranslatedText("Resume game as")} ${this.playerName}`,this.message=this.getTranslatedText("An incomplete game already exists with this name."),this.buttons=[{text:this.getTranslatedText("No"),type:"default"},{text:this.getTranslatedText("Yes"),type:"confirm"}];break;case"groupInvite.linkExpired|confirm":this.title=this.getTranslatedText("Invite Expired"),this.message=this.getTranslatedText("Sorry, this invite has expired. Please ask your teacher to share a new link."),this.centerText=!0;break;case"groupInvite.linkInvalid|confirm":this.title=this.getTranslatedText("Sorry this class invite link is invalid"),this.message=this.getTranslatedText("Please ask your teacher to send a new link."),this.centerText=!0;break;case"groupInvite.alreadyInGroup|confirm":this.title=this.getTranslatedText("Already joined!"),this.message=this.dialog.options.message,this.centerText=!0;break;case"groupGame.notAMemberOfGamesGroup|confirm":this.title=this.getTranslatedText("You cannot play this game"),this.message=this.getTranslatedText("Please ask your teacher to add you to the correct class.");break;case"groupGame.deletedFromAllGameGroups|confirm":this.title=this.getTranslatedText("You cannot play this game"),this.message=this.getTranslatedText("You were removed from this class.");break;case"groupGame.notAllowedInGameGroups|confirm":this.title=this.getTranslatedText("You cannot play this game"),this.message=this.getTranslatedText("You are not part of the classes this game has been assigned to.");break;case"groupGame.shouldJoinViaLink|confirm":this.title=this.getTranslatedText("Join using the Google Classroom link"),this.message=this.getTranslatedText("You should have received a link to join on Google Classroom. Since this is an assigned game, you will need to use that link to join.");break;case"endChallengeGame|danger":this.title=this.getTranslatedText("End this challenge game?"),this.message=this.getTranslatedText("Not all players have finished their game. Are you sure want to end this game?"),this.buttons=[{text:this.getTranslatedText("NO"),type:"default"},{text:this.getTranslatedText("YES"),type:"danger"}];break;case"game.expired|confirm":this.title="",this.message=`${this.getTranslatedText("You ran out of time")}! ${this.getTranslatedText("This game has expired")}.`;break;case"game.expiredLink|confirm":this.title=this.getTranslatedText("This game link has expired"),this.message="";break;case"game.invalidLink|confirm":this.title=this.getTranslatedText("Invalid game link"),this.message="";break;case"game.invalidCode|confirm":case"user.typedInvalidGameCode|confirm":const t=this.dialog.options.invalidGameCode||"";this.title=this.getTranslatedText("Invalid game code"),this.message=this.getTranslatedText("Recheck the provided game code '{$1}', as it is not valid.",[t]);break;case"game.inTestModeCannotBeReplayed|confirm":this.title="",this.message=this.getTranslatedText("This game cannot be replayed since it was conducted in test mode.");break;case"game.limitAttemptedGameCannotBeReplayed|confirm":this.title="",this.message=this.getTranslatedText("This game cannot be replayed since maximum attempts were limited by the host");break;case"game.noLongerValid|confirm":this.title="",this.message=this.getTranslatedText("Sorry, this game is no longer valid");break;case"game.maxPlayersLimitExceeded|confirm":const n=this.dialog.options.playerLimit||500;this.title="",this.message=this.getTranslatedText("This game has exceeded the {$1} player limit.",[n]);break;case"game.quizModified|confirm":this.title=this.getTranslatedText("A question was edited"),this.message=this.getTranslatedText("Please refresh to view the updated question. Your previous responses have been saved"),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"game.settingsOutOfSync|confirm":this.title=this.getTranslatedText("A Game Setting was changed by the host"),this.message=this.getTranslatedText("Please click refresh for the new setting to be applied"),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"player.attemptsLimitExceeded|confirm":this.title=this.getTranslatedText("Game's attempts limit exceeded"),this.message=this.getGameAttemptsLimitReachedMessage();break;case"player.nicknameAlreadyTaken|confirm":this.title=this.getTranslatedText("Choose another nickname"),this.message=this.getTranslatedText("Oops! Someone already picked that one. Try again.");break;case"player.nameAlreadyTaken|confirm":const r=_.get(this.dialog,"options.showLoggedInMessaging",!1);this.title=this.getTranslatedText("Oops! This name is already taken"),this.buttons=[{text:this.getTranslatedText("Change Name"),type:"confirm"}],r?(this.message=this.getTranslatedText("Please pick another name, or log in to resume a previous attempt."),this.buttons.unshift({text:this.getTranslatedText("Log in "),type:"default"})):this.message=this.getTranslatedText("This name is taken, please try a different name.");break;case"player.cannotJoinAfterGameStarts|confirm":this.title="",this.message=this.getTranslatedText("Participants can’t join after the game starts.");break;case"misc.gameQuestionsNotSupported|confirm":this.title=this.getTranslatedText("An error has occurred"),this.message=this.getTranslatedText("Questions of this game are not supported");break;case"misc.errorAndTryAgain|confirm":this.title="",this.message=this.getTranslatedText("An error has occurred. Please Try Again");break;case"game.notFound|confirm":this.title="",this.message=this.getTranslatedText("This game does not exist.");break;case"game.notRunning|confirm":this.title="",this.message=this.getTranslatedText("This game has finished.");break;case"game.retrieveRunningGameDefaultError|confirm":this.title=this.getTranslatedText("Unable to retrieve game"),this.message="";break;case"game.deletePlayer|confirm":this.title="Remove this player?",this.message="Are you sure want to remove this player?",this.buttons=[{text:this.getTranslatedText("NO"),type:"default"},{text:this.getTranslatedText("YES"),type:"danger"}];break;case"quiz.notFound|confirm":this.title=this.getTranslatedText("Quiz not found"),this.message=this.getTranslatedText("This quiz does not exist.");break;case"game.notAllowedToContinue|confirm":this.title="",this.message=this.getTranslatedText("You cannot access this game.");break;case"network.checkInternetConnection|confirm":this.title=this.getTranslatedText("Timed Out"),this.message=`${this.getTranslatedText("Couldn't connect to Quizizz.")} ${this.getTranslatedText("Please check your internet connection and try again.")}`;break;case"network.genericRefreshRequired|confirm":this.title=this.getTranslatedText("Uh oh! Quizizz ran into an error"),this.message=this.getTranslatedText("Please refresh to resolve"),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"proceedGame.networkIssue|confirm":this.title=this.getTranslatedText("Couldn't connect to Quizizz.");const o=this.actionErrorTrace.join(", "),s=this.getNetworkDownlink()?this.getNetworkDownlink():"";this.message=this.getTranslatedText("We were unable to end the game. Please try again. Trace: [{$1}].",[o])+this.getTranslatedText("Network speed: {$2}",[s]),this.buttons=[{text:this.getTranslatedText("Try again"),type:"confirm"}],this.areBtnUppercase=!1;break;case"proceedGame.timeout|confirm":this.title=this.getTranslatedText("Couldn't connect to Quizizz."),this.message=this.getTranslatedText("We were unable to save your response. Please try again."),this.buttons=[{text:this.getTranslatedText("Try again"),type:"confirm"}],this.areBtnUppercase=!1;break;case"proceedGame.defaultError|confirm":this.title=this.getTranslatedText("Uh oh! Quizizz ran into an error"),this.message=this.getTranslatedText("We were unable to save your response. Please try again."),this.buttons=[{text:this.getTranslatedText("Exit"),type:"error"},{text:this.getTranslatedText("Try again"),type:"success"}],this.areBtnUppercase=!1;break;case"flashcard.cannotStart|confirm":this.title=this.getTranslatedText("Cannot start flashcards"),this.message=this.getTranslatedText("Flashcards currently only supports multiple choice questions and this quiz does not contain any.");break;case"game.cannotStartGameOnPrivateQuiz|confirm":this.title=this.getTranslatedText("Cannot start this game"),this.message=this.getTranslatedText("You cannot play solo games on quizzes that are private."),this.message+=this.getTranslatedText(`
 Please login if you are the creator of this quiz.`);break;case"proceedGame.outOfSync|confirm":this.title=this.dialog.options.alreadyAnswered?this.getTranslatedText("Already answered"):this.getTranslatedText("Out of sync"),this.message=this.getTranslatedText("You cannot answer as you are out of sync with the host."),this.dialog.options.canSync&&(this.buttons=[{text:this.getTranslatedText("Sync now"),type:"confirm"}],this.areBtnUppercase=!1);break;case"proceedGame.invalidResponse|confirm":this.title=this.getTranslatedText("Invalid response"),this.message=this.getTranslatedText("Response sent to the server was incorrect. Please try again.");break;case"player.invalidPlayerName|confirm":this.title=this.getTranslatedText("Invalid player name"),this.message=this.getTranslatedText("Name should have less than 25 characters"),this.buttons=[{text:this.getTranslatedText("Reset name"),type:"confirm"}];break;case"lms.assignmentLoginRequired|confirm":this.title=this.getTranslatedText("Invalid assignment link"),this.message=this.getTranslatedText("Please click the link in the assignment on your {$1} portal",[this.dialog.options.lmsName]);break;default:this.title="Exit this dialog",this.message="",this.buttons=[{text:this.getTranslatedText("Exit"),type:"danger"}];break}},onButtonClick(e){_.isFunction(this.dialog.actionCallback)&&(this.dialog.name==="proceedGame.networkIssue|confirm"&&this.emptyActionErrorTrace(),this.dialog.actionCallback(e))},dismiss(){_.get(this.dialog,"options.isDismissible",!1)&&this.toggleDialog()},getGameAttemptsLimitReachedMessage(){const e=this.dialog.options.attemptsLimit;return e>1?this.getTranslatedText("You cannot re-attempt this game, {$1} attempts already used.",[e]):this.getTranslatedText("You cannot re-attempt this game, {$1} attempt already used.",[e])},getNetworkDownlink(){const e=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection||null;return(e==null?void 0:e.downlink)||null}}};function mapActionsToMethods$3(e){return mapActions(["toggleDialog","emptyActionErrorTrace"])}function mapStateToComputed$3(){return mapState({dialog:e=>e.rootReducer.dialog,playerName:e=>e.game.player.playerId,email:e=>e.user.profile.email,actionErrorTrace:e=>e.game.flow.actionErrorTrace})}function _sfc_render$5(e,t,n,r,o,s){const a=resolveComponent("DialogComponent");return openBlock(),createBlock(Transition,{name:"dialog-anim"},{default:withCtx(()=>[createBaseVNode("div",{class:"dialog-container","data-cy":"alert-dialog-box",onClick:t[1]||(t[1]=(...u)=>s.dismiss&&s.dismiss(...u))},[createBaseVNode("div",{ref:"dialogComponent",class:"content",tabindex:"0",onClick:t[0]||(t[0]=withModifiers(()=>{},["stop"]))},[createVNode(a,{title:e.title,message:s.completeMessage,buttons:e.buttons,type:s.dialogType,areBtnUppercase:e.areBtnUppercase,centerText:e.centerText,onOnButtonClick:s.onButtonClick},null,8,["title","message","buttons","type","areBtnUppercase","centerText","onOnButtonClick"])],512)])]),_:1})}const DialogWrapper=_export_sfc(_sfc_main$h,[["render",_sfc_render$5],["__scopeId","data-v-39c60349"]]),Button_vue_vue_type_style_index_0_scoped_ecde26fe_lang="",_hoisted_1$9=["aria-label","disabled"],_sfc_main$g={__name:"Button",props:{onClick:{type:Function,default:()=>()=>{}},buttonStyle:{type:String,default:"default"},ariaLabel:String,size:{type:String},isFloating:{type:Boolean,default:!1},isFullWidth:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},setup(e){const t=e,n=computed(()=>{if(!t.isFloating)return"";switch(t.buttonStyle){case"primary":return"primary-floating";case"success":return"success-floating";case"progress":return"progress-floating";case"error":return"error-floating";default:return"default-floating"}}),r=computed(()=>t.isFullWidth?"full-width":"");return(o,s)=>(openBlock(),createElementBlock("button",{type:"button","aria-label":e.ariaLabel,class:normalizeClass(["btn text-unselectable",[e.buttonStyle,e.size,unref(n),unref(r)]]),disabled:e.isDisabled,onKeyup:s[0]||(s[0]=withKeys((...a)=>e.onClick&&e.onClick(...a),["enter","space"])),onClick:s[1]||(s[1]=(...a)=>e.onClick&&e.onClick(...a))},[renderSlot(o.$slots,"default",{},()=>[createTextVNode("Button")],!0)],42,_hoisted_1$9))}},QButton$1=_export_sfc(_sfc_main$g,[["__scopeId","data-v-ecde26fe"]]),SyncOverlay_vue_vue_type_style_index_0_scoped_ceef516e_lang="",_sfc_main$f={name:"SyncOverlay",components:{QButton:QButton$1},inject:["getTranslatedText"],props:{type:String,isConnected:Boolean,isTrying:Boolean,isResponsesSaved:Boolean},emits:["retrySync","dismiss","exitWithoutSave","refresh"],data(){return{saveTryCount:0}},created(){this.saveTryCount+=1},methods:{tryAgain(){this.saveTryCount+=1,this.$emit("retrySync",this.type)},close(){this.$emit("dismiss",this.type)},exitWithoutSave(){this.$emit("exitWithoutSave",this.type)},refresh(){this.$emit("refresh",this.type)},isPreGameoverState(){return this.type===Constants.SyncOverlayTypes.PRE_GAMEOVER},isOnExitState(){return this.type===Constants.SyncOverlayTypes.ON_EXIT},isOnUnloadState(){return this.type===Constants.SyncOverlayTypes.ON_UNLOAD}}},_withScopeId$4=e=>(pushScopeId("data-v-ceef516e"),e=e(),popScopeId(),e),_hoisted_1$8={class:"sync-overlay-container"},_hoisted_2$7={key:0},_hoisted_3$5={key:1},_hoisted_4$4={key:2},_hoisted_5$3={key:3,class:"message-container"},_hoisted_6$3=_withScopeId$4(()=>createBaseVNode("img",{alt:"Try again",class:"try-again-image",src:"https://cf.quizizz.com/game/img/ui/laptop.png"},null,-1)),_hoisted_7$3={key:0,class:"message-wrapper"},_hoisted_8$3={key:1,class:"message-wrapper"},_hoisted_9$3={key:0,class:"loading-icon"},_hoisted_10$3={class:"try-again-text"},_hoisted_11$3={class:"help-message"},_hoisted_12$3={key:4,class:"message-container"},_hoisted_13$2=_withScopeId$4(()=>createBaseVNode("img",{alt:"In progress",class:"in-progress-image",src:"https://cf.quizizz.com/game/img/ui/laptop-uploading.png"},null,-1)),_hoisted_14$1={class:"message-wrapper"},_hoisted_15$1={class:"message"},_hoisted_16$1=_withScopeId$4(()=>createBaseVNode("span",{class:"loading-icon"},null,-1)),_hoisted_17$1={class:"message-text"},_hoisted_18$1={class:"help-message"},_hoisted_19$1={key:5,class:"message-container"},_hoisted_20$1=_withScopeId$4(()=>createBaseVNode("img",{alt:"In progress",class:"in-progress-image",src:"https://cf.quizizz.com/game/img/ui/laptop-uploading.png"},null,-1)),_hoisted_21$1={class:"message-wrapper"},_hoisted_22$1={key:0};function _sfc_render$4(e,t,n,r,o,s){const a=resolveComponent("QButton");return openBlock(),createElementBlock("div",_hoisted_1$8,[s.isPreGameoverState()?(openBlock(),createElementBlock("h2",_hoisted_2$7,toDisplayString(s.getTranslatedText("You're almost done!")),1)):createCommentVNode("",!0),s.isOnExitState()?(openBlock(),createElementBlock("h2",_hoisted_3$5,toDisplayString(s.getTranslatedText("All your answers are not saved yet")),1)):createCommentVNode("",!0),s.isOnUnloadState()?(openBlock(),createElementBlock("h2",_hoisted_4$4,toDisplayString(s.getTranslatedText("Don't go yet")),1)):createCommentVNode("",!0),!n.isTrying&&!n.isResponsesSaved?(openBlock(),createElementBlock("div",_hoisted_5$3,[_hoisted_6$3,n.isConnected?(openBlock(),createElementBlock("p",_hoisted_7$3,toDisplayString(s.getTranslatedText("Could not save... please try again.")),1)):(openBlock(),createElementBlock("p",_hoisted_8$3,toDisplayString(s.getTranslatedText("Please check your internet connection and try again.")),1)),createVNode(a,{ariaLabel:"Try Again",isFloating:!0,size:"large",buttonStyle:"error",onClick:s.tryAgain},{default:withCtx(()=>[n.isTrying?(openBlock(),createElementBlock("span",_hoisted_9$3)):createCommentVNode("",!0),createBaseVNode("span",_hoisted_10$3,toDisplayString(s.getTranslatedText("Try Again")),1)]),_:1},8,["onClick"]),createBaseVNode("p",_hoisted_11$3,toDisplayString(s.getTranslatedText("Due to network issues, we were unable to save all your answers. Please don’t close the tab till saving completes.")),1),o.saveTryCount>=1&&s.isPreGameoverState()?(openBlock(),createElementBlock("a",{key:2,href:"#",onClick:t[0]||(t[0]=(...u)=>s.refresh&&s.refresh(...u))},toDisplayString(s.getTranslatedText("Refresh and re-attempt")),1)):createCommentVNode("",!0),s.isOnExitState()?(openBlock(),createElementBlock("a",{key:3,href:"#",onClick:t[1]||(t[1]=(...u)=>s.exitWithoutSave&&s.exitWithoutSave(...u))},toDisplayString(s.getTranslatedText("Exit game without saving")),1)):createCommentVNode("",!0),s.isOnExitState()||s.isOnUnloadState()?(openBlock(),createElementBlock("a",{key:4,href:"#",onClick:t[2]||(t[2]=(...u)=>s.close&&s.close(...u))},toDisplayString(s.getTranslatedText("Dismiss")),1)):createCommentVNode("",!0)])):n.isTrying&&!n.isResponsesSaved?(openBlock(),createElementBlock("div",_hoisted_12$3,[_hoisted_13$2,createBaseVNode("p",_hoisted_14$1,[createBaseVNode("span",_hoisted_15$1,[_hoisted_16$1,createBaseVNode("span",_hoisted_17$1,toDisplayString(s.getTranslatedText("Saving your answers...")),1)])]),createBaseVNode("p",_hoisted_18$1,toDisplayString(s.getTranslatedText("Due to network issues, we were unable to save all your answers. Please don’t close the tab till saving completes.")),1),s.isOnExitState()?(openBlock(),createElementBlock("a",{key:0,href:"#",onClick:t[3]||(t[3]=(...u)=>s.exitWithoutSave&&s.exitWithoutSave(...u))},toDisplayString(s.getTranslatedText("Exit game without saving")),1)):createCommentVNode("",!0),s.isOnExitState()||s.isOnUnloadState()?(openBlock(),createElementBlock("a",{key:1,href:"#",onClick:t[4]||(t[4]=(...u)=>s.close&&s.close(...u))},toDisplayString(s.getTranslatedText("Dismiss")),1)):createCommentVNode("",!0)])):!n.isTrying&&n.isResponsesSaved?(openBlock(),createElementBlock("div",_hoisted_19$1,[_hoisted_20$1,createBaseVNode("p",_hoisted_21$1,[createBaseVNode("span",null,toDisplayString(s.getTranslatedText("Answers saved")),1),s.isOnUnloadState()?(openBlock(),createElementBlock("span",_hoisted_22$1,toDisplayString(s.getTranslatedText("You may now close this tab.")),1)):createCommentVNode("",!0)]),createBaseVNode("a",{href:"#",onClick:t[5]||(t[5]=(...u)=>s.close&&s.close(...u))},toDisplayString(s.getTranslatedText("Dismiss")),1)])):createCommentVNode("",!0)])}const SyncOverlay=_export_sfc(_sfc_main$f,[["render",_sfc_render$4],["__scopeId","data-v-ceef516e"]]),Overlay_vue_vue_type_style_index_0_scoped_b6ff164b_lang="",_sfc_main$e={name:"Overlay",components:{SyncOverlay},inject:["getTranslatedText","exitHandler"],data(){return{p_isReloadInProgress:!1,p_shouldReloadNow:!1}},computed:{...mapStateToComputed$2(),...mapGettersToComputed$1(),errorType(){return this.type.split("|")[0]},errReason(){return this.type.split("|")[1]},p_syncIsResponsesSaved(){const e=getQuesIdsForResponseStatus(this.answerResponseStatuses,[Constants.QuestionResponseStatuses.NOT_SENT,Constants.QuestionResponseStatuses.SENDING]);return _.keys(e).length===0},p_syncIsTrying(){const e=getQuesIdsForResponseStatus(this.answerResponseStatuses,[Constants.QuestionResponseStatuses.SENDING]);return _.keys(e).length>0},p_isConnected(){return!this.hasDisconnected},p_isSyncDone(){return!!(this.errorType==="responseUnsynced"&&!this.p_syncIsTrying&&this.p_syncIsResponsesSaved)},errorCode(){const e=this.overlayOptions.errorCode;return e?`#${e}`:""},showContactUsMessaging(){return!this.overlayOptions.hideContactUsMessage}},watch:{errorType(e,t){e==="socketDisconnect"&&t!=="socketDisconnect"&&(this.p_socketRetryTimer=setTimeout(()=>{this.p_shouldReloadNow=!0},4e3))},p_isSyncDone(e,t){if(e&&!t)switch(this.errReason){case Constants.SyncOverlayTypes.PRE_GAMEOVER:this.p_removeOverlayAfterTimeout(4e3,()=>{this.endQuestionsAndMoveOn()});break;case Constants.SyncOverlayTypes.ON_EXIT:const n=r=>{r===0?(this.toggleOverlay(),this.toggleDialog()):r===1&&(this.toggleOverlay(),this.exitHandler())};this.toggleDialog({name:"exitGame|danger",actionCallback:n});break;case Constants.SyncOverlayTypes.ON_UNLOAD:this.toggleOverlay()}}},mounted(){this.saveCurrentContext(),this.errorType==="responseUnsynced"&&this.p_onSyncRetry()},beforeUnmount(){this.p_socketRetryTimer&&clearTimeout(this.p_socketRetryTimer),this.overlayDismissTimer&&clearTimeout(this.overlayDismissTimer)},methods:{...mapActionsToMethods$2(),_onOverlayDismissed(e=!1){e?setTimeout(this.exitHandler,0):this.exitHandler(),this.toggleOverlay()},_reloadHandler(){this.p_isReloadInProgress||(this.p_isReloadInProgress=!0,this.reloadFromNetworkIssue())},p_onSyncDismiss(e){switch(this.overlayDismissTimer&&clearTimeout(this.overlayDismissTimer),e){case Constants.SyncOverlayTypes.PRE_GAMEOVER:this.endQuestionsAndMoveOn();case Constants.SyncOverlayTypes.ON_EXIT:case Constants.SyncOverlayTypes.ON_UNLOAD:this.toggleOverlay()}},p_onSyncExitWithoutSave(e){this._onOverlayDismissed(!0)},p_onSyncRetry(e){this.handleProceedingGame({})},p_removeOverlayAfterTimeout(e=2e3,t=()=>{}){this.overlayDismissTimer=setTimeout(()=>{this.toggleOverlay(),t()},e)},p_refresh(){this.reloadFromNetworkIssue(!1)},dismissOverlay(){this.toggleOverlay()}}};function mapActionsToMethods$2(){return mapActions(["saveCurrentContext","requestToChangePage","toggleDialog","toggleOverlay","handleProceedingGame","reloadFromNetworkIssue","endQuestionsAndMoveOn"])}function mapStateToComputed$2(){return mapState({socketConnected:e=>e.applicationContext.socketConnected,selectedLanguage:e=>e.appSettings.selectedLanguage,deviceOrientation:e=>e.applicationContext.deviceInfo.orientation,playerEmail:e=>e.user.profile.email,isValidRoom:e=>e.game.flow.isValidRoom,isIncompleteGamePresent:e=>!isEmpty(e.game.player.lastGamePlayed),socketDisconnectedManually:e=>e.applicationContext.socketDisconnectedManually,roomHash:e=>e.game.data.roomHash,type:e=>e.overlay.type,overlayOptions:e=>e.overlay.options,answerResponseStatuses:e=>e.game.questions.questionResponseStatuses})}function mapGettersToComputed$1(){return mapGetters({hasDisconnected:"hasDisconnected"})}const _withScopeId$3=e=>(pushScopeId("data-v-b6ff164b"),e=e(),popScopeId(),e),_hoisted_1$7={class:"overlay-wrapper"},_hoisted_2$6={key:0,class:"overlay overlay-rejoin-in-progress"},_hoisted_3$4=_withScopeId$3(()=>createBaseVNode("div",{class:"image-container animated pulse infinite"},[createBaseVNode("img",{src:"https://cf.quizizz.com/game/img/ui/rejoin_game.png",alt:"ufo"})],-1)),_hoisted_4$3={class:"text-container"},_hoisted_5$2={key:1,class:"overlay overlay-rejoin-in-progress"},_hoisted_6$2=_withScopeId$3(()=>createBaseVNode("div",{class:"image-container animated pulse infinite"},[createBaseVNode("img",{src:"https://cf.quizizz.com/game/img/ui/rejoin_game.png",alt:"ufo"})],-1)),_hoisted_7$2=_withScopeId$3(()=>createBaseVNode("div",{class:"text-container"}," Starting your game… ",-1)),_hoisted_8$2=_withScopeId$3(()=>createBaseVNode("div",{class:"text-container"}," Get your friends ready! ",-1)),_hoisted_9$2=[_hoisted_6$2,_hoisted_7$2,_hoisted_8$2],_hoisted_10$2={key:2,class:"overlay overlay-socket-disconnect"},_hoisted_11$2={class:"text-container"},_hoisted_12$2=_withScopeId$3(()=>createBaseVNode("br",null,null,-1)),_hoisted_13$1={key:0,class:"text-container"},_hoisted_14=_withScopeId$3(()=>createBaseVNode("br",null,null,-1)),_hoisted_15=_withScopeId$3(()=>createBaseVNode("br",null,null,-1)),_hoisted_16=_withScopeId$3(()=>createBaseVNode("br",null,null,-1)),_hoisted_17={key:1,class:"btn-wrapper"},_hoisted_18={key:3,class:"overlay overlay-socket-connect-error"},_hoisted_19={class:"title-container"},_hoisted_20=_withScopeId$3(()=>createBaseVNode("div",{class:"image-container"},[createBaseVNode("img",{src:"https://cf.quizizz.com/game/img/ui/disconnect.png",alt:"gamepad"})],-1)),_hoisted_21={class:"text-container"},_hoisted_22={key:0,href:"https://www.quizizz.com/check",target:"_blank",class:"link"},_hoisted_23={class:"btn-wrapper"},_hoisted_24={key:4,class:"overlay overlay-rejoin-error"},_hoisted_25=_withScopeId$3(()=>createBaseVNode("div",{class:"image-container"},[createBaseVNode("img",{src:"https://cf.quizizz.com/game/img/ui/invalid_game.png",alt:"avocado"})],-1)),_hoisted_26={class:"text-container"},_hoisted_27={key:0},_hoisted_28={key:1},_hoisted_29={key:2},_hoisted_30={key:3},_hoisted_31={key:4},_hoisted_32={key:5,class:"error-code"},_hoisted_33=_withScopeId$3(()=>createBaseVNode("br",null,null,-1)),_hoisted_34=_withScopeId$3(()=>createBaseVNode("br",null,null,-1)),_hoisted_35=_withScopeId$3(()=>createBaseVNode("br",null,null,-1)),_hoisted_36={class:"btn-wrapper"},_hoisted_37={key:0,class:"overlay overlay-orientation-unsupported"},_hoisted_38=_withScopeId$3(()=>createBaseVNode("div",{class:"image-container"},[createBaseVNode("img",{alt:"Rotate device",src:"https://quizizz.com/_media/questions/ab733438-90a4-4a9e-838b-bc35fe4c3b6e"})],-1)),_hoisted_39={class:"text-container"},_hoisted_40=_withScopeId$3(()=>createBaseVNode("div",{class:"text-large"}," Please rotate your device ",-1)),_hoisted_41=_withScopeId$3(()=>createBaseVNode("div",{class:"text-small"}," We don't support landscape mode. Please go back to portrait mode for best experience ",-1)),_hoisted_42={class:"overlay overlay-sync"};function _sfc_render$3(e,t,n,r,o,s){const a=resolveComponent("SyncOverlay");return openBlock(),createElementBlock("div",_hoisted_1$7,[s.errorType==="rejoinProgress"?(openBlock(),createElementBlock("div",_hoisted_2$6,[_hoisted_3$4,createBaseVNode("div",_hoisted_4$3,toDisplayString(s.getTranslatedText("Joining"))+"... ",1)])):createCommentVNode("",!0),s.errorType==="createGroupGameProgress"?(openBlock(),createElementBlock("div",_hoisted_5$2,_hoisted_9$2)):createCommentVNode("",!0),s.errorType==="socketDisconnect"?(openBlock(),createElementBlock("div",_hoisted_10$2,[createBaseVNode("div",_hoisted_11$2,[createBaseVNode("div",null,[createBaseVNode("span",null,toDisplayString(s.getTranslatedText("Trying to reconnect...")),1),_hoisted_12$2,createBaseVNode("span",null,"( "+toDisplayString(s.getTranslatedText("Please check your internet connection"))+" )",1),s.errorCode?(openBlock(),createElementBlock("div",_hoisted_13$1,[_hoisted_14,s.showContactUsMessaging?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_15,createTextVNode(" "+toDisplayString(s.getTranslatedText("If the issue persists please share a screenshot at"))+" student-support@quizizz.com ",1)],64)):createCommentVNode("",!0),_hoisted_16,createTextVNode(" Error code - "+toDisplayString(s.errorCode),1)])):createCommentVNode("",!0),o.p_shouldReloadNow?(openBlock(),createElementBlock("div",_hoisted_17,[createBaseVNode("div",{class:"reload-btn",onClick:t[0]||(t[0]=(...u)=>s._reloadHandler&&s._reloadHandler(...u))},toDisplayString(s.getTranslatedText("Reload")),1)])):createCommentVNode("",!0)])])])):createCommentVNode("",!0),s.errorType==="socketConnectError"||s.errorType==="serverNotReachable"?(openBlock(),createElementBlock("div",_hoisted_18,[createBaseVNode("div",_hoisted_19,toDisplayString(s.getTranslatedText("Could not connect to quizizz")),1),_hoisted_20,createBaseVNode("div",_hoisted_21,toDisplayString(s.getTranslatedText("What to do now?")),1),s.errorType==="socketConnectError"?(openBlock(),createElementBlock("a",_hoisted_22,toDisplayString(s.getTranslatedText("Check for firewall issues")),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_23,[createBaseVNode("div",{class:"reload-btn",onClick:t[1]||(t[1]=(...u)=>s._reloadHandler&&s._reloadHandler(...u))},toDisplayString(s.getTranslatedText("Reload")),1)])])):createCommentVNode("",!0),s.errorType==="rejoinError"?(openBlock(),createElementBlock("div",_hoisted_24,[_hoisted_25,createBaseVNode("div",_hoisted_26,[s.errReason==="ROOM_EXPIRED"?(openBlock(),createElementBlock("span",_hoisted_27,toDisplayString(s.getTranslatedText("Sorry, this game has expired")),1)):createCommentVNode("",!0),s.errReason==="ROOM_STOPPED"||s.errReason==="ROOM_COMPLETED"||s.errReason==="ROOM_NOT_FOUND"?(openBlock(),createElementBlock("span",_hoisted_28,toDisplayString(s.getTranslatedText("Sorry, this game is no longer valid")),1)):createCommentVNode("",!0),s.errReason==="PLAYER_NOT_FOUND"||s.errReason==="PLAYER_DELETED"?(openBlock(),createElementBlock("span",_hoisted_29,toDisplayString(s.getTranslatedText("You were kicked out of this game")),1)):createCommentVNode("",!0),s.errReason==="MISC"?(openBlock(),createElementBlock("span",_hoisted_30,toDisplayString(s.getTranslatedText("An error has occurred."))+" "+toDisplayString(s.getTranslatedText("Please try again.")),1)):createCommentVNode("",!0),s.errReason==="NETWORK"?(openBlock(),createElementBlock("span",_hoisted_31,toDisplayString(s.getTranslatedText("Couldn't connect to Quizizz."))+" "+toDisplayString(s.getTranslatedText("Please check your internet connection and try again.")),1)):createCommentVNode("",!0),s.errorCode?(openBlock(),createElementBlock("span",_hoisted_32,[_hoisted_33,s.showContactUsMessaging?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_34,createTextVNode(" "+toDisplayString(s.getTranslatedText("If the issue persists please share a screenshot at"))+" student-support@quizizz.com ",1)],64)):createCommentVNode("",!0),_hoisted_35,createTextVNode(" Error code - "+toDisplayString(s.errorCode),1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_36,[createBaseVNode("div",{class:"back-home-btn",onClick:t[2]||(t[2]=(...u)=>s._onOverlayDismissed&&s._onOverlayDismissed(...u))},toDisplayString(s.getTranslatedText("Back to home")),1)])])):createCommentVNode("",!0),createVNode(Transition,{name:"anim-overlay-unsupported",appear:"",enterActiveClass:"animated zoomIn anim-300-duration",leaveActiveClass:"animated zoomOut anim-300-duration"},{default:withCtx(()=>[s.errorType==="orientationUnsupported"?(openBlock(),createElementBlock("div",_hoisted_37,[_hoisted_38,createBaseVNode("div",_hoisted_39,[_hoisted_40,_hoisted_41,createBaseVNode("div",{class:"text-large dismiss-btn",onClick:t[3]||(t[3]=(...u)=>s.dismissOverlay&&s.dismissOverlay(...u))}," Dismiss ")])])):createCommentVNode("",!0)]),_:1}),createBaseVNode("div",_hoisted_42,[s.errorType==="responseUnsynced"?(openBlock(),createBlock(a,{key:0,type:s.errReason,isResponsesSaved:s.p_syncIsResponsesSaved,isTrying:s.p_syncIsTrying,isConnected:s.p_isConnected,onDismiss:s.p_onSyncDismiss,onExitWithoutSave:s.p_onSyncExitWithoutSave,onRetrySync:s.p_onSyncRetry,onRefresh:s.p_refresh},null,8,["type","isResponsesSaved","isTrying","isConnected","onDismiss","onExitWithoutSave","onRetrySync","onRefresh"])):createCommentVNode("",!0)])])}const Overlay$1=_export_sfc(_sfc_main$e,[["render",_sfc_render$3],["__scopeId","data-v-b6ff164b"]]),Root_vue_vue_type_style_index_0_lang="",_hoisted_1$6={class:"root-component"},_hoisted_2$5={class:"app-content"},_sfc_main$d={__name:"Root",setup(e){const t=useStore(),n=useGetters(["isApplicationLoaded","currentQuestionNumber"]),r=computed(()=>t.state.applicationContext.callsInProgress),o=computed(()=>t.state.routing.currentPage),s=computed(()=>t.state.game.data.gameState),a=computed(()=>t.state.game.data.gameType),u=computed(()=>t.state.game.data.gameMode),l=computed(()=>t.state.overlay.type),m=computed(()=>t.state.game.data.expiry),y=computed(()=>t.state.game.player.hasJoinedTheGame),d=computed(()=>t.state.rootReducer.modal.type),f=computed(()=>t.state.rootReducer.modal.options),v=computed(()=>t.state.rootReducer.dialog),A=computed(()=>t.state.rootReducer.media);computed(()=>t.state.user.profile.mongoId);const I=computed(()=>Object.values(A.value).join("")),P=computed(()=>(...Se)=>A.value),O=computed(()=>(...Se)=>I.value);provide("getTranslatedDate",le),provide("exitHandler",Ee),provide("replayThisGameHandler",Fe),provide("media",A.value),provide("getMedia",P.value),provide("getDeviceDiscriminator",O.value),provide("deviceProps",computed(()=>A.value));const R=computed(()=>A.value.type===Constants.DeviceType.PHONE),M=computed(()=>{const Se={};return R.value&&(Se.height=`${A.value.visibleViewportHeight}px`),Se}),k=computed(()=>v.value.name!==""),U=computed(()=>t.state.rootReducer.pageLoaderVisible),Q=computed(()=>d.value===Constants.W_MODAL_TYPES.AUTH),B=computed(()=>d.value===Constants.W_MODAL_TYPES.CLASS_CODE),W=computed(()=>d.value===Constants.W_MODAL_TYPES.GROUP_JOIN),Z=computed(()=>checkIfCallInProgress("joinGroup",r.value).isIt),j=computed(()=>checkIfCallInProgress("getGroupInfo",r.value).isIt),J=computed(()=>d.value===Constants.W_MODAL_TYPES.GAME_ASSIGNED_NOTIF),ee=computed(()=>d.value===Constants.W_MODAL_TYPES.IMAGE_ZOOM_PREVIEW),ae=computed(()=>d.value===Constants.W_MODAL_TYPES.CHALLENGE_REPLAY_NOTIF),ne=computed(()=>checkIfCallInProgress("checkRoom",r.value).isIt||checkIfCallInProgress("checkAssignment",r.value).isIt),fe=computed(()=>checkIfCallInProgress("joinRoom",r.value).isIt||checkIfCallInProgress("join",r.value).isIt),ge=computed(()=>ne.value||fe.value);watch(y,(Se,he)=>{Se&&!he&&Ae()}),watch(s,(Se,he)=>{(he===Constants.GameState.RUNNING||he===Constants.GameState.WAITING)&&Se===Constants.GameState.STOPPED&&t.dispatch("requestToChangePage",{to:PageNames.get(PageNames.List.IN_GAME.GAME_OVER)})}),watch(n.isApplicationLoaded,(Se,he)=>{!he&&Se&&pe()}),Le(),onMounted(()=>{y.value&&Ae(),window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"from")),window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"ld")),GlobalEventBus.$on("onSummaryReplayAsyncAction",ke)});function Le(){useAddEventToWindow("mousedown",Ge),useAddEventToWindow("keydown",rt)}function Ge(){document.body.classList.remove("using-keyboard")}function rt(Se){(Se.keyCode===9||Se.keyCode===13)&&document.body.classList.add("using-keyboard")}function me(){t.dispatch("toggleSnackBar")}function pe(){isScreenForInGame(o.value)||De()}n.isApplicationLoaded.value&&pe();function le(Se,he,xe){return getFormattedDate(Se,he,xe)}function De(){const he=new URLParser(window.location.href).query,xe={};he.theme&&Object.values(Constants.ThemeNames).indexOf(he.theme.toLowerCase())!==-1&&(xe.selectedTheme=he.theme.toLowerCase()),he.locale&&Constants.Languages.map(Ve=>Ve.locale).indexOf(he.locale.toLowerCase())!==-1&&(xe.selectedLanguage=he.locale.toLowerCase()),he.music&&(he.music.toLowerCase()==="on"?xe.playMusic=!0:he.music.toLowerCase()==="off"&&(xe.playMusic=!1)),he.sfx&&(he.sfx.toLowerCase()==="on"?xe.playSFX=!0:he.sfx.toLowerCase()==="off"&&(xe.playSFX=!1)),he.memes&&(he.memes.toLowerCase()==="on"?xe.showMemes=!0:he.memes.toLowerCase()==="off"&&(xe.showMemes=!1)),Object.keys(xe).length&&t.dispatch("setAppSettings",xe)}let G=null;function Ee(Se={}){G&&clearTimeout(G);const he=!isEmpty(Se)||PageNames.matches(o.value,PageNames.List.IN_GAME,1);let xe=Se;he&&(isEmpty(xe)&&(xe={name:PageNames.get(PageNames.List.LANDING.HOME)}),isPresentationGame({gameMode:u.value,gameType:a.value})&&a.value===Constants.GameType.LIVE&&(isEmpty(xe.metaData)&&(xe.metaData={}),xe.metaData.query={pgm:Constants.GameMode.PRESENTATION})),t.dispatch("handleExitGame",{redirectTo:xe})}async function Fe(Se,he,xe,He=GameStartSource.get(GameStartSource.List.REPLAY)){G&&clearTimeout(G),await t.dispatch("replayGameFromSummaryPipeline",{gameType:Se,gameMode:he,gameOptions:xe,startSource:He}),t.dispatch("updateIncompleteGame",{})}function Me(){const Se=new Date().getTime(),he=m.value-Se,xe=Math.min(he,3*24*60*60*1e3);G=useAutoClearingSetTimeout(()=>t.dispatch("handleGameExpiry"),xe)}function ze(Se){t.dispatch("onEmailValidation",{email:Se})}function je(Se){t.dispatch("onPhoneNumberValidation",{phoneNumber:Se})}function Te(Se,he,xe,He){t.dispatch("onAuthentication",{username:Se,password:he,shouldAppendRoomCodeToQueryParam:xe,redirectToUrl:He})}function Ke(){f.value.source===Constants.AuthModalActions.REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING&&t.dispatch("resetGame"),f.value.source===Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE&&t.dispatch("requestToChangePage",{to:PageNames.get(PageNames.List.LANDING.HOME)}),de()}function Y(){de()}function te(){de()}function de(){t.dispatch("toggleModal")}function ye(){const Se=Object.assign({},f.value,{authView:f.value.authView==="login"?"signup":"login"});t.dispatch("updateModalOptions",Se)}function Ae(){l.value!=="orientationUnsupported"&&t.dispatch("toggleOverlay"),s.value===Constants.GameState.RUNNING&&a.value===Constants.GameType.ASYNC&&Me()}async function we(Se){const{logInviteAcceptance:he,eventData:xe}=await t.dispatch("afterGroupInviteAcceptancePipeline",{groupInviteData:Se});he&&InHouseEventLogger$1.logEvent(WebEvents.CLASS_INVITE_ACCEPTED,xe)}function Be(Se){(Se.sourceRequest==="checkRoom"||Se.sourceRequest==="checkAssignment")&&t.dispatch("resetGame"),de()}function ke(Se,he,xe){ge.value||(he&&t.dispatch("toggleShowOnceNotification",{id:he}),Se==="accept"?(t.dispatch("clearPreGameQuizInfo"),t.dispatch("handleAssignedGameNotifAcceptance",{gameData:xe,action:Se})):de())}return onMounted(()=>{y.value&&Ae(),window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"from")),window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"ld")),Le()}),(Se,he)=>{const xe=resolveComponent("RouterView");return openBlock(),createElementBlock("div",_hoisted_1$6,[unref(U)?(openBlock(),createBlock(Loading,{key:0})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$5,[createVNode(xe,{media:unref(A)},null,8,["media"]),unref(k)?(openBlock(),createBlock(DialogWrapper,{key:0})):createCommentVNode("",!0),unref(l)?(openBlock(),createBlock(Overlay$1,{key:1})):createCommentVNode("",!0),unref(Q)?(openBlock(),createBlock(Modal,{key:2,stackToBottom:!1,onCloseModal:Ke},{body:withCtx(()=>[createVNode(AuthModal,{media:unref(A),isAuthenticated:unref(t).state.user.profile.isAuthenticated,validationStatus:unref(t).state.user.profile.emailValidationStatus,validationStatusPhone:unref(t).state.user.profile.phoneNumberValidationStatus,options:unref(f),requestCountry:unref(t).state.applicationContext.requestCountry,onOnValidateEmail:ze,onOnValidatePhoneNumber:je,onOnCloseAuthModal:Ke,onOnAuthenticateUser:Te,onOnChangeAuthView:ye},null,8,["media","isAuthenticated","validationStatus","validationStatusPhone","options","requestCountry"])]),_:1})):createCommentVNode("",!0),unref(W)?(openBlock(),createBlock(Modal,{key:3,stackToBottom:!1},{body:withCtx(()=>[createVNode(GroupJoinModal,{userFirstName:unref(t).state.user.profile.firstName,userLastName:unref(t).state.user.profile.lastName,userIsUnderAge:unref(t).state.user.profile.isUnderAge,userParentEmail:unref(t).state.user.profile.parentEmail,groupInfo:unref(t).state.groups.inviteGroupInfo,isGroupJoinInProgress:unref(Z),isGetGroupInfoInProgress:unref(j),options:unref(f),onInviteAccepted:we,onInviteDeclined:Be},null,8,["userFirstName","userLastName","userIsUnderAge","userParentEmail","groupInfo","isGroupJoinInProgress","isGetGroupInfoInProgress","options"])]),_:1})):createCommentVNode("",!0),unref(B)?(openBlock(),createBlock(Modal,{key:4,stackToBottom:!1,focusContainer:!1,onCloseModal:Y},{body:withCtx(()=>[createVNode(ClassCodeModal,{onOnCloseClassCodeModal:Y})]),_:1})):createCommentVNode("",!0),unref(J)?(openBlock(),createBlock(Modal,{key:5,stackToBottom:!1},{body:withCtx(()=>[createVNode(GameAssignedNotifModal$1,{options:unref(f),isCheckOrJoinRoomInProgress:unref(ge),onOnAction:ke},null,8,["options","isCheckOrJoinRoomInProgress"])]),_:1})):createCommentVNode("",!0),unref(ae)?(openBlock(),createBlock(Modal,{key:6,stackToBottom:!1},{body:withCtx(()=>[createVNode(ChallengeReplayNotifModal,{options:unref(f)},null,8,["options"])]),_:1})):createCommentVNode("",!0),unref(ee)?(openBlock(),createBlock(Modal,{key:7,transition:"fade",stackToBottom:!1,acquireFullHeight:!0,modalMaskContainerStyle:unref(M),onCloseModal:te},{body:withCtx(()=>[createVNode(ImageZoomPreview,{options:unref(f),media:unref(A),onOnDismissPreview:te},null,8,["options","media"])]),_:1},8,["modalMaskContainerStyle"])):createCommentVNode("",!0),unref(t).state.rootReducer.snackBar.isVisible?(openBlock(),createBlock(SnackBar,mergeProps({key:8},unref(t).state.rootReducer.snackBar.options,{onHideSnackBar:me}),null,16)):createCommentVNode("",!0)])])}}},Page404_vue_vue_type_style_index_0_scoped_3a4b75c3_lang="",_withScopeId$2=e=>(pushScopeId("data-v-3a4b75c3"),e=e(),popScopeId(),e),_hoisted_1$5={class:"flex min-w-full min-h-screen items-center justify-center pt-6 container"},_hoisted_2$4={class:"m-auto flex-view flex-column content"},_hoisted_3$3=_withScopeId$2(()=>createBaseVNode("div",{class:"my-0 mx-auto image-container"},[createBaseVNode("img",{class:"w-full max-w-4xl",src:"https://cf.quizizz.com/img/misc/404/locker_optim_900.gif",alt:"OOPS"})],-1)),_hoisted_4$2={class:"text-center text"},_hoisted_5$1={class:"text-xl mt-11"},_hoisted_6$1={class:"flex justify-center w-full"},_hoisted_7$1={class:"w-4/5 sm:w-2/6"},_hoisted_8$1={class:"text-sm mt-5"},_hoisted_9$1=_withScopeId$2(()=>createBaseVNode("div",{role:"link",alt:"Back to Home",class:"h-12 w-12 p-1 rounded my-3 mx-auto cursor-pointer text-light text-3xl text-center btn"},[createBaseVNode("i",{class:"icon-far-home"})],-1)),_hoisted_10$1={class:"w-4/5 sm:w-2/6"},_hoisted_11$1={class:"text-sm mt-5"},_hoisted_12$1=_withScopeId$2(()=>createBaseVNode("a",{href:"https://quizizz.zendesk.com/hc/en-us/articles/213118929-How-can-I-contact-Quizizz-"},[createBaseVNode("div",{role:"link",alt:"Contact Us",class:"h-12 w-12 p-1 rounded my-3 mx-auto cursor-pointer text-light text-3xl text-center btn"},[createBaseVNode("i",{class:"icon-far-envelope"})])],-1)),_sfc_main$c={__name:"Page404",setup(e){const t=inject("getTranslatedText");return(n,r)=>{const o=resolveComponent("RouterLink");return openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$4,[_hoisted_3$3,createBaseVNode("div",_hoisted_4$2,[createBaseVNode("h2",_hoisted_5$1,toDisplayString(unref(t)("Sorry, we can't find the page you're looking for"))+". ¯\\_(ツ)_/¯ ",1),createBaseVNode("div",_hoisted_6$1,[createBaseVNode("div",_hoisted_7$1,[createBaseVNode("h3",_hoisted_8$1,toDisplayString(unref(t)("Back to Home")),1),createVNode(o,{to:"/join"},{default:withCtx(()=>[_hoisted_9$1]),_:1})]),createBaseVNode("div",_hoisted_10$1,[createBaseVNode("h3",_hoisted_11$1,toDisplayString(unref(t)("Contact Us")),1),_hoisted_12$1])])])])])}}},Page404=_export_sfc(_sfc_main$c,[["__scopeId","data-v-3a4b75c3"]]),LegacyGameOptionsCorrespondingValues={showAnswers:[{if:1,for:[2,3],then:e=>e?Constants.GameOptionsValues.ShowAnswers.ALWAYS:Constants.GameOptionsValues.ShowAnswers.PARTIAL}],studentQuizReview:[{if:1,for:[2,3],then:e=>e?Constants.GameOptionsValues.StudentQuizReview.YES:Constants.GameOptionsValues.StudentQuizReview.NO}],timer:[{if:1,for:[3],then:e=>e?Constants.GameOptionsValues.Timer.CLASSIC:Constants.GameOptionsValues.Timer.OFF}]};function serverGameOptionsCooker(e={},t=!1){const n=getDefaultedGameOptions(e,!0,t),r={},o={},s=_.keys(n);for(let a=0;a<s.length;a++){const u=s[a],l=u.split("_"),m=l[0],y=_.toNumber(l[1])||1;y<=Constants.ALLOWED_VERSION_OF_GAME_SETTINGS&&(!r[m]||y>=o[m])&&(r[m]=n[u],o[m]=y)}return _.forEach(o,(a,u)=>{if(!_.has(LegacyGameOptionsCorrespondingValues,u))return;const m=_.filter(LegacyGameOptionsCorrespondingValues[u],{if:a});if(isEmpty(m))return;const y=_.find(LegacyGameOptionsCorrespondingValues[u],I=>_.includes(I.for,Constants.ALLOWED_VERSION_OF_GAME_SETTINGS));QLogger$1.invariant(!isEmpty(y),`serverGameOptionsCooker: No corresponding value exist for game option ${u} when version received is ${a} and supported version is ${Constants.ALLOWED_VERSION_OF_GAME_SETTINGS}`);const d=getDefaultGameOptions(),f=y.then(r[u]);let v;_.forEach(_.orderBy(y.for,Number,"desc"),I=>{const P=d[`${u}_${I}`];if(!_.isNil(P))return v=P,!1});const A=typeof f==typeof v;QLogger$1.invariant(A,`serverGameOptionsCooker: corresponding value(${f}) is not valid for game option ${u} when version received is ${a} and supported version is ${Constants.ALLOWED_VERSION_OF_GAME_SETTINGS}`),r[u]=A?f:v}),r}function modifySettingsFromGameOptionsCooker(e,t,n){var u,l,m,y;const r={},{appSettings:o,game:s}=e,a={};return o.showMemes&&_.isBoolean(n.memes)&&(r.showMemes=n.memes,n.memes===!1&&(a.showMemes=o.showMemes)),o.playMusic&&_.isBoolean(n.studentMusic)&&(((l=(u=e==null?void 0:e.game)==null?void 0:u.data)==null?void 0:l.gameMode)===Constants.GameMode.MYSTIC_PEAK?r.playMusic=!0:r.playMusic=n.studentMusic,n.studentMusic===!1&&(a.playMusic=o.playMusic)),o.playSFX&&_.isBoolean(n.studentSFX)&&(r.playSFX=n.studentSFX),_.includes(t.themesAllowedToUser,o.selectedTheme)||(((y=(m=e==null?void 0:e.game)==null?void 0:m.data)==null?void 0:y.gameMode)===Constants.GameMode.MYSTIC_PEAK?r.selectedTheme=Constants.ThemeNames.MYSTIC_PEAK:r.selectedTheme=Constants.ThemeNames.CLASSIC,a.selectedTheme=o.selectedTheme),s.questions.slidesFlowControlType===Constants.SlidesFlowControlTypes.NONE&&(r.readAloud=!1,a.readAloud=o.readAloud),{changedSettings:r,appSettingsToRevert:a}}function getMemeSetResponseCooker(e,t,n){const r={};return _(n).groupBy("type").forEach((o,s)=>{r[s]=_.shuffle(_.map(o,a=>a.finalURL))}),{createdBy:_.get(n[0],"createdBy",""),memeSet:r,responses:_.map(t.allOrderedResponses,o=>o.isCorrect),questionsCount:t.totalQuestionsInGame}}function getQuizInfoFromServerCooker(e){const t=e.data||e||{};let n=null;return t.stats&&t.stats.totalQuestions&&t.stats.totalCorrect&&(n=Math.floor(t.stats.totalCorrect/t.stats.totalQuestions*100)),{quizId:t.quizId||"",quizName:t.name||"",grade:t.grade,subjects:t.subjects,image:t.image,accuracy:n,quizCreator:t.creator,isQuizPublic:_.isBoolean(t.visibility)?t.visibility:!0}}function preGameQuizDataCooker(e,t,{data:n,creatorPrivileges:r,contestId:o,embedMode:s}){const{routing:a}=e,u=n.quiz,l=isEmpty(u.info)?n.draft:u.info,m=_.get(a,"pageMetaData.source",GameStartSource.get(GameStartSource.List.PRE_GAME_SCREEN)),y=isEmpty(t.startSource)?m:t.startSource,d=getQuizType({type:u.type,traits:l.traits}),f=_.get(u,"info.questions",[]),v=isEmpty(y)?GameStartSource.get(GameStartSource.List.PRE_GAME_SCREEN):y,A=f.map(O=>({type:O.type})),I={quizName:l.name,image:l.image||"",creator:{...u.createdBy,privileges:r||{}},numberOfQuestions:f.length,quizId:u._id,quizSubjects:l.subjects,quizTraits:l.traits,quizType:d,questionVersions:A};return{currentGameData:{gameState:Constants.GameState.COMPLETED},currentQuizData:I,screenOpenSource:v,soloLinkReferrer:t.soloLinkReferrerId||"",contestId:o,embedMode:s}}function gclInfoCooker(e){const t=_.get(e,"items[0].groupsInfo"),n={isLMSGame:!1,gclToken:"",groupId:"",courseId:"",lmsName:""};return t&&(_.isBoolean(t.hasGCL)&&t.hasGCL===!0&&(n.isLMSGame=!0),n.gclToken=_.get(t,"gclToken",""),n.courseId=_.get(t,"gcl[0].gclCourseId",""),n.groupId=_.get(t,"gcl[0].groupId",""),n.lmsName=_.get(t,"gcl[0].lmsName","gcl")),n}function preGameRunningQuizInfoCooker(e,t={}){let n={},r="",o="",s="";const a=_.get(e.items[0],"currentQuestionIndex",-1);e.groupAssignedTotal>0?(n=e.groupAssignedItems[0].gamesAttempted[0],r=e.groupAssignedItems[0].quizInfo.quizId):e.items.length>0&&(n=e.items[0].gamesAttempted[0],r=e.items[0].quizInfo.quizId),n.attempts[0]&&n.attempts[0].playerId&&(o=n.attempts[0].playerId),n.gameInfo.gameType===Constants.GameType.SOLO?s=e.quizzes[r].creator.id:s=n.gameInfo.host.id;const u=e.users[s]||{},l=n.gameInfo.lmsInfo||t||{};let m=!1;_.isBoolean(n.gameInfo.hasLMSAttempts)&&n.gameInfo.hasLMSAttempts?m=!0:_.isBoolean(l.isLMSGame)&&(m=l.isLMSGame);const y=_.get(n,"gameInfo.numQuestions"),d=_.get(n,"gameInfo.assignmentTitle");let f=0;_.isNumber(y)&&y>0?f=y:_.isNumber(e.quizzes[r].numOfQuestions)&&(f=e.quizzes[r].numOfQuestions),isEmpty(l)||(l.roomHash=n.gameInfo.roomHash,l.roomCode=n.gameInfo.gameCode);const v=_.get(e.quizzes[r],"creator.id","");let A={};v&&(A=e.users[v]||{});const I=n.attempts;isEmpty(I[0])||(I[0].currentQuestionIndex=a),_.forEach(I,R=>{R.roomHash=n.gameInfo.roomHash});const P={host:u,groupData:{type:n.gameInfo.groupType||Constants.GameGroupType.NONE,ids:n.gameInfo.groupIds||[],dueDate:n.gameInfo.dueDate||"",assignmentTitle:d},dueDate:n.gameInfo.dueDate||"",lmsInfo:l,gameType:n.gameInfo.gameType||"",gameMode:n.gameInfo.gameMode,gameState:n.gameInfo.gameState,isLMSGame:m,roomHash:n.gameInfo.roomHash,roomCode:n.gameInfo.gameCode,gameStartedOn:n.gameInfo.gameCreatedAt,playerId:o,gameHostName:u.fullName||u.username||""},O={quizName:e.quizzes[r].name||"",image:e.quizzes[r].image||"",quizTraits:e.quizzes[r].traits||{},numberOfQuestions:f,quizSubjects:e.quizzes[r].subjects||[],quizId:r,creator:A,quizType:getQuizType(e.quizzes[r])};return{currentAttempts:I,currentGameData:P,currentQuizData:O,screenOpenSource:"direct"}}function lastPlayedGameCooker(e){const t=[{numCorrect:e.numCorrect,numQuestions:e.numQuestions,playerId:e.playerId,numQuesAttempted:e.numQuesAttempted,isOver:_.isBoolean(e.isOver)?e.isOver:!1,gameType:e.gameType,gameMode:e.gameMode||Constants.GameMode.NORMAL}],n={gameType:e.gameType,gameMode:e.gameMode||Constants.GameMode.NORMAL,playerId:e.playerId,roomCode:e.roomCode,roomHash:e.roomHash},r={quizName:e.quizName,quizId:e.quizId,image:e.quizImage,numberOfQuestions:e.numQuestions,quizSubjects:e.subjects};return{currentAttempts:t,currentGameData:n,currentQuizData:r}}function userRunningGameCooker(e,t){const{user:n}=e,r=n.attempts.commonQuizzesData[t.quizInfo.quizId],o=_.get(t,"gamesAttempted[0].gameInfo.host.id");let s={};o&&(s=n.attempts.commonUsersData[o]);const a=[..._.get(t,"gamesAttempted[0].attempts",[])],u=_.get(t,"gamesAttempted[0].gameInfo",{}),l=u.lmsInfo||{},m=u.assignmentTitle,y=_.get(r,"creator.id","");let d="",f={},v=!1;_.isBoolean(u.hasLMSAttempts)&&u.hasLMSAttempts?v=!0:_.isBoolean(l.isLMSGame)&&(v=l.isLMSGame),isEmpty(l)||(l.roomHash=u.roomHash,l.roomCode=u.gameCode),a[0]&&(a[0].playerId&&(d=a[0].playerId),a[0]={...a[0],currentQuestionIndex:_.get(t,"currentQuestionIndex",-1)}),y&&(f=n.attempts.commonUsersData[y]||{});const A={host:s,groupData:{type:u.groupType||Constants.GameGroupType.NONE,ids:u.groupIds||[],dueDate:u.dueDate||"",assignmentTitle:m},lmsInfo:l,gameType:u.gameType||"",gameMode:u.gameMode,gameState:u.gameState,isLMSGame:v,roomHash:u.roomHash,roomCode:u.gameCode,gameStartedOn:u.gameCreatedAt,playerId:d,gameHostName:s&&(s.fullName||s.username)||""},I={quizName:r.name||"",image:r.image||"",quizTraits:r.traits||{},numberOfQuestions:a[0].numQuestions,quizSubjects:r.subjects||[],quizId:t.quizInfo.quizId,creator:f,quizType:getQuizType(r)};return{currentAttempts:a,currentQuizData:I,currentGameData:A}}function soloGameCooker(e,{quizId:t,quizData:n,contestId:r,embedMode:o=!1}){const{routing:s,user:a}=e,u=_.find(a.attempts.completedGames,A=>A.quizInfo&&A.quizInfo.quizId===t),l=_.get(s,"pageMetaData.source",GameStartSource.get(GameStartSource.PRE_GAME_DETAIL));let m=0;_.isNumber(n.numOfQuestions)&&n.numOfQuestions!==0?m=n.numOfQuestions:m=_.get(u,"gamesAttempted[0].attempts[0].numQuestions",0);const y=_.get(n,"creator.id","");let d={};y&&(d=a.attempts.commonUsersData[y]||{});const f={quizName:n.name||"",image:n.image||"",quizTraits:n.traits||{},numberOfQuestions:m,quizSubjects:n.subjects||[],quizId:t,creator:d,quizType:getQuizType(n)},v={gameState:Constants.GameState.COMPLETED};return{screenOpenSource:l,currentQuizData:f,currentGameData:v,contestId:r,embedMode:o}}function isAValidRoomHash(e){return _.isString(e)&&e.length>=Constants.VALID_ROOM_HASH_LENGTH}function handleLMSFlowCooker(e,t){const n=_.get(window,"lmsError")||{},r=_.get(window,"lmsHash")||"";let o=!1,s=null;return isEmpty(n)&&!isEmpty(r)&&(o=!0,s={roomCode:_.get(window,"gameCodeParam"),roomHash:_.get(window,"lmsHash"),lmsName:_.get(window,"lmsName"),courseId:_.get(window,"lmsCourseId")}),{isInValidFlow:o,encodedParam:t,decodedLMSInfo:s,error:n}}function getDefaultGameOptions(e=[]){const t={jumble:!0,jumbleAnswers:!0,showAnswers:!0,showAnswers_2:Constants.GameOptionsValues.ShowAnswers.ALWAYS,studentQuizReview:!0,studentQuizReview_2:Constants.GameOptionsValues.StudentQuizReview.YES,studentLeaderboard:!0,memes:!0,timer:!0,memeset:Constants.DEFAULT_MEME_SET_ID,studentMusic:!0,loginRequired:!1,limitAttempts:0,redemption:Constants.GameOptionsValues.Redemption.NO,nicknameGenerator:!1,mirror:!1,powerups:Constants.GameOptionsValues.Powerups.NO,questionsPerAttempt:0,timer_3:Constants.GameOptionsValues.Timer.CLASSIC};return isEmpty(e)?t:_.pick(t,e)}function getDefaultedGameOptions(e={},t=!1,n=!1){const r=Object.keys(e),o=getDefaultGameOptions(n?r:[]);t&&_.forEach(o,(a,u)=>{(_.toNumber(u.split("_")[1])||1)>1&&delete o[u]});const s=o;return _.forEach(e,(a,u)=>{if(s[u]){const l=typeof a==typeof s[u];QLogger$1.invariant(l,[`getDefaultedGameOptions: given value "${a}" for option "${u}" does not correspond to allowed values`,e]),s[u]=typeof a==typeof s[u]?a:s[u]}else s[u]=a}),s}function getServerConsumableGameOptions(e={}){const t=getDefaultGameOptions(),n=_.keys(t),r=_.filter(n,o=>o.split("_").length>1).map(o=>{const s=o.split("_");return{name:s[0],version:_.toNumber(s[1])||1}});return _.reduce(e,(o,s,a)=>{const u=_.filter(r,{name:a});if(u.length>0){const l=_.maxBy(u,"version").version;o[`${a}_${l}`]=s}else o[a]=s;return o},{})}function getGameDataResponseCooker(e,t){const{id:n,hostId:r,code:o,hostSessionId:s}=t,a=_.get(e,"user.profile.mongoId",""),u=_.get(e,"applicationContext.deviceInfo.quizizzUID",""),l=r&&r===a||s&&s===u;let m={},y=!1;r?m=_.find(t.players,{mongoId:r}):s&&(m=_.find(t.players,{uid:s})),isEmpty(m)||(y=!0);const d=_.get(m,"id","")||_.get(e,"game.player.playerId","");return{roomCode:o,roomHash:n,hostId:r,isUserTheGameHost:l,hasUserJoinedTheGame:y,userPlayerId:d}}async function connectSocketIfNeeded({dispatch:e,rootState:t},n={}){const{applicationContext:r}=t;!r.socketConnected&&r.hasSocketConnectedOnce&&!r.socketDisconnectedManually&&await e("disconnectSocket"),r.socketConnected||await e("connectSocket")}async function rootBeforeEnter(e,t){const n=await $store.dispatch("handleAdminRedirection"),r=$store.state;if(n)return!1;if($store.getters.isApplicationLoaded)return!0;await $store.dispatch("loadApplication",{openingRoute:e});const o=rootBeforeEnterGuardCooker(r,e);if(o.shouldStartAppAuthFlow&&await getAuth(),isEmpty(o.initialGameMetadata)||$store.commit(MutationTypes.SET_INITIAL_GAME_METADATA,o.initialGameMetadata),o.shouldStartGCParamFlow){const{redirectToPreGame:s,preGameRunningComposite:a}=await $store.dispatch("gameCodeQueryParamPipeline",o.gcParamPipelineActionPayload);if(s)return{name:PageNames.get(PageNames.List.PRE_GAME_DETAIL.RUNNING),params:{preGameRunningComposite:a}}}if(o.shouldStartGoogleClassroomFlow){const{redirectToPreGame:s,preGameRunningComposite:a}=await $store.dispatch("googleClassroomParamPipeline",{encodedGCLParam:o.gclParamPiplineActionPayload});if(s)return{name:PageNames.get(PageNames.List.PRE_GAME_DETAIL.RUNNING),params:{preGameRunningComposite:a}}}return!0}async function featuredBeforeEnter(e,t){if(!e.query.class&&!e.query.showGroupJoin)return!0;const n=e.query.showGroupJoin?e.query.t:e.query.class,r=$store.state;if(r.user.profile.isLoggedIn)return $store.dispatch("handleGroupInvite",{token:n,type:Constants.GroupJoinModalTypes.FROM_LINK}),!0;let o=null;if(e.query.class){const s=await $store.dispatch("fetchGroupInfo",{token:n,inviteType:Constants.GroupJoinModalTypes.FROM_LINK});s&&!s.invalidInvite&&(o=r.groups.inviteGroupInfo.groups[0].name)}return $store.dispatch("toggleModal",{type:Constants.W_MODAL_TYPES.AUTH,options:{source:Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK,authView:"signup",title:getTranslatedText("Create an account to join"),skippable:!1,redirect:window.location,classInviteToken:n,tokenType:e.query.showGroupJoin?"t":"class",className:o}}),!0}async function activityBeforeEnter(e,t){const{user:n}=$store.state;return n.profile.isLoggedIn?!0:{name:PageNames.get(PageNames.List.LANDING.HOME)}}async function loginBeforeEnter(e,t){const{user:n}=$store.state;return n.profile.isLoggedIn||$store.dispatch("toggleModal",{type:Constants.W_MODAL_TYPES.AUTH,options:{source:Constants.AuthModalActions.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE,authView:"signup",title:getTranslatedText("You’ll need a free account to join a Class"),redirect:window.location}}),!0}async function activityStartBeforeEnter(e,t){return e.href.match(/^\/join\/contest\/([0-9a-f]{24})$/)?contestStartBeforeEnter(e):quizStartBeforeEnter(e,t)}async function contestStartBeforeEnter(e){var o,s,a,u;const t=(o=e.params)==null?void 0:o.contestId,r=(u=(a=(s=(await getContestData(t)).response)==null?void 0:s.data)==null?void 0:a.game)==null?void 0:u.quizId;r&&(window.location=`/join/contest/${t}/${r}/start?autostart=true`)}async function quizStartBeforeEnter(e,t){const n=_.get(e,"params.quizId"),r=_.get(e,"name","")===PageNames.get(PageNames.List.QUIZ.CHALLENGE),o=_.get(e,"params.roomHash","");if(r&&!o)return{name:PageNames.get(PageNames.List.LANDING.HOME)};try{if(r){const{success:l}=await $store.dispatch("challengeGamePipeline",{roomHash:o,fromRoute:t,quizId:_.get(e,"params.quizId")});return l?!0:{name:PageNames.get(PageNames.List.LANDING.HOME)}}const s=e.path.startsWith("/embed"),{redirectToQuizPage:a,quizId:u}=await $store.dispatch("startSoloFromPreGamePipeline",{quizId:n,toRoute:e,embedMode:s});return!a||isEmpty(n)?eitherGoBackOrRedirectTo(t,{name:PageNames.get(PageNames.List.LANDING.HOME)}):!0}catch(s){return QLogger$1.error("Error at RouteResolver quizStartBeforeEnterResolver",s),{name:PageNames.get(PageNames.List.LANDING.HOME)}}}async function preGameBeforeEnter(e,t){const n=$store.state,r=_.get(e,"params.preGameRunningComposite",""),o=reducePreGameRouteComposite(r),s={roomHash:o.roomHash,playerId:o.playerId,gameState:o.gameState};if(!!!isAValidRoomHash(s.roomHash))return{name:PageNames.get(PageNames.List.LANDING.HOME)};if(s.roomHash){const{redirectToPreGame:u}=await $store.dispatch("runningGamePipeline",{roomHash:s.roomHash,playerId:s.playerId,gameState:s.gameState});if(u)await connectSocketIfNeeded({dispatch:$store.dispatch,rootState:$store.state},{gameType:n.preGameDetail.currentGameData.gameType});else return{name:PageNames.get(PageNames.List.LANDING.HOME)}}return!0}async function inGameBeforeEnter(e,t){const{game:n}=$store.state,r=reduceGameRouteComposite(_.get(e,"params.gameComposite","")),o={roomHash:r.roomHash,playerId:r.playerId,gameType:_.get(e,"query.gameType","")};await connectSocketIfNeeded({dispatch:$store.dispatch,rootState:$store.state},{gameType:o.gameType});const s=!!(isAValidRoomHash(o.roomHash)&&o.playerId);if(n.player.hasJoinedTheGame){if(!s){const l=o.roomHash||n.data.roomHash,m=o.playerId||n.player.playerId,y={gameComposite:buildGameRouteComposite(l,m)},d={gameType:o.gameType||n.data.gameType};return{name:e.name,params:y,query:d}}return!0}s&&o.roomHash===_.get(n.player,"lastGamePlayed.roomHash","")&&(o.gameType=o.gameType||_.get(n.player,"lastGamePlayed.gameType",""));let a=!1,u=null;if(o){const l=GameStartSource.get(GameStartSource.List.REJOIN.PARAM.ROUTE_DATA),m=await $store.dispatch("rejoinOnPageLoad",{gameData:o,startSource:l});a=m.didRejoin,u=m.meta&&m.meta.redirectTo}return a?($store.dispatch("toggleOverlay"),!0):isEmpty(u)?{name:PageNames.get(PageNames.List.LANDING.HOME)}:u}async function searchBeforeEnter(e,t){const n=$store.state,r=_.get(e,"query.languages",[]),o=n.appSettings.selectedLanguage;if(isEmpty(r)&&o==="en"){const s=_.find(Constants.TopLanguages,{code:"en"}).name;return{...e,query:{...e.query,languages:s}}}return!0}function eitherGoBackOrRedirectTo(e,t){return e&&e.name?!1:t}const Featured=()=>__vitePreload(()=>import("./Landing.4ef1fa46.js"),["js/Landing.4ef1fa46.js","js/vue-scrollto.d35218de.js","js/DocumentScroll.d776e1fa.js","js/v1.4f91fe87.js","js/QuizInfo.998b5592.js","js/FeaturedUtils.5f8f0d12.js","js/CurvedEdge.88de9cd1.js","css/CurvedEdge.6f798e34.css","css/QuizInfo.bd8c7878.css","js/AvatarPicker.ffd96d13.js","js/AvatarFactory.265b7d87.js","js/TweenMax.ef9095c4.js","css/AvatarPicker.41875163.css","css/Landing.590d8cec.css"]),Home=()=>__vitePreload(()=>import("./Home.56a50d07.js"),["js/Home.56a50d07.js","js/vue-scrollto.d35218de.js","js/ErrorStates.f2679d9a.js","js/FeaturedUtils.5f8f0d12.js","js/CurvedEdge.88de9cd1.js","css/CurvedEdge.6f798e34.css","js/v1.4f91fe87.js","css/ErrorStates.00d43731.css","js/QuizzesList.6d466fb3.js","css/QuizzesList.883e06de.css","js/Carousel.e26e9400.js","css/Carousel.efadcb38.css","js/QVideo.cf6076bb.js","js/PreGameErrorMessage.5b69089d.js","css/PreGameErrorMessage.d2a36140.css","css/Home.68363c1b.css"]),SearchPage=()=>__vitePreload(()=>import("./SearchPage.a6d3ccee.js"),["js/SearchPage.a6d3ccee.js","js/vue-scrollto.d35218de.js","js/QuizzesList.6d466fb3.js","js/FeaturedUtils.5f8f0d12.js","js/CurvedEdge.88de9cd1.js","css/CurvedEdge.6f798e34.css","css/QuizzesList.883e06de.css","css/SearchPage.eedfc913.css"]),Activity=()=>__vitePreload(()=>import("./Activity.b3c135d9.js"),["js/Activity.b3c135d9.js","js/vue-scrollto.d35218de.js","css/Activity.32319bee.css"]),ActivitySubRouteContainer=()=>__vitePreload(()=>import("./ActivitySubRouteContainer.9ff83f11.js"),["js/ActivitySubRouteContainer.9ff83f11.js","js/ErrorStates.f2679d9a.js","js/FeaturedUtils.5f8f0d12.js","js/CurvedEdge.88de9cd1.js","css/CurvedEdge.6f798e34.css","js/v1.4f91fe87.js","css/ErrorStates.00d43731.css","js/QuizzesList.6d466fb3.js","css/QuizzesList.883e06de.css","css/ActivitySubRouteContainer.6c9b36a5.css"]),AppSettings=()=>__vitePreload(()=>import("./AppSettings.bde580a7.js"),["js/AppSettings.bde580a7.js","js/vue-scrollto.d35218de.js","js/AvatarFactory.265b7d87.js","js/TweenMax.ef9095c4.js","js/ThemeIcon.5d9e66cb.js","css/ThemeIcon.f0e96f94.css","css/AppSettings.afea895b.css"]),RecommendationsPage=()=>__vitePreload(()=>import("./RecommendationsPage.22295ea4.js"),["js/RecommendationsPage.22295ea4.js","js/QuizzesList.6d466fb3.js","js/FeaturedUtils.5f8f0d12.js","js/CurvedEdge.88de9cd1.js","css/CurvedEdge.6f798e34.css","css/QuizzesList.883e06de.css","css/RecommendationsPage.3fea9005.css"]),EventQuizzesPage=()=>__vitePreload(()=>import("./EventQuizzesPage.50afc217.js"),["js/EventQuizzesPage.50afc217.js","js/QuizzesList.6d466fb3.js","js/FeaturedUtils.5f8f0d12.js","js/CurvedEdge.88de9cd1.js","css/CurvedEdge.6f798e34.css","css/QuizzesList.883e06de.css","css/EventQuizzesPage.f2eebeb2.css"]),Classes=()=>__vitePreload(()=>import("./Classes.2afb396f.js"),["js/Classes.2afb396f.js","css/Classes.f7e72fd7.css"]),InGameApp=()=>__vitePreload(()=>import("./InGameApp.a1358adf.js"),["js/InGameApp.a1358adf.js","js/useScreenfull.6e16dfe5.js","js/ThemeSettingsGrid.c09acda9.js","js/TweenMax.ef9095c4.js","js/ThemeIcon.5d9e66cb.js","css/ThemeIcon.f0e96f94.css","js/v1.4f91fe87.js","css/ThemeSettingsGrid.9d9742f3.css","js/FeaturedUtils.5f8f0d12.js","js/DocumentScroll.d776e1fa.js","js/QVideo.cf6076bb.js","js/QuizInfo.998b5592.js","js/CurvedEdge.88de9cd1.js","css/CurvedEdge.6f798e34.css","css/QuizInfo.bd8c7878.css","js/Carousel.e26e9400.js","css/Carousel.efadcb38.css","js/vue-scrollto.d35218de.js","css/InGameApp.6309c061.css"]),PreGameScreen=()=>__vitePreload(()=>import("./PreGameScreen.a09eb6f3.js"),["js/PreGameScreen.a09eb6f3.js","js/vue-scrollto.d35218de.js","js/FeaturedUtils.5f8f0d12.js","js/Carousel.e26e9400.js","css/Carousel.efadcb38.css","js/ThemeIcon.5d9e66cb.js","css/ThemeIcon.f0e96f94.css","js/ThemeSettingsGrid.c09acda9.js","js/TweenMax.ef9095c4.js","js/v1.4f91fe87.js","css/ThemeSettingsGrid.9d9742f3.css","css/PreGameScreen.a1c42ef5.css"]),PreGameSubRouteContainer=()=>__vitePreload(()=>import("./PreGameSubRouteContainer.d159b268.js"),["js/PreGameSubRouteContainer.d159b268.js","js/useScreenfull.6e16dfe5.js","js/DocumentScroll.d776e1fa.js","js/v1.4f91fe87.js","js/PreGameErrorMessage.5b69089d.js","css/PreGameErrorMessage.d2a36140.css","js/AvatarPicker.ffd96d13.js","js/AvatarFactory.265b7d87.js","js/TweenMax.ef9095c4.js","css/AvatarPicker.41875163.css","css/PreGameSubRouteContainer.3dea0717.css"]),EmbedQuiz=()=>__vitePreload(()=>import("./EmbedQuiz.8065704c.js"),["js/EmbedQuiz.8065704c.js","css/EmbedQuiz.3fb875d0.css"]),RoutesConfig=[{path:"/join",name:PageNames.get(PageNames.List),component:_sfc_main$d,[RouterGuardTypes.BEFORE_ENTER]:rootBeforeEnter,meta:{title:`${window.isProJoinRoute?getTranslatedText("Join a Game"):getTranslatedText("Join a Quizizz activity - Enter code - Join my quiz")} - Quizizz`},children:[{path:"",name:PageNames.get(PageNames.List.LANDING),component:Featured,[RouterGuardTypes.BEFORE_ENTER]:featuredBeforeEnter,children:[{path:"",name:PageNames.get(PageNames.List.LANDING.HOME),component:Home,meta:{title:`${window.isProJoinRoute?getTranslatedText("Join a Game"):getTranslatedText("Join a Quizizz activity - Enter code - Join my quiz")} - Quizizz`}},{path:"search/:query?",name:PageNames.get(PageNames.List.LANDING.SEARCH),component:SearchPage,[RouterGuardTypes.BEFORE_ENTER]:searchBeforeEnter,meta:{title:(e,t)=>`${t.params.query||""} ${t.params.query?"-":""} Quizizz Search`,metaTags:[{name:"robots",content:"noindex"}]}},{path:"game-code",name:PageNames.get(PageNames.List.LANDING.GAME_CODE),redirect:{name:PageNames.get(PageNames.List.LANDING.HOME)}},{path:"activity",name:PageNames.get(PageNames.List.LANDING.ACTIVITY),component:Activity,redirect:{name:PageNames.get(PageNames.List.LANDING.ACTIVITY.RUNNING)},[RouterGuardTypes.BEFORE_ENTER]:activityBeforeEnter,children:[{path:Constants.ActivitySubRouteNames.RUNNING,name:PageNames.get(PageNames.List.LANDING.ACTIVITY.RUNNING),props:{forList:Constants.ActivitySubRouteNames.RUNNING},component:ActivitySubRouteContainer,meta:{title:`${getTranslatedText("My Running Activities")} - Quizizz`}},{path:Constants.ActivitySubRouteNames.CREATED,name:PageNames.get(PageNames.List.LANDING.ACTIVITY.CREATED),props:{forList:Constants.ActivitySubRouteNames.CREATED},component:ActivitySubRouteContainer,meta:{title:`${getTranslatedText("My Created Quizzes")} - Quizizz`}},{path:Constants.ActivitySubRouteNames.COMPLETED,name:PageNames.get(PageNames.List.LANDING.ACTIVITY.COMPLETED),props:{forList:Constants.ActivitySubRouteNames.COMPLETED},component:ActivitySubRouteContainer,meta:{title:`${getTranslatedText("My Completed Activities")} - Quizizz`}}]},{path:"settings",name:PageNames.get(PageNames.List.LANDING.APP_SETTINGS),component:AppSettings,meta:{title:`${getTranslatedText("Settings")} - Quizizz`}},{path:"topic/:topicId/:topicSlug",name:PageNames.get(PageNames.List.LANDING.TOPIC_RECOMMENDATIONS),component:RecommendationsPage},{path:"event-quizzes",name:PageNames.get(PageNames.List.LANDING.EVENT_QUIZZES),component:EventQuizzesPage},{path:"class",name:PageNames.get(PageNames.List.LANDING.CLASSES),component:Classes,[RouterGuardTypes.BEFORE_ENTER]:loginBeforeEnter,meta:{title:`${getTranslatedText("Classes")} - Quizizz`}}]},{path:"quiz/:quizId?",name:PageNames.get(PageNames.List.QUIZ),component:PreGameScreen,alias:["presentation/:quizId?/","lesson/:quizId?/","flashcard/:quizId?/","contest/:contestId/","contest/:contestId/:quizId/"],[RouterGuardTypes.BEFORE_ENTER]:activityStartBeforeEnter,children:[{path:"start",name:PageNames.get(PageNames.List.QUIZ.START),props:{subRouteName:Constants.PreGameSubRouteNames.SOLO_START},component:PreGameSubRouteContainer,meta:{title:`${getTranslatedText("Start Playing")} - Quizizz`}},{path:"challenge/:roomHash",name:PageNames.get(PageNames.List.QUIZ.CHALLENGE),props:{subRouteName:Constants.PreGameSubRouteNames.CHALLENGE_START},component:PreGameSubRouteContainer}]},{path:"pre-game",name:PageNames.get(PageNames.List.PRE_GAME_DETAIL),component:PreGameScreen,[RouterGuardTypes.BEFORE_ENTER]:preGameBeforeEnter,children:[{path:"running/:preGameRunningComposite/start",name:PageNames.get(PageNames.List.PRE_GAME_DETAIL.RUNNING),props:{subRouteName:Constants.PreGameSubRouteNames.RUNNING_START},component:PreGameSubRouteContainer,meta:{title:`${getTranslatedText("Start Playing")} - Quizizz`}}]},{path:"game/:gameComposite",name:PageNames.get(PageNames.List.IN_GAME),component:InGameApp,[RouterGuardTypes.BEFORE_ENTER]:inGameBeforeEnter,meta:{title:`${getTranslatedText("Playing a Game")} - Quizizz`}}]},{path:"/embed/quiz/:quizId",name:PageNames.get(PageNames.List.EMBED.QUIZ),alias:["/embed/presentation/:quizId","/embed/lesson/:quizId"],component:_sfc_main$d,[RouterGuardTypes.BEFORE_ENTER]:activityStartBeforeEnter,children:[{path:"",name:PageNames.get(PageNames.List.EMBED.QUIZ),component:EmbedQuiz}]},{path:"/:pathMatch(.*)*",name:PageNames.get(PageNames.List.PAGE_404),component:Page404}];Constants.NodeEnvs.DEV==="production"&&(RoutesConfig[0].redirect={name:PageNames.get(PageNames.List.LANDING.HOME)});const $router=createRouter({history:createWebHistory(window.isProJoinRoute?"/pro/":"/"),routes:RoutesConfig});$router.beforeEach((e,t)=>{var o;document.querySelectorAll("[data-vue-router-controlled-meta-tags]").forEach(s=>(s==null?void 0:s.remove)&&s.remove()),$store.dispatch("startGlobalLoader",{loader:{name:Constants.GlobalLoaderNames.ROUTE_NAVIGATION,meta:{to:getRouteName(e),from:getRouteName(t)}}});const n=e.matched.slice().reverse().find(s=>s.meta&&s.meta.metaTags);let r=(o=n==null?void 0:n.meta)==null?void 0:o.metaTags;r||(r=[]),(e.fullPath.match(/\?gc=/)||e.fullPath.match(/\?c=/))&&(r=[...r,{name:"robots",content:"noindex"}]),r.map(s=>{const a=document.createElement("meta");return Object.keys(s).forEach(u=>{a.setAttribute(u,s[u])}),a.setAttribute("data-vue-router-controlled-meta-tags",""),a}).forEach(s=>{document.head.appendChild(s)})});$router.afterEach((e,t,n)=>{const r=isNavigationFailure(n),o=evaluateTitle(e,t),s=findNavigationLoaders(e,t,$store.state.applicationContext.globalLoaders),a=getQueryParamsToPreserve(e,t);if(!($store.state.routing.navigationType===RouterNavigationTypes.PROGRAMMATIC)){const m=PageNames.isExactly(e.name,PageNames.List.IN_GAME)?$store.state.routing.currentPage:e.name;$store.dispatch("updateCurrentPage",{to:m,metadata:pickMetaDataFromVueRoute(e)})}if(_.forEach(s,l=>{$store.dispatch("endGlobalLoader",{loader:l})}),!r&&o&&(document.title=o),!isEmpty(a)){const l=new URL(window.location.origin+e.fullPath);_.forEach(a,(y,d)=>{l.searchParams.append(d,y)});const m={replace:!0,...e,query:{...e.query,...a}};$router.replace(m)}});function evaluateTitle(e,t){const n=e.meta&&e.meta.title,r=!!n,o=_.isString(n)||_.isFunction(n);if(QLogger$1.invariant(!r||o,[`Router evaluateTitle: invalid title value for route(${e.name})`,n]),!r||!o)return"";if(_.isString(n))return n;if(_.isFunction(n)){const s=n($store.state,e,t),a=_.isString(s);if(QLogger$1.invariant(a,[`Router evaluateTitle: the title function return value is not a string for route${e.name})`,s]),a)return s}return""}function getRouteName(e){return e&&e.name||"unk"}function findNavigationLoaders(e,t,n){return _.filter(n,r=>r.name===Constants.GlobalLoaderNames.ROUTE_NAVIGATION&&r.meta.from===getRouteName(t))}function getQueryParamsToPreserve(e,t){const n="qgParamPreserve",r=t&&t.query||{},o={};if(!_.has(r,n))return o;const s=r[n];try{const a=JSON.parse(s);a.push(n);for(let u=0,l=a.length;u<l;u++){const m=a[u];_.has(r,m)||QLogger$1.warn(`QRouter.getParamsToPreserve: Trying to preserve query param '${m}' that is not in the route`),_.has(e.query,m)||(o[m]=r[m])}return o}catch{return QLogger$1.error(`QRouter.getParamsToPreserve: cannot parse qgParamPreserve as an array. Recieved - ${s}`),o}}function pickMetaDataFromVueRoute(e){return _.pick(e,["path","hash","query","params","append","replace"])}function getInitialState$m(){return{currentPage:PageNames.get(PageNames.List),pageMetaData:null,navigationType:RouterNavigationTypes.NONE}}const getters$h={},mutations$l={[MutationTypes.CHANGE_CURRENT_PAGE](e,t){return t.to&&(e.currentPage=t.to,e.pageMetaData=t.metaData),e},[MutationTypes.UPDATE_NAVIGATION_TYPE](e,t){e.navigationType=t.navigationType}},actions$m={updateCurrentPage({commit:e},{to:t,metaData:n=null}){e(MutationTypes.CHANGE_CURRENT_PAGE,{to:t,metaData:n})},async requestToChangePage({commit:e,dispatch:t,state:n},{to:r,metaData:o=null}){const s=PageNames.matches(n.currentPage,PageNames.List.IN_GAME),a=PageNames.matches(r,PageNames.List.IN_GAME);if(e(MutationTypes.UPDATE_NAVIGATION_TYPE,{navigationType:RouterNavigationTypes.PROGRAMMATIC}),t("updateCurrentPage",{to:r,metaData:o}),t("saveCurrentContext"),a){const u=_.isEqual(n.pageMetaData,o);if(s&&u){e(MutationTypes.UPDATE_NAVIGATION_TYPE,{navigationType:RouterNavigationTypes.NONE});return}await $router.push({name:PageNames.get(PageNames.List.IN_GAME),...o}),e(MutationTypes.UPDATE_NAVIGATION_TYPE,{navigationType:RouterNavigationTypes.NONE});return}await $router.push({name:r,...o}),e(MutationTypes.UPDATE_NAVIGATION_TYPE,{navigationType:RouterNavigationTypes.NONE})},changeToInGamePage({dispatch:e},{to:t,gameData:n={},metaData:r,canChangeRoute:o=!0}){const s={...r};if(n.roomHash&&n.playerId){const u=n.gameType||"",l=buildGameRouteComposite(n.roomHash,n.playerId);s.params={gameComposite:l},s.query={gameType:u}}const a={to:t,metaData:s};return o&&e("requestToChangePage",a),{isInsideGame:!0,...a}}},routing={state:getInitialState$m(),getters:getters$h,mutations:mutations$l,actions:actions$m};function getInitialState$l(){return{showMemes:!0,playMusic:!0,playSFX:!0,readAloud:!1,selectedLanguage:_.find(Constants.Languages,{lang:"English"}).locale,selectedTheme:Constants.ThemeSettings.NEXT_THEME_TO_BE_SET_ONCE,gameHeader:Constants.AppSettingsValues.GAME_HEADER.STANDARD,isThemeAsLucky:!1,currentThemeWhichWasSetOnce:Constants.ThemeSettings.NEXT_THEME_TO_BE_SET_ONCE}}const getters$g={isSetThemeAsLuckyVisible(e,t){return t.themesAllowedToUser.length>=3},isThemeChangeAllowed(e,t,n){return!0},isMemeSettingToggleVisible(e,t,n){const r=n.game.data.gameOptions,o=n.game.data.gameMode,s=n.game.data.gameType,a=_.get(n,"preGameDetail.currentQuizData.quizType",""),u=n.game.data.gameMode===Constants.GameMode.TEACHER_PACED;let l;return isEmpty(a)?l=isPresentationGame({gameMode:o,gameType:s}):l=a===Constants.QuizTypes.PRESENTATION,u||l?!1:isEmpty(r)?!0:r.memes===!0},isMusicSettingToggleVisible(e,t,n){const{game:{data:{gameMode:r,gameType:o}}}=n;return!(o===Constants.GameType.LIVE&&isPresentationGame({gameMode:r,gameType:o}))&&r!==Constants.GameMode.TEACHER_PACED},isReadAloudSettingToggleVisible(e,t,n){const{game:{questions:{slidesFlowControlType:r}}}=n;return r!==Constants.SlidesFlowControlTypes.NONE}},mutations$k={[MutationTypes.SET_APP_SETTINGS](e,t){stateAssigner(e,t)},[MutationTypes.PREVIOUS_CONTEXT_LOADED](e,t){t.appSettings&&(stateAssigner(e,t.appSettings),e.gameHeader=Constants.AppSettingsValues.GAME_HEADER.STANDARD,t.appSettings.isThemeAsLucky&&(e.selectedTheme=_.sample(Constants.ThemeNames)),isValidTheme(e.selectedTheme)||(e.selectedTheme=Constants.ThemeSettings.DEFAULT_THEME,e.currentThemeWhichWasSetOnce=Constants.ThemeSettings.DEFAULT_THEME))},[MutationTypes.SET_CURRENT_LANGUAGE](e,t){e.selectedLanguage=t.selectedLanguage},[MutationTypes.SET_CURRENT_THEME](e,t){e.selectedTheme=t.selectedTheme,e.isThemeAsLucky=t.isThemeAsLucky,e.currentThemeWhichWasSetOnce=isValidTheme(t.currentThemeWhichWasSetOnce)?t.currentThemeWhichWasSetOnce:e.currentThemeWhichWasSetOnce},[MutationTypes.SET_APP_MODES](e,t){t.isAppInProMode===!0&&(e.showMemes=!1)}},actions$l={async setAppSettings({commit:e,state:t,dispatch:n},r={}){const o={...r};"selectedLanguage"in o&&(await n("setCurrentLanguage",{lang:o.selectedLanguage}),delete r.selectedLanguage),"selectedTheme"in o&&t.selectedTheme!==o.selectedTheme&&(await n("setCurrentTheme",{selectedTheme:o.selectedTheme}),delete r.selectedTheme),e(MutationTypes.SET_APP_SETTINGS,{...t,...o})},async setCurrentLanguage({commit:e,dispatch:t},{lang:n}){const r=await translator.setCurrentLanguage(n);return r.success?e(MutationTypes.SET_CURRENT_LANGUAGE,{selectedLanguage:n}):t("toggleSnackBar",{isVisible:!0,options:{message:"Unable to change language, please try again."}}),r},async setCurrentTheme({commit:e,rootState:t,dispatch:n,getters:r},{selectedTheme:o,isThemeAsLucky:s=!1,currentThemeWhichWasSetOnce:a=null}){const u=isValidTheme(o)||s,l=s&&r.isSetThemeAsLuckyVisible;let m;l?m=_.sample(r.themesAllowedToUser):u?m=o:m=Constants.ThemeNames.CLASSIC,QLogger$1.invariant(u,`setCurrentTheme: the theme to set (${o}) is not a valid theme. So instead setting (${m})`),e(MutationTypes.SET_CURRENT_THEME,{selectedTheme:m,isThemeAsLucky:l,currentThemeWhichWasSetOnce:a})}},appSettings={state:getInitialState$l(),getters:getters$g,mutations:mutations$k,actions:actions$l};function getInitialState$k(){return{modal:{type:"",options:{}},dialog:{name:"",options:{},actionCallback:()=>{}},snackBar:{isVisible:!1,options:{}},powerupToast:{isVisible:!1,options:{}},preGameErrorMessage:{name:"",options:{}},stripe:{didScriptLoadSucceed:!1},rejoinedOnPageLoad:!1,rejoinedOnSummaryPage:!1,prevSessionMongoId:"",media:{},pageLoaderVisible:!1}}const mutations$j={[MutationTypes.EXIT_GAME](e,t){const n=["prevSessionMongoId","media","preGameErrorMessage","dialog"];stateResetter(e,getInitialState$k(),n)},[MutationTypes.RESET_GAME](e,t){const n=["prevSessionMongoId","media","preGameErrorMessage","dialog"];stateResetter(e,getInitialState$k(),n)},[MutationTypes.PREVIOUS_CONTEXT_LOADED](e,t){t.prevSessionMongoId&&(e.prevSessionMongoId=t.prevSessionMongoId)},[MutationTypes.SET_DEVICE_MEDIA_DETAILS](e,t){isEmpty(t.media)||(e.media=t.media)},[MutationTypes.W_TOGGLE_MODAL](e,t){e.modal=t},[MutationTypes.W_UPDATE_MODAL_OPTIONS](e,t){e.modal.options=t.options},[MutationTypes.TOGGLE_DIALOG](e,t){e.dialog=t},[MutationTypes.W_TOGGLE_SNACKBAR](e,t){e.snackBar=t},[MutationTypes.W_TOGGLE_POWERUP_TOAST](e,t){e.powerupToast=t},[MutationTypes.REJOINED_ON_PAGE_LOAD](e,t){e.rejoinedOnPageLoad=!0},[MutationTypes.REJOINED_ON_SUMMARY_PAGE](e,t){e.rejoinedOnSummaryPage=!0},[MutationTypes.TOGGLE_PRE_GAME_ERROR_MESSAGE](e,t){e.preGameErrorMessage={name:t.name,options:t.options}},[MutationTypes.TOGGLE_PAGE_LOADER](e,t){e.pageLoaderVisible=t},[MutationTypes.SET_STRIPE_SCRIPT_LOAD_STATUS](e,t){e.stripe.didScriptLoadSucceed=t.status}},actions$k={toggleModal({commit:e},{type:t="",options:n={}}={}){e(MutationTypes.W_TOGGLE_MODAL,{type:t,options:n})},updateModalOptions({commit:e},t={}){e(MutationTypes.W_UPDATE_MODAL_OPTIONS,{options:t})},toggleDialog({commit:e,dispatch:t},{name:n="",actionCallback:r=null,options:o={}}={}){let s=r;r||(s=()=>t("toggleDialog")),e(MutationTypes.TOGGLE_DIALOG,{name:n,options:o,actionCallback:s})},toggleSnackBar({commit:e},{isVisible:t=!1,options:n={}}={}){if(t){e(MutationTypes.W_TOGGLE_SNACKBAR,{isVisible:!1,options:{}}),_.delay(()=>e(MutationTypes.W_TOGGLE_SNACKBAR,{isVisible:t,options:n}));return}e(MutationTypes.W_TOGGLE_SNACKBAR,{isVisible:t,options:n})},togglePowerupToast({commit:e,state:t},{isVisible:n=!1,options:r={}}={}){if(n){e(MutationTypes.W_TOGGLE_POWERUP_TOAST,{isVisible:!1,options:{}}),_.delay(()=>e(MutationTypes.W_TOGGLE_POWERUP_TOAST,{isVisible:n,options:r}));return}e(MutationTypes.W_TOGGLE_POWERUP_TOAST,{isVisible:n,options:r})},togglePreGameErrorMessage({commit:e},{name:t="",options:n={}}={}){e(MutationTypes.TOGGLE_PRE_GAME_ERROR_MESSAGE,{name:t,options:n})},async rejoinOnPageLoad({commit:e,dispatch:t},n){const r=await t("rejoinAnyGame",n);return e(MutationTypes.REJOINED_ON_PAGE_LOAD),r},togglePageLoader({commit:e},t=!1){e(MutationTypes.TOGGLE_PAGE_LOADER,t)},setStripeScriptLoadStatus({commit:e},{status:t}){e(MutationTypes.SET_STRIPE_SCRIPT_LOAD_STATUS,{status:t})}},rootReducer={state:getInitialState$k(),getters:{},mutations:mutations$j,actions:actions$k};function getInitialState$j(){return{type:"",options:{}}}const mutations$i={[MutationTypes.SET_OVERLAY_TYPE](e,t){e.type=t.type||"",e.options=t.options||{}},[MutationTypes.S_CONNECT_SUCCESS](e,t){const n=e.type.split("|");n[0]!=="lmsLinkDecode"&&n[0]!=="responseUnsynced"&&(e.type=getInitialState$j().type,e.options=getInitialState$j().options)}},actions$j={toggleOverlay({commit:e},{type:t="",options:n={}}={}){e(MutationTypes.SET_OVERLAY_TYPE,{type:t,options:n})}},overlay={state:getInitialState$j(),getters:{},mutations:mutations$i,actions:actions$j};class OnboardingUtils{hasKey(t){const n=LocalStorage$1.getItem("q_onboarding_data",{parseFromJSON:!0});return!!(n&&n[t])}getOnboardingKey(t){const n=LocalStorage$1.getItem("q_onboarding_data",{parseFromJSON:!0});return n&&n[t]?n[t]:{}}setOnboardingKey(t,n=!1){let r=LocalStorage$1.getItem("q_onboarding_data",{parseFromJSON:!0});isEmpty(r)&&(r={}),r[t]&&!n?r[t].count+=1:r[t]={count:0},r[t].lastUpdated=new Date,LocalStorage$1.setItem("q_onboarding_data",r,{storeAsJSON:!0})}getTimeElapsedSinceLastUpdate(t,{unit:n}){const r=Date.now()-new Date(t);return n==="hour"?Math.ceil(r/(1e3*60*60)):n==="day"?differenceInCalendarDays(Date.now(),new Date(t)):r}}const OnboardingUtils$1=new OnboardingUtils;function getInitialState$i(){return{email:"",firstName:"",lastName:"",name:"",userName:"",photoUrl:"",courses:[],mongoId:"",gradeList:[],favSubjects:[],language:"",occupation:"",selectedAvatar:-1,isUnderAge:!1,parentEmail:"",groupIds:[],totalStats:{},dob:null,groupsData:{},country:"",createdAt:"",currentPlanStatus:{},organization:"",paidOrganization:"",organizationRole:"",phoneNumber:"",google:{},microsoft:{},lmsInfo:{gcl:{},edmodo:{},canvas:{},schoology:{}},isLoggedIn:!1,emailValidationStatus:{isValidatingEmail:!1,isValidatedEmail:!1,error:""},phoneNumberValidationStatus:{isValidatingEmail:!1,isValidatedEmail:!1,error:""},hasPassword:!0,isAuthenticated:{isAuthenticatingUser:!1,isAuthenticatedUser:!1,error:""},themeStreak:{},subscriptions:[],isTeacherOnJoin:!1}}const getters$f={themesAllowedToUser(e,t,n){const{gameMode:r,gameType:o}=n.game.data,{currentQuizData:s}=n.preGameDetail,a=isPresentationGame({gameMode:r,gameType:o})||s.quizType===Constants.QuizTypes.PRESENTATION;if(!t.isUserInThemeStreakExperiment||a)return[Constants.ThemeNames.CLASSIC];const u=[];return e.themeStreak.count,_.forEach(Constants.ThemeNames,l=>{!doesThemeRequireHallPass(l)&&(!doesThemeRequireLogin(l)||e.isLoggedIn)&&l!==Constants.ThemeNames.MYSTIC_PEAK&&u.push(l)}),u},isCorporateUser(e,t){return _.includes(e.occupation,"corporate")},isSuperUser(e,t){if(!e.isLoggedIn||t.isCorporateUser)return!1;const n=getUsersSubscription(e.subscriptions,e.occupation);return!isEmpty(n)},isUserInThemeStreakExperiment(e,t,n){const r=_.includes(n.game.data.hostOccupation,"corporate");return!n.applicationContext.isAppInProMode&&!t.isCorporateUser&&!r},canThemeBeUnlockedToday(e,t){if(isEmpty(e.themeStreak))return!1;if(e.themeStreak.count===0)return!0;const n=new Date(e.themeStreak.lastUpdated),r=new Date;return!(differenceInCalendarDays(r,n)<8&&r.getDay()-n.getDay()===0)},defaultThemesAvailable(){return[Constants.ThemeNames.CLASSIC,Constants.ThemeNames.SYNTHWAVE]},hasUserIntegratedLMS:e=>t=>{const n=e.lmsInfo[t];return!isEmpty(n)}},mutations$h={[MutationTypes.SET_GROUPS_LIST](e,t){e.groupsData=t.groups},[MutationTypes.USER_SIGNED_IN](e,t){!t||isEmpty(t.user)||(stateAssigner(e,t.user),e.isUnderAge=!!t.user.isUnderAge,e.selectedAvatar=t.user.selectedAvatar>=0?t.user.selectedAvatar:-1,e.totalStats=t.user.totalStats||getInitialState$i().totalStats,e.isLoggedIn=!0)},[MutationTypes.USER_SIGNED_OUT](e,t){stateResetter(e,getInitialState$i())},[MutationTypes.PROFILE_INFO_UPDATED](e,t){e.userName=t.userName,e.firstName=t.firstName,e.lastName=t.lastName,e.photoUrl=t.photoUrl||e.photoUrl,e.gradeList=t.gradeList,e.favSubjects=t.favSubjects,e.language=t.language,e.selectedAvatar=t.selectedAvatar>=0?t.selectedAvatar:getInitialState$i().selectedAvatar,e.name=t.name},[MutationTypes.SAVE_AVATAR_RESPONDED](e,t){e.selectedAvatar=t.selectedAvatar},[MutationTypes.EMAIL_VALIDATION_IN_PROGRESS](e,t){e.emailValidationStatus={isValidatingEmail:!0,isValidatedEmail:!1,error:""}},[MutationTypes.PHONE_VALIDATION_IN_PROGRESS](e,t){e.phoneNumberValidationStatus={isValidatingPhoneNumber:!0,isValidatedPhoneNumber:!1,error:""}},[MutationTypes.PHONE_VALIDATION_COMPLETED](e,t){e.phoneNumberValidationStatus={isValidatingPhoneNumber:!1,isValidatedPhoneNumber:t.isValidatedPhoneNumber,error:t.error}},[MutationTypes.EMAIL_VALIDATION_COMPLETED](e,t){e.emailValidationStatus={isValidatingEmail:!1,isValidatedEmail:t.isValidatedEmail,error:t.error}},[MutationTypes.AUTHENTICATION_IN_PROGRESS](e,t){e.isAuthenticated={isAuthenticatingUser:!0,isAuthenticatedUser:!1,error:""}},[MutationTypes.AUTHENTICATION_COMPLETED](e,t){e.isAuthenticated={isAuthenticatingUser:!1,isAuthenticatedUser:t.isAuthenticatedUser,error:t.error}},[MutationTypes.JOIN_GROUP_RESPONDED](e,t){e.groupIds=t.updatedGroupIds,e.firstName=t.user.firstName||e.firstName,e.lastName=t.user.lastName||e.lastName,e.name=t.user.name||e.name,e.parentEmail=t.user.parentEmail||e.parentEmail},[MutationTypes.COURSE_DETAILS_POPULATED](e,t){e.courses=t.courses||e.courses},[MutationTypes.SET_THEME_STREAK](e,t){e.themeStreak=t}},actions$i={async loadUser({rootState:e,commit:t,dispatch:n}){const r=isRunningPrototypingServerLocally();let o={},s={};if(!r)s=loadUserFromWindowCooker(e);else try{const a=await getCurrentUserData();a.response&&(o=a.response.data.user,s=loadUserFromAPICooker(o))}catch(a){QLogger$1.log("Error while fetching user data in loadUser",a)}if(s.shouldSignOutFirst&&t(MutationTypes.USER_SIGNED_OUT),!isEmpty(s.userData)){s.shouldSignOutFirst,s.shouldSetAppLanguage&&await n("setCurrentLanguage",{lang:s.selectedLanguage}),t(MutationTypes.USER_SIGNED_IN,{user:s.userData}),s.shouldSaveUserAvatar&&n("saveAvatar",{selectedAvatar:s.userData.selectedAvatar});try{const a=s.userData.courses,{response:u}=await getCourses({ids:a}),l=u.data.courses,m=await getGroups(),y=_.get(m,"response.data",{});t(MutationTypes.SET_GROUPS_LIST,{groups:y}),t(MutationTypes.COURSE_DETAILS_POPULATED,{courses:l})}catch(a){QLogger$1.error("Error at action loadUser",a)}n("connectSocketForNotification")}},logoutCurrentUser({commit:e,rootState:t,dispatch:n}){const{game:r}=t;e(MutationTypes.USER_SIGNED_OUT),e(MutationTypes.CLEAR_INCOMPLETE_GAME),r.flow.isValidRoom&&r.data.isClassroomGame&&n("handleExitGame",{redirectTo:{name:PageNames.get(PageNames.List.LANDING.HOME)}}),n("saveCurrentContext")},logoutUser({dispatch:e},{windowAction:t}){e("logoutCurrentUser"),setTimeout(()=>{switch(t){case"redirect":window.location.href=`/auth/logout?q=${URLConfig.getAppBaseUrl()}`;break;case"reload":default:window.location.reload(!0);break}},300)},deleteUser(){window.location.href="/delete-account"},async updateUserProfileInfo({commit:e,rootState:t,getters:n},{itemsBeingUpdated:r=[]}={}){const o=updateUserProfileInfoCooker(r);try{const{response:s}=await updateUserInfo(o.requestData),a=updateUserInfoResponseCooker(t,n,s,o.propsBeingUpdated);return a.status!=="success"?void 0:(e(MutationTypes.PROFILE_INFO_UPDATED,a.updatedProps),a.shouldUpdatePlayerId&&e(MutationTypes.UPDATE_PLAYER_NAME,a.playerIdUpdateMutationPayload),a)}catch(s){return QLogger$1.error("Error at action updateUserProfileInfo",s),{updatedProps:{},status:"failed",message:getTranslatedText("An error has occurred, please try again.")}}},async featureFlags(){try{const{response:e}=await featureFlags();return e.data}catch(e){return QLogger$1.error("Error at fetching featureFlags",e),{features:{},status:"failed",message:getTranslatedText("An error has occurred, please try again.")}}},async convertUserToTeacher(){var e,t;try{const n={deviceType:(t=(e=window==null?void 0:window.navigator)==null?void 0:e.userAgentData)!=null&&t.mobile?"mobile":"desktop",OS:getBrowserName(),medium:"join-modal"},{response:r}=await updateUserInfo({occupation:"teacher",isTeacherOnJoin:!1,platformSource:n});InHouseEventLogger$1.logEvent(WebEvents.TEACHER_ONBOARDING_MODAL_CONVERTED)}catch(n){return InHouseEventLogger$1.logEvent(WebEvents.TEACHER_ONBOARDING_MODAL_FAILED),QLogger$1.error("Error at action convertUserToTeacher",n),{updatedProps:{},status:"failed",message:getTranslatedText("An error has occurred, please try again.")}}},async saveAvatar({commit:e},{selectedAvatar:t}){try{t=+t;const{response:n}=await saveAvatarForUser(t);e(MutationTypes.SAVE_AVATAR_RESPONDED,{selectedAvatar:t})}catch(n){QLogger$1.error("Error at action saveAvatar",n)}},async changePasswordForUser({dispatch:e},{newPassword:t,oldPassword:n}){let r={};try{const s={newPassword:t};n&&(s.oldPassword=n);const{response:a}=await changeUserPassword(s);r=changeUserPasswordCooker("success",a)}catch(s){QLogger$1.error("Error at action changePasswordForUser",s),r=changeUserPasswordCooker("failed",s)}if(!r.changeSuccessful){const s=getTranslatedText("There was an error in updating password. Please try again!");return e("toggleSnackBar",{isVisible:!0,options:{message:s}}),r}const o=getTranslatedText("Password updated successfully!");return e("toggleModal"),e("toggleSnackBar",{isVisible:!0,options:{message:o}}),r},async onEmailValidation({commit:e},{email:t}){e(MutationTypes.EMAIL_VALIDATION_IN_PROGRESS);let n=!1,r="";try{const{response:o}=await isEmailAvailable(t);o.data.avail===!0?n=!0:r=getTranslatedText("Account already exists, please login")}catch(o){getResponseErrorType(o)==="user.VALIDATION"&&(r=getTranslatedText("Please enter a valid email"))}e(MutationTypes.EMAIL_VALIDATION_COMPLETED,{isValidatedEmail:n,error:r})},async onPhoneNumberValidation({commit:e},{phoneNumber:t}){e(MutationTypes.PHONE_VALIDATION_IN_PROGRESS);let n=!1,r="";try{const{response:o}=await isPhoneNumberAvailable(t);o.data.avail===!0?n=!0:r=getTranslatedText("Account already exists, please login")}catch(o){getResponseErrorType(o),r=getTranslatedText("Please enter a valid phone number"),InHouseEventLogger$1.logEvent(WebEvents.INVALID_PHONENUMBER,{phoneNumber:t})}e(MutationTypes.PHONE_VALIDATION_COMPLETED,{isValidatedPhoneNumber:n,error:r})},async onAuthentication({commit:e,rootState:t,dispatch:n},{username:r,password:o,shouldAppendRoomCodeToQueryParam:s=!1,redirectToUrl:a=""}={}){if(isRunningPrototypingServerLocally()){n("onAuthenticationWhenPrototyping",{username:r,password:o,shouldAppendRoomCodeToQueryParam:s,redirectToUrl:a});return}e(MutationTypes.AUTHENTICATION_IN_PROGRESS);try{const{response:u}=await loginUser(r,o),l=loginUserResponseCooker(t,u,s,a);l.redirectToHREF&&setTimeout(()=>{window.location.href=decodeURIComponent(l.redirectToHREF)},500),l.shouldReload&&setTimeout(()=>{window.location.reload()},500),e(MutationTypes.AUTHENTICATION_COMPLETED,l.mutationPayload)}catch(u){const{errorText:l}=await n("handleOnAuthenticationErrors",u);e(MutationTypes.AUTHENTICATION_COMPLETED,{isAuthenticatedUser:!1,error:l})}},async onAuthenticationWhenPrototyping({commit:e,rootState:t,dispatch:n},{username:r,password:o,shouldAppendRoomCodeToQueryParam:s=!1,redirectToUrl:a=""}={}){if(isRunningPrototypingServerLocally()){e(MutationTypes.AUTHENTICATION_IN_PROGRESS);try{const{response:u}=await loginUserWhenPrototyping(r,o),l=loginUserResponseCooker(t,u,s,a),m=u.data[PrototypingConstants.COOKIE_NAME]||"";LocalStorage$1.setItem(PrototypingConstants.LOCALSTORAGE_KEY,m),l.redirectToHREF&&setTimeout(()=>{window.location.href=decodeURIComponent(l.redirectToHREF)},500),l.shouldReload&&setTimeout(()=>{window.location.reload()},500),e(MutationTypes.AUTHENTICATION_COMPLETED,l.mutationPayload)}catch(u){const{errorText:l}=await n("handleOnAuthenticationErrors",u);e(MutationTypes.AUTHENTICATION_COMPLETED,{isAuthenticatedUser:!1,error:l})}}},handleOnAuthenticationErrors({state:e},t){QLogger$1.error("Error at action onAuthentication",t);const n=getResponseErrorType(t);let r="";switch(n){case"user.NO_AUTH":r=getTranslatedText("Invalid password");break;case"user.NOT_FOUND":r=getTranslatedText("User not found");break;default:r=_.get(t,"response.message","User not found")}return{errorText:r}},async ifCanThenUpdateUsername({state:e,dispatch:t},{usernameToBe:n}){if(e.userName===n)return{status:Constants.CallResolveStatuses.FAILED,message:getTranslatedText("The username provided is same as your current.")};try{const{response:r}=await isUserNameAvailable(n);return r.data.avail?await t("updateUserProfileInfo",{itemsBeingUpdated:[{prop:"userName",data:n}]}):{status:Constants.CallResolveStatuses.FAILED,message:_.get(r,"data.err",getTranslatedText("An Error has occurred, please try again."))}}catch(r){return QLogger$1.error("Error at action ifCanThenUpdateUsername",r),{status:Constants.CallResolveStatuses.FAILED,message:_.get(r,"response.message",getTranslatedText("An Error has occurred, please try again."))}}},async ifCanThenUpdateName({state:e,dispatch:t},{firstName:n,lastName:r}){if(e.firstName===n&&e.lastName===r)return{status:Constants.CallResolveStatuses.FAILED,message:getTranslatedText("The name provided is same as your current.")};try{return await t("updateUserProfileInfo",{itemsBeingUpdated:[{prop:"firstName",data:n},{prop:"lastName",data:r}]})}catch(o){return QLogger$1.error("Error at action ifCanThenUpdateName",o),{status:Constants.CallResolveStatuses.FAILED,message:getTranslatedText("An error has occurred, please try again.")}}},updateThemeStreak({dispatch:e,commit:t,getters:n}){if(!n.isUserInThemeStreakExperiment)return;let r=!1;if(!OnboardingUtils$1.hasKey(Constants.OnboardingKeys.THEME_STREAK))OnboardingUtils$1.setOnboardingKey(Constants.OnboardingKeys.THEME_STREAK),r=!0;else{const o=OnboardingUtils$1.getOnboardingKey(Constants.OnboardingKeys.THEME_STREAK),s=OnboardingUtils$1.getTimeElapsedSinceLastUpdate(o.lastUpdated,{unit:"day"});s===1||o.count===0?(OnboardingUtils$1.setOnboardingKey(Constants.OnboardingKeys.THEME_STREAK),r=!0):(s>1||s<0)&&(OnboardingUtils$1.setOnboardingKey(Constants.OnboardingKeys.THEME_STREAK,!0),r=!0)}if(r){const o=OnboardingUtils$1.getOnboardingKey(Constants.OnboardingKeys.THEME_STREAK);t(MutationTypes.SET_THEME_STREAK,o);const s=themeStreakNotificationCooker(o);e("togglePowerupToast",{isVisible:!0,options:s})}},setThemeStreak({dispatch:e,commit:t,getters:n}){if(!n.isUserInThemeStreakExperiment)return;if(!OnboardingUtils$1.hasKey(Constants.OnboardingKeys.THEME_STREAK))OnboardingUtils$1.setOnboardingKey(Constants.OnboardingKeys.THEME_STREAK);else{const o=OnboardingUtils$1.getOnboardingKey(Constants.OnboardingKeys.THEME_STREAK),s=OnboardingUtils$1.getTimeElapsedSinceLastUpdate(o.lastUpdated,{unit:"day"});(s>1||s<0)&&OnboardingUtils$1.setOnboardingKey(Constants.OnboardingKeys.THEME_STREAK,!0)}const r=OnboardingUtils$1.getOnboardingKey(Constants.OnboardingKeys.THEME_STREAK);t(MutationTypes.SET_THEME_STREAK,r)},async handleAuthTokenRefresh(){try{await refreshAuthToken()}catch(e){QLogger$1.error("Error at action refreshAuthToken",e),window.location.reload()}}},profile={state:getInitialState$i(),getters:getters$f,mutations:mutations$h,actions:actions$i};function getUsersSubscription(e,t){const n=_.filter(e,r=>{const o=_.get(r,"tags.occupation",["none"]);return _.includes(o,t)});return n.length===0?{}:n[n.length-1]}function searchResponseCooker(e){const t=e.data&&e.data.total||0;let n=[];return e.data&&Array.isArray(e.data.hits)&&(n=_.map(e.data.hits,r=>constructQuizItemFromData(r))),{result:n,total:t,searchService:e.meta.service,searchVersion:e.meta.version}}function featuredSearchResponseCooker(e){const t=e.length;return{result:_.shuffle(_.map(e,r=>constructQuizItemFromData(r))),total:t}}function quizRecommendationResponseCooker(e){const t=_.map(e.data.quizzes,s=>({id:s._id,name:s.info.name,image:s.info.image,numQuestions:s.stats.totalQuestions,playCount:s.stats.totalPlayers,quizData:null,isSuper:s.isSuper,type:s.type})),n=_.get(e,"data.version",""),r=_.get(e,"data.timeTaken",""),o=_.get(e,"data.experiment","");return{list:t,version:n,timeTaken:r,experiment:o}}function similarQuizzesResponseCooker(e){const t=_.map(e.data.quizzes,s=>({id:s._id,name:s.info.name,image:s.info.image,numQuestions:s.stats.totalQuestions,playCount:s.stats.totalPlayers,quizData:null})),n=_.get(e,"data.version",""),r=_.get(e,"data.timeTaken",""),o=_.get(e,"data.experiment","");return{list:t,version:n,timeTaken:r,experiment:o}}function constructQuizItemFromData(e,t=!1){const n=[],r=e.info.questions,o=e.createdBy,s=t?constructNameOfUser(o,!1,""):formFullName$1(e.createdBy),a=e.stats||{};for(let u=0;u<3&&u<r.length;u++)r[u]&&(n[u]={...r[u].structure.query});return{quizId:e._id,name:e.info.name,image:e.info.image,subjects:e.info.subjects||null,grades:e.info.grade||null,topics:e.info.topics,isProfane:e.info.isProfane,isWhitelisted:e.info.whitelisted,visibility:e.info.visibility,createdAt:e.createdAt&&new Date(e.createdAt)||null,lovedByUser:e.isLoved||null,questions:n,numQuestions:r.length,isInDraft:!isEmpty(e.draft),type:getQuizType(e),creator:{id:_.get(e,"createdBy._id")||null,image:_.get(e,"createdBy.media")||null,occupation:_.get(e,"createdBy.occupation")||null,username:_.get(e,"createdBy.username")||null,fullName:s,privileges:_.get(e,"creatorPrivileges",{})},stats:{love:e.love,totalGamesStarted:a.played,avgAccuracy:_.round(a.totalCorrect/a.totalQuestions,2),totalPlayersJoined:a.totalPlayers}}}function recomendationGetQuizDataResponseCooker(e,t){const n=e.data.quiz,r=constructQuizItemFromData(n),o=r.quizId,s=t.quizRecommendations,a=_.findIndex(s,u=>u.id===o);return s[a]={...s[a],quizData:r},{forQuizId:o,currentRecomendations:s,quizData:r}}function searchQuizzesCooker({rootState:e,searchText:t,from:n,pageSize:r,gradesFilter:o,subjectFilter:s,languageFilter:a,questionNumRange:u,metaData:l}){const{search:{queryDetails:m},user:y,applicationContext:d}=e,f=[],v=l||{};let A=[!1];const I={query:t,id:"",source:m.source};if(t!==""&&(t!==m.query||isEmpty(m.id)?I.id=constructSearchQueryId(y.profile.mongoId):I.id=m.id),!isEmpty(u)){const P=u.split(",");f.push(_.toNumber(P[0])||null),f.push(_.toNumber(P[1])||null)}return y.profile.isLoggedIn&&!y.profile.isUnderAge&&(A=[!0,!1]),I.id&&(v.queryId=I.id),v.clientType=d.clientType,v.source=I.source,{requestArgs:{searchText:t,from:n,pageSize:r,gradesFilter:o,subjectFilter:s,languageFilter:a,questionNumRange:f,profaneFilter:A,metaDataToUse:v},mutationPayload:{queryDetails:I}}}function featuredRecommendationsResponseCooker(e){let t=[];return e.success&&e.data.sections.length&&(t=[...e.data.sections],_.each(t,n=>{n.quizzes=_.map(n.quizzes,r=>_.assign(constructQuizItemFromData(r),{numQuestions:_.get(r,"stats.numQuestions",0)}))})),{recommendedSections:t}}function featuredTopicRecommendationsResponseCooker(e){let t={};return e.success&&!isEmpty(e.data)&&(t=e.data,t.quizzes=_.map(t.quizzes,n=>{const r=constructQuizItemFromData(n);return _.assign(r,{numQuestions:_.get(n,"stats.numQuestions",r.numQuestions)}),r})),{recommendedTopicData:t}}function formFullName$1(e){return(isUserATeacher(e.occupation)&&e.title&&`${e.title} `||"")+constructNameOfUser(e,!1,"")}function constructSearchQueryId(e,t){return`${e||_.floor(Math.random()*Number.MAX_SAFE_INTEGER)}-${Date.now()}`}function fetchGamesListCooker(e,t,n,r){const o=e==="runningGames"?t.totalRunningGames:t.totalCompletedGames,s=e==="runningGames"?t.runningGames:t.completedGames,a=o>-1,u=_.isNumber(r)?r:s.length,l=a&&s.length>=o;return{hasBeenFetchedEvenOnce:a,startAt:u,hasAllListBeenFetched:l,pageSize:n}}function runningGamesListResponseCooker(e,t,n){const r=e.items.length;let o=0;const s={};let a=[],u=[];const l={};_.forEach(e.quizzes,(d,f)=>{l[f]=getListQuiz(d)}),_.forEach(e.users,(d,f)=>{s[f]=getListUser(d)});const m=[],y=[];return _.forEach(e.items,(d,f)=>{d.isGroupAssigned===!0?y.push(d):m.push(d)}),a=mapRunningGamesItems(m,!1),u=mapRunningGamesItems(y,!0),o=u.length,{items:_.orderBy(a,d=>returnWhatToOrderAgainst(d.gamesAttempted[0]),"desc"),groupAssignedItems:_.orderBy(u,d=>returnWhatToOrderAgainst(d.gamesAttempted[0]),"desc"),quizzes:l,users:s,total:r,groupAssignedTotal:o,pageSize:t,startAt:n}}function completedGamesListResponseCooker(e,t,n){const r=e.total,o={},s=[],a={};return _.forEach(e.items,u=>{const l=Array.isArray(u.latestAttempts)?u.latestAttempts[0]:u.latestAttempts,m=[{attempts:[getAttemptItem(l),u.quizInfo],gameInfo:getGameItem(l,Constants.GameState.COMPLETED,[u.latestAttempts])}],y={quizInfo:null,numAttempts:u.numAttempts,areAllAttemptsFetched:!1,gamesAttempted:m,totalPossibleMarks:u.totalPossibleMarks};u.quizInfo&&(y.quizInfo={quizId:u.quizInfo.quizId,verId:u.quizInfo.versionId,traits:u.quizInfo.traits},a[u.quizInfo.quizId]=getListQuiz(u.quizInfo)),l.host&&l.host.userId&&(o[l.host.userId]=getListUser(l.host)),s.push(y)}),{items:_.orderBy(s,u=>returnWhatToOrderAgainst(u.gamesAttempted[0]),"desc"),quizzes:a,users:o,total:r,pageSize:t,startAt:n}}function allQuizAttemptsResponseCooker(e,t){const n=t.quizInfo.quizId,r=[...e.completedGames],o=_.findIndex(r,a=>a.quizInfo.quizId===n),s=_.map(t.games,a=>{const u=_.map(a.attempts,m=>getAttemptItem(m,a,t.quizInfo));return{gameInfo:getGameItem(a,Constants.GameState.COMPLETED,a.attempts),attempts:_.orderBy(u,"dateJoined","desc")}});return r[o]={...r[o],gamesAttempted:_.orderBy(s,returnWhatToOrderAgainst,"desc"),numAttempts:t.numAttempts,areAllAttemptsFetched:!0},{forQuizId:n,updatedCompletedGames:r,didLatestGameHaveLimitedAttempts:r[o].gamesAttempted[0].gameInfo.options.limitAttempts>0}}function setRecentActivityListCooker(e=[],t=[]){let n=[];for(let r=0;r<e.length&&r<Constants.RecentActivityConfig.MAX_RUNNING_GAMES&&n.length<Constants.RecentActivityConfig.MAX_ATTEMPTS;r++)n.push({list:"running",index:r,data:_.clone(e[r])});for(let r=0;r<t.length&&r<Constants.RecentActivityConfig.MAX_COMPLETED_GAMES&&n.length<Constants.RecentActivityConfig.MAX_ATTEMPTS;r++)n.push({list:"completed",index:r,data:_.clone(t[r])});return n=_.orderBy(n,[r=>r.list==="running",r=>returnWhatToOrderAgainst(r.data.gamesAttempted[0])],["desc","desc"]),{list:_.map(n,r=>formRecentActivityItem(r.data,r.index,r.list))}}function getRecentActivityItem(e,t){const n=e.l,r=e.i,o=e.q,s=t[n][r]?t[n][r].quizInfo:null;if(s&&s.quizId===o)return{...t[n][r],fromList:n};const a=_.findIndex(t[n],u=>u.quizInfo&&u.quizInfo.quizId===o);return a!==-1?{...t[n][a],fromList:n}:null}function getAttemptQuizInfoCooker(e,t,n){const r=[],o=e.data.quiz.info.questions;for(let s=0;s<3&&s<o.length;s++)r[s]={...o[s].structure.query};return{quizId:t,listType:n,updatedData:{questions:r}}}function filterAttemptsWithAnyResponse(e){const t=[];return _.forEach(e,n=>{_.forEach(n.attempts,r=>{_.has(r,"numQuesAttempted")&&r.numQuesAttempted!==0&&r.playerId&&(r.roomHash=n.gameInfo.roomHash,t.push(r))})}),t}function attemptsAfterDiscardCooker({roomHash:e,playerId:t},n){const{currentAttempts:r,currentGameData:o}=n;if(o.roomHash!==e)return r;const s=_.cloneDeep(r),a=_.findIndex(s,u=>u.playerId===t);return s[a].isOver=!0,s}function myQuizzesResponseDataCooker(e,t){let n=[],r=0;return e.success&&(n=_.filter(e.data.hits,s=>s.hasDraftVersion||s.hasPublishedVersion).map(s=>constructQuizItemFromData(s,!0)),r=e.data.total),{success:e.success,quizzes:n,totalQuizzes:r,page:t}}function getListQuiz(e){return{name:e.name,creator:{id:e.creator},image:e.image,subjects:e.subjects,grades:e.grades,avgAccuracy:Number((e.stats.totalCorrect/e.stats.totalQuestions).toFixed(2)),totalPlayersJoined:e.stats.totalPlayers,questions:null,numOfQuestions:e.numOfQuestions||0,traits:e.traits||{},type:getQuizType(e)}}function getListUser(e){return{mongoId:e.userId,username:e.username,occupation:e.occupation||null,fullName:formFullName(e),image:e.image||""}}function getAttemptItem(e,t={},n={}){const r=getNumQuestionsFromAttempts([e],t);return{playerId:e.playerId,dateJoined:e.createdAt&&new Date(e.createdAt)||null,numQuestions:r,numAnswerableQuestions:getNumAnswerableQuestionsFromAttempts([e],t,n),numQuesAttempted:e.numAttempted,numCorrect:e.numCorrect,isOver:Object.hasOwnProperty.call(e,"isOver")?e.isOver:!0,lastPlayedAt:e.lastPlayedAt&&new Date(e.lastPlayedAt)||null,isLMSAttempt:isRawAttemptLMS(e),isPlayerDeleted:_.isBoolean(e.deleted)?e.deleted:null,gameType:getGameType(t.gameType),gameMode:getGameMode(t.gameType),marks:e.marks,totalPossibleMarks:e.totalPossibleMarks}}function getGameItem(e,t,n){const r=_.filter(n,isRawAttemptLMS),o=getNumQuestionsFromAttempts(n,e),s=!!r.length,a=Array.isArray(e.groupIds)?e.groupIds:[],u=e.groupsInfo||{},l=e.options||{};let m=Constants.GameGroupType.NONE,y=null;return s&&(y=_.clone(r[0].assignment)),a.length>0&&(m=u.create&&u.create.token?Constants.GameGroupType.GROUP_CREATION:Constants.GameGroupType.ONLY_ASSIGNED),{roomHash:e.gameId?e.gameId:e._id?e._id:null,gameType:getGameType(e.gameType),gameMode:getGameMode(e.gameType),gameCode:e.hasOwnProperty("gameCode")&&e.gameCode||null,gameState:e.gameState||t,gameCreatedAt:e.createdAt?new Date(e.createdAt):e.assignedDate?new Date(e.assignedDate):null,dueDate:e.dueDate&&new Date(e.dueDate)||null,host:e.host&&!isEmpty(e.host)?{id:e.host.userId}:e.hostId?{id:e.hostId}:{},hasLMSAttempts:s,lmsInfo:y,groupIds:a,isOnlyAssigned:e.isGroupAssigned===!0,groupType:m,assignmentTitle:e.assignmentTitle,numQuestions:o,options:{limitAttempts:_.isNumber(l.limitAttempts)?l.limitAttempts:0}}}function returnWhatToOrderAgainst(e,t=!1){return t&&e.gameInfo.dueDate?e.gameInfo.dueDate:e.attempts[0]&&e.attempts[0].dateJoined||e.gameInfo.gameCreatedAt||null}function formRecentActivityItem(e,t,n){return{l:n,i:t,q:e.quizInfo&&e.quizInfo.quizId||""}}function formFullName(e){return(isUserATeacher(e.occupation)&&e.title&&`${e.title} `||"")+constructNameOfUser(e,!1,"")}function isRawAttemptLMS(e){return!!(e.assignment&&!isEmpty(e.assignment))}function mapRunningGamesItems(e,t){return _.map(e,(n,r)=>{let o=[];return t||(o=_.map(n.attempts,a=>getAttemptItem(a,n,n))),{quizInfo:{quizId:n.quizId,verId:n.versionId,traits:n.traits},totalPossibleMarks:n.totalPossibleMarks,currentQuestionIndex:_.get(n,"currentQuestionIndex",-1),numAttempts:n.attempts.length,areAllAttemptsFetched:!0,gamesAttempted:[{attempts:_.orderBy(o,"dateJoined","desc"),gameInfo:getGameItem(n,Constants.GameState.RUNNING,n.attempts)}]}})}function getNumQuestionsFromAttempts(e,t){const n=_.get(t,"options.questionsPerAttempt",0);return n>0?n:e[0]&&_.isNumber(e[0].numQuestions)?e[0].numQuestions:-1}function getNumAnswerableQuestionsFromAttempts(e,t,n={}){const r=_.get(t,"options.questionsPerAttempt",0);if(r>0)return r;if(_.isNumber(t.totalAnswerableQuestions))return t.totalAnswerableQuestions;const o=getNumQuestionsFromAttempts(e,t),s=_.get(n,"traits.totalSlides",-1);return s>=0?o-s:o}function getInitialState$h(){return{runningGames:[],totalRunningGames:-1,groupAssignedGames:[],totalGroupAssignedGames:-1,runningGamesErrored:!1,completedGames:[],totalCompletedGames:-1,recentActivityList:[],commonQuizzesData:{},commonUsersData:{},completedGamesErrored:!1}}const getters$e={},mutations$g={[MutationTypes.USER_SIGNED_OUT](e,t){stateResetter(e,getInitialState$h())},[MutationTypes.PLAYER_JOINED_THE_GAME](e,t){stateResetter(e,getInitialState$h())},[MutationTypes.FETCH_RUNNING_GAMES_LIST_IN_PROGRESS](e,t){e.runningGamesErrored=getInitialState$h().runningGamesErrored},[MutationTypes.FETCH_RUNNING_GAMES_LIST_RESPONDED](e,t){e.runningGames=t.items,e.totalRunningGames=t.total,e.groupAssignedGames=t.groupAssignedItems,e.totalGroupAssignedGames=t.groupAssignedItems.length,e.runningGamesErrored=getInitialState$h().runningGamesErrored,e.commonQuizzesData={...e.commonQuizzesData,...t.quizzes},e.commonUsersData={...e.commonUsersData,...t.users}},[MutationTypes.FETCH_RUNNING_GAMES_LIST_RESPONDED_WITH_ERROR](e,t){e.runningGamesErrored=!0},[MutationTypes.FETCH_COMPLETED_GAMES_LIST_IN_PROGRESS](e,t){e.completedGamesErrored=getInitialState$h().runningGamesErrored},[MutationTypes.FETCH_COMPLETED_GAMES_LIST_RESPONDED](e,t){e.completedGames=_.concat(e.completedGames,t.items),e.totalCompletedGames=t.total,e.completedGamesErrored=getInitialState$h().completedGamesErrored,e.commonQuizzesData={...e.commonQuizzesData,...t.quizzes},e.commonUsersData={...e.commonUsersData,...t.users}},[MutationTypes.FETCH_COMPLETED_GAMES_LIST_RESPONDED_WITH_ERROR](e,t){e.completedGamesErrored=!0},[MutationTypes.SET_RECENT_ACTIVITY_LIST](e,t){e.recentActivityList=t.list},[MutationTypes.UPDATE_ATTEMPTS_QUIZ_DATA](e,t){if(e.commonQuizzesData[t.quizId]){const n={...e.commonQuizzesData[t.quizId],...t.updatedData};e.commonQuizzesData={...e.commonQuizzesData,[t.quizId]:n}}else{const n={...t.updatedData};e.commonQuizzesData={...e.commonQuizzesData,[t.quizId]:n}}},[MutationTypes.UPDATE_COMMON_QUIZZES_DATA](e,t){e.commonQuizzesData={...e.commonQuizzesData,...t.additionalData}},[MutationTypes.UPDATE_GROUP_ASSIGNED_GAMES](e,t){e.groupAssignedGames=t.groupAssignedGames,e.totalGroupAssignedGames=t.totalGroupAssignedGames,e.commonQuizzesData=t.commonQuizzesData,e.commonUsersData=t.commonUsersData}},actions$h={async fetchRunningGamesList({state:e,commit:t},{pageSize:n=10,startIndex:r=null}={}){const o=fetchGamesListCooker("runningGames",e,n,r);t(MutationTypes.FETCH_RUNNING_GAMES_LIST_IN_PROGRESS,o);try{const{response:s}=await runningGamesList(o.startAt,o.pageSize),a=runningGamesListResponseCooker(s.data,o.pageSize,o.startAt);return t(MutationTypes.FETCH_RUNNING_GAMES_LIST_RESPONDED,a),a}catch(s){QLogger$1.log("Error at action fetchRunningGamesList",s),t(MutationTypes.FETCH_RUNNING_GAMES_LIST_RESPONDED_WITH_ERROR,{pageSize:o.pageSize,startIndex:o.startAt})}},async fetchCompletedGamesList({commit:e,state:t},{pageSize:n=10,startIndex:r=null}){const o=fetchGamesListCooker("completedGames",t,n,r);if(!o.hasAllListBeenFetched){e(MutationTypes.FETCH_COMPLETED_GAMES_LIST_IN_PROGRESS,o);try{const{response:s}=await completedGamesList(o.startAt,o.pageSize),a=completedGamesListResponseCooker(s.data,o.pageSize,o.startAt);return e(MutationTypes.FETCH_COMPLETED_GAMES_LIST_RESPONDED,a),a}catch(s){QLogger$1.log("Error at action fetchCompletedGamesList",s),e(MutationTypes.FETCH_COMPLETED_GAMES_LIST_RESPONDED_WITH_ERROR,{pageSize:o.pageSize,startIndex:o.startAt})}}},async fetchInitialAttempts({dispatch:e}){try{const t=await Promise.all([e("fetchRunningGamesList"),e("fetchCompletedGamesList",{pageSize:10,startIndex:0})]),n=t[0],r=t[1];if(n&&r){const o=n.items,s=r.items;e("setRecentActivitList",{runningList:o,completedList:s})}}catch(t){QLogger$1.log("Error at action fetchInitialAttempts -",t)}},setRecentActivitList({state:e,commit:t},{runningList:n,completedList:r}){const o=setRecentActivityListCooker(n,r);t(MutationTypes.SET_RECENT_ACTIVITY_LIST,o)},async fetchQuestionsForAttempt({commit:e},{quizId:t,listType:n}){try{const{response:r}=await getQuizData({quizId:t,bypassProfanityCheck:!1,retryCount:0}),o=getAttemptQuizInfoCooker(r,t,n);return e(MutationTypes.UPDATE_ATTEMPTS_QUIZ_DATA,o),o}catch(r){QLogger$1.log("Error at action fetchQuestionsForAttempt",r)}}},attempts={state:getInitialState$h(),getters:getters$e,mutations:mutations$g,actions:actions$h};function getInitialState$g(){return{quizzes:[],page:0,totalQuizzes:0,fetchMyQuizzesErrored:!1}}const getters$d={},mutations$f={[MutationTypes.USER_SIGNED_OUT](e,t){stateResetter(e,getInitialState$g())},[MutationTypes.FETCH_USERS_QUIZZES_ERRORED](e,t){e.fetchMyQuizzesErrored=!0},[MutationTypes.FETCH_USERS_QUIZZES_RESPONDED](e,t){e.quizzes=_.concat(e.quizzes,t.quizzes),e.totalQuizzes=t.totalQuizzes,e.page=t.page,e.fetchMyQuizzesErrored=!1}},actions$g={async fetchUsersQuizzes({commit:e},{page:t}){const n=Constants.SEARCH_QUIZZES_PAGE_SIZE.DESKTOP,r=t*n,o="createdAt",s="desc";try{const{response:a}=await getMyQuizzes(r,o,s,n),u=myQuizzesResponseDataCooker(a,t);if(!u.success){e(MutationTypes.FETCH_USERS_QUIZZES_ERRORED);return}e(MutationTypes.FETCH_USERS_QUIZZES_RESPONDED,u)}catch(a){QLogger$1.error("Error fetching my quizzes",a),e(MutationTypes.FETCH_USERS_QUIZZES_ERRORED)}}},myQuizzes={state:getInitialState$g(),getters:getters$d,mutations:mutations$f,actions:actions$g},getters$c={},actions$f={},user={modules:{profile,attempts,myQuizzes},getters:getters$c,actions:actions$f};function getInitialState$f(){return{roomCode:"",roomHash:"",quizName:"",quizTraits:null,gameType:"live",gameMode:Constants.GameMode.NORMAL,expiry:0,createdAt:0,startedAt:0,quizId:"",hostId:"",timeRemainingToStart:0,scheduledTime:0,hostSessionId:"",hostOccupation:"",gameState:"",country:"",players:[],teams:[],totalPlayers:0,totalPossibleMarks:null,gameOptions:{},issues:[],grade:[],subjects:[],image:"",accuracy:null,isClassroomGame:!1,theme:{},classroomInfo:{},hostPrivileges:{},experiment:"",groupData:{type:Constants.GameGroupType.NONE,ids:[],createToken:null,sourceRequest:"",sourceRequestMeta:{}},brandingOptions:{},quizCreator:{},totalQuestionsInQuiz:0,quizVersionId:"",version:[],isQuizPublic:!0,contestId:null,isCertificationGame:!1,certificationRegion:"other",forcedRedirect:null,isTestTimerEnabled:!1,focusMode:!1,testTimerCounter:0,pauseFor:0,pauseCountdownCount:0,gameTranslationLocale:null,endedAt:0,replayAsyncModalOptions:null,roomHashBeforeReplay:null,mysticPeakLevelMap:[]}}const getters$b={canShowResponseStats(e,t,n){const r=e.gameOptions;return e.gameMode===Constants.GameMode.TEST||t.areAllGameQuestionsWithoutCorrectAnswer||r.showAnswers===Constants.GameOptionsValues.ShowAnswers.NEVER||e.gameType===Constants.GameType.SOLO&&isCorporateUser(e.quizCreator)||e.gameMode===Constants.GameMode.FLASHCARD||t.isMasteryMode?!1:r.studentLeaderboard},areAllGameQuestionsWithoutCorrectAnswer(e){return isQuizWithoutCorrectAnswers(e.quizTraits)},isQuestionTimerOn(e){return _.isString(e.gameOptions.timer)&&(e.gameOptions.timer===Constants.GameOptionsValues.Timer.CLASSIC||e.gameOptions.timer===Constants.GameOptionsValues.Timer.STRICT)},isPowerupsOn(e){return _.isString(e.gameOptions.powerups)&&e.gameOptions.powerups==="yes"},isGameStartedByProHost(e){return!isEmpty(e.hostPrivileges)},isAdaptiveLearningGame(e){const t=e.gameOptions.questionsPerAttempt;return _.isNumber(t)&&t>=1},isPlayerTheGameHost(e,t,n){const{hostId:r,hostSessionId:o}=e,{applicationContext:{deviceInfo:s={}},user:{profile:a}}=n;return!!(r&&r===a.mongoId)||!!(o&&o===s.quizizzUID)},pauseFor(e,t,n){return e.pauseFor},pauseCountdownCount(e,t,n){return e.pauseCountdownCount},isExtraLifeOn(e){return e.gameOptions.extraLife===Constants.GameOptionsValues.ExtraLife.ENABLED},activePlayersList(e,t,n){const r=n.game.player.playerId;return _.filter(e.players,o=>o.id!==r&&!o.isOver)},replayAsyncModalOptions(e,t,n){return e.replayAsyncModalOptions},roomHashBeforeReplay(e,t,n){return e.roomHashBeforeReplay},isMasteryMode(e){var n;const t=(n=e.gameOptions)==null?void 0:n.masteryMode;return t&&!isEmpty(t)}},mutations$e={[MutationTypes.EXIT_GAME](e,t){const n=[];t&&t.preserveClassroomInfo&&n.push("classroomInfo"),stateResetter(e,getInitialState$f(),n)},[MutationTypes.RESET_GAME](e,t){const n=[];t.preserveRoomCode&&n.push("roomCode"),stateResetter(e,getInitialState$f(),n),e.classroomInfo=t.classroomInfo},[MutationTypes.SET_QUESTIONS](e,t){e.quizTraits=t.traits},[MutationTypes.S_CHECK_ROOM_IN_PROGRESS](e,t){e.roomCode=_.get(t,"room.code",e.roomCode)},[MutationTypes.S_CHECK_ROOM_RESPONDED](e,t){e.roomHash=t.room.hash,e.gameType=t.room.type,e.gameMode=t.room.mode,e.timeRemainingToStart=t.room.millisToStart||0,e.scheduledTime=t.room.scheduledAt||0,e.expiry=getDateGameWillExpireOn(t.room).willExpireAfter,e.isClassroomGame=_.get(t,"room.assignments",null)?!0:e.isClassroomGame,e.gameOptions=gameOptionsHandler(e,t),e.groupData=isEmpty(t.room.groupData)?e.groupData:t.room.groupData,e.experiment=t.room.experiment||"",e.hostId=t.room.hostId||"",e.hostSessionId=t.room.hostSessionId||"",e.hostOccupation=t.room.hostOccupation||"",e.issues=t.room.issues||[],e.brandingOptions=t.room.brandingOptions||{},e.hostPrivileges=_.isPlainObject(t.room.subscription)?t.room.subscription:{},e.version=t.room.version},[MutationTypes.S_CHECK_ASSIGNMENT_RESPONDED](e,t){e.roomHash=t.room.hash,e.gameType=t.room.type,e.gameMode=t.room.mode,e.expiry=getDateGameWillExpireOn(t.room).willExpireAfter,e.timeRemainingToStart=t.room.millisToStart||0,e.scheduledTime=t.room.scheduledAt||0,e.gameOptions=gameOptionsHandler(e,t),e.isClassroomGame=!0,e.classroomInfo={...e.classroomInfo,assignmentId:_.get(t,"lmsInfo.assignmentId","")},e.groupData=_.get(t,"room.groupData",e.groupData),e.hostPrivileges=_.isPlainObject(t.room.subscription)?t.room.subscription:{}},[MutationTypes.S_TEAM_PLAYER_SHUFFLED](e,t){e.teams=_.get(t,"teams",e.teams),e.players=_.get(t,"players",e.players)},[MutationTypes.S_JOIN_ROOM_RESPONDED]:joinRoomRespondedHandler,[MutationTypes.JOIN_SOLO_GAME_RESPONDED](e,t){joinRoomRespondedHandler(e,t),e.players=t.generatedPlayers,e.totalPlayers=Array.isArray(t.generatedPlayers)?t.generatedPlayers.length:e.totalPlayers},[MutationTypes.REJOIN_GAME_IN_PROGRESS](e,t){const n=t.classroomInfo,r=isEmpty(n)?e.classroomInfo:n;e.roomHash=t.roomHash,e.classroomInfo=r},[MutationTypes.REJOIN_GAME_RESPONDED](e,t){joinRoomRespondedHandler(e,t);const n=_.get(t,"player.assignment",{});isEmpty(n)||(e.isClassroomGame=!0,e.classroomInfo={...n,roomCode:t.room.code||"",roomHash:t.room.hash||""})},[MutationTypes.ROOM_CODE_BEING_TYPED](e,t){e.roomCode=_.get(t,"room.code",e.roomCode)},[MutationTypes.SET_QUIZ_INFO](e,t){stateAssigner(e,t)},[MutationTypes.GAME_STARTED](e,t){e.gameState=Constants.GameState.RUNNING,e.teams=_.get(t,"teams",e.teams),e.players=_.get(t,"players",e.players)},[MutationTypes.GAME_COMPLETED](e,t){e.gameState=Constants.GameState.COMPLETED,e.teams=_.get(t,"teams",e.teams)},[MutationTypes.GAME_STOPPED](e,t){e.gameState=Constants.GameState.STOPPED,e.teams=_.get(t,"teams",e.teams)},[MutationTypes.S_NEW_PLAYER_JOINED](e,t){e.players=Array.isArray(t.players)?[...t.players]:e.players,e.totalPlayers=Array.isArray(t.players)?t.players.length:e.totalPlayers,e.teams=Array.isArray(t.teams)?t.teams:e.teams},[MutationTypes.S_PLAYER_DELETED](e,t){e.players=Array.isArray(t.players)?[...t.players]:e.players,e.totalPlayers=Array.isArray(t.players)?t.players.length:e.totalPlayers,e.teams=Array.isArray(t.teams)?t.teams:e.teams},[MutationTypes.PROCEED_GAME_RESPONDED](e,t){e.teams=_.get(t,"teams",e.teams)},[MutationTypes.ENTER_LMS_FLOW](e,t){e.classroomInfo={...e.classroomInfo,decoded:!1,encodedParam:t.encodedParam}},[MutationTypes.LMS_LINK_DECODED](e,t){e.classroomInfo={...e.classroomInfo,decoded:!0,roomHash:t.roomHash,roomCode:t.roomCode,courseId:t.courseId,lmsName:t.lmsName}},[MutationTypes.USER_SIGNED_IN](e,t){const n=_.get(t,"user.lmsInfo.gcl.studentId");n&&(e.classroomInfo={...e.classroomInfo,studentId:n})},[MutationTypes.SET_CURRENT_TEAM_RANK](e,t){e.teams=_.get(t,"teams",e.teams)},[MutationTypes.FETCH_TEAM_PLAYERS_RESPONDED](e,t){e.teams=_.get(t,"teams",e.teams),e.players=_.get(t,"players",e.players),e.totalPlayers=_.get(t,"totalPlayers",e.totalPlayers)},[MutationTypes.HOST_GAME_RESPONDED](e,t){e.hostId=t.hostId,e.hostSessionId=t.hostSessionId,e.roomCode=t.roomCode,e.roomHash=t.roomHash,e.gameType=t.gameType,e.gameMode=t.gameMode},[MutationTypes.SET_TEST_TIMER_COUNTER](e,t){e.testTimerCounter=t},[MutationTypes.SET_IS_TEST_TIMER_ENABLED](e,t){e.isTestTimerEnabled=t},[MutationTypes.PAUSE_GAME](e,t){e.pauseFor=t},[MutationTypes.COUNTDOWN_PAUSE_321](e,t){e.pauseCountdownCount=t},[MutationTypes.SET_REPLAY_ASYNC_MODAL_OPTIONS](e,t){e.replayAsyncModalOptions=t},[MutationTypes.SET_ROOM_HASH_BEFORE_REPLAY](e,t){e.roomHashBeforeReplay=t},[MutationTypes.UPDATE_GAME_OPTIONS](e,{updatedGameOptions:t}){if(isEmpty(t))return;const n=serverGameOptionsCooker(t,!0);Object.keys(n).forEach(o=>{e.gameOptions[o]!==n[o]&&(e.gameOptions[o]=n[o])})},[MutationTypes.ENABLE_ANSWER_FEEDBACK](e){e.gameOptions.showAnswers=Constants.GameOptionsValues.ShowAnswers.ALWAYS},[MutationTypes.DISABLE_ANSWER_FEEDBACK](e){e.gameOptions.showAnswers=Constants.GameOptionsValues.ShowAnswers.PARTIAL},[MutationTypes.GAME_ISSUES_UPDATE](e,t){e.issues=[...e.issues,t]}},actions$e={},data={state:getInitialState$f(),getters:getters$b,mutations:mutations$e,actions:actions$e};function gameOptionsHandler(e,t){const n=_.get(t,"room.options");return isEmpty(n)?e.gameOptions:n}function joinRoomRespondedHandler(e,t){const n=t.room.players,r=t.room.teams,o=Array.isArray(n)?[...n]:e.players,s=Array.isArray(r)?[...r]:e.teams,a=t.room.type;let u=o.length;isAnAssignedGame(a)&&Number(t.room.totalPlayers)>=0?u=t.room.totalPlayers:Array.isArray(t.generatedPlayers)&&(u=t.generatedPlayers.length);const l=_.get(t.room.options,"focusMode",!1),m=t.room.expiry,y=t.room.duration,d=_.get(t.room.options,"isTestTimerEnabled",!1);let f=0;d&&m>y&&(f=m-y),e.focusMode=l,e.isTestTimerEnabled=d,e.testTimerCounter=f,e.roomCode=_.get(t,"room.code",e.roomCode),e.roomHash=t.room.hash,_.isNumber(t.room.totalPossibleMarks)&&(e.totalPossibleMarks=t.room.totalPossibleMarks),e.contestId=t.room.contestId||null,e.gameType=t.room.type,e.gameMode=t.room.mode,e.expiry=getDateGameWillExpireOn(t.room).willExpireAfter,e.createdAt=t.room.createdAt,e.startedAt=_.get(t,"room.startedAt",e.startedAt),e.endedAt=_.get(t,"room.endedAt",e.endedAt),e.hostId=_.get(t,"room.hostId",""),e.hostSessionId=_.get(t,"room.hostSessionId",""),e.image=_.get(t.room.image)||e.image,e.gameState=t.room.state,e.players=o,e.teams=s,e.totalPlayers=u,e.gameOptions=gameOptionsHandler(e,t),e.experiment=_.get(t,"room.experiment",e.experiment),e.groupData=t.room.groupData||e.groupData,e.hostOccupation=_.get(t,"room.hostOccupation",e.hostOccupation),e.issues=_.get(t,"room.issues",e.issues),e.brandingOptions=_.get(t,"room.brandingOptions",e.brandingOptions),e.hostPrivileges=_.get(t,"room.subscription",e.hostPrivileges),e.theme=_.get(t,"room.theme",e.theme),e.totalQuestionsInQuiz=t.room.totalQuestionsInQuiz,e.quizId=_.get(t,"room.quizId",e.quizId),e.quizName=_.get(t,"room.quizName",e.quizName),e.quizVersionId=_.get(t,"room.versionId",e.quizVersionId),e.gameTranslationLocale=_.get(t,"room.gameTranslation",e.gameTranslationLocale),e.forcedRedirect=_.get(t,"forcedRedirect",e.forcedRedirect),e.mysticPeakLevelMap=_.get(t,"room.mysticPeakLevelMap",e.mysticPeakLevelMap),e.isCertificationGame=_.get(t,"isCertificationGame",e.isCertificationGame),e.certificationRegion=_.get(t,"certificationRegion",e.certificationRegion)}const initialStateDragNDropUpdates={isDragging:!1,selectedOptionId:"",focusedBlankId:"",usedOptionIds:new Set,optionBlankMapping:{},isDragAndDropKeyboardInteractionActive:!1,shuffledOptions:[],blankDropzoneRefs:[]};function getInitialState$e(){return{isValidRoom:!1,leaderboard:{list:[],totalPlayers:0,forQues:{id:"",attemptIndex:-1}},teamLeaderboard:{list:[],totalTeams:0,forQues:{id:"",attemptIndex:-1}},challengeLiveLeaderboard:[],meme:{setId:Constants.DEFAULT_MEME_SET_ID,list:getInitialMemeSet(),nextPossible:{},createdBy:"",isFromFeaturedList:!0},startSource:[],isPlayerEducated:{matchAndReorder:!1,dragAndDrop:!1,hotspot:!1,classification:!1,graphing:{points:!1,dragging:!1}},showGestureEducators:{forGame:!1,forQuestion:!1},dragAndDropUpdates:{..._.cloneDeep(initialStateDragNDropUpdates)},classification:{shuffledOptions:[]},hasSeenSummaryAtleastOnce:!1,currentOptionsAppearance:[],gameAppearance:{isGlitching:!1,isEffectGlowOn:!1},nicknameDuplicateError:!1,appSettingsToRevertAtGameEnd:{},redirectOnGameExit:"",questionTimer:{forQuestion:{id:"",attempt:-1},events:[]},liveWhiteboardState:{host:{isVisible:!1},player:{isVisible:!1,canDraw:!0}},powerupGameFlow:{disableMeme:!1,disableLeaderboard:!1,gamePlaySpeed:1,gameSoundSpeed:1},answerLaterFlow:{enabled:!0,inProgress:!1},redemptionCurrentQuestionNumber:0,breakRoomArr:null,breakoutRoomType:"",selectedPowerupIndex:null,mysticPeakLevelBoard:[],breakRoomItemType:"",selectedPowerupName:"",mysticPeakLeaderboard:[],mysticPeak:{currentLevel:"",isPathFinder:!1,selectedPathFinderType:""},hasReachedMasteryInMysticPeakAtleastOnce:!1,mysticPeakTieredRank:null,hasReachedMasteryAtLeastOnce:!1,rejoinCallNetworkErrorredOutGames:["64301eef9a5549001d54ca16"],actionErrorTrace:[]}}const getters$a={isLeaderboardStale(e,t,n){const{game:r}=n,o={id:r.questions.currentId,attemptIndex:t.currentQuestionCurrentAttemptIndex},s=e.leaderboard.forQues,a=[t.doneOrderForEvaluatedQuestions,r.questions.remainingOrder,r.questions.currentId],u=getQuesPositionFromAttemptOrder(...a,o),l=getQuesPositionFromAttemptOrder(...a,s);return u<l},isCurrentSlidePausedByHost(e,t){return isEmpty(t.currentQuestion)||isEmpty(t.currentQuestion.metadata)?!1:t.currentQuestion.metadata.isTimerPaused},dragAndDropUpdates(e){return e.dragAndDropUpdates},shouldShowPlayerEducationForMatchAndReorder(e){return!e.isPlayerEducated.matchAndReorder},shouldShowPlayerEducationForDragAndDrop(e){return!e.isPlayerEducated.dragAndDrop},shouldShowPlayerEducationForHotspot(e){return!e.isPlayerEducated.hotspot},shouldShowPlayerEducationForClassification(e){return!e.isPlayerEducated.classification},shouldShowPlayerEducationForGraphingPoints(e){return!e.isPlayerEducated.graphing.points},shouldShowPlayerEducationForGraphingDragging(e){return!e.isPlayerEducated.graphing.dragging},gameExitRedirectionDetails(e,t,n){if(!isEmpty(e.redirectOnGameExit))return{shouldRedirect:!0,to:e.redirectOnGameExit};const r=n.user.profile.occupation,o=GameStartSource.matches(e.startSource,GameStartSource.get(GameStartSource.List.FROM_ADMIN),1),s=!isEmpty(r)&&r!==Constants.UserOccupations.STUDENT&&o;return{shouldRedirect:s,to:s?URLConfig.getAdminHomeUrl():""}},isTimerPaused(e,t){if(!t.didCurrentQuestionTimerStart)return!1;const n=_.last(e.events);return!isEmpty(n)&&n.type===Constants.QuestionTimerEventsTypes.PAUSE},isQuestionTimerFreezed(e,t){if(!t.didCurrentQuestionTimerStart)return!1;const n=_.find(e.questionTimer.events,{type:Constants.QuestionTimerEventsTypes.FREEZE});return!isEmpty(n)},didCurrentQuestionTimerStart(e,t){const n=e.questionTimer;if(n.forQuestion.id!==t.currentQuestion.id||n.forQuestion.attempt!==t.currentQuestionCurrentAttemptIndex)return!1;const r=_.find(e.questionTimer.events,{type:Constants.QuestionTimerEventsTypes.START});return!isEmpty(r)},currentQuestionStartTime(e,t,n){if(!t.didCurrentQuestionTimerStart)return new Date;const o=e.questionTimer.events[0];return o?o.on:new Date},currentQuestionTimeLeftInSeconds(e,t,n){const r=e.questionTimer;if(!t.didCurrentQuestionTimerStart||!t.isQuestionTimerOn)return _.get(t,"currentQuestion.time",-1);const{applicationContext:o,game:s}=n,a=1e3,u=Math.ceil(s.questions.list[r.forQuestion.id].time/a);let l=null,m=null,y=!1,d=!1;if(!t.isQuestionTimerOn||!isEmpty(l))return u;const f=r.events[0],v=f.for/a,A=new Date;let I=0,P=1;for(;P<r.events.length;){const Q=r.events[P];if(Q.type===Constants.QuestionTimerEventsTypes.RESET&&(d=!0,l=r.events[P]),Q.type===Constants.QuestionTimerEventsTypes.FREEZE&&(y=!0,m=r.events[P]),!y&&Q.type===Constants.QuestionTimerEventsTypes.PAUSE){const B=_.findIndex(r.events,{type:Constants.QuestionTimerEventsTypes.RESTART},P+1);if(B>=0){const W=r.events[B];I+=W.on-Q.on,P=B}else t.isTimerPaused&&(I+=new Date-Q.on)}P+=1}const O=d?l.on:f.on,M=(y?m.on:A)-O-I,k=M>0?M/a:0,U=v-Math.floor(k);return U>=0&&!t.isTimerPaused&&!t.hasCurrentQuestionBeenAnswered&&o.ticker.count,Math.ceil(Math.max(U,0))},isMysticPeak(e,t,n){return n.game.data.gameMode===Constants.GameMode.MYSTIC_PEAK},hasReachedMasteryForMysticPeak(e,t,n){const{totalCorrect:r}=n.game.player,{mysticPeakLevelMap:o}=n.game.data;return r>=o[o.length-1]}},mutations$d={[MutationTypes.EXIT_GAME](e,t){stateResetter(e,getInitialState$e())},[MutationTypes.RESET_GAME](e,t){stateResetter(e,getInitialState$e())},[MutationTypes.PREVIOUS_CONTEXT_LOADED](e,t){const n=_.get(t,"game.questionTimer",{});isEmpty(n)||(e.questionTimer={forQuestion:n.forQuestion,events:_.map(n.events,r=>({...r,on:new Date(r.on)}))})},[MutationTypes.SET_GAME_START_SOURCE]:startSourceHandler,[MutationTypes.S_CHECK_ROOM_IN_PROGRESS]:startSourceHandler,[MutationTypes.S_CHECK_ROOM_RESPONDED](e,t){e.isValidRoom=!0},[MutationTypes.S_CHECK_ASSIGNMENT_IN_PROGRESS]:startSourceHandler,[MutationTypes.S_CHECK_ASSIGNMENT_RESPONDED](e,t){e.isValidRoom=!0},[MutationTypes.S_JOIN_ROOM_IN_PROGRESS]:startSourceHandler,[MutationTypes.S_JOIN_ROOM_RESPONDED](e,t){e.isValidRoom=!0,e.meme.setId=getMemeSetId(t),e.meme.nextPossible=getInitialNextPossibleMemes(),e.showGestureEducators=showGestureEducatorsForJoin(e,0),handleSettingLiveWhiteboardData(e,t)},[MutationTypes.S_NEW_PLAYER_JOINED](e,t){isEmpty(t.challengeLeaderboardNewPlayer)||(e.challengeLiveLeaderboard=[...e.challengeLiveLeaderboard,t.challengeLeaderboardNewPlayer])},[MutationTypes.S_PLAYER_DELETED](e,t){isEmpty(t.challengeLiveLeaderboard)||(e.challengeLiveLeaderboard=[...t.challengeLiveLeaderboard])},[MutationTypes.JOIN_SOLO_GAME_IN_PROGRESS]:startSourceHandler,[MutationTypes.JOIN_SOLO_GAME_RESPONDED](e,t){e.isValidRoom=!0,e.meme.setId=getMemeSetId(t),e.meme.nextPossible=getInitialNextPossibleMemes(),e.leaderboard={...e.leaderboard,list:[...t.generatedPlayers],totalPlayers:t.generatedPlayers.length,forQues:{id:"",attemptIndex:0}},e.showGestureEducators=showGestureEducatorsForJoin(e,0)},[MutationTypes.REJOIN_GAME_IN_PROGRESS]:startSourceHandler,[MutationTypes.REJOIN_GAME_RESPONDED](e,t){let n=e.leaderboard;const r=t.generatedPlayers;isEmpty(r)||(n={...e.leaderboard,list:[...r],totalPlayers:r.length,forQues:{id:t.player.remainingQuestionsOrder[0],attemptIndex:0}}),e.isValidRoom=!0,e.meme.setId=getMemeSetId(t),e.meme.nextPossible=getInitialNextPossibleMemes(),e.leaderboard=n,e.showGestureEducators=showGestureEducatorsForJoin(e,t.player.doneOrder.length,!1),handleSettingLiveWhiteboardData(e,t)},[MutationTypes.HIDE_PLAYER_EDUCATION_FOR_MATCH_AND_REORDER](e){e.isPlayerEducated.matchAndReorder=!0},[MutationTypes.HIDE_PLAYER_EDUCATION_FOR_DRAG_AND_DROP](e){e.isPlayerEducated.dragAndDrop=!0},[MutationTypes.HIDE_PLAYER_EDUCATION_FOR_HOTSPOT](e){e.isPlayerEducated.hotspot=!0},[MutationTypes.HIDE_PLAYER_EDUCATION_FOR_CLASSIFICATION](e){e.isPlayerEducated.classification=!0},[MutationTypes.HIDE_PLAYER_EDUCATION_FOR_GRAPHING_POINTS](e){e.isPlayerEducated.graphing.points=!0},[MutationTypes.HIDE_PLAYER_EDUCATION_FOR_GRAPHING_DRAGGING](e){e.isPlayerEducated.graphing.dragging=!0},[MutationTypes.PROCEED_GAME_RESPONDED](e,t){e.leaderboard={list:[...t.leaderboard],totalPlayers:t.totalPlayers,forQues:t.forQues},e.teamLeaderboard={list:[...t.teamLeaderboard],totalTeams:t.totalTeams,forQues:t.forQues},e.breakRoomArr=t.breakRoomArr||[],e.mysticPeakLevelBoard=t.mysticPeakLevelBoard||[],e.mysticPeakLeaderboard=t.mysticPeakLeaderboard||e.mysticPeakLeaderboard||[],e.mysticPeakTieredRank=t.mysticPeakTieredRank||null},[MutationTypes.SET_TIERED_RANK](e,t){e.mysticPeakTieredRank=t||null},[MutationTypes.SET_PATH_FINDER_ON_REJOIN](e,{isPathFinder:t,selectedPathFinderType:n}){e.mysticPeak.isPathFinder=t,e.mysticPeak.selectedPathFinderType=n},[MutationTypes.SET_MEME_SET](e,t){e.meme.list=t.memeSet,e.meme.createdBy=t.createdBy,e.meme.nextPossible=getNextPossibleMemes(t.responses,t.memeSet,t.questionsCount),e.meme.isFromFeaturedList=t.isFromFeaturedList},[MutationTypes.SET_NEXT_POSSIBLE_MEMES](e,t){e.meme.nextPossible=t.next},[MutationTypes.PLAYER_JOINED_THE_GAME](e,t){e.hasSeenSummaryAtleastOnce=t.hasSeenSummaryAtleastOnce},[MutationTypes.REACHED_SUMMARY_FOR_FIRST_TIME_IN_GAME](e,t){e.hasSeenSummaryAtleastOnce=!0},[MutationTypes.NICKNAME_JOIN_DUPLICATE_ERR](e,t){e.nicknameDuplicateError=!0},[MutationTypes.SET_CURRENT_QUESTION](e,t){e.currentOptionsAppearance=Array.isArray(t.currentOptionsAppearance)?t.currentOptionsAppearance:e.currentOptionsAppearance,e.showGestureEducators=showGestureEducatorsForJoin(e,t.doneOrder.length)},[MutationTypes.SET_CURRENT_OPTIONS_VISIBILITY](e,t){e.currentOptionsAppearance=Array.isArray(t.currentOptionsAppearance)?t.currentOptionsAppearance:e.currentOptionsAppearance},[MutationTypes.CHANGE_CURRENT_OPTIONS_APPEARANCE](e,t){e.currentOptionsAppearance=Array.isArray(t.currentOptionsAppearance)?t.currentOptionsAppearance:e.currentOptionsAppearance},[MutationTypes.CHANGE_GAME_APPEARANCE](e,t){e.gameAppearance=t.gameAppearance},[MutationTypes.DRAG_AND_DROP_UPDATE](e,t){e.dragAndDropUpdates=t.dragAndDropUpdates},[MutationTypes.CLASSIFICATION_UPDATE](e,t){e.classification=t.classification},[MutationTypes.DRAG_AND_DROP_UPDATE_RESET](e,t){e.dragAndDropUpdates=t.dragAndDropUpdates},[MutationTypes.UPDATE_POWERUP_GAME_FLOW](e,t){e.powerupGameFlow=t.powerupGameFlow},[MutationTypes.HOST_GAME_RESPONDED](e,t){e.isValidRoom=!0},[MutationTypes.SET_CHALLENGE_LIVE_LEADERBOARD](e,t){isEmpty(t.leaderboard)||(e.challengeLiveLeaderboard=t.leaderboard)},[MutationTypes.SET_APP_SETTINGS_TO_REVERT_AT_GAME_END](e,t){e.appSettingsToRevertAtGameEnd=t.appSettingsToRevert},[MutationTypes.SET_INITIAL_GAME_METADATA](e,t){e.redirectOnGameExit=t.redirectOnGameExit||e.redirectOnGameExit},[MutationTypes.UPDATE_QUESTION_TIMER](e,t){isEmpty(t.forQuestion)||(e.questionTimer.forQuestion=t.forQuestion),isEmpty(t.events)||(e.questionTimer.events=t.events)},[MutationTypes.SET_LIVE_WHITEBOARD_STATES](e,t){const n=t.host||{},r=t.player||{};e.liveWhiteboardState={host:{...e.liveWhiteboardState.host,...n},player:{...e.liveWhiteboardState.player,...r}}},[MutationTypes.SHOWING_ANSWER_LATER_QUESTIONS](e,{inProgress:t}){e.answerLaterFlow.inProgress=t},[MutationTypes.SHOW_POWERUP_ON_BREAKROOM](e,{powerupIndex:t}){const n=e.breakRoomArr||[];n.length&&(n[t].visible=!0,e.breakRoomArr=[...n])},[MutationTypes.UPDATE_BREAKROOM_TYPE](e,{breakoutRoomType:t,powerupIndex:n,powerupName:r,type:o,breakRoomArr:s}){e.breakoutRoomType=t,e.selectedPowerupIndex=n,e.selectedPowerupName=r,e.breakRoomItemType=o,e.breakRoomArr=s},[MutationTypes.SET_REDEMPTION_CURRENT_QUESTION_NUMBER](e,{count:t}){e.redemptionCurrentQuestionNumber=t},[MutationTypes.SET_PATH_FINDER_TYPE](e,{type:t}){e.mysticPeak.selectedPathFinderType=t,t&&(e.mysticPeak.isPathFinder=!0)},[MutationTypes.UPDATE_HAS_REACHED_MASTERY_IN_MYSTIC_PEAK_ATLEAST_ONCE](e,{reached:t}){e.hasReachedMasteryInMysticPeakAtleastOnce=t},[MutationTypes.SET_REDEMPTION_CURRENT_QUESTION_NUMBER](e,{count:t}){e.redemptionCurrentQuestionNumber=t},[MutationTypes.HAS_REACHED_MASTERY](e,{hasReachedMasteryAtLeastOnce:t}){e.hasReachedMasteryAtLeastOnce=t},[MutationTypes.UPDATE_WAITING_MYSTIC_LEADERBOARD](e,{mysticPeakBoard:t}){e.mysticPeakLeaderboard=_.cloneDeep(t)},[MutationTypes.SET_ACTION_ERROR_TRACE](e,{nameList:t}){t.length&&t.forEach(n=>{e.actionErrorTrace.push(n)})},[MutationTypes.EMPTY_ACTION_ERROR_TRACE](e){e.actionErrorTrace=[]}},actions$d={setNicknameDuplicateError({rootState:e,commit:t}){t(MutationTypes.NICKNAME_JOIN_DUPLICATE_ERR,{})},changeCurrentOptionsAppearance({commit:e,state:t},{currentOptionsAppearance:n=[]}){e(MutationTypes.CHANGE_CURRENT_OPTIONS_APPEARANCE,{currentOptionsAppearance:n})},changeOptionAppearance({dispatch:e,state:t},{optionIndex:n,appearanceChanges:r}){const o=_.cloneDeep(t.currentOptionsAppearance);o[n]={...o[n],...r},e("changeCurrentOptionsAppearance",{currentOptionsAppearance:o})},changeGameAppearance({commit:e,state:t},n){const r=_.cloneDeep(t.gameAppearance);r[n.name]=n.value,e(MutationTypes.CHANGE_GAME_APPEARANCE,{gameAppearance:r})},changeDragAndDropUpdates({commit:e,state:t},n){const r={..._.cloneDeep(t.dragAndDropUpdates),...n};e(MutationTypes.DRAG_AND_DROP_UPDATE,{dragAndDropUpdates:r})},updateClassificationState({commit:e,state:t},n){const r={..._.cloneDeep(t.classification),...n};e(MutationTypes.CLASSIFICATION_UPDATE,{classification:r})},changeDragAndDropUpdatesReset({commit:e,state:t}){e(MutationTypes.DRAG_AND_DROP_UPDATE_RESET,{dragAndDropUpdates:_.cloneDeep(initialStateDragNDropUpdates)})},hidePlayerEducationForMatchAndReorder({commit:e,state:t}){e(MutationTypes.HIDE_PLAYER_EDUCATION_FOR_MATCH_AND_REORDER)},hidePlayerEducationForDragAndDrop({commit:e,state:t}){e(MutationTypes.HIDE_PLAYER_EDUCATION_FOR_DRAG_AND_DROP)},hidePlayerEducationForHotspot({commit:e,state:t}){e(MutationTypes.HIDE_PLAYER_EDUCATION_FOR_HOTSPOT)},hidePlayerEducationForClassification({commit:e,state:t}){e(MutationTypes.HIDE_PLAYER_EDUCATION_FOR_CLASSIFICATION)},hidePlayerEducationForGraphingPoints({commit:e}){e(MutationTypes.HIDE_PLAYER_EDUCATION_FOR_GRAPHING_POINTS)},hidePlayerEducationForGraphingDragging({commit:e}){e(MutationTypes.HIDE_PLAYER_EDUCATION_FOR_GRAPHING_DRAGGING)},updatePowerupGameFlow({commit:e,state:t},n){const r={...t.powerupGameFlow,...n};e(MutationTypes.UPDATE_POWERUP_GAME_FLOW,{powerupGameFlow:r})},startTimerForQuestion({state:e,rootState:t,commit:n,dispatch:r,getters:o},{questionId:s,attempt:a,startTime:u=new Date}){const l=e.questionTimer;if(l.forQuestion.id===s&&l.forQuestion.attempt===a)return;const y=t.game.questions.list[s];QLogger$1.invariant(!isEmpty(y),`startTimerForQuestion: cannot find question for questionId - ${s}`);const d=y.time;let f=d;if(o.isAnswerLaterQuestion){const v=t.game.questions.questionResponses[o.currentQuestion.id],A=_.sumBy(v,"timeTaken"),I=d-A;f=[Constants.GameOptionsValues.Timer.STRICT,Constants.GameOptionsValues.Timer.CLASSIC].includes(t.game.data.gameOptions.timer)?Math.max(I,Constants.SKIP_QUESTION_GRACE_PERIOD):0}n(MutationTypes.UPDATE_QUESTION_TIMER,{forQuestion:{id:s,attempt:a},events:[{type:Constants.QuestionTimerEventsTypes.START,on:u,for:f}]}),r("updateIncompleteGame"),r("saveCurrentContext")},pushTimerEventForQuestion({state:e,commit:t,dispatch:n},{eventType:r,questionId:o,attempt:s,on:a=new Date}){const u=e.questionTimer;u.forQuestion.id!==o||u.forQuestion.attempt!==s||(t(MutationTypes.UPDATE_QUESTION_TIMER,{events:[...u.events,{type:r,on:a,for:null}]}),n("updateIncompleteGame"),n("saveCurrentContext"))},showTestTimeAddedAlert({state:e},t){const n=e.hasSeenSummaryAtleastOnce,r=Math.floor(t/(1e3*60)),o=r>1?"minutes":"minute";n||ToastService.add({type:Constants.ToastTypes.ALERT,icon:"icon-fas-alarm-clock",title:getTranslatedText("Yay! Your teacher added {$1} {$2} to the timer.",[r,o])})},setPathFinderType({commit:e},t){e(MutationTypes.SET_PATH_FINDER_TYPE,{type:t})},setActionErrorTrace({commit:e},t){e(MutationTypes.SET_ACTION_ERROR_TRACE,{nameList:t})},emptyActionErrorTrace({commit:e}){e(MutationTypes.EMPTY_ACTION_ERROR_TRACE)}},flow={state:getInitialState$e(),getters:getters$a,mutations:mutations$d,actions:actions$d};function getMemeSetId(e){let t=Constants.DEFAULT_MEME_SET_ID;const n=e.room.options.memeset||e.room.memeSet;return n&&(t=n),t}function reduceStartSource(e,t){if(!isEmpty(t)){if(Array.isArray(t))return[...t];if(_.isString(t))return t.split("|")}return e}function startSourceHandler(e,t){e.startSource[0]==="gameCode"&&e.startSource[1]==="pseudoLms"||(e.startSource=reduceStartSource(e.startSource,t.startSource))}function showGestureEducatorsForJoin(e,t,n=!0){return{...e.showGestureEducators,forQuestion:GestureEducators$1.canShowEducatorsForCurrentQuestion(t),forGame:GestureEducators$1.canShowEducatorsForCurrentGame(n)}}function handleSettingLiveWhiteboardData(e,t){if(_.isPlainObject(t.room.canvas)){const n=t.room.canvas.host===!0;e.liveWhiteboardState={host:{...e.liveWhiteboardState.host,isVisible:n},player:{...e.liveWhiteboardState.player,isVisible:n,canDraw:t.room.canvas.player===!0}}}}function updateIncompleteGameCooker(e,t){const{game:n}=e;let r=!1,o={},s=null;return n.player.isOver?r=!0:(o={numQuesAttempted:t.orderedOriginalResponses.length,accuracy:n.player.accuracy},s=n.questions.currentId),{isComplete:r,playerStats:o,lastVisibleQuestionId:s,isOver:n.player.isOver,questionTimer:{...n.flow.questionTimer}}}function lastGamePlayedToAttemptsFormat(e){const t=[],n={},r={};return isEmpty(e)||(t.push({quizInfo:{quizId:e.quizId},fromList:"running",numQuesAttempted:e.numQuesAttempted,areAllAttemptsFetched:!0,gamesAttempted:[{attempts:[{..._.pick(e,["numQuestions","numQuesAttempted","numCorrect","playerId"]),numAnswerableQuestions:_.isNumber(e.numQuestions)?e.numQuestions:1,isOver:!1}],gameInfo:{roomHash:e.roomHash,gameType:e.gameType,gameCode:e.roomCode,gameState:Constants.GameState.RUNNING,gameCreatedAt:null,dueDate:e.expiry&&new Date(e.expiry)||null,host:{},hasLMSAttempts:e.isClassroomGame,lmsInfo:e.classroomInfo}}]}),r[e.quizId]={name:e.quizName,image:e.quizImage,subjects:e.subjects,grades:e.grade,questions:null}),{games:t,users:n,quizzes:r}}function sanitizePlayerId(e,t=Constants.DEFAULT_PLAYER_NAME){if(_.isString(e)){let n=e.trim();!n&&(n=t);let r=n.slice(0,Constants.ALLOWED_PLAYER_NAME_LENGTH);return r=r.replace(/{|\[|</g,"("),r=r.replace(/}|\]|>/g,")"),r=r.replace(/['"&/]/gi,""),r}return t}function cookServerPlayerResponses(e,t,n,r,o,s){const a={marks:null,score:0,accuracy:0,totalCorrect:0},u={},l=[],m=r===Constants.SlidesFlowControlTypes.NONE;let y=[];if(m||r===Constants.SlidesFlowControlTypes.FULL){const d=_.reduce(e,(A,I)=>({...A,[I.questionId]:I}),{}),f=_.keys(d),v=_.filter(t,A=>_.includes(f,A));y=_.reduce(v,(A,I)=>[...A,d[I]],[])}else y=_.sortBy(e,"createdAt");return _.forEach(y,(d,f)=>{const v=_.isString(d)?JSON.parse(d):d,A=v.questionId,I=_.isNumber(v.attempt)?v.attempt:0,P=!!(u[A]&&u[A][I]),O={marks:null,score:0,wasCorrect:!1},R=P===!1||m;QLogger$1.invariant(R,`At cookServerPlayerResponses: The attempt num '${I}' for question id '${A}' already exists.`),P&&(O.marks=u[A][I].marks,O.score=u[A][I].score,O.wasCorrect=u[A][I].isCorrect),u[A]||(u[A]=[]),_.has(v,"scoreBreakup")&&(v.scoreBreakup=ScoreBreakup(v.scoreBreakup)),u[A].push({...v,attempt:I,isEvaluated:!0}),l.push(A),P?(a.marks=v.marks?a.marks+(v.marks-O.marks):null,a.score+=v.score-O.score,a.totalCorrect+=(v.isCorrect?1:0)-(O.wasCorrect?1:0)):(v.marks&&(a.marks=v.marks?a.marks+v.marks:v.marks),a.score+=v.score,a.totalCorrect+=v.isCorrect?1:0)}),_.forEach(n,d=>{a.score+=d.details.score}),a.accuracy=Math.floor(a.totalCorrect/t.length*100),{player:a,questionResponses:u,answeredQuestions:l}}function getInitialState$d(){return{playerId:"",monsterId:1,previousPlayerRank:-1,rank:-1,score:0,marks:0,currentStreak:0,previousStreak:0,longestStreak:0,accuracy:"",previousAccuracy:"",totalCorrect:0,lastGamePlayed:{},isAllowed:!0,isOver:!1,hasJoinedTheGame:!1,currentGameAttempts:[],scoreTrail:[],extraLife:[],totalPossibleMarks:0,firstAttempts:0,firstCorrectAttempts:0,firstAttemptMarks:0,firstAttemptAccuracy:0,currentDifficulty:"",currentLevel:0,flaggedQuestions:[],selectedTabInReview:"all",tieredRank:{}}}const getters$9={},mutations$c={[MutationTypes.EXIT_GAME](e,t){const n=["lastGamePlayed"];t.preservePlayerId&&n.push("playerId"),stateResetter(e,getInitialState$d(),n)},[MutationTypes.RESET_GAME](e,t){const n=["playerId","lastGamePlayed"];stateResetter(e,getInitialState$d(),n)},[MutationTypes.S_JOIN_ROOM_IN_PROGRESS]:inProgressMacroHandler,[MutationTypes.S_JOIN_ROOM_RESPONDED](e,t){const n=t.player.id,r=_.get(t,"room.players"),o=_.get(t,"player.attempts");let s=e.rank,a=e.currentGameAttempts;if(Array.isArray(r)){const u=_.findIndex(r,{playerId:n});s=r[u]&&r[u].rank||u+1}isEmpty(o)||(a=[...o]),e.playerId=n,e.monsterId=t.player.monsterId,e.rank=s,e.isAllowed=isAllowedMacroHandler(e,t),e.isOver=isOverMacroHandler(e,t),e.currentGameAttempts=a,e.extraLife=t.player.extraLife,e.totalPossibleMarks=t.player.totalPossibleMarks||0},[MutationTypes.S_CHECK_ROOM_RESPONDED]:checkRoomMacroHandler,[MutationTypes.S_CHECK_ASSIGNMENT_RESPONDED]:checkRoomMacroHandler,[MutationTypes.JOIN_SOLO_GAME_IN_PROGRESS]:inProgressMacroHandler,[MutationTypes.JOIN_SOLO_GAME_RESPONDED](e,t){const n=t.player.id,r=t.generatedPlayers;let o=e.rank;if(Array.isArray(r)){const s=_.findIndex(r,{playerId:n});o=r[s]&&r[s].rank||s+1}e.playerId=n,e.monsterId=t.player.monsterId,e.rank=o,e.previousPlayerRank=_.get(t,"generatedPlayers.length",e.previousPlayerRank),e.isAllowed=isAllowedMacroHandler(e,t),e.isOver=isOverMacroHandler(e,t)},[MutationTypes.REJOIN_GAME_IN_PROGRESS]:inProgressMacroHandler,[MutationTypes.REJOIN_GAME_RESPONDED](e,t){const n=t.player.id,r=t.room.type,o=isAnAssignedGame(r)?_.get(t,"room.players"):t.generatedPlayers,s=_.get(t,"player.attempts"),a=_.get(t,"player.scoreTrail",[]);let u=e.rank,l=e.currentGameAttempts;if(Number(t.player.rank)>=0)u=t.player.rank;else if(Array.isArray(o)){const m=_.findIndex(o,{playerId:n});u=o[m]&&o[m].rank||m+1}isEmpty(s)||(l=[...s]),e.playerId=n,e.currentGameAttempts=l,e.rank=u,e.monsterId=t.player.monsterId,e.previousPlayerRank=_.get(t,"generatedPlayers.length",e.previousPlayerRank),e.isAllowed=isAllowedMacroHandler(e,t),e.isOver=isOverMacroHandler(e,t),e.scoreTrail=a,e.extraLife=t.player.extraLife,updatePlayerStats(e,t.player)},[MutationTypes.REJOIN_GAME_RESPONDED_WITH_ERR](e,t){e.hasJoinedTheGame=!1},[MutationTypes.UPDATE_PLAYER_NAME](e,t){e.playerId=t.playerName},[MutationTypes.PREVIOUS_CONTEXT_LOADED](e,t){e.playerId=_.get(t,"currentPlayer.playerId",e.playerId),e.monsterId=_.get(t,"currentPlayer.monsterId",e.monsterId),e.lastGamePlayed=isEmpty(t.game)?e.lastGamePlayed:{...t.game}},[MutationTypes.USER_SIGNED_OUT](e,t){e.playerId=getInitialState$d().playerId,e.lastGamePlayed=getInitialState$d().lastGamePlayed},[MutationTypes.GAME_COMPLETED](e,t){e.rank=_.isNumber(t.currentPlayerRank)?t.currentPlayerRank:e.rank,e.previousPlayerRank=_.isNumber(t.previousPlayerRank)?t.previousPlayerRank:e.previousPlayerRank,e.isOver=!0},[MutationTypes.GAME_STOPPED](e,t){e.rank=_.isNumber(t.currentPlayerRank)?t.currentPlayerRank:e.rank,e.previousPlayerRank=_.isNumber(t.previousPlayerRank)?t.previousPlayerRank:e.previousPlayerRank,e.isOver=!0},[MutationTypes.GAME_ENDED](e,t){e.isOver=!0},[MutationTypes.SET_CURRENT_PLAYER_RANK](e,t){e.rank=t.currentPlayerRank},[MutationTypes.PROCEED_GAME_RESPONDED](e,t){e.rank=t.currentPlayerRank,e.previousPlayerRank=t.previousPlayerRank,e.extraLife=t.extraLife,e.currentDifficulty=t.currentDifficulty,updatePlayerStats(e,t.playerStats)},[MutationTypes.POWERUP_ACTIVATED_FROM_MYSTERY_BOX](e,t){const{score:n,currentStreak:r}=t;e.previousStreak=e.currentStreak,e.currentStreak=r,e.score+=n},[MutationTypes.UPDATE_STREAK](e,t){const{currentStreak:n}=t;e.previousStreak=e.currentStreak,e.currentStreak=n},[MutationTypes.UPDATE_FLAGGED_QUESTION](e,t){const n=e.flaggedQuestions.indexOf(t);n>=0?e.flaggedQuestions.splice(n,1):e.flaggedQuestions.push(t)},[MutationTypes.UPDATE_SELECTED_TAB_IN_REVIEW](e,t){e.selectedTabInReview=t},[MutationTypes.SET_INCOMPLETE_GAME](e,t){const n=t.game.data,r=t.game.questions,o=t.game.player,s=t.user.profile,a=t.game.flow;e.lastGamePlayed={quizId:n.quizId,quizName:n.quizName,quizImage:n.image,grade:n.grade,subjects:n.subjects,createdAt:n.createdAt,isClassroomGame:n.isClassroomGame,classroomInfo:n.classroomInfo,roomCode:n.roomCode,roomHash:n.roomHash,gameType:n.gameType,gameMode:n.gameMode,expiry:n.expiry,numQuestions:r.initSequence.length,numQuesAttempted:_.keys(r.questionResponses).length,numCorrect:o.totalCorrect,accuracy:o.accuracy,playerId:o.playerId,playerUsername:s.userName,isOver:o.isOver,questionTimer:a.questionTimer}},[MutationTypes.UPDATE_INCOMPLETE_GAME](e,t){if(t.isComplete){e.lastGamePlayed=getInitialState$d().lastGamePlayed;return}const n={...e.lastGamePlayed};n.numQuesAttempted=t.playerStats.numQuesAttempted,n.accuracy=t.playerStats.accuracy,n.lastVisibleQuestionId=t.lastVisibleQuestionId,n.isOver=t.isOver,n.questionTimer=t.questionTimer,e.lastGamePlayed=n},[MutationTypes.USER_SIGNED_IN](e,t){const n=e.lastGamePlayed;isEmpty(n)||(!n.playerUsername||n.playerUsername&&n.playerUsername!==t.user.userName)&&(e.lastGamePlayed=getInitialState$d().lastGamePlayed)},[MutationTypes.CLEAR_INCOMPLETE_GAME](e,t){e.lastGamePlayed=getInitialState$d().lastGamePlayed},[MutationTypes.UPDATE_PLAYER_INFO_FOR_RETRY](e,t){e.isAllowed=!0,e.isOver=!1},[MutationTypes.PLAYER_JOINED_THE_GAME](e,t){e.hasJoinedTheGame=!0},[MutationTypes.ENTER_LMS_FLOW](e,t){e.hasJoinedTheGame=!1},[MutationTypes.UPDATE_PLAYER_STATS]:updatePlayerStats,[MutationTypes.UPDATE_PREVIOUS_ACCURACY](e,t){e.previousAccuracy=e.accuracy}},actions$c={updateIncompleteGame({state:e,rootState:t,commit:n,getters:r}){const o=e.lastGamePlayed;if(o&&_.isPlainObject(o)&&!isEmpty(o)){const s=updateIncompleteGameCooker(t,r);n(MutationTypes.UPDATE_INCOMPLETE_GAME,s)}},setIncompleteGame({rootState:e,commit:t}){t(MutationTypes.SET_INCOMPLETE_GAME,e)},updateStreak({state:e,commit:t},{previousStreak:n,currentStreak:r}){const o=_.isNumber(n)?n:e.currentStreak;t(MutationTypes.UPDATE_STREAK,{currentStreak:r,previousStreak:o})},updateflaggedQuestions({rootState:e,commit:t}){const n=e.game.questions.currentId;t(MutationTypes.UPDATE_FLAGGED_QUESTION,n)},updateSelectedTabInReview({rootState:e,commit:t},n){t(MutationTypes.UPDATE_SELECTED_TAB_IN_REVIEW,n)},updatePreviousAccuracy({commit:e}){e(MutationTypes.UPDATE_PREVIOUS_ACCURACY)}},player={state:getInitialState$d(),getters:getters$9,mutations:mutations$c,actions:actions$c};function inProgressMacroHandler(e,t){e.playerId=t.playerName,e.isAllowed=!0,e.isOver=!1,e.hasJoinedTheGame=!1}function isAllowedMacroHandler(e,t){const n=_.get(t,"player.isAllowed");return _.isBoolean(n)?n:e.isAllowed}function isOverMacroHandler(e,t){const n=_.get(t,"player.isOver");return _.isBoolean(n)?n:e.isOver}function checkRoomMacroHandler(e,t){const n=t.room&&t.player&&t.player.attempts;isEmpty(n)||(e.currentGameAttempts=[...n]),e.currentGameAttempts=getInitialState$d().currentGameAttempts}function updatePlayerStats(e,t){isEmpty(t)||(e.score=t.score,e.marks=t.marks,e.totalCorrect=t.totalCorrect,e.accuracy=t.accuracy,e.previousStreak=e.currentStreak,e.currentStreak=t.currentStreak,e.firstAttempts=t.firstAttempts,e.firstCorrectAttempts=t.firstCorrectAttempts,e.firstAttemptMarks=t.firstAttemptMarks,e.firstAttemptAccuracy=t.firstAttemptAccuracy,e.totalPossibleMarks=t.totalPossibleMarks||0,e.currentDifficulty=e.currentDifficulty,t.tieredRank&&(e.tieredRank=t.tieredRank),t.currentStreak>e.longestStreak&&(e.longestStreak=t.currentStreak))}function getInitialState$c(){return{teamId:"",name:"",totalPlayers:0,previousRank:-1,rank:-1,score:0}}const getters$8={},mutations$b={[MutationTypes.S_JOIN_ROOM_RESPONDED](e,t){e.teamId=_.get(t,"player.teamId",e.teamId),e.name=_.get(t,"player.currentTeamName",e.name),e.totalPlayers=_.get(t,"player.currentTeamTotalPlayers",e.totalPlayers)},[MutationTypes.REJOIN_GAME_RESPONDED](e,t){e.teamId=_.get(t,"player.teamId",e.teamId),e.name=_.get(t,"player.currentTeamName",e.name),e.rank=_.get(t,"player.currentTeamRank",e.rank),e.totalPlayers=_.get(t,"player.currentTeamTotalPlayers",e.totalPlayers),e.score=_.get(t,"player.currentTeamScore",e.score)},[MutationTypes.S_TEAM_PLAYER_SHUFFLED](e,t){e.teamId=_.get(t,"teamId",e.teamId),e.name=_.get(t,"currentTeamName",e.name),e.totalPlayers=_.get(t,"currentTeamTotalPlayers",e.totalPlayers)},[MutationTypes.SET_CURRENT_TEAM_RANK](e,t){e.previousRank=e.rank,e.rank=_.get(t,"currentTeamRank",e.rank),e.score=_.get(t,"currentTeamScore",e.score)},[MutationTypes.PROCEED_GAME_RESPONDED](e,t){e.rank=_.get(t,"currentTeamRank",e.rank),e.previousRank=_.get(t,"previousTeamRank",e.previousRank),e.score=_.get(t,"currentTeamScore",e.score)},[MutationTypes.GAME_STARTED](e,t){e.teamId=_.get(t,"teamId",e.teamId),e.totalPlayers=_.get(t,"currentTeamTotalPlayers",e.totalPlayers)},[MutationTypes.GAME_COMPLETED](e,t){e.previousRank=_.get(t,"previousTeamRank",e.previousRank),e.rank=_.get(t,"currentTeamRank",e.rank),e.score=_.get(t,"currentTeamScore",e.score)},[MutationTypes.GAME_STOPPED](e,t){e.previousRank=_.get(t,"previousTeamRank",e.previousRank),e.rank=_.get(t,"currentTeamRank",e.rank),e.score=_.get(t,"currentTeamScore",e.score)},[MutationTypes.S_NEW_PLAYER_JOINED](e,t){t.isNewPlayerFromCurrentTeam&&(e.totalPlayers+=1)},[MutationTypes.S_PLAYER_DELETED](e,t){t.isOldPlayerFromCurrentTeam&&(e.totalPlayers-=1)}},actions$b={},team={state:getInitialState$c(),getters:getters$8,mutations:mutations$b,actions:actions$b};function getInitialState$b(){return{list:{},initSequence:[],doneOrder:[],remainingOrder:[],currentId:"",skippedQuestions:[],questionResponses:{},questionResponseStatuses:{},slidesFlowControlType:Constants.SlidesFlowControlTypes.PARTIAL,isInResponseReEditMode:!1,answerLaterQuestions:[],totalAnswerLaterQuestions:[],isUserOnReviewScreen:!1,incorrectQuestionAttempts:new Set,correctQuestionAttempts:new Set,doneQuestionsFrequency:{}}}const getters$7={currentQuestionNumber(e){return _.findIndex(e.initSequence,n=>n===e.currentId)+1},currentQuestion(e){const t=e.currentId;return t?(QLogger$1.invariant(t in e.list,`At state module 'game.questions': the current question Id(${e.currentId}) set does not exist in the questions list`),e.list[t]||{}):{}},doesCurrentQuestionHaveAnswerExplanation(e,t){const n=!isEmpty(_.get(t.currentQuestion,"explain.text","")),r=!isEmpty(_.get(t.currentQuestion,"explain.media",[]));return!isEmpty(t.currentQuestion.explain)&&(n||r)},isCurrentSlideForContent(e,t){return isSlideForContent(t.currentQuestion)},isCurrentSlideInteractable(e,t){return isSlideForQuestion(t.currentQuestion)},currentSlideState(e,t,n){if(isEmpty(t.currentQuestion))return Constants.SlideStates.INACTIVE;const{gameMode:r,gameType:o}=n.game.data;if(allowAnsweringAfterIncorrectAttempt({gameType:o,gameMode:r,isMasteryMode:t.isMasteryMode})&&e.currentId&&e.incorrectQuestionAttempts.has(e.currentId))return Constants.SlideStates.ACTIVE;const s=Object.values(Constants.SlideStates),a=_.includes(s,t.currentQuestion.state);return t.isSlideFlowControlTypePartial?a?t.currentQuestion.state:Constants.SlideStates.ACTIVE:(QLogger$1.invariant(a,`Getters.currentSlideState: Invalid question state found for question ${e.currentId}. Expected state to be one of [${s}] but found '${t.currentQuestion.state}'`),t.currentQuestion.state)},currentQuestionAttempts(e){return e.questionResponses[e.currentId]||[]},currentQuestionCurrentAttemptIndex(e,t,n){if(isEmpty(e.currentId))return-1;if(t.isCurrentSlideForContent||t.isSlideFlowControlTypeFull||t.isSlideFlowControlTypeNone)return 0;let r=0;const o=t.doneOrderForEvaluatedQuestions;for(let s=0;s<o.length;s++)o[s]===e.currentId&&(r+=1);return r},currentQuestionCurrentAttemptResponse(e,t){return!isEmpty(t.currentQuestionAttempts)&&t.currentQuestionCurrentAttemptIndex>=0?t.currentQuestionAttempts[t.currentQuestionCurrentAttemptIndex]||{}:{}},currentQuestionLatestReviewResponse(e,t){const n=t.currentQuestionAttempts.length;return n===1?t.currentQuestionAttempts[0]||{}:n>1?t.currentQuestionAttempts[n-1][n-1]?t.currentQuestionAttempts[n-1][n-1]:t.currentQuestionAttempts[n-1]:{}},currentQuestionCurrentAttemptAnswer(e,t){var n,r,o;return isEmpty((n=t.currentQuestionCurrentAttemptResponse)==null?void 0:n.answer)?{}:((o=(r=t.currentQuestionCurrentAttemptResponse)==null?void 0:r.answer)==null?void 0:o.find(s=>s.descriptor===Constants.AnswerResponseDescriptors.Answer))||{}},isCurrentQuestionCurrentAttemptResponseCorrect(e,t){return isEmpty(t.currentQuestionCurrentAttemptResponse.result)?t.currentQuestionCurrentAttemptResponse.isCorrect:[Constants.QuestionResultTypes.PARTIALLY_CORRECT,Constants.QuestionResultTypes.CORRECT].includes(t.currentQuestionCurrentAttemptResponse.result)},isCurrentQuestionCurrentAttemptResponsePartiallyCorrect(e,t){return isEmpty(t.currentQuestionCurrentAttemptResponse.result)?t.currentQuestionCurrentAttemptResponse.isCorrect:t.currentQuestionCurrentAttemptResponse.result===Constants.QuestionResultTypes.PARTIALLY_CORRECT},isCurrentQuestionSkipped(e,t,n){const r=e.currentId;return e.skippedQuestions.includes(r)&&!t.isUserOnReviewScreen},skippedQuestions(e){return e.skippedQuestions},numberOfCorrectOptions(e,t){return!t.hasCurrentQuestionBeenAnswered||t.totalNumberOfOptions===-1?-1:t.totalNumberOfOptions-t.incorrectOptionsForCurrentQuestion.length},totalNumberOfOptions(e,t){var n;if(isQuestionForDragAndDropOrDropdown(t.currentQuestion)){const r=getBlankIdsMappingFromHTML(t.currentQuestion.text);return(n=Object.keys(r))==null?void 0:n.length}return _.get(t.currentQuestion,"options.length",-1)},incorrectOptionsForCurrentQuestion(e,t){return isMatchOrReorderQuestion(t.currentQuestion)?t.incorrectIndicesForCurrentQuestion:t.wrongTargetOptionsForCurrentQuestion},incorrectIndicesForCurrentQuestion(e,t){let n=_.get(t.currentQuestionCurrentAttemptResponse,"metadata.wrongIndices",[]);return isEmpty(n)&&(n=_.get(t.currentQuestionExtraLifeInprogressAttemptResponse,"metadata.wrongIndices",[])),n},wrongTargetOptionsForCurrentQuestion(e,t){let n=_.get(t.currentQuestionCurrentAttemptResponse,"metadata.wrongTargetOptions",[]);return isEmpty(n)&&(n=_.get(t.currentQuestionExtraLifeInprogressAttemptResponse,"metadata.wrongTargetOptions",[])),n},doesCurrentQuestionHaveExtraLifeUtilisedStatus(e,t,n){const r=_.get(n.game.player,"extraLife",[]),o=_.find(r,a=>a.questionId===e.currentId);return isEmpty(o)?!1:o.status===Constants.ExtraLifeStatus.UTILISED},doesCurrentQuestionHaveExtraLifeInProgressStatus(e,t,n){const r=_.get(n.game.player,"extraLife",[]),o=_.find(r,a=>a.questionId===e.currentId);return isEmpty(o)?!1:o.status===Constants.ExtraLifeStatus.IN_PROGRESS},isCurrentQuestionForExtraLifeAttempt(e,t,n){const r=_.get(n,"game.data.quizTraits.extraLifeQuestionTypes",[]),o=!isEmpty(t.currentQuestionExtraLifeInprogressAttemptResponse),s=r.includes(t.currentQuestion.type),a=e.totalAnswerLaterQuestions.includes(e.currentId);return t.isExtraLifeOn&&s&&o&&!a},currentQuestionExtraLifeInprogressAttemptResponse(e,t){return t.doesCurrentQuestionHaveExtraLifeInProgressStatus?_.find(t.currentQuestionAttempts,n=>n.attempt===0)||{}:{}},currentQuestionExtraLifeUtilisedAttemptResponse(e,t){return t.doesCurrentQuestionHaveExtraLifeUtilisedStatus?_.find(t.currentQuestionAttempts,n=>n.attempt===1)||{}:{}},isCurrentAttemptBeingEvaluated(e,t,n){const r=n.applicationContext.callsInProgress,o=e.currentId;return checkIfCallInProgress(`proceedGame.${o}`,r).isIt||checkIfCallInProgress(`proceedSoloGame.${o}`,r).isIt},isCurrentQuestionCurrentAttemptEvaluated(e,t){return!t.isAnswerLaterQuestion&&!isEmpty(t.currentQuestionCurrentAttemptResponse)?t.currentQuestionCurrentAttemptResponse.isEvaluated===!0:!1},hasCurrentQuestionBeenAnswered(e,t){return!isEmpty(e.currentId)&&!isEmpty(t.currentQuestionCurrentAttemptResponse)&&!t.isCurrentQuestionForExtraLifeAttempt&&!t.isAnswerLaterQuestion||t.isCurrentQuestionSkipped},totalQuestionsInGame(e){return e.initSequence.length},totalInteractiveSlidesInGame(e,t){return t.allInteractionSlideIds.length},totalQuestionsRemaining(e){return e.remainingOrder.length},totalQuestionAttempted(e,t){return t.doneOrderForEvaluatedQuestions.length+(e.currentId?1:0)},totalInteractiveSlidesAttempted(e,t){return _.reduce(e.doneOrder,(r,o)=>_.includes(t.allInteractionSlideIds,o)?r+1:r,0)+(e.currentId?1:0)},allInteractionSlideIds(e){return _.filter(e.initSequence,t=>e.list[t].type!==Constants.QuestionTypes.CONTENT_SLIDE&&e.list[t].type!==Constants.QuestionTypes.CONTENT_SLIDE_V2)},allOrderedResponses(e,t){const n=t.allAnsweredQuestionsOrder,r=[],o={};for(let s=0;s<n.length;s++){const a=n[s];if(!isEmpty(e.questionResponses[a])){o[a]=_.isNumber(o[a])?o[a]+1:0;const l=e.questionResponses[a][o[a]];l&&r.push(l)}}return r},allInteractiveSlidesOrderedResponses(e,t){return _.filter(t.allOrderedResponses,n=>n.questionType!==Constants.QuestionTypes.CONTENT_SLIDE&&n.questionType!==Constants.QuestionTypes.CONTENT_SLIDE_V2)},allAnsweredQuestionsOrder(e,t,n){if(t.isSlideFlowControlTypeFull||t.isSlideFlowControlTypeNone){const o=_.keys(e.questionResponses),s=_.filter(t.doneOrderForEvaluatedQuestions,u=>o.includes(u)),a=_.reverse(_.uniq(_.reverse(s)));return _.reduce(a,(u,l)=>(o.includes(l)&&u.push(l),u),[])}const r=[...t.doneOrderForEvaluatedQuestions];return t.hasCurrentQuestionBeenAnswered&&r.push(e.currentId),r},allAttemptsCorrectResponses(e,t){return _.filter(t.replacedByRedemptionOrderedResponses,n=>n.isCorrect===!0)},currentQuestionResponseType(e,t){return t.isCurrentQuestionForExtraLifeAttempt?Constants.QuestionResponseTypes.EXTRA_LIFE:t.isCurrentQuestionForRedemptionAttempt?Constants.QuestionResponseTypes.REDEMPTION:Constants.QuestionResponseTypes.ORIGINAL},isCurrentQuestionForRedemptionAttempt(e,t,n){if(t.isMasteryMode||n.game.data.gameMode===Constants.GameMode.MYSTIC_PEAK)return!1;const r=t.isCurrentQuestionForExtraLifeAttempt||!isEmpty(t.currentQuestionExtraLifeUtilisedAttemptResponse);return t.currentQuestionCurrentAttemptIndex>=1&&!r&&!t.isUserOnReviewScreen},isCurrentQuestionForOriginalAttempt(e,t){return t.currentQuestionCurrentAttemptIndex===0},orderedOriginalResponses(e,t){return _.filter(t.allOrderedResponses,n=>n.attempt===0&&isSlideForQuestion(n))},orderedRedemptionResponses(e,t){return _.filter(t.allOrderedResponses,{attempt:1})},replacedByRedemptionOrderedResponses(e,t){return _.map(t.orderedOriginalResponses,n=>{const r=n.questionId,o=e.questionResponses[r];return o[o.length-1]})},areQuestionAttemptsLeft(e,t,n){const r=n.game.data.gameType,o=n.game.data.gameMode,s=n.game.data.gameOptions,a=e.answerLaterQuestions.length,u=[r,o,s,t.orderedOriginalResponses.length];let l;return n.game.data.gameOptions.hasRedemptionPass===Constants.GameOptionsValues.hasRedemptionPass.YES?l=RedemptionQuizConfig.noOfRedemptionAttemptsRequiredSoFar(...u):l=RedemptionQuestionConfig.noOfRedemptionAttemptsRequiredSoFar(...u),t.totalInteractiveSlidesAttempted<t.totalInteractiveSlidesInGame+l+a},progressOfOriginalQuestions(e,t){let n=t.orderedOriginalResponses.length;return t.isCurrentQuestionForOriginalAttempt&&!t.hasCurrentQuestionBeenAnswered&&(n+=1),n},areAllRemainingQuestionsMSQ(e){const t=e.remainingOrder;return _.every(t,n=>e.list[n]&&e.list[n].type==="MSQ")},remainingQuestionsOptionsCount(e){const t=e.remainingOrder;return _.countBy(t,n=>e.list[n]&&e.list[n].options.length)},doesRemainingQuestionsOptionsCountEqualsTwo(e,t){return _.has(t.remainingQuestionsOptionsCount,"2")?t.remainingQuestionsOptionsCount[2]===e.remainingOrder:!1},doesCurrentQuestionHaveCorrectAnswers(e,t){return doesQuestionHaveCorrectAnswer(t.currentQuestion)},isSlideFlowControlTypeNone(e){return e.slidesFlowControlType===Constants.SlidesFlowControlTypes.NONE},isSlideFlowControlTypePartial(e){return e.slidesFlowControlType===Constants.SlidesFlowControlTypes.PARTIAL},isSlideFlowControlTypeFull(e){return e.slidesFlowControlType===Constants.SlidesFlowControlTypes.FULL},answerLaterQuestions(e){return e.answerLaterQuestions},isAnswerLaterQuestion({answerLaterQuestions:e,currentId:t}){return e.includes(t)},doneOrderForEvaluatedQuestions({doneOrder:e,questionResponses:t,answerLaterQuestions:n},r,o){const s=[...e];return allowAnsweringAfterIncorrectAttempt({gameType:o.game.data.gameType,gameMode:o.game.data.gameMode,isMasteryMode:r.isMasteryMode})?s:n.length>0?s.filter(a=>{const u=t[a],l=0;return u&&u[l]&&!GameConstants.ANSWER_LATER_RESPONSE_STATES.includes(u[l].state)}):s},previousQuestionAddedToAnswerLater({answerLaterQuestions:e,doneOrder:t}){return e.length>0&&t.length&&e.includes(t[t.length-1])},totalAnswerLaterQuestions(e){return e.totalAnswerLaterQuestions.length},isUserOnReviewScreen(e,t,n){return e.isUserOnReviewScreen},areAllRemainingQuestionsFIB(e){return e.remainingOrder.every(n=>e.list[n]&&e.list[n].type===Constants.QuestionTypes.BLANK)},hasIncorrectAttemptForQuestion(e){return e.incorrectQuestionAttempts.has(e.currentId)},hasReachedMastery(e,t,n){var r;return n.game.player.accuracy>=((r=n.game.data.gameOptions.masteryMode)==null?void 0:r.goal)}},mutations$a={[MutationTypes.EXIT_GAME](e,t){stateResetter(e,getInitialState$b())},[MutationTypes.RESET_GAME](e,t){stateResetter(e,getInitialState$b())},[MutationTypes.SET_QUESTIONS](e,t){e.list=t.questions},[MutationTypes.SHOWING_REVIEW_SCREEN](e,{isShowing:t}){e.isUserOnReviewScreen=!0},[MutationTypes.JOIN_SOLO_GAME_RESPONDED]:gameJoinResponseHandler,[MutationTypes.S_JOIN_ROOM_RESPONDED]:gameJoinResponseHandler,[MutationTypes.REJOIN_GAME_RESPONDED](e,t){const{player:n}=t;gameJoinResponseHandler(e,t),e.questionResponses=n.responses,e.doneOrder=n.doneOrder},[MutationTypes.SET_CURRENT_QUESTION](e,t){e.currentId=t.questionId,e.doneOrder=t.doneOrder,e.remainingOrder=t.remainingOrder,e.isInResponseReEditMode=!1},[MutationTypes.PLAYER_QUESTIONS_OVER](e,t){e.doneOrder.push(e.currentId),e.currentId=getInitialState$b().currentId},[MutationTypes.COMPLETED_QUES_IMAGES_PREFETCH](e,t){const n=t.forQuestionId;n&&e.list[n]&&(e.list[n].imagesPrefetchDone=!0)},[MutationTypes.COMPLETED_QUES_AUDIO_PREFETCH](e,t){const n=t.forQuestionId;n&&e.list[n]&&(e.list[n].audioPrefetchDone=!0)},[MutationTypes.ANSWERED_CURRENT_QUESTION](e,t){const n={...e.questionResponses},r=t.response.questionId,o=_.isBoolean(t.shouldStoreResponseStatus)?t.shouldStoreResponseStatus:!0;if(n[r]=n[r]?n[r]:[],n[r][t.response.attempt]=t.response,e.questionResponses=n,e.isInResponseReEditMode=!1,o){const s={...e.questionResponseStatuses};s[r]=s[r]?s[r]:[],s[r][t.response.attempt]=Constants.QuestionResponseStatuses.NOT_SENT,e.questionResponseStatuses=s}},[MutationTypes.POWERUP_ACTIVATED_FROM_MYSTERY_BOX](e,t){const n={...e.questionResponses},r=t.questionId;n[r][t.attempt].scoreBreakup=t.scoreBreakup,n[r][t.attempt].score=t.score,e.questionResponses=n},[MutationTypes.PROCEED_GAME_IN_PROGRESS](e,t){e.questionResponseStatuses=t.allResponseStatuses},[MutationTypes.PROCEED_GAME_RESPONDED_WITH_ERROR](e,t){const n={...e.questionResponseStatuses},r=t.response.questionId,o=t.response.attempt;t.requestSucceeded?n[r][o]=Constants.QuestionResponseStatuses.SENT:n[r][o]=Constants.QuestionResponseStatuses.NOT_SENT,e.questionResponseStatuses=n},[MutationTypes.PROCEED_GAME_RESPONDED](e,t){e.questionResponseStatuses=t.allResponseStatuses,updateQuestionResponse(e,t)},[MutationTypes.CHANGE_REMAINING_QUESTIONS_ORDER](e,t){e.remainingOrder=t.remainingOrder},[MutationTypes.ADD_QUESTION_TO_DONE_ORDER](e,t){e.doneOrder.push(t.questionId)},[MutationTypes.UPDATE_SKIPPED_QUESTIONS](e,t){e.skippedQuestions.push(t)},[MutationTypes.UPDATE_SLIDE](e,t){const n=t.slide.id,r=t.slide,o=e.list[n],s={...o,state:_.get(r,"state",o.state),answer:_.get(r,"answer",o.answer),options:_.get(r,"options",o.options),metadata:{...o.metadata||{},currentBulletIndex:_.get(r,"metadata.currentBulletIndex",o.metadata.currentBulletIndex),isTimerPaused:_.get(r,"metadata.isTimerPaused",o.metadata.isTimerPaused)}};r!=null&&r.answerGraph&&(s.answerGraph=r.answerGraph),e.list[n]=s},[MutationTypes.GAME_STARTED](e,t){if(!isEmpty(t.nextQuestion)){const n=_.get(t,"nextQuestion.questionId"),r=_.get(t,"nextQuestion.state","");e.list[n].state=r}},[MutationTypes.TOGGLE_RESPONSE_REDIT_MODE](e,t){e.isInResponseReEditMode=t.isInResponseReEditMode},[MutationTypes.UPDATE_QUESTION_RESPONSE]:updateQuestionResponse,[MutationTypes.UPDATE_QUESTION_RESPONSES](e,t){_.forEach(t.updatedResponses,n=>updateQuestionResponse(e,{updatedResponse:n}))},[MutationTypes.CLEAR_QUESTION_RESPONSE](e,t){const n=t.questionId,r=t.attempt,o=_.clone(e.questionResponses[n]);o.splice(r,1),e.questionResponses[n]=o},[MutationTypes.UPDATE_INCORRECT_ATTEMPT](e,{rootState:t}){e.remainingOrder=isMysticPeakGame(t.game.data.gameMode,t.game.data.gameType)?updateMysticPeakRemainingOrder({mysticPeakLevelMap:t.game.data.mysticPeakLevelMap,totalQuestionsInQuiz:t.game.data.totalQuestionsInQuiz,totalCorrect:t.game.player.totalCorrect,remainingOrder:e.remainingOrder,currentId:e.currentId}):updateRemainingOrder({remainingOrder:e.remainingOrder,currentId:e.currentId})},[MutationTypes.UPDATE_ANSWER_LATER_QUESTIONS](e,t){const n=_.uniq([...e.answerLaterQuestions,t.id]),r=_.uniq([...e.totalAnswerLaterQuestions,t.id]);e.answerLaterQuestions=n,e.totalAnswerLaterQuestions=r},[MutationTypes.ATTEMPTED_ANSWER_LATER_QUESTION](e){const{answerLaterQuestions:t,currentId:n}=e;e.answerLaterQuestions=[...t.filter(r=>r!==n)]},[MutationTypes.ADD_QUESTION_TO_INCORRECT_ATTEMPT](e){e.currentId&&e.incorrectQuestionAttempts.add(e.currentId)},[MutationTypes.REMOVE_QUESTION_FROM_INCORRECT_ATTEMPT](e){e.currentId&&e.incorrectQuestionAttempts.has(e.currentId)&&e.incorrectQuestionAttempts.delete(e.currentId)},[MutationTypes.ADD_QUESTION_TO_CORRECT_ATTEMPT](e){e.currentId&&e.correctQuestionAttempts.add(e.currentId)},[MutationTypes.UPDATE_DONE_QUESTIONS_FREQUENCY](e,{doneQuestionsFrequency:t}){e.doneQuestionsFrequency=t}},actions$a={toggleResponseReEditMode({commit:e},{isInResponseReEditMode:t=!1}={}){e(MutationTypes.TOGGLE_RESPONSE_REDIT_MODE,{isInResponseReEditMode:t})}},questions={state:getInitialState$b(),getters:getters$7,mutations:mutations$a,actions:actions$a};function gameJoinResponseHandler(e,t){var s;e.initSequence=t.room.questionIds,e.doneOrder=getInitialState$b().doneOrder,e.remainingOrder=[...t.room.questionIds],e.currentId=getInitialState$b().currentId,e.slidesFlowControlType=t.room.slidesFlowControlType,e.skippedQuestions=_.get(t,"player.skippedQuestions",[]);const n=_.get(t,"player.answerLaterQuestions",[]);e.answerLaterQuestions=n,e.totalAnswerLaterQuestions=n,e.isUserOnReviewScreen=_.get(t,"player.shouldShowReviewScreen",!1),e.correctQuestionAttempts=t.player&&t.player.correctQuestionAttempts||new Set,e.incorrectQuestionAttempts=t.player&&t.player.incorrectQuestionAttempts||new Set;const r=_.get(t,"player.remainingQuestionsOrder",null);_.isNil(r)?_.isNil(n)||(e.remainingOrder=n):e.remainingOrder=r;const o=(s=t.player)==null?void 0:s.doneOrder.reduce((a,u)=>(a[u]>=0?a[u]+=1:a[u]=0,a),{});e.doneQuestionsFrequency=o||{}}function updateQuestionResponse(e,t){if(!isEmpty(t.updatedResponse)){const n=t.updatedResponse,r=_.isNumber(n.attempt)?n.attempt:0,o=_.clone(e.questionResponses[n.questionId]);isEmpty(o[r])?o[r]=n:o[r]={...o[r],...n},_.get(n,"metadata.extraLifeStatus","")===Constants.ExtraLifeStatus.UTILISED&&o.forEach(s=>{isEmpty(s.metadata.extraLifeStatus)||(s.metadata.extraLifeStatus=Constants.ExtraLifeStatus.UTILISED)}),e.questionResponses[n.questionId]=o}}function cookJoinResponse(e,t,n,r=""){const o={},s=sanitizeRawResponse(n),a=getGameType(_.get(s,"room.type")),u=getGameMode(_.get(s,"room.type")),l=getSlidesFlowControlType(a,u);let m=t;switch(t||(m=isAnAssignedGame(a)?"live-async":"solo"),m){case"solo":!_.isNumber(s.player.monsterId)&&_.isNumber(s.player.monster)&&(s.player.monsterId=s.player.monster);case"live-async":const y=_.pickBy(s.room,(me,pe)=>!_.includes(["options","questions","questionIds"],pe)),d=_.clone(s.player),f=_.get(s,"room.teams",[]);let v=y.totalAnswerableQuestions;const A=_.get(y,"traits.totalSlides",null);_.isNumber(v)||(v=_.isNumber(A)?s.room.questions.length-A:s.room.questions.length);const I=v,{questionIds:P,questions:O,remainingQuestionsOrder:R,doneOrder:M,questionResponses:k,skippedQuestions:U,extraLifeQuestions:Q,answerLaterQuestions:B,shouldShowReviewScreen:W,correctQuestionAttempts:Z,incorrectQuestionAttempts:j,isAdaptiveLearningGame:J}=processQuestions(s,r),ee={type:Constants.GameGroupType.NONE,ids:Array.isArray(y.groupIds)?y.groupIds:[],createToken:_.get(y.groupsInfo,"create.token")||null,sourceRequest:""};let ae=[];y.totalQuestionsInQuiz=I,y.questionIds=P,y.questions=O,y.options=_.isString(s.room.options)?JSON.parse(s.room.options):s.room.options,y.options=serverGameOptionsCooker(y.options),y.players=_.map(y.players,Player),d.responses=k,d.remainingQuestionsOrder=R,d.doneOrder=M,d.skippedQuestions=U,d.extraLife=Q,d.score=s.player.score,d.marks=s.player.marks,d.longestStreak=s.player.maximumStreak||0,d.answerLaterQuestions=B,d.shouldShowReviewScreen=W,d.incorrectQuestionAttempts=j,d.correctQuestionAttempts=Z,d.powerups=_.map(d.powerups,me=>({id:me._id,name:me.name,status:me.status,meta:me.meta})),d.powerupEffects=_.map(d.powerupEffects,me=>({id:me._id,name:me.name,status:me.status,meta:me.meta,powerupId:me.powerupId})),_.isNumber(s.player.totalCorrect)?d.totalCorrect=s.player.totalCorrect:a===Constants.GameType.SOLO?d.totalCorrect=_.isNumber(s.room.totalCorrect)?s.room.totalCorrect:0:d.totalCorrect=0,(!d.responses||d.responses.length<=0)&&(d.marks=0),d.marks||(d.marks=0,_.map(d.responses,me=>{_.map(me,pe=>{d.marks+=pe.isCorrect&&_.isNumber(pe.marks)?pe.marks:0})}));let ne=0,fe=0,ge=0;const Le=_.flatten(Object.values(d.responses));for(let me=0;me<Le.length;me+=1)Le[me].attempt===0&&(ne+=1,Le[me].isCorrect&&(fe+=1),Le[me].marks>0&&(ge+=Le[me].marks));d.firstAttempts=ne,d.firstCorrectAttempts=fe,d.firstAttemptMarks=ge;const Ge=J?d.totalPossibleMarks:y.totalPossibleMarks,rt=J?y.options.questionsPerAttempt:I;if(Ge>0?(d.accuracy=Math.round(d.marks*100/Ge),d.firstAttemptAccuracy=Math.round(d.firstAttemptMarks*100/Ge)):Ge===0?(d.accuracy=Math.round(d.totalAttempt*100/rt),d.firstAttemptAccuracy=Math.round(d.firstAttempts*100/rt)):(d.accuracy=Math.round(d.totalCorrect*100/rt),d.firstAttemptAccuracy=Math.round(d.firstCorrectAttempts*100/rt)),_.isNil(y.quizId)&&(y.quizId=""),_.isNil(y.quizName)&&(y.quizName=""),d.teamId){const me=getTeamsAfterUpdatingRank(f),pe=_.find(me,le=>le.teamId===d.teamId);pe&&(d.currentTeamName=pe.teamName,d.currentTeamRank=pe.rank,d.currentTeamTotalPlayers=pe.totalPlayers,d.currentTeamScore=pe.score)}if(u===Constants.GameMode.PRESENTATION&&!isEmpty(d.remainingQuestionsOrder)){const pe=_.findIndex(y.questionIds,le=>le===d.remainingQuestionsOrder[0])-1;pe>=0&&(d.doneOrder=_.slice(y.questionIds,0,pe+1))}ee.ids.length>0&&(ee.type=ee.createToken?Constants.GameGroupType.GROUP_CREATION:Constants.GameGroupType.ONLY_ASSIGNED,ee.sourceRequest=e),y.groupData=ee,y.teams=f,o.room=y,o.player=d,o.questionStates=s.questionStates,o.question=s.question,o.isAChallengeGame=y.type===Constants.GameMode.CHALLENGE,o.leaderboard=[],o.isAChallengeGame&&(ae=_.orderBy(_.get(s,"room.players",[]),["score"],["desc"]),ae=_.map(ae,(me,pe)=>({..._.pick(me,["playerId","monsterId","score","origin","currentStreak","totalAttempt","totalCorrect","totalResponses","isOver"]),rank:pe+1,isProfane:isProfane(me.playerId)})),o.leaderboard=ae);break}return o.room.type=a,o.room.mode=u,o.room.slidesFlowControlType=l,s.forcedRedirect&&(o.forcedRedirect=s.forcedRedirect),_.cloneDeep(o)}function processQuestions(e,t=""){const{room:n={},player:r={}}=e,o=getGameType(n.type),s=getGameMode(n.type),a=n.state,u=getSlidesFlowControlType(o,s),m=!(u===Constants.SlidesFlowControlTypes.PARTIAL),y=_.isString(n.options)?JSON.parse(n.options):n.options,d=serverGameOptionsCooker(y),f=_.isNumber(d.questionsPerAttempt)&&d.questionsPerAttempt>=1,v=prepareQuestions(n.questions,{dataIsStrigified:!1,forGameBeingPlayed:!0,slidesFlowControlType:u}),A=getSkippedQuestions(n,r),I=getExtraLifeQuestions(n,r),P=getExtraLifeInProgressQuestion(n,r),O=d.masteryMode&&!isEmpty(d.masteryMode);let R=GameConstants.MASTERY_MODE_REATTEMPTS.unlimited;O&&(R=GameConstants.MASTERY_MODE_REATTEMPTS[d.masteryMode.reattempts]);let M=n.questionIds,k=[],U=[],Q=[],B=r.responses;const W=d.reviewAndSubmit&&shouldUserSeeReviewScreen(o,s,B,n.questionIds.length),Z=getAnswerLaterQuestions(B,W),j=getCorrectAttempts(B),J=getIncorrectAttempts(B,j);if(s===Constants.GameMode.FLASHCARD&&(M=_.filter(M,fe=>{const ge=v[fe];return doesQuestionHaveCorrectAnswer(ge)&&(ge.type===Constants.QuestionTypes.MCQ||ge.type===Constants.QuestionTypes.MSQ||ge.type===Constants.QuestionTypes.BLANK||ge.type===Constants.QuestionTypes.EQUATION)})),f){const fe=r.questions,ge=[];_.forEach(M,Le=>{_.includes(fe,Le)&&ge.push(Le)}),M=ge}const ee=allowAnsweringAfterIncorrectAttempt({gameMode:s,gameType:o,isMasteryMode:O});O&&Constants.GameMode.MASTERY_MODE;const ae=cookServerPlayerResponses(r.responses,M,r.scoreTrail,u);Q=ae.answeredQuestions,U=_.clone(M),k=M,isEmpty(ae.questionResponses)||(B=ae.questionResponses),A.length&&(Q=Q.concat(A));const ne=Q.reduce((fe,ge)=>(fe[ge]>=0?fe[ge]+=1:fe[ge]=0,fe),{});if(m){const fe=_.get(n,"metadata.qId",null),ge=_.get(r,"playerMetadata.qId",null),Le=fe||ge;let Ge;if(u===Constants.SlidesFlowControlTypes.NONE)Ge=Le||M[0];else if(Le)if(A.includes(Le)){const me=A[A.length-1],pe=_.findIndex(k,le=>le===me)+1;Ge=M[pe]}else Ge=Le;else for(let me=0;me<M.length;me++)if(!_.includes(ae.answeredQuestions,M[me])){Ge=M[me];break}const rt=_.findIndex(k,me=>me===Ge);U=_.slice(k,Math.max(rt,0)),(a===Constants.GameState.COMPLETED||a===Constants.GameState.STOPPED)&&(Ge=null,U=[])}else if(Q.length===0)n.options.jumble&&(k=_.shuffle(M),U=_.clone(k));else{const fe=_.uniq(Q);let ge=_.difference(M,fe);if(ee){const Le=[...J].filter(Ge=>!j.has(Ge)).filter(Ge=>R===GameConstants.MASTERY_MODE_REATTEMPTS.unlimited?!0:ne[Ge]<R);ge=[...ge,...Le]}n.options.jumble&&(ge=_.shuffle(ge)),t&&_.includes(ge,t)&&(ge=_.without(ge,t),ge.unshift(t)),isEmpty(P)||(ge=_.without(ge,P.questionId),ge.unshift(P.questionId)),k=_.uniq(_.concat(fe,ge)),U=_.clone(ge)}return{questionIds:k,questions:v,remainingQuestionsOrder:U,doneOrder:Q,questionResponses:B,skippedQuestions:A,extraLifeQuestions:I,answerLaterQuestions:Z,correctQuestionAttempts:j,incorrectQuestionAttempts:J,isAdaptiveLearningGame:f,shouldShowReviewScreen:W,doneQuestionsFrequency:ne}}function sanitizeRawResponse(e){return _.isPlainObject(e.player)&&(Array.isArray(e.player.responses)||(e.player.responses=[])),e}function checkRoomRequestCooker(e,t){const n={roomCode:t},r=isValidRoomCode(t);return e.user.profile.isLoggedIn&&(n.mongoId=e.user.profile.mongoId),{payload:n,isAValidGameCode:r}}function checkRoomResponseCooker(e,t,n){const{room:r,player:o}=t;let s=!1,a=!1,u=!1,l=!1,m=!1,y=r;if(r&&r.hash&&(s=!0,r.version&&areQuestionTypesSupported(r.version))){let d=null;u=!0,r.type===Constants.GameType.ASYNC&&r.createdAt&&r.expiry&&(d=getDateGameWillExpireOn(r).willExpireOn.getTime()),a=!!d&&d-Date.now()<=0,a||(y=cookCheckRoomResponse(r,"checkRoom",{roomCode:n}),l=y.groupData.type!==Constants.GameGroupType.NONE,m=y.groupData.type===Constants.GameGroupType.GROUP_CREATION)}return{isRoomCodeValid:s,isRoomExpired:a,areQuestionVersionsSupported:u,room:y,player:o||null,isAGroupGame:l,isAGroupCreationGame:m}}function checkAssignmentRequestCooker(e,t,n){const{game:r,user:{profile:{isLoggedIn:o,mongoId:s}}}=e,a={startSource:n};let u={};return t&&!isEmpty(t)?u={...t}:u={...r.data.classroomInfo},o&&(u.mongoId=s),{actionData:a,payload:u}}function checkAssignmentResponseCooker(e,t,n){const{room:r,player:o,lmsInfo:s}=t,a=r&&r.hash;let u=!1,l=!1,m=!1,y=r;return a&&r.version&&areQuestionTypesSupported(r.version)&&(u=!0,y=cookCheckRoomResponse(r,"checkAssignment",{lmsInfo:n}),l=y.groupData.type!==Constants.GameGroupType.NONE,m=y.groupData.type===Constants.GameGroupType.GROUP_CREATION),{isValidGame:a,areQuestionVersionsSupported:u,room:y,player:o||null,lmsInfo:s||n||null,isAGroupGame:l,isAGroupCreationGame:m}}function getAttemptsLimitFromResponse(e,t="checkRoom"){if(t==="joinRoom"){const r=_.get(e,"room.options","{}");let o=r;return _.isObject(o)||(o=JSON.parse(r)),_.isNumber(o.limitAttempts)?o.limitAttempts:5}const n=_.get(e,"room.options.limitAttempts");return _.isNumber(n)?n:5}function joinRoomRequestCooker(e,t,n,r,o=-1){const s=_.clone(e.game.flow.startSource),a=isEmpty(s)?r:s,u=preparePlayerDataForJoin(e,n,a,"joinRoom",o);return{actionData:{roomHash:t,playerName:u.id,startSource:a},callPayload:{roomHash:t,player:u,powerupInternalVersion:_.toString(PowerupsConfigManager$1.CURRENT_CONFIG_API_VERSION)}}}function joinRoomResponseCooker(e,t,n=!1,r=!1){const o=e&&!isEmpty(e.player),s=_.get(e,"powerupConfigVersion","1");let a=null,u=!1,l="";if(o){a=cookJoinResponse("join","live-async",e),a.powerupConfigVersion=s;const m=getDateGameWillExpireOn(a.room).willExpireOn;a.room.type===Constants.GameType.ASYNC&&(u=m.getTime()-Date.now()<=0),u&&(l+=getFormattedDate(m)),e.isCertificationGame&&Object.assign(a,{isCertificationGame:e.isCertificationGame}),e.isCertificationGame&&e.certificationRegion&&Object.assign(a,{certificationRegion:e.certificationRegion}),e.forcedRedirect&&Object.assign(a,{forcedRedirect:e.forcedRedirect})}return{isValidGame:o,response:a,hasGameExpired:u,formattedExpiryDate:l,forcePageChange:n,preventPageChange:r}}function joinRoomErrorResponseCooker(e){const t="dialog";let n=!1,r=!1,o=!1;const s=getResponseErrorType(e),a=_.get(e,"response.room",{}),u=_.get(e,"response.player",{}),l=_.get(a,"options",null),m=_.get(e,"response.meta",{}),y={isAllowed:_.get(e,"response.player.isAllowed",!0),isOver:_.get(e,"response.player.isOver",!0),isForbidden:_.get(e,"response.player.isForbidden"),room:a,player:u};if(y.room.options=_.isString(l)?serverGameOptionsCooker(JSON.parse(l)):serverGameOptionsCooker(l),s==="player.DUPLICATE_NAME"&&!isEmpty(a)){const d=a.type===Constants.GameType.LIVE,f=!y.isOver&&(d||u.isRejoinAllowed);y.isForbidden?o=!0:f?n=!0:d?o=!0:r=!0}return{errorType:s,errorMeta:m,response:y,nameAlreadyTakenError:o,canResumeGame:n,canPlayAgainWithDifferentName:r,handlePreGameErrorAs:t}}function joinSoloRequestCooker(e,t,n,r,o={},s,a,u="",l){const m=_.clone(e.game.flow.startSource),y=isEmpty(m)?r:m,d=preparePlayerDataForJoin(e,n,y,"joinSolo"),f={quizId:t,playerName:d.id,startSource:y,gameOptions:o,gameMode:s},{applicationContext:v,user:A}=e,I={quizId:t,player:d,userId:A.profile.isLoggedIn?A.profile.mongoId:null,gameOptions:getDefaultedGameOptions(getServerConsumableGameOptions(o)),gameType:convertToServerGameType(Constants.GameType.SOLO,s),powerupInternalVersion:_.toString(PowerupsConfigManager$1.CURRENT_CONFIG_API_VERSION),slot:parseInt(v.deviceInfo.experimentSlot,10),experiment:v.deviceInfo.experimentName,locale:v.deviceInfo.locale};return isEmpty(u)||(I.referralId=u),isEmpty(a)||(I.roomHash=a),isEmpty(l)||(I.contestId=l),{actionData:f,callPayload:I}}function joinSoloResponseCooker(e,t,n,r){const o=!isEmpty(_.get(t,"player"))||!1,s=_.get(t,"powerupConfigVersion","1");let a=null,u=[];if(o){a=cookJoinResponse("join","solo",t);const{room:l,player:m}=a;u=leadGen(l.hash,m.id,m.score,m.monsterId,"waiting")}return{isValidGame:o,response:{...a,generatedPlayers:u,powerupConfigVersion:s},forcePageChange:n,canChangeRoute:r}}function rejoinGameRequestCooker(e,t,n){const{roomHash:r,playerId:o,gameType:s,gameState:a}=t,u=getGameType(s),l=u&&isAnAssignedGame(u),m=_.toString(PowerupsConfigManager$1.CURRENT_CONFIG_API_VERSION),y={roomHash:r,playerId:o,startSource:n,powerupInternalVersion:m};return s&&(y.type=s),a&&(y.state=a),e.user.profile.isLoggedIn&&(y.mongoId=e.user.profile.mongoId),y.soloApis=Constants.SoloApis.PLAY_APIS,{isAssignedGame:l,actionData:{roomHash:r,playerName:o,startSource:n,gameType:s||"",gameState:a||"",classroomInfo:t.classroomInfo||null},callPayload:y,isGameSubDomainWhiteListed:e.applicationContext.isGameSubDomainWhiteListed}}function rejoinGameResponseCooker(e,t){var d,f;const n=!isEmpty(_.get(e,"player"))||!1,r=_.get(e,"powerupConfigVersion","1");let o=null,s=[],a=!1,u="other";const l=e.forcedRedirect||null,m=(f=(d=e.player)==null?void 0:d.playerMetadata)==null?void 0:f.mysticPeakData,y=e.player.tieredRank;if(n){const v=t.game.player.lastGamePlayed;let A="";!isEmpty(v)&&v.roomHash===e.room.hash&&v.lastVisibleQuestionId&&(A=v.lastVisibleQuestionId),o=cookJoinResponse("rejoin","",e,A);const{room:I,player:P}=o;if(I.type===Constants.GameType.SOLO){const O=_.isObject(P.responses)?Object.keys(P.responses).length:1;s=leadGen(I.hash,P.id,P.score,P.monsterId,"leaderboard",I.options,O,.6)}e.isCertificationGame&&(a=!0),e.isCertificationGame&&e.certificationRegion&&(u=e.certificationRegion)}return{isValidGame:n,response:{...o,generatedPlayers:s,powerupConfigVersion:r,forcedRedirect:l,isCertificationGame:a,certificationRegion:u,mysticPeakData:m,mysticPeakTieredRank:y}}}function getGameQuestionsResponseCookers(e,t,n){isAnAssignedGame(n);let r={...t};if(t&&!isEmpty(t.questions))r={questions:prepareQuestions(t.questions,{dataIsStrigified:!1,forGameBeingPlayed:!0,slidesFlowControlType:e.questions.slidesFlowControlType}),traits:t.traits||null,canvas:t.canvas};else return!1;return r}function moveOnAfterJoiningGameCooker(e,t,n){const{data:{gameState:r,gameType:o,gameMode:s,quizId:a,roomHash:u,hostId:l,hostSessionId:m},player:y,flow:d,questions:{remainingOrder:f}}=e,v=!1;let A=!1,I=!1,P=!1,O=!1;const R=s===Constants.GameMode.TEAM,M=t.allAnsweredQuestionsOrder.length,k={hasSeenSummaryAtleastOnce:!1},U=o===Constants.GameType.LIVE&&r===Constants.GameState.WAITING,Q=r===Constants.GameState.RUNNING,B=s===Constants.GameMode.CHALLENGE,W=t.isPlayerTheGameHost,Z={roomHash:u,gameType:o,gameState:r,playerId:y.playerId,gameId:u},j=isPresentationGame({gameMode:s,gameType:o}),J=s===Constants.GameMode.TEACHER_PACED,ee=y.isOver===!0,ae=t.isMasteryMode,ne=t.hasReachedMastery,fe=canMarkGameOverForMasteryMode$1({remainingOrder:f,hasReachedMastery:ne});let ge=!t.areQuestionAttemptsLeft&&!j;const Le=t.totalAnswerLaterQuestions,Ge=t.isUserOnReviewScreen;ae&&(ge=fe),ee||ge&&!Ge?(A=!0,k.hasSeenSummaryAtleastOnce=!0):M>0||j||J||Le>0?I=!0:o===Constants.GameType.ASYNC?P=!0:O=!0;const rt=y.lastGamePlayed;let me=!1;return(U||Q)&&(isEmpty(rt)||!(rt.roomHash===u&&rt.playerId===y.playerId))&&(me=!0),{shouldDoExit:v,shouldSetIncompleteGame:me,isGameInWaitingState:U,isGameInRunningState:Q,hasPlayerGameEnded:A,isPlayerInBetweenGame:I,isUserOnReviewScreen:Ge,goToWaitingWhenNoQuesAnswered:P,goToCountdownWhenNoQuesAnswered:O,quizId:a,showTeamAssignedSplash:R,playerHasJoinedTheGamePayload:k,isAChallengeGame:B,isPlayerTheGameHost:W,gameData:Z,isPlayerMarkedOver:ee,isMasteryMode:ae,hasReachedMastery:ne}}function handlePlayerJoiningForbiddenGameCooker(e){let t=!0;const n=_.get(e,"room.type"),r=_.get(e,"room.quizId"),o=_.get(e,"room.state"),s=_.get(e,"room.code"),a=n===Constants.GameType.SOLO,u=o===Constants.GameState.STOPPED||o===Constants.GameState.COMPLETED;return(!n||!r)&&(t=!1),{isValidResponse:t,isSoloGame:a,quizId:r,isGameExpired:u,roomCode:s}}function hostGameRequestCooker(e,t,n,r,o){const s=e.user.profile.mongoId,a=e.appSettings.selectedLanguage,u=e.applicationContext.deviceInfo.quizizzUID,l={quizId:t,type:n,expiry:r,locale:a,gameOptions:getDefaultedGameOptions(o),memeSet:o.memeset};return isEmpty(s)?isEmpty(u)||(l.hostSessionId=u):l.hostId=s,{callPayload:l}}function hostGameResponseCooker(e,t){const n=e.user.profile.mongoId||"";let r="";return n||(r=e.applicationContext.deviceInfo.quizizzUID),{hostId:n,hostSessionId:r,...t.data}}function handleInvalidRoomCodeResponseCoooker(e,t){const n=_.get(e,"user.profile.isLoggedIn",!1),r=_.get(e,"game.player.lastGamePlayed.roomCode","");let o=!1;return!n&&t===r&&(o=!0),{shouldResetIncompleteGame:o}}function cookCheckRoomResponse(e,t,n){return{...e,type:getGameType(e.type),mode:getGameMode(e.type),options:serverGameOptionsCooker(e.options),groupData:getGroupDataFromResponse(e,t,n)}}function preparePlayerDataForJoin(e,t,n,r,o=-1){const{applicationContext:s,game:a,user:{profile:u}}=e,l=s.clientType,m=sanitizePlayerId(t),y=Array.isArray(n)?_.join(n,"|"):n;QLogger$1.invariant(!isEmpty(y),`preparePlayerDataForJoin: 'startSource' is required for joining a game. Got '${y}' for callType '${r}'`);let d=null;u.selectedAvatar===-1||!u.selectedAvatar?o!==-1&&(d=o):d=u.selectedAvatar;const f={id:m,origin:l,isGoogleAuth:!1,avatarId:d,startSource:y||GameStartSource.get(GameStartSource.List.MISC)};if(u.isLoggedIn&&(f.isGoogleAuth=!0,f.name=u.name,f.mongoId=u.mongoId),!isEmpty(a.data.classroomInfo)&&a.data.classroomInfo.lmsName&&a.data.isClassroomGame){const A=a.data.classroomInfo.lmsName;let I="";u.lmsInfo&&u.lmsInfo[A]&&(I=u.lmsInfo[A].studentId),f.assignment={studentId:I,courseId:a.data.classroomInfo.courseId,assignmentId:a.data.classroomInfo.assignmentId,lmsName:A}}const v=s.deviceInfo;return l===Constants.ClientType.WEB?(f.userAgent=v.userAgent,f.uid=v.quizizzUID||"unknown",f.expName=v.experimentName||"null",f.expSlot=v.experimentSlot||"null"):(f.metadata=v,v.detailedAppVersion&&(f.appVersion=v.detailedAppVersion,f.uid=v.uniqueId||"unknown")),f}function getGroupDataFromResponse(e,t="",n={}){const r=Array.isArray(e.groupIds)?e.groupIds:[];let o=Constants.GameGroupType.NONE;const s=roomHasValidCreateGroupToken(e)?e.createGroup:null;return r.length>0&&(o=s?Constants.GameGroupType.GROUP_CREATION:Constants.GameGroupType.ONLY_ASSIGNED),{type:o,ids:r,createToken:s,sourceRequest:t,sourceRequestMeta:n}}function roomHasValidCreateGroupToken(e={}){const t=e&&e.createGroup;return _.isString(t)&&!isEmpty(t)}const cacheMediaDefaultOptions={attachDimensionParam:!1,containerWidth:window.innerWidth,containerHeight:window.innerHeight,uniqueId:""};async function fetchSingleVideo(e){try{const t=await fetch(e);return{resource:await parseBlob(t)}}catch(t){return QLogger$1.error("Error at fetchSingleVideo",t),{error:t}}}async function cacheMediaAndExecute(e,t,n){const r=new Date,o=[];if(n=_.defaults(n,cacheMediaDefaultOptions),_.forEach(e,(s,a)=>{const u=formUrl(s,t,n),l=formUniqueId(s,t,n,a);o.push(cacheMediaItem(t,[u,l]))}),isEmpty(o))return{timeTakenForAll:Date.now()-r.getTime()};try{const s=await Promise.all(o);return{timeTakenForAll:Date.now()-r.getTime(),result:s}}catch(s){return QLogger$1.error(`Error at cacheMediaAndExecute when mediaType(${t}) for items - `,e,s),{timeTakenForAll:Date.now()-r.getTime(),error:s}}}function prefetchQuestionMedia(e,t,n,r,o,s=0,a={},u="image"){let l=0;const m=t.length-n-s,y=n+s;for(let d=0;d<Math.min(o,m);d++){const f=t[y+d];let v=[],A=!0,I=f;const P=!1;switch(u){case"image":v=getAllImagesToPrefetchFromQues(e[f],a.type,a.width),A=e[f]&&e[f].imagesPrefetchDone===!0;break;case"audio":v=getAudioToPrefetchFromQues(e[f]),A=e[f]&&e[f].audioPrefetchDone===!0,I=getUniqueIdForQuestionAudio(e[f]);break}if(!A&&v.length>0){const O={attachDimensionParam:P,uniqueId:I};setTimeout(async()=>{try{const R=await cacheMediaAndExecute(v,u,O);r(f,R)}catch(R){QLogger$1.error("Error at prefetchQuestionMedia",R)}},l*4e3)}else r(f,{result:"no_images"});l+=1}}function cacheSingleImage(e,t){const n=new Date;return new Promise((r,o)=>{const s=new Image;s.onload=()=>{const a=Date.now()-n.getTime();r({resource:"",timeTaken:a})},s.onerror=()=>{const a=Date.now()-n.getTime();o({error:"unknown",timeTaken:a})},s.src=e})}async function cacheSingleAudio(e,t){const n=new Date;if(Sound$1.hasSound(t))return{resource:"",timeTaken:Date.now()-n.getTime()};try{const r=await Sound$1.addSoundAtRuntime(t,{src:e,volume:SlidesAudio.DEFAULT_VOLUME,requiresExtension:!1,format:["mp3"]});return{resource:"",timeTaken:Date.now()-n.getTime()}}catch(r){const o=Date.now()-n.getTime();throw{error:r,timeTaken:o}}}async function cacheSingleVideo(e,t){const n=new Date;try{const r=await fetchSingleVideo(e),o=Date.now()-n.getTime();return{resource:r.resource,timeTaken:o}}catch(r){const o=Date.now()-n.getTime();throw{error:r,timeTaken:o}}}function cacheMediaItem(e,t){switch(e){case"image":return cacheSingleImage(...t);case"audio":return cacheSingleAudio(...t);case"video":return cacheSingleVideo(...t)}}function getAllImagesToPrefetchFromQues(e,t,n){const r=[];return e&&(e.media&&_.forEach(e.media,o=>{o.type==="image"&&o.url&&r.push(attachParamForType(o.url,{deviceType:t,dimToCheckAgainst:n},"question"))}),_.forEach(e.options,o=>{o.type==="image"&&o.media&&_.forEach(o.media,s=>{s.url&&r.push(attachParamForType(s.url,{deviceType:t,dimToCheckAgainst:n},"option"))})}),e.explain&&e.explain.media&&e.explain.media.forEach(o=>{o.type==="image"&&o.url&&r.push(attachParamForType(o.url,{deviceType:t,dimToCheckAgainst:n}))})),r}function getAudioToPrefetchFromQues(e){const t=_.get(e,"media[0]"),n=[];return!isEmpty(t)&&t.type==="audio"&&t.url&&n.push(t.url),e.explain&&(isEmpty(e.explain.media)||_.forEach(e.explain.media,r=>{r.type==="audio"&&r.url&&n.push(r.url)})),n}function formUrl(e,t,n,r){return t==="image"&&n.attachDimensionParam?attachParamForType(e,{dimToCheckAgainst:n.containerWidth},"misc"):e}function formUniqueId(e,t,n,r){if(_.isString(n.uniqueId))return n.uniqueId;if(Array.isArray(n.uniqueId)&&n.uniqueId[r])return n.uniqueId[r];if(_.isFunction(n.uniqueId)){const o=n.uniqueId(e,r);if(o)return o}return QLogger$1.invariant(t==="audio",`Caching audio requires a unique id. For item(${e}) none provided`),""}async function parseBlob(e){try{return await e.blob()}catch{return null}}function exitGame({commit:e,dispatch:t,state:n},r={}){const{preserveClassroomInfo:o,redirectTo:s=PageNames.get(PageNames.List.LANDING.HOME)}=r;isEmpty(n.player.lastGamePlayed)||t("updateIncompleteGame",{});const a=n.data.gameType!==Constants.GameType.SOLO;e(MutationTypes.EXIT_GAME,{preserveClassroomInfo:o,preservePlayerId:a,redirectTo:s})}function resetGame({commit:e},{classroomInfo:t={},preserveRoomCode:n=!1}={}){e(MutationTypes.RESET_GAME,{classroomInfo:t,preserveRoomCode:n})}function updatePlayerInfoForRetry({commit:e}){e(MutationTypes.UPDATE_PLAYER_INFO_FOR_RETRY)}function startGame({dispatch:e,commit:t,state:n,getters:r},o={}){t(MutationTypes.GAME_STARTED,o);const s=r.isMasteryMode;if(isPresentationGame({gameMode:n.data.gameMode,gameType:n.data.gameType})){e("startQuestions",{isAtGamePlayStart:!0});return}s?e("requestToChangePage",{to:PageNames.get(PageNames.List.IN_GAME.ACCURACY_COUNTDOWN)}):e("requestToChangePage",{to:PageNames.get(PageNames.List.IN_GAME.COUNTDOWN)})}async function discardGame({dispatch:e,rootState:t},{gameDetails:n}){const r=await e("markPlayerGameOver",{gameDetails:n,isForCurrentGame:!1});if(e("resetGame"),r){const{user:{profile:o},routing:s}=t;o.isLoggedIn&&!isScreenForInGame(s.currentPage)&&e("fetchInitialAttempts")}}function modifySettingsFromGameOptions({dispatch:e,rootState:t,getters:n,commit:r},{gameOptions:o}){const s=modifySettingsFromGameOptionsCooker(t,n,o);if(isEmpty(s.changedSettings)||e("setAppSettings",s.changedSettings),!isEmpty(s.appSettingsToRevert)){const a=s.appSettingsToRevert;r(MutationTypes.SET_APP_SETTINGS_TO_REVERT_AT_GAME_END,{appSettingsToRevert:a})}}async function fetchMemeSetForGame({rootState:e,state:t,commit:n,getters:r}){try{const{response:o}=await getMemeSet(e),s=getMemeSetResponseCooker(t,r,o);s.isFromFeaturedList=!0;let a=e.preGameDetail.featuredMemesets;if(isEmpty(a)){const{response:u}=await getFeaturedMemesets();a=u}return a=a.filter(u=>u.featured===!0).map(u=>u._id),s.isFromFeaturedList=a.includes(e.game.flow.meme.setId),n(MutationTypes.SET_MEME_SET,s),s}catch(o){QLogger$1.error("Error at action fetchMemeSetForGame",o)}}async function getQuizInfoFromServer({commit:e},{quizId:t="",gameId:n,gameState:r,gameType:o}){let s=null;try{isEmpty(t)?s=(await getQuizInfoForGame(n,r,o)).response:s=(await getQuizInfo(t)).response;const a=getQuizInfoFromServerCooker(s);return e(MutationTypes.SET_QUIZ_INFO,a),!0}catch(a){return QLogger$1.error("Error at getQuizInfoFromServer:",a),!1}}async function handleAssignedGameNotifAcceptance({commit:e,dispatch:t,rootState:n},{gameData:r}){if(r)try{if(r.isReplayLiveGameModal){const o=r.gameTypeOfNextGame,s=r.gameModeOfNextGame;return t("replayLiveGameNotificationAcceptancePipeline",{roomCode:r.gameCode,lmsInfo:r.lmsInfo,gameType:o,gameMode:s})}if(r.isReplayAsyncModal){const o=r.gameTypeOfNextGame,s=r.gameModeOfNextGame;return t("replayLiveGameAsyncNotificationAcceptancePipeline",{roomCode:r.gameCode,lmsInfo:r.lmsInfo,gameType:o,gameMode:s})}return t("classGameAssignedNotificationAcceptancePipeline",{roomCode:r.gameCode,lmsInfo:r.lmsInfo})}catch(o){t("toggleModal"),QLogger$1.error("error at action handleAssignedGameNotifAcceptance",o)}}function prefetchUpcomingQuesImages({commit:e,state:t,getters:n},{totalQuesToPrefetchFor:r=1,quesSkipCount:o=1,media:s={}}){const a=n.allAnsweredQuestionsOrder.length,u={type:s.type,width:s.width};prefetchQuestionMedia(t.questions.list,t.questions.initSequence,a,handlePrefetchCallback.bind(void 0,e),r,o,u,"image")}function prefetchUpcomingQuesAudio({commit:e,state:t,getters:n},{totalQuesToPrefetchFor:r=1,quesSkipCount:o=1,mediaObj:s={}}){const a=n.allAnsweredQuestionsOrder.length,u={type:s.type,width:s.width};prefetchQuestionMedia(t.questions.list,t.questions.initSequence,a,handleAudioPrefetchCallback.bind(void 0,e),r,o,u,"audio")}function handleGameExpiry({dispatch:e}){e("gameCompleted"),e("toggleDialog",{name:"game.expired|confirm",actionCallback:()=>{e("toggleDialog"),e("requestToChangePage",{to:PageNames.get(PageNames.List.IN_GAME.SUMMARY)})}})}function handleCurrentPlayerDeleted({commit:e,dispatch:t}){e(MutationTypes.CLEAR_INCOMPLETE_GAME),t("toggleOverlay",{type:"rejoinError|PLAYER_DELETED"})}async function decodeLMSInfoAndCheckAssignment({commit:e,dispatch:t,rootState:n},{lmsInfo:r=null,startSource:o,handlePreGameErrorAs:s="dialog"}={}){return e(MutationTypes.LMS_LINK_DECODED,r),await connectSocketIfNeeded({dispatch:t,rootState:n}),t("checkAssignment",{lmsInfo:r,startSource:o,handlePreGameErrorAs:s})}function handleLoginRequirementForGame({dispatch:e},{gameCode:t,hostOccupation:n}){const r=[Constants.UserOccupations.CORPORATE_TEACHER,Constants.UserOccupations.CORPORATE_LEARNER].includes(n)?`/pro/join?gc=${t}`:`/join?gc=${t}`;e("toggleModal",{type:Constants.W_MODAL_TYPES.AUTH,options:{authView:"signup",source:Constants.AuthModalActions.REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING,title:getTranslatedText("You need to be registered to play this game."),redirect:r,hostOccupation:n}})}function handlePlayerNotInGroup({dispatch:e},{response:t,responseSource:n="checkRoom"}){if(t&&t.isGroupGCL===!0&&t.throughGCL===!1){e("toggleDialog",{name:"groupGame.shouldJoinViaLink|confirm",actionCallback:()=>{e("toggleDialog"),e("resetGame",{preserveRoomCode:!0})}});return}e("toggleDialog",{name:"groupGame.notAMemberOfGamesGroup|confirm",options:{response:t}})}function handleGroupInviteForCreationGame({commit:e,dispatch:t,rootState:n},{groupData:r={},gameCode:o="",hostOccupation:s=""}){if(!n.user.profile.isLoggedIn){t("handleLoginRequirementForGame",{gameCode:o,hostOccupation:s});return}isEmpty(r)||isEmpty(r.createToken)||t("handleGroupInvite",{token:r.createToken,type:Constants.GroupJoinModalTypes.FROM_GAME_CODE,modalOptions:{sourceRequest:r.sourceRequest,sourceRequestMeta:r.sourceRequestMeta}})}function handlePreGameErrorMessages({dispatch:e},{errorName:t,handlePreGameErrorAs:n,options:r={},errorCode:o="",actionCallback:s=null}){let a="";const u=o?`#${o}`:"",l={name:t,options:{...r,errorCode:u}};switch(QLogger$1.invariant(!isEmpty(t),"handlePreGameErrorMessages: Unable to resolve as no `errorName` provided"),n){case"inLineMessage":a="togglePreGameErrorMessage";break;case"dialog":a="toggleDialog",s?l.actionCallback=s:l.actionCallback=()=>{e("toggleDialog"),e("clearPreGameQuizInfo")};break}QLogger$1.invariant(!isEmpty(a),`handlePreGameErrorMessages: Unable to decide how to resolve errorName(${t}) when handlePreGameErrorAs(${n})`),e(a,l)}function handleGameLockFails({dispatch:e},t){const n=o=>{o===0&&window.location.reload()},r=t&&t.name?t.name:"network.genericRefreshRequired|confirm";e("toggleDialog",{name:r,actionCallback:n})}function clearQuestionResponse({commit:e,state:t},{questionId:n,attempt:r}){const o=t.questions.questionResponses,s=!isEmpty(o[n])&&!isEmpty(o[n][r]);QLogger$1.invariant(s,`Cannot clear question response that does not exist for question(${n}) and attempt(${r})`,{logOnSentry:!0});const a=o[n][r];a.isEvaluated&&QLogger$1.warn("Warning at clearQuestionResponse: An evaluated response is being cleared",a),e(MutationTypes.CLEAR_QUESTION_RESPONSE,{questionId:n,attempt:r})}async function updateCurrentGameDataInBackground({rootState:e,dispatch:t,commit:n,getters:r},{source:o=""}){const{game:s,user:a,applicationContext:u}=e,l=convertToServerGameTypeWrapperForMastery(r.isMasteryMode),m={roomHash:s.data.roomHash,playerId:s.player.playerId,type:l(s.data.gameType,s.data.gameMode),state:s.data.gameState,startSource:GameStartSource.get(GameStartSource.List.REJOIN.GAME_OVER),powerupInternalVersion:_.toString(PowerupsConfigManager$1.CURRENT_CONFIG_API_VERSION),soloApis:Constants.SoloApis.PLAY_APIS};a.profile.isLoggedIn&&(m.mongoId=a.profile.mongoId);try{const{response:y}=await rejoinAnyGameRequest(m,u.isGameSubDomainWhiteListed),d=rejoinGameResponseCooker(y,e),f={};return d.isValidGame?(d.response.room.quizId&&(f.quizId=d.response.room.quizId),t("setGameQuestions",d.response.room),n(MutationTypes.UPDATE_QUESTION_RESPONSES,{updatedResponses:_.flatMap(d.response.player.responses)}),n(MutationTypes.UPDATE_PLAYER_STATS,d.response.player),isEmpty(f)||n(MutationTypes.SET_QUIZ_INFO,f),{updated:!0}):{updated:!1}}catch(y){return QLogger$1.error("Error at updateCurrentGameDataInBackground: ",y),o==="onGameOverPipeline"&&t("setActionErrorTrace",["onGameOverPipeline","updateCurrentGameDataInBackground"]),{updated:!1}}}function handlePrefetchCallback(e,t,n){if(n.result!=="no_images"){let r=-1,o=-1;n instanceof Array?(o=n.length,r=_.sumBy(n,a=>a.timeTakenPerImage||0)/n.length):(o=1,r=n.timeTakenPerImage);const s={forQuestionId:t,noOfImages:o};o>1?(s.timeTakenPerImage=r,s.timeTakenForAll=n.timeTakenForAll):o===1&&(s.timeTakenForAll=n.timeTakenPerImage),e(MutationTypes.COMPLETED_QUES_IMAGES_PREFETCH,s)}}function handleAudioPrefetchCallback(e,t){const n={forQuestionId:t};e(MutationTypes.COMPLETED_QUES_AUDIO_PREFETCH,n)}const generalGameActions=Object.freeze(Object.defineProperty({__proto__:null,clearQuestionResponse,decodeLMSInfoAndCheckAssignment,discardGame,exitGame,fetchMemeSetForGame,getQuizInfoFromServer,handleAssignedGameNotifAcceptance,handleCurrentPlayerDeleted,handleGameExpiry,handleGameLockFails,handleGroupInviteForCreationGame,handleLoginRequirementForGame,handlePlayerNotInGroup,handlePreGameErrorMessages,modifySettingsFromGameOptions,prefetchUpcomingQuesAudio,prefetchUpcomingQuesImages,resetGame,startGame,updateCurrentGameDataInBackground,updatePlayerInfoForRetry},Symbol.toStringTag,{value:"Module"}));class FontLoader{async loadQuicksand(){try{const t="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;700&display=swap";await fetch(t),setTimeout(()=>{const n=document.createElement("link");n.href=t,n.rel="stylesheet",document.head.appendChild(n)})}catch{if(window&&window.FontFace&&_.isFunction(window.FontFace)){const t=[new FontFace("Quicksand",'url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff") format("woff")',{weight:400}),new FontFace("Quicksand",'url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff") format("woff")',{weight:500}),new FontFace("Quicksand",'url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff") format("woff")',{weight:700})],n=t.map(r=>r.load());try{await Promise.all(n),t.forEach(r=>document.fonts.add(r))}catch{this.loadQuicksandManually()}return}this.loadQuicksandManually()}}loadQuicksandManually(){const t=document.createElement("style");document.head.appendChild(t);const n=t.sheet;n.insertRule(`
      @font-face {
        font-family: "Quicksand";
        src: url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff2") format("woff2"),
          url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff") format("woff");
        font-weight: 400;
        font-display: swap;
      }
    `,0),n.insertRule(`
      @font-face {
        font-family: "Quicksand";
        src: url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff2") format("woff2"),
          url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff") format("woff");
        font-weight: 500;
        font-display: swap;
      }
    `,1),n.insertRule(`
      @font-face {
        font-family: "Quicksand";
        src: url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff2") format("woff2"),
          url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff") format("woff");
        font-weight: 700;
        font-display: swap;
      }
    `,2)}loadFonts(){try{const t=Object.values(SlideThemeConstants.fontFamily);for(let n=0;n<t.length;n++){const r=t[n].url;if(!isEmpty(r)&&!!isEmpty(document.querySelectorAll(`link[href="${r}"]`))){const s=document.createElement("link");s.href=r,s.rel="stylesheet",document.head.appendChild(s)}}}catch{console.log("Error at loadFonts")}}}const FontLoader$1=new FontLoader;async function checkRoom({dispatch:e,commit:t,rootState:n},{roomCode:r,startSource:o="",handlePreGameErrorAs:s="inLineMessage"}={}){var u;const a=checkRoomRequestCooker(n,r);if(!a.isAValidGameCode)return e("handleCheckRoomErrors",{errorType:"user.TYPED_INVALID_CODE",handlePreGameErrorAs:s,roomCode:r});t(MutationTypes.S_CHECK_ROOM_IN_PROGRESS,{room:{code:r},startSource:o});try{const{applicationContext:l}=n,{response:m}=await checkRoomRequest(a.payload,l.isGameSubDomainWhiteListed),y=checkRoomResponseCooker(n,m,r);if(!y.isRoomCodeValid)return e("handleCheckRoomErrors",{errorType:"room.NOT_FOUND",errorData:{response:m},handlePreGameErrorAs:s,roomCode:r});if(!y.areQuestionVersionsSupported)return e("handleCheckRoomErrors",{errorType:"misc.QUESTION_TYPES_NOT_SUPPORTED",errorData:{response:m},handlePreGameErrorAs:s,roomCode:r});if(y.isRoomExpired){const d=n.applicationContext.deviceInfo.quizizzUID,f=n.user.profile.mongoId,v=n.game.data.hostId,A=n.game.data.roomHash;return InHouseEventLogger$1.logEvent(WebEvents.JOIN_ROOM_EXPIRED,{roomCode:r,startSource:o,sessionId:d,userId:f,hostId:v,gameId:A}),e("handleCheckRoomErrors",{errorType:"room.EXPIRED",errorData:{response:m},handlePreGameErrorAs:s,roomCode:r})}if(y.isAGroupCreationGame)return e("handleGroupInviteForCreationGame",{groupData:y.room.groupData,gameCode:r,hostOccupation:(u=m==null?void 0:m.room)==null?void 0:u.hostOccupation}),{success:!0,meta:{wasCheckRoomDeffered:!0},response:m};if(t(MutationTypes.S_CHECK_ROOM_RESPONDED,y),y.room.mode===Constants.GameMode.MYSTIC_PEAK)e("setCurrentTheme",{selectedTheme:Constants.ThemeNames.MYSTIC_PEAK});else{const d=n.appSettings.currentThemeWhichWasSetOnce||Constants.ThemeNames.CLASSIC;e("setCurrentTheme",{selectedTheme:d})}return{success:!0,meta:{wasCheckRoomDeffered:!1},response:m}}catch(l){return QLogger$1.error("Error at action checkRoom",l),e("handleCheckRoomErrors",{errorData:l,handlePreGameErrorAs:s,roomCode:r})}}function handleCheckRoomErrors({rootState:e,dispatch:t,commit:n},{errorData:r={},handlePreGameErrorAs:o,errorType:s="",roomCode:a=""}){var f;const u=r.response,l=(f=u==null?void 0:u.room)==null?void 0:f.hostOccupation,m=s||getResponseErrorType(r),y=`cr-${m}`;let d=!1;switch(m){case"room.NOT_FOUND":t("handlePreGameErrorMessages",{errorName:"game.invalidCode|confirm",options:{invalidGameCode:a},handlePreGameErrorAs:o}),d=!0;const{shouldResetIncompleteGame:v}=handleInvalidRoomCodeResponseCoooker(e,a);v&&n(MutationTypes.CLEAR_INCOMPLETE_GAME);break;case"validate.validation":t("handlePreGameErrorMessages",{errorName:"game.invalidCode|confirm",options:{invalidGameCode:a},handlePreGameErrorAs:o,errorCode:y}),d=!0;break;case"room.COMPLETED":case"room.STOPPED":case"room.EXPIRED":t("handlePreGameErrorMessages",{errorName:"game.expired|confirm",handlePreGameErrorAs:o}),d=!0;break;case"player.LIMIT_ATTEMPTS_EXCEEDED":const A=getAttemptsLimitFromResponse(u,"checkRoom"),I=checkRoomResponseCooker(e,u,a);return t("handlePreGameErrorMessages",{errorName:"player.attemptsLimitExceeded|confirm",options:{attemptsLimit:A},handlePreGameErrorAs:"inLineMessage"}),n(MutationTypes.S_CHECK_ROOM_RESPONDED,I),{success:!0,meta:{wasCheckRoomDeffered:!1},response:u};case"player.LOGIN_REQUIRED":t("handleLoginRequirementForGame",{gameCode:a,hostOccupation:l});break;case"player.NOT_IN_GROUP":t("handlePlayerNotInGroup",{response:u,responseSource:"checkRoom"});break;case"player.DELETED_FROM_GROUPS":t("toggleDialog",{name:"groupGame.deletedFromAllGameGroups|confirm"});break;case"misc.QUESTION_TYPES_NOT_SUPPORTED":t("handlePreGameErrorMessages",{errorName:"misc.gameQuestionsNotSupported|confirm",handlePreGameErrorAs:o});break;case"user.TYPED_INVALID_CODE":t("handlePreGameErrorMessages",{errorName:"user.typedInvalidGameCode|confirm",options:{invalidGameCode:a},handlePreGameErrorAs:o});break;case"timeout":t("handlePreGameErrorMessages",{errorName:"network.checkInternetConnection|confirm",handlePreGameErrorAs:o});break;case"lock_fail.GAME":case"lock_fail.REPOPULATE":t("handleGameLockFails");break;default:t("handlePreGameErrorMessages",{errorName:"misc.errorAndTryAgain|confirm",handlePreGameErrorAs:o,errorCode:y})}return d&&t("resetGame",{preserveRoomCode:!0}),{success:!1,error:{type:s},meta:{wasGameDataReset:d}}}async function checkAssignment({commit:e,rootState:t,dispatch:n},{lmsInfo:r=null,startSource:o="",handlePreGameErrorAs:s="dialog"}={}){const a=checkAssignmentRequestCooker(t,r,o);e(MutationTypes.S_CHECK_ASSIGNMENT_IN_PROGRESS,a.actionData);try{const{response:u}=await checkAssignmentCall(a.payload),l=checkAssignmentResponseCooker(t,u,r);return l.isValidGame?l.areQuestionVersionsSupported?l.isAGroupCreationGame?(n("handleGroupInviteForCreationGame",{groupData:l.room.groupData}),{success:!0,meta:{wasCheckAssignmentDeffered:!0},response:u}):(e(MutationTypes.S_CHECK_ASSIGNMENT_RESPONDED,l),{success:!0,meta:{wasCheckAssignmentDeffered:!1},response:u}):n("handleCheckAssignmentErrors",{errorType:"misc.QUESTION_TYPES_NOT_SUPPORTED",errorData:{response:u},handlePreGameErrorAs:s,lmsInfo:r}):n("handleCheckAssignmentErrors",{errorType:"validate.validation",errorData:{response:u},handlePreGameErrorAs:s,lmsInfo:r})}catch(u){return QLogger$1.error("Error at action checkAssignment: ",u),n("handleCheckAssignmentErrors",{errorData:u,handlePreGameErrorAs:s,lmsInfo:r})}}function handleCheckAssignmentErrors({dispatch:e,rootState:t,commit:n},{errorData:r={},handlePreGameErrorAs:o,errorType:s="",lmsInfo:a=null}){const u=r.response,l=s||getResponseErrorType(r),m=`ca-${l}`;let y=!1;switch(l){case"validate.validation":e("handlePreGameErrorMessages",{errorName:"game.invalidLink|confirm",handlePreGameErrorAs:o,errorCode:m}),y=!0;break;case"room.NOT_FOUND":case"room.COMPLETED":case"room.STOPPED":case"room.EXPIRED":e("handlePreGameErrorMessages",{errorName:"game.expiredLink|confirm",handlePreGameErrorAs:o}),y=!0;break;case"player.LIMIT_ATTEMPTS_EXCEEDED":const d=getAttemptsLimitFromResponse(u,"checkAssignment"),f=checkAssignmentResponseCooker(t,u,a);return e("handlePreGameErrorMessages",{errorName:"player.attemptsLimitExceeded|confirm",options:{attemptsLimit:d},handlePreGameErrorAs:"inLineMessage"}),n(MutationTypes.S_CHECK_ASSIGNMENT_RESPONDED,f),{success:!0,meta:{wasCheckRoomDeffered:!1},response:u};case"player.NOT_IN_GROUP":e("handlePreGameErrorMessages",{errorName:"groupGame.notAMemberOfGamesGroup|confirm",options:{response:u},handlePreGameErrorAs:o});break;case"player.DELETED_FROM_GROUPS":e("handlePreGameErrorMessages",{errorName:"groupGame.deletedFromAllGameGroups|confirm",handlePreGameErrorAs:o});break;case"misc.QUESTION_TYPES_NOT_SUPPORTED":e("handlePreGameErrorMessages",{errorName:"misc.gameQuestionsNotSupported|confirm",handlePreGameErrorAs:o});break;case"timeout":e("handlePreGameErrorMessages",{errorName:"network.checkInternetConnection|confirm",handlePreGameErrorAs:o});break;case"lock_fail.GAME":case"lock_fail.REPOPULATE":e("handleGameLockFails");break;case"player.LOGIN_REQUIRED":const v=a.lmsName||"LMS";e("handlePreGameErrorMessages",{errorName:"lms.assignmentLoginRequired|confirm",options:{lmsName:v},handlePreGameErrorAs:o});break;default:e("handlePreGameErrorMessages",{errorName:"misc.errorAndTryAgain|confirm",handlePreGameErrorAs:o,errorCode:m});break}return y&&e("resetGame",{preserveRoomCode:!0}),{success:!1,error:{type:l},meta:{wasGameDataReset:y}}}async function joinRoom({commit:e,dispatch:t,rootState:n},{roomHash:r,playerId:o,startSource:s,playerAvatarId:a=-1,handlePreGameErrorAs:u="inLineMessage",forcePageChange:l=!1,preventPageChange:m=!1}){var d,f,v,A,I,P;const y=joinRoomRequestCooker(n,r,o,s,a);e(MutationTypes.S_JOIN_ROOM_IN_PROGRESS,y.actionData);try{const{response:O}=await joinRoomCall(y.callPayload),R=joinRoomResponseCooker(O,n,l,m),M=R.response.room.totalPlayers,k=R.response.room.subscription.playerLimit;if(R.response.room.type===Constants.GameType.LIVE&&M>k)return t("handlePreGameErrorMessages",{errorName:"game.maxPlayersLimitExceeded|confirm",options:{playerLimit:k},handlePreGameErrorAs:u}),{success:!1};if(!R.isValidGame)return t("handlePreGameErrorMessages",{name:"game.noLongerValid|confirm",handlePreGameErrorAs:u}),{success:!1};if(R.hasGameExpired){t("resetGame",{preserveRoomCode:!0}),t("togglePreGameErrorMessage",{name:"game.alreadyEnded|confirm",options:{formattedExpiryDate:y.formattedExpiryDate}});const Q=(f=(d=n.applicationContext)==null?void 0:d.deviceInfo)==null?void 0:f.quizizzUID,B=(A=(v=n.user)==null?void 0:v.profile)==null?void 0:A.mongoId;return InHouseEventLogger$1.logEvent(WebEvents.JOIN_ROOM_EXPIRED,{roomHash:r,startSource:s,sessionId:Q,userId:B}),{success:!1}}return e(MutationTypes.S_JOIN_ROOM_RESPONDED,R.response),t("onPlayerJoiningGame",R),(P=(I=O==null?void 0:O.room)==null?void 0:I.metadata)!=null&&P.pauseFor&&t("pauseGame",O.room.metadata.pauseFor),{success:!0,response:R.response}}catch(O){return QLogger$1.error("Error at action joinRoom: ",O),t("handleJoinRoomErrors",{errorData:O,handlePreGameErrorAs:u}),{success:!1}}}function handleJoinRoomErrors({dispatch:e,state:t,commit:n},{errorData:r,handlePreGameErrorAs:o}){const s=r.response,a=joinRoomErrorResponseCooker(r),u=`jr-${a.errorType}`;let l;switch(a.errorType){case"room.EXPIRED":e("handleRejoinRelatedNetworkErrors",{reason:"ROOM_EXPIRED",errorCode:u,hideContactUsMessage:!0});break;case"room.NOT_FOUND":case"room.COMPLETED":case"room.STOPPED":case"game.NOT_FOUND":l=`ROOM_${a.errorType.split(".")[1]}`,e("handleRejoinRelatedNetworkErrors",{reason:l,errorCode:u,hideContactUsMessage:!1});break;case"room.TOO_MANY_PLAYERS":const m=_.get(a,"errorMeta.maxPlayersAllowed",500);e("handlePreGameErrorMessages",{errorName:"game.maxPlayersLimitExceeded|confirm",options:{playerLimit:m},handlePreGameErrorAs:o});break;case"player.LIMIT_ATTEMPTS_EXCEEDED":const y=getAttemptsLimitFromResponse(s,"joinRoom");e("handlePreGameErrorMessages",{errorName:"player.attemptsLimitExceeded|confirm",options:{attemptsLimit:y},handlePreGameErrorAs:o});break;case"player.DUPLICATE_NAME":e("handleJoinDuplicateNameError",a);break;case"player.NOT_ALLOWED_IN_GROUP":e("toggleDialog",{name:"groupGame.notAllowedInGameGroups|confirm"});break;case"room.ALREADY_STARTED":e("handlePreGameErrorMessages",{errorName:"player.cannotJoinAfterGameStarts|confirm",handlePreGameErrorAs:o});break;case"lock_fail.GAME":case"lock_fail.REPOPULATE":e("handleGameLockFails");break;case"timeout":e("handlePreGameErrorMessages",{errorName:"network.checkInternetConnection|confirm",handlePreGameErrorAs:"dialog",actionCallback:()=>{e("toggleDialog")}});break;case"user.MISMATCHED_AUTH":window.location.reload();break;default:e("handlePreGameErrorMessages",{errorName:"misc.errorAndTryAgain|confirm",handlePreGameErrorAs:o,errorCode:u});break}}function handleJoinDuplicateNameError({dispatch:e,rootState:t,commit:n},r){const{room:{hash:o,type:s,state:a,options:u,code:l},player:{id:m}}=r.response;if(r.nameAlreadyTakenError){let y=null;const d=r.handlePreGameErrorAs,f={showLoggedInMessaging:!t.user.profile.isLoggedIn},v=()=>{e("toggleModal",{type:Constants.W_MODAL_TYPES.AUTH,options:{authView:"login",source:Constants.AuthModalActions.REDIRECT_TO_LOGIN_FROM_DUPLICATE_NAME,redirect:`/join?gc=${l}`}})},A=()=>{n(MutationTypes.UPDATE_PLAYER_NAME,{playerName:""})};d==="dialog"&&(f.showLoggedInMessaging?y=I=>{I===0?v():A(),e("toggleDialog")}:y=I=>{A(),e("toggleDialog")}),u.nicknameGenerator?(e("handlePreGameErrorMessages",{errorName:"player.nicknameAlreadyTaken|confirm",handlePreGameErrorAs:d,actionCallback:y,options:f}),e("setNicknameDuplicateError",{})):e("handlePreGameErrorMessages",{errorName:"player.nameAlreadyTaken|confirm",handlePreGameErrorAs:d,actionCallback:y,options:f})}if(r.canResumeGame){e("toggleDialog",{name:"resumeIncompleteGame|confirm",actionCallback:d=>{if(d===0)e("updatePlayerInfoForRetry");else if(d===1){const f={roomHash:o,playerId:m,gameType:s,gameState:a},v=GameStartSource.get(GameStartSource.List.GAME_CODE.AFTER_DIALOG);e("rejoinAnyGame",{gameData:f,startSource:v})}e("toggleDialog")}});return}r.canPlayAgainWithDifferentName&&e("toggleDialog",{name:"playAgainWithADifferentName|confirm",actionCallback:d=>{if(d===0)e("updatePlayerInfoForRetry");else if(d===1){const f=`${m}*`,v=GameStartSource.get(GameStartSource.List.GAME_CODE.AFTER_DIALOG);n(MutationTypes.UPDATE_PLAYER_NAME,{playerName:f}),e("joinRoom",{roomHash:o,playerId:f,startSource:v,handlePreGameErrorAs:"dialog"})}e("toggleDialog")}})}async function joinSoloGame({dispatch:e,rootState:t,commit:n},{quizId:r,playerId:o,gameOptions:s={},gameMode:a=Constants.GameMode.NORMAL,startSource:u,soloLinkReferrer:l="",autostart:m=!1,forcePageChange:y=!1,useOverlay:d=!0,canChangeRoute:f=!0,contestId:v}){const A=joinSoloRequestCooker(t,r,o,u,s,a,null,l,v),{applicationContext:I}=t,P=a===Constants.GameMode.PRESENTATION?"presentation":"game";!m&&d&&e("toggleOverlay",{type:`rejoinProgress|${P}`}),n(MutationTypes.JOIN_SOLO_GAME_IN_PROGRESS,A.actionData);try{const{response:O}=await joinSoloGameRequest(A.callPayload,I.isGameSubDomainWhiteListed);O.forcedRedirect&&(O.data.forcedRedirect=O.forcedRedirect);const R=joinSoloResponseCooker(t,O.data,y,f);if(!R.isValidGame){e("handleJoinSoloErrors",{error:{type:"MISC"}});return}return n(MutationTypes.JOIN_SOLO_GAME_RESPONDED,R.response),R.autostart=m,e("onPlayerJoiningGame",R)}catch(O){QLogger$1.error("Error at action joinSoloGame: ",O),e("handleJoinSoloErrors",O)}}function handleJoinSoloErrors({commit:e,dispatch:t},n){const r=getResponseErrorType(n,"MISC"),o=`js-${r}`;let s=()=>{};switch(r){case"MISC":t("handleRejoinRelatedNetworkErrors",{reason:"MISC",errorCode:o,hideContactUsMessage:!1});break;case"timeout":t("handleRejoinRelatedNetworkErrors",{reason:"NETWORK",errorCode:o,hideContactUsMessage:!0});break;case"flashcard.CANNOT_START":t("toggleOverlay"),t("handleUnableToStartFlashcards");break;case"game.PRIVATE_QUIZ_NOT_ALLOWED":s=()=>{t("requestToChangePage",{to:PageNames.get(PageNames.List.LANDING.HOME)}),t("toggleDialog")},t("toggleOverlay"),t("toggleDialog",{name:"game.cannotStartGameOnPrivateQuiz|confirm",actionCallback:s});break;case"player.NOT_GOOD":s=()=>{e(MutationTypes.UPDATE_PLAYER_NAME,{playerName:""}),e("toggleDialog")},t("toggleDialog",{name:"player.invalidPlayerName|confirm",actionCallback:s});break;default:let a="MISC";if(_.isString(r)){const u=r.split(".")[1];a=u?`ROOM_${u}`:"MISC"}t("handleRejoinRelatedNetworkErrors",{reason:a,errorCode:o})}t("resetGame",{preserveRoomCode:!0})}async function rejoinAnyGame({commit:e,rootState:t,dispatch:n,getters:r},{gameData:o,startSource:s=GameStartSource.get(GameStartSource.List.REJOIN)}={}){var u,l;const a=rejoinGameRequestCooker(t,o,s);n("toggleOverlay",{type:"rejoinProgress"}),e(MutationTypes.REJOIN_GAME_IN_PROGRESS,a.actionData);try{let m;a.isAssignedGame?(m=(await rejoinRoomCall(a.callPayload)).response,(l=(u=m==null?void 0:m.room)==null?void 0:u.metadata)!=null&&l.pauseFor&&n("pauseGame",m.room.metadata.pauseFor),(m.room.raisedHandsList||m.room.metadata.isRaiseHandStopped)&&n("raisedHandForPlayer",m.room)):m=(await rejoinAnyGameRequest(a.callPayload,a.isGameSubDomainWhiteListed)).response;const y=rejoinGameResponseCooker(m,t);if(y.response.room.mode===Constants.GameMode.MYSTIC_PEAK&&n("setCurrentTheme",{selectedTheme:Constants.ThemeNames.MYSTIC_PEAK}),!y.isValidGame)return n("handleRejoinGameErrors",{error:{type:"MISC"},errorCode:"inValidResponse"}),{didRejoin:!1};e(MutationTypes.REJOIN_GAME_RESPONDED,y.response),_.get(y,"response.isAChallengeGame",!1)&&e(MutationTypes.SET_CHALLENGE_LIVE_LEADERBOARD,y.response);const{isInsideGame:d}=await n("onPlayerJoiningGame",y);return r.isMysticPeak&&n("handleRejoinForMysticPeak",y),{didRejoin:d}}catch(m){QLogger$1.error("Error at action rejoinAnyGame: ",m);let y=m;return t.game.flow.rejoinCallNetworkErrorredOutGames.includes(o.roomHash)&&(y=Object.assign({},m,{errorType:"room.VERBOSE_REJOIN"})),{didRejoin:!1,meta:n("handleRejoinGameErrors",y)}}}function handleRejoinForMysticPeak({state:e,dispatch:t,commit:n},r){var m,y;const{totalCorrect:o}=e.player,{mysticPeakLevelMap:s}=e.data,a=e.flow.hasReachedMasteryInMysticPeakAtleastOnce,u=o===s[s.length-1];let l={};if(t("updateMysticLeaderboard"),(m=r.response.mysticPeakData)!=null&&m.pathFinder)t("handleMysticPeakPathFinderOnRejoin",{isPathFinder:!0,selectedPathFinderType:r.response.mysticPeakData.pathFinder.pathFinder});else if(u&&!a){const d={};d.breakoutRoomType=BREAK_ROOM_TYPES.PATH_FINDER,n(MutationTypes.UPDATE_HAS_REACHED_MASTERY_IN_MYSTIC_PEAK_ATLEAST_ONCE,{reached:!0}),t("handleShowingBreakRoom",d)}else if((y=r.response.mysticPeakData)!=null&&y.breakRoomStatus&&["selection","obstacle"].includes(r.response.mysticPeakData.breakRoomStatus)){const{breakRoomStatus:d,powerUpIndex:f,breakRoomArr:v}=r.response.mysticPeakData;l={breakoutRoomType:d,powerupIndex:f,breakRoomArr:v},t("handleShowingBreakRoom",l)}r.response.mysticPeakTieredRank&&n(MutationTypes.SET_TIERED_RANK,r.response.mysticPeakTieredRank)}function handleMysticPeakPathFinderOnRejoin({commit:e},{isPathFinder:t,selectedPathFinderType:n}){e(MutationTypes.UPDATE_HAS_REACHED_MASTERY_IN_MYSTIC_PEAK_ATLEAST_ONCE,{reached:!0}),e(MutationTypes.SET_PATH_FINDER_ON_REJOIN,{isPathFinder:t,selectedPathFinderType:n})}function handleRejoinGameErrors({dispatch:e,commit:t},n){var a,u,l;const r=getResponseErrorType(n),o=`rag-${r}`;switch(t(MutationTypes.REJOIN_GAME_RESPONDED_WITH_ERR),r){case"game.INVALID_VERSION":e("toggleOverlay",{type:"socketConnectError"});break;case"room.NOT_FOUND":case"room.COMPLETED":case"room.STOPPED":case"room.EXPIRED":case"game.NOT_FOUND":const m=`ROOM_${r.split(".")[1]}`;e("handleRejoinRelatedNetworkErrors",{reason:m,errorCode:o,hideContactUsMessage:!1});break;case"player.NOT_FOUND":case"player.DELETED":const y=`PLAYER_${r.split(".")[1]}`;e("handleRejoinRelatedNetworkErrors",{reason:y,errorCode:o,hideContactUsMessage:!1});break;case"player.LOGIN_REQUIRED":case"player.LIMIT_ATTEMPTS_EXCEEDED":case"player.FORBIDDEN":return e("handlePlayerJoiningForbiddenGame",{response:n.response});case"lock_fail.GAME":case"lock_fail.REPOPULATE":e("handleGameLockFails");break;case"room.VERBOSE_REJOIN":InHouseEventLogger$1.logEvent(WebEvents.SLOW_INTERNET_CONNECTION,{speed:((a=window.navigator.connection)==null?void 0:a.downlink)||((u=window.navigator.mozConnection)==null?void 0:u.downlink)||((l=window.navigator.webkitConnection)==null?void 0:l.downlink)}),e("handleRejoinRelatedNetworkErrors",{reason:"NETWORK",errorCode:o,hideContactUsMessage:!0});break;case"timeout":e("handleRejoinRelatedNetworkErrors",{reason:"NETWORK",errorCode:o,hideContactUsMessage:!0});break;case"user.MISMATCHED_AUTH":window.location.reload();break;default:e("handleRejoinRelatedNetworkErrors",{reason:"MISC",errorCode:o})}const s=["player.FORBIDDEN","player.LOGIN_REQUIRED"];return _.includes(s,r)||e("resetGame"),null}function setGameQuestions({commit:e},{questions:t,traits:n}){QLogger$1.invariant(!isEmpty(t),["onPlayerJoiningGame: received invalid questions data inside response.room",t]),QLogger$1.invariant(!isEmpty(n),["onPlayerJoiningGame: received invalid quiz traits inside response.room",n]),e(MutationTypes.SET_QUESTIONS,{questions:t||{},traits:n||{}})}async function onPlayerJoiningGame({state:e,dispatch:t},{response:n,forcePageChange:r=!1,canChangeRoute:o=!0,preventPageChange:s=!1,autostart:a=!1}){t("setGameQuestions",n.room);try{const u=_.get(n,"room.hash",""),l=_.get(n,"room.mode",""),m=_.get(n,"room.type",""),y=_.get(n,"room.state",""),d=_.get(n,"room.quizId",""),f=isPresentationGame({gameMode:l,gameType:m});a&&InHouseEventLogger$1.logEvent(WebEvents.TRY_QUIZ_QP_SOLO_GAME_LOADED,{gameId:u},"immediate"),f&&FontLoader$1.loadFonts(),await t("getQuizInfoFromServer",{quizId:d,gameId:u,gameState:y,gameType:m}),t("togglePageLoader");const v=await t("moveOnAfterJoiningGame",{forcePageChange:r,canChangeRoute:o,preventPageChange:s});return t("fetchMemeSetForGame"),t("modifySettingsFromGameOptions",{gameOptions:_.get(n,"room.options",{})}),v}catch(u){return QLogger$1.error("Error at action onPlayerJoiningGame",u),{isInsideGame:!1}}}async function getGameQuestions({commit:e,rootState:t,dispatch:n,state:r},{roomHash:o,gameType:s,gameState:a}){try{const{applicationContext:{isGameSubDomainWhiteListed:u}}=t,{response:l}=await getQuestionsRequest(o,s,a,u),m=getGameQuestionsResponseCookers(r,l,s);return m?{areQuestionsFetched:!0,cookedResponse:m}:!1}catch(u){QLogger$1.error("Error at action getGameQuestions: ",u);const l=getResponseErrorType(u),m=`gq-${l}`;switch(l){case"lock_fail.GAME":case"lock_fail.REPOPULATE":n("handleGameLockFails");break;case"timeout":n("toggleOverlay",{type:"rejoinError|NETWORK",options:{errorCode:m,hideContactUsMessage:!1}});break;default:n("toggleOverlay",{type:"rejoinError|MISC",options:{errorCode:m}})}return{areQuestionsFetched:!1,response:null,errorType:l}}}function moveOnAfterJoiningGame({dispatch:e,state:t,commit:n,getters:r,rootState:o},{forcePageChange:s=!1,canChangeRoute:a=!0,preventPageChange:u=!1}){const l=moveOnAfterJoiningGameCooker(t,r),m=l.gameData,y=s===!0;if(t.data.gameMode,n(MutationTypes.PLAYER_JOINED_THE_GAME,l.playerHasJoinedTheGamePayload),t.data.gameMode===Constants.GameMode.CHALLENGE){const v=Math.floor(Math.random()*8)+4;e("setSimilarQuizzes",{...l.gameData,page:1,pageSize:v})}else e("setQuizRecommendations",l.gameData);if(l.shouldSetIncompleteGame&&e("setIncompleteGame"),!u)return l.isAChallengeGame&&l.isGameInWaitingState&&l.isPlayerTheGameHost?e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.CHALLENGE_WAITING),gameData:m,metaData:{forcePush:y},canChangeRoute:a}):l.isGameInWaitingState?e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.WAITING),gameData:m,metaData:{forcePush:y,showTeamAssignedSplash:l.showTeamAssignedSplash},canChangeRoute:a}):l.isGameInRunningState?l.hasPlayerGameEnded?l.isAChallengeGame?e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.CHALLENGE_PRE_SUMMARY),gameData:m,metaData:{forcePush:y},canChangeRoute:a}):l.isPlayerMarkedOver?e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.SUMMARY),gameData:m,metaData:{forcePush:y},canChangeRoute:a}):e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.GAME_OVER),gameData:m,metaData:{forcePush:y},canChangeRoute:a}):l.isPlayerInBetweenGame?l.isUserOnReviewScreen?e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ.REVIEW_QUESTIONS_SCREEN),gameData:m,metaData:{forcePush:y},canChangeRoute:a}):l.hasReachedMastery?e("handleMasteryMode"):(e("startQuestions",{isAtGamePlayStart:!0,forcePushPageChange:y}),{to:PageNames.get(PageNames.List.IN_GAME.QUIZ),isInsideGame:!0}):l.goToWaitingWhenNoQuesAnswered?e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.WAITING),gameData:m,metaData:{forcePush:y},canChangeRoute:a}):l.isMasteryMode?e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.ACCURACY_COUNTDOWN),gameData:m,metaData:{forcePush:y},canChangeRoute:a}):e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.COUNTDOWN),gameData:m,metaData:{forcePush:y},canChangeRoute:a}):(n(MutationTypes.REJOINED_ON_SUMMARY_PAGE),e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.SUMMARY),gameData:m,metaData:{forcePush:y},canChangeRoute:a}))}function handleRejoinRelatedNetworkErrors({dispatch:e,rootState:t,commit:n},{reason:r,errorCode:o="",hideContactUsMessage:s=!1}){const a=t.game.player.lastGamePlayed;QLogger$1.error(`handleRejoinRelatedNetworkErrors - ${r}`,_.cloneDeep(a));try{a&&!isEmpty(a)&&t.overlay.type.split("|")[0]==="rejoinProgress"&&n(MutationTypes.CLEAR_INCOMPLETE_GAME)}catch(u){QLogger$1.error("Error at handleNetworkError - ",u)}e("toggleOverlay",{type:`rejoinError|${r}`,options:{errorCode:o,hideContactUsMessage:s}})}function handlePlayerJoiningForbiddenGame({dispatch:e,rootState:t},{response:n}){const r=handlePlayerJoiningForbiddenGameCooker(n);if(!r.isValidResponse){e("handleRejoinRelatedNetworkErrors",{reason:"MISC",errorCode:"forbid.invalid"});return}if(r.isSoloGame)return e("toggleOverlay"),{redirectTo:{name:PageNames.get(PageNames.List.QUIZ.START),params:{quizId:r.quizId}}};if(r.isGameExpired){e("handleRejoinRelatedNetworkErrors",{reason:"ROOM_EXPIRED",errorCode:"forbid.expired"});return}e("toggleOverlay"),e("resetGame");const{user:o,game:s}=t;if(o.profile.isLoggedIn)e("toggleDialog",{name:"game.notAllowedToContinue|confirm"});else{const a=buildGameRouteComposite(s.data.roomHash,s.player.playerId);e("toggleModal",{type:Constants.W_MODAL_TYPES.AUTH,options:{authView:"signup",source:Constants.AuthModalActions.REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING,title:getTranslatedText("Please log in to continue this game."),redirect:`/join/game/${a}`}})}return{redirectTo:{name:PageNames.get(PageNames.List.LANDING.GAME_CODE)}}}async function getTeamPlayers({commit:e,rootState:t},{currentTeamId:n="",currentTeamPlayers:r=[]}){if(n&&n!==""){const o=_.map(r,y=>({[y.playerId]:1})),{game:{data:{roomHash:s,players:a}},applicationContext:{isGameSubDomainWhiteListed:u}}=t,l={roomHash:s,teamId:n,mapping:{...o}},{response:m}=await getTeamPlayersRequest(l,u);if(m.teams&&m.players){const y={teams:m.teams},d=[];_.forEach(a,f=>{const v=_.find(m.players,A=>A.playerId===f.playerId);if(v){d.push(v);return}d.push(f)}),y.players=d,y.totalPlayers=d.length,e(MutationTypes.FETCH_TEAM_PLAYERS_RESPONDED,y)}}}async function createChallengeGame({dispatch:e,rootState:t},{quizId:n,startSource:r,gameOptions:o={}}){try{await e("fetchFeaturedMemesets"),await connectSocketIfNeeded({dispatch:e,rootState:t},{gameType:Constants.GameType.LIVE});const s=Constants.GameMode.CHALLENGE,a=0,l={memeset:_.get(_.sample(_.get(t,"preGameDetail.featuredMemesets",[])),"_id",Constants.DEFAULT_MEME_SET_ID),redemption:Constants.GameOptionsValues.Redemption.YES,powerups:Constants.GameOptionsValues.Powerups.YES,extraLife:Constants.GameOptionsValues.ExtraLife.ENABLED,...o};e("hostGame",{quizId:n,type:s,expiry:a,gameOptions:l,startSource:r})}catch(s){QLogger$1.error("Error at action createChallengeGame: ",s)}}async function hostGame({commit:e,dispatch:t,rootState:n},{quizId:r,type:o,expiry:s,gameOptions:a,startSource:u=""}){const l=hostGameRequestCooker(n,r,o,s,a);try{const{response:m}=await hostGameRequest(l.callPayload),{roomCode:y,roomHash:d,hostId:f,hostSessionId:v}=hostGameResponseCooker(n,m),A=getGameType(o),I=getGameMode(o);y&&d&&(t("resetGame"),t("toggleModal"),t("togglePreGameErrorMessage"),e(MutationTypes.HOST_GAME_RESPONDED,{roomCode:y,roomHash:d,hostId:f,hostSessionId:v,gameType:A,gameMode:I}),t("requestToChangePage",{to:PageNames.get(PageNames.List.QUIZ.CHALLENGE),metaData:{params:{quizId:r,roomHash:d}}}))}catch(m){QLogger$1.error("Error at action hostGame: ",m)}}async function startHostedGame({dispatch:e,rootState:t},{roomHash:n}){try{const{response:r}=await startGameCall({roomHash:n});if(r.roomHash){const{teams:o,players:s}=t.game.data,{teamId:a,totalPlayers:u}=t.game.team;e("startGame",{teams:o,players:s,teamId:a,totalPlayers:u})}}catch(r){getResponseErrorType(r)==="room.NOT_ENOUGH_PLAYERS_TO_START"&&e("toggleSnackBar",{isVisible:!0,options:{message:getTranslatedText("You need at least 2 players to start the game.")}})}}async function deletePlayerFromGame({commit:e,dispatch:t},{playerId:n,roomHash:r,hostId:o}){try{t("toggleDialog",{name:"game.deletePlayer|confirm",actionCallback:async a=>{if(a===1){const{response:u}=await deletePlayerCall({playerId:n,roomHash:r,hostId:o});t("soc_deletePlayer",{response:u})}t("toggleDialog")}})}catch(s){return QLogger$1.error("Error at action deletePlayerFromGame",s),!1}}const preGameActions=Object.freeze(Object.defineProperty({__proto__:null,checkAssignment,checkRoom,createChallengeGame,deletePlayerFromGame,getGameQuestions,getTeamPlayers,handleCheckAssignmentErrors,handleCheckRoomErrors,handleJoinDuplicateNameError,handleJoinRoomErrors,handleJoinSoloErrors,handleMysticPeakPathFinderOnRejoin,handlePlayerJoiningForbiddenGame,handleRejoinForMysticPeak,handleRejoinGameErrors,handleRejoinRelatedNetworkErrors,hostGame,joinRoom,joinSoloGame,moveOnAfterJoiningGame,onPlayerJoiningGame,rejoinAnyGame,setGameQuestions,startHostedGame},Symbol.toStringTag,{value:"Module"})),POWER_UPS={STREAK_SAVER:"streak-saver"};function getPowerupImageUrl(e="",t,n=!1){const r=PowerupsConfigManager$1.getConfig(),o={...MysticPeakPowerupsConfig,...obstacleConfig};return e!==""?n?e==="glitch"?"https://cf.quizizz.com/join/img/mystic_peak/avalanche-new.png":o[e].image.xs:t===Constants.DeviceType.PHONE?r[e].image.sm:r[e].image.lg:""}function getPowerupGradientCSS(e=""){const t=PowerupsConfigManager$1.getConfig();return!e||!t[e]?"":`linear-gradient(180deg, ${t[e].styles.backgroundGradientColor} 0%, rgba(0, 0, 0, 0) 125%), #000000`}function calculatePowerupAwardPositions(e,t={}){const o=[],s=_.defaults(t,{rewardBeforeQuestionStart:!0,beltSize:3,minimumBufferBetweenEnd:2}),a=s.beltSize+s.minimumBufferBetweenEnd+1;let u=0;const l=()=>e-u,m=()=>u===0?10:8;if(e<=0)return o;for(s.rewardBeforeQuestionStart&&o.push(0);l()>=m();){if(l()<=m()+s.minimumBufferBetweenEnd)return o;if(l()<m()+a)return u+=m()-s.minimumBufferBetweenEnd,o.push(u),o;u+=m(),o.push(u)}return o}function getFilteredPowerups({powerups:e,currentPowerupEffects:t,currentlyAwardedPowerups:n,areAllRemainingQuestionsMSQ:r,areAllGameQuestionsWithoutCorrectAnswer:o,doesRemainingQuestionsOptionsCountEqualsTwo:s,isTimerOn:a,gameType:u,areAllRemainingQuestionsFIB:l}){const m=[],y={areAllRemainingQuestionsMSQ:r,areAllGameQuestionsWithoutCorrectAnswer:o,doesRemainingQuestionsOptionsCountEqualsTwo:s,isTimerOn:a,isGameTypeSolo:u===Constants.GameType.SOLO,isGameTypeAsync:u===Constants.GameType.ASYNC,areAllRemainingQuestionsFIB:l},d=_.countBy(t,"name"),f=_.countBy(n,"name");return _.forEach(e,v=>{const A=v.probability.type,I=v.probability.weight;let P=!0;const O=d[v.name]||0,R=f[v.name]||0;A==="global"&&O===I&&(P=!1),v.validateToAward(y)&&P&&m.push({...v,numTimesAwarded:R})}),m}function selectPowerup(e,t){let n=0,r=0;const o=4;_.forEach(e,d=>{d.probability.type==="local"?n+=d.probability.weight/o**d.numTimesAwarded:d.probability.type==="global"&&(r+=t.totalPlayers<=15&&t.beltId<=0?d.probability.weight:0)});const s=t.maxPowerupsPerPlayer*Math.max(t.totalPlayers,15),a=(s-r)/n,u=[];let l=0;_.forEach(e,d=>{let f=0;d.probability.type==="local"?f=a*(d.probability.weight/o**d.numTimesAwarded):d.probability.type==="global"&&(f=2*d.probability.weight),l+=f/s;const v={range:l,powerUpName:d.name};u.push(v)});const m=_.random(0,_.last(u).range);let y="";for(let d=0;d<u.length;d++){const f=d===0?0:u[d-1].range,v=u[d].range;if(f<=m&&v>=m){y=u[d].powerUpName;break}else if(d===u.length-1)return u[d].powerUpName}return y}function createPowerupBelt(e,{rootState:t,getters:n}){const{game:r,powerupEffect:o,powerup:s}=t,a=n.currentQuestionCurrentAttemptResponse,u=PowerupsConfigManager$1.getConfig(),l=_.map(u,d=>d),m=(n.powerupsGameplay.maxInitialShufflesAllowed+n.powerupsGameplay.rewardPositions.length)*n.powerupsGameplay.normalBeltSize,y=[];for(let d=0;d<e;d++){const f=getFilteredPowerups({powerups:_.orderBy(l,A=>A.probability.type,"desc"),currentPowerupEffects:o.list,currentlyAwardedPowerups:s.list,areAllRemainingQuestionsMSQ:n.areAllRemainingQuestionsMSQ,areAllGameQuestionsWithoutCorrectAnswer:n.areAllGameQuestionsWithoutCorrectAnswer,doesRemainingQuestionsOptionsCountEqualsTwo:n.doesRemainingQuestionsOptionsCountEqualsTwo,isTimerOn:n.isQuestionTimerOn,gameType:r.data.gameType,areAllRemainingQuestionsFIB:n.areAllRemainingQuestionsFIB}),v=selectPowerup(f,{maxPowerupsPerPlayer:m,totalPlayers:r.data.totalPlayers,beltId:n.currentPowerupsBeltId});_.remove(l,A=>A.name===v),y.push({name:v,meta:{...getPowerupMetaFields({state:r,name:v,getters:n,metaProps:u[v].meta,meta:{}}),questionId:a.questionId||"",attempt:n.currentQuestionCurrentAttemptIndex,questionNum:n.currentQuestionNumber,beltPosition:d}})}return y}function getBoxDetails(e){const t=PowerupsConfigManager$1.getConfig(),n=t["mystery-box"],r=_.filter(t,A=>A.powerupType===Constants.PowerupTypes.ACTIVATOR),o=_.includes(["default",1,2,3],e);let s="mystery-box",a=n.title,u=n.description,l=n.styles.glowColor,m=n.styles.accentColor,y=n.styles.backgroundGradientColor,d=n.styles.backgroundColor,f=n.image.lg,v=[];return QLogger$1.invariant(o,`getBoxDetails: recieved boxNumber as (${e}), which is not a valid boxNumber`),r.forEach(A=>{isActivatorPowerupForBoxNumber({boxNumber:e,powerup:A})&&(v=[],s=A.name,a=A.title,u=A.description,l=A.styles.glowColor,m=A.styles.accentColor,y=A.styles.backgroundGradientColor,d=A.styles.backgroundColor,f=A.image.lg,A.powerupsToActivate.forEach(P=>{const{name:O,title:R,shortDescription:M,image:k,styles:U}=t[P];v.push({id:O,displayName:R,description:M,icon:k.lg,glowColor:U.glowColor})}))}),{id:s,displayName:a,description:u,glowColor:l,icon:f,powerups:v,accentColor:m,backgroundGradientColor:y,backgroundColor:d}}function isActivatorPowerupForBoxNumber({boxNumber:e,powerup:t}){return Number(t.name.slice(-1))===Number(e)}function givePowerupsForNudgeType(e){const t=PowerupsConfigManager$1.getConfig(),n=[];return _.forEach(t,(r,o)=>{var s;((s=r.nudge)==null?void 0:s.type)===e&&n.push(r.name)}),_.orderBy(n,r=>{var o,s;return(s=(o=t[r])==null?void 0:o.nudge)==null?void 0:s.priority},"asc")}function isValidPowerup({name:e}){const t=PowerupsConfigManager$1.getConfig();return _.has(t,e)}function shownPowerupBonusScore(e){var t,n,r;return!!((r=(n=(t=e==null?void 0:e.scoreBreakup)==null?void 0:t.powerups)==null?void 0:n[0])!=null&&r.score)}function getPowerupTargettingDetails({name:e}){const n=PowerupsConfigManager$1.getConfig()[e],o=(n.target||[]).includes("players"),s=o?n.targetting.count:0;return{shouldTarget:o,count:s}}function getPowerupsUsingGlowSpecialEffect(){const e=PowerupsConfigManager$1.getConfig();return _.reduce(e,(t,n,r)=>((n.specialEffects||{}).usesGlowEffect===!0&&t.push(r),t),[])}function createSinglePowerup(e,{rootState:t,getters:n}){const{game:r}=t,o=n.currentQuestionCurrentAttemptResponse,s=PowerupsConfigManager$1.getConfig();return{name:e,meta:{...getPowerupMetaFields({state:r,name:e,getters:n,metaProps:s[e].meta,meta:{}}),questionId:o.questionId||"",attempt:n.currentQuestionCurrentAttemptIndex,questionNum:n.currentQuestionNumber}}}const PausableTimersStatuses={IDLE:-1,PAUSED:0,RUNNING:1,CLEARED:-2,STOPPED:-1};class PausableTimeout{constructor(t,n,r=!0){this._cycleStartTime=0,this._remainingTime=0,this.status=PausableTimersStatuses.IDLE,this.callback=t,this.timeoutTime=n,r&&this.start()}start(){(this.status===PausableTimersStatuses.IDLE||this.status===PausableTimersStatuses.CLEARED)&&(this.status=PausableTimersStatuses.RUNNING,this._setTimeout())}reStart(){this.clear(),this.start()}pause(){this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status===PausableTimersStatuses.RUNNING&&(this.currentTimeout&&clearTimeout(this.currentTimeout),this._remainingTime===0?this._remainingTime=this.timeoutTime-(Date.now()-this._cycleStartTime):this._remainingTime-=Date.now()-this._cycleStartTime,this.status=PausableTimersStatuses.PAUSED)}resume(t){if(this.status===PausableTimersStatuses.PAUSED){const n=_.isNumber(t)?t:this._remainingTime;this.status=PausableTimersStatuses.RUNNING,this._cycleStartTime=Date.now(),this._resumeTimeout=setTimeout(()=>{this._remainingTime=0,this._cycleStartTime=Date.now(),this.callback&&this.callback(),this._setTimeout()},n)}}flush(){this.clear(),this.callback&&this.callback()}clear(){this.currentTimeout&&clearTimeout(this.currentTimeout),this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status=PausableTimersStatuses.CLEARED}changeTimer(t){this.timeoutTime=t,this.status===PausableTimersStatuses.RUNNING&&(this.pause(),this.resume())}_setTimeout(){this._cycleStartTime=Date.now(),this.currentTimeout=setTimeout(()=>{this.callback&&this.callback()},this.timeoutTime)}}class PausableInterval{constructor(t,n,r,o=!1,s=!1){this._init(),this.callback=t,this.intervalTime=n,this.execOnLeading=o,_.isNumber(r)&&(this._resumeTime=r),s&&this.start()}_init(){this.status=PausableTimersStatuses.IDLE,this._remainingTime=0,this._cycleStartTime=0}start(){this.status=PausableTimersStatuses.RUNNING,this._cycleStartTime=Date.now(),this.execOnLeading&&this.callback&&this.callback(),this._setInterval()}pause(){this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status===PausableTimersStatuses.RUNNING&&(this.currentInterval&&clearInterval(this.currentInterval),this._remainingTime===0?this._remainingTime=this.intervalTime-(Date.now()-this._cycleStartTime):this._remainingTime-=Date.now()-this._cycleStartTime,this.status=PausableTimersStatuses.PAUSED)}resume(t){const n=t||this._resumeTime||this._remainingTime;this.status===PausableTimersStatuses.PAUSED&&(this.status=PausableTimersStatuses.RUNNING,this._cycleStartTime=Date.now(),this._resumeTimeout=setTimeout(()=>{this._remainingTime=0,this._cycleStartTime=Date.now(),this.callback&&this.callback(),this._setInterval()},n))}stop(){this.clear(),this._init(),this.status=PausableTimersStatuses.STOPPED}changeInterval(t){this.intervalTime=t,this.status===PausableTimersStatuses.RUNNING&&(this.pause(),this.resume())}flush(){this.stop(),this.callback&&this.callback()}clear(){this.currentInterval&&clearInterval(this.currentInterval),this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status=PausableTimersStatuses.CLEARED}_setInterval(){this.currentInterval=setInterval(()=>{this._cycleStartTime=Date.now(),this.callback&&this.callback()},this.intervalTime)}}function asyncDelay(e=0){return new Promise((t,n)=>{setTimeout(()=>{t()},e)})}async function spendMinTimeResolving(e,t){const n=Date.now(),r=await e,o=t-(Date.now()-n);return o>0&&await asyncDelay(o),r}const ANIMATION_PRESETS=GameConstants.MASTERY_MODE_ANIMATION_PRESETS;let pauseTimeout,beforeRedemptionQuizScreenTimeout;async function triggerSkipQuestion({state:e,commit:t,rootState:n,dispatch:r,getters:o},s){try{const{response:a}=await skipQuestion(s),u=e.questions.slidesFlowControlType===Constants.SlidesFlowControlTypes.NONE;if(a.skipped){if(t(MutationTypes.UPDATE_SKIPPED_QUESTIONS,s.questionId),o.isMysticPeak&&setPositionForPassAnimation(),o.isAnswerLaterQuestion&&t(MutationTypes.ATTEMPTED_ANSWER_LATER_QUESTION),u){const m={..._.get(e,"questions.list",[])[s.questionId],id:s.questionId,state:Constants.SlideStates.REVEAL};r("updateSlide",m)}else{const l=[...e.questions.remainingOrder],{shouldShowRedemptionQuestion:m,mutationPayload:y,shouldShowAnswerLaterQuestions:d,shouldShowReviewQuestions:f,answerLaterMutationPayload:v}=onCurrentQuestionOverCooker(e,o);if(f){r("handleShowingReviewSection",y),t(MutationTypes.SHOWING_ANSWER_LATER_QUESTIONS,{inProgress:!1});return}if(m){r("handleShowingRedemptionQuestion",y);return}if(d){r("handleShowingAnswerLaterQuestions",v);return}if(l.length<1)return r("requestToChangePage",{to:PageNames.get(PageNames.List.IN_GAME.GAME_OVER)}),{success:!0};const A=l[0];l.shift(),r("setNextQuestion",{nextQuestion:{questionId:A},remainingOrder:l})}return{success:!0}}}catch(a){return QLogger$1.error(["Error at action skipQuestion",a]),{success:!1}}}async function reconnectToGame({state:e,commit:t,rootState:n,dispatch:r}){try{const o=[{kind:Constants.SocketEntityKinds.PLAYER,id:e.player.playerId}],{response:s}=await reconnectRoomCall(e.data.roomHash,o),a=reconnectToGameResponseCooker(s,n);t(MutationTypes.S_CONNECT_SUCCESS),a.shouldRejoinRoom&&r("rejoinAnyGame",a.rejoinParams)}catch(o){QLogger$1.error("Error at action reconnectToGame",o)}}function exitFromSummaryPage({state:e,dispatch:t},{metaData:n={}}){const r=getQuesIdsForResponseStatus(e.questions.questionResponseStatuses,[Constants.QuestionResponseStatuses.NOT_SENT,Constants.QuestionResponseStatuses.SENDING]);if(!(_.keys(r).length===0)){t("toggleOverlay",{type:`responseUnsynced|${Constants.SyncOverlayTypes.ON_EXIT}`});return}t("hideMenu"),t("requestToChangePage",{to:PageNames.get(PageNames.List.LANDING.HOME),metaData:n})}function setNextPossibleMemeSet({state:e,commit:t,getters:n},{wasAttempCorrect:r,prevMemeTypeShown:o}){const{flow:{meme:s}}=e,a=_.map(n.allOrderedResponses,l=>l.isCorrect);a.push(r);const u=getNextPossibleMemes(a,{...s.list},n.totalQuestionsInGame,s.nextPossible,o);t(MutationTypes.SET_NEXT_POSSIBLE_MEMES,{next:u})}function gameCompleted({commit:e},t={}){e(MutationTypes.GAME_COMPLETED,t)}function reactionUpdated({commit:e},t={}){e(MutationTypes.REACTION_UPDATED,t)}function gameStopped({commit:e},t={}){e(MutationTypes.GAME_STOPPED,t)}function getPowerups({rootState:e}){const{game:t}=e,{breakRoomArr:n}=t.flow;return n}function apiToCall(e,...t){return e.list.length>0?replacePowerupsRequest(...t):awardPowerupsRequest(...t)}async function awardSinglePowerup({rootState:e,commit:t,dispatch:n,getters:r},{powerupName:o,powerupIndex:s}){const{game:a,applicationContext:u,powerup:l}=e,{gameMode:m,gameType:y,roomHash:d,mysticPeakLevelMap:f}=a.data,{totalCorrect:v}=a.player,A=f.findIndex(R=>R===v),I=[createSinglePowerup(o,{rootState:e,getters:r})],P=convertToServerGameTypeWrapperForMastery(r.isMasteryMode);let O={roomHash:d,playerId:a.player.playerId,gameType:P(y,m),powerups:I,breakoutRoom:{powerUpIndex:s,level:A}};l.list.length>0&&(O={...O,archive:r.availablePowerups,award:I});try{let R;if(l.list.length>0){O={...O,archive:r.availablePowerups,award:I},R=await apiToCall(l,O,u.isGameSubDomainWhiteListed);const{response:U}=R,Q=cookServerPowerups(U.powerups),B=Q.filter(Z=>Z.status===Constants.PowerupStatuses.ARCHIVED),W=Q.filter(Z=>Z.status===Constants.PowerupStatuses.AWARDED);return t(MutationTypes.UPDATE_POWERUPS,{powerups:B}),t(MutationTypes.AWARD_POWERUPS,{powerups:W}),n("onBreakRoomInteraction"),{success:!0,archivedPowerups:B,newPowerups:W}}R=await apiToCall(l,O,u.isGameSubDomainWhiteListed);const{response:M}=R,k=cookServerPowerups(M.powerups);return t(MutationTypes.AWARD_POWERUPS,{powerups:k}),n("onBreakRoomInteraction"),{success:!0,powerups:k}}catch(R){switch(QLogger$1.error("Error at awardSinglePowerup:",R),getResponseErrorType(R)){case"powerup.MAX_ATTEMPT_EXHAUSTED":n("toggleSnackBar",{isVisible:!0,options:{message:"Maximun attempts for Avalanche exhausted."}});break;case"powerup.COOLDOWN_PERIOD":n("toggleSnackBar",{isVisible:!0,options:{message:"Avalanache in Cooldown period."}});break}return n("onBreakRoomInteraction"),{success:!1,powerups:[]}}}async function awardMultiplePowerups({rootState:e,commit:t,getters:n}){const{game:r,applicationContext:o}=e,{gameMode:s,gameType:a,roomHash:u}=r.data;if(!n.canPowerupsBeAwardedInThisGame)return{success:!1,powerups:[]};const l=convertToServerGameTypeWrapperForMastery(n.isMasteryMode),m=n.powerupsGameplay.normalBeltSize,y={roomHash:u,playerId:r.player.playerId,gameType:l(a,s),powerups:createPowerupBelt(m,{rootState:e,getters:n})};try{const{response:d}=await awardPowerupsRequest(y,o.isGameSubDomainWhiteListed),f=cookServerPowerups(d.powerups);return t(MutationTypes.AWARD_POWERUPS,{powerups:f}),{success:!0,powerups:f}}catch(d){return QLogger$1.error("Error at awardMultiplePowerups:-",d),{success:!1,powerups:[]}}}async function resetDroppedStates({commit:e,dispatch:t}){e(MutationTypes.RESET_DROPPED_STATES)}async function raiseHandForPlayer({commit:e,dispatch:t},{playerId:n,questionId:r,roomHash:o,hostId:s,issueIndex:a,triggerType:u}){try{const l={playerId:n,questionId:r,roomHash:o,hostId:s,issueIndex:a,triggerType:u},{response:m}=await sendRaiseHandRequest(l);return{success:!0,studentQueueNo:m.studentQueueNo}}catch(l){return QLogger$1.error("Error at action raiseHandForPlayer",l),{success:!1,studentQueueNo:0}}}async function replacePowerups({rootState:e,commit:t,getters:n}){const{game:r}=e,{applicationContext:o}=e,s=n.powerupsGameplay.normalBeltSize,a=convertToServerGameTypeWrapperForMastery(n.isMasteryMode),u={roomHash:r.data.roomHash,playerId:r.player.playerId,gameType:a(r.data.gameType,r.data.gameMode),archive:n.availablePowerups,award:createPowerupBelt(s,{rootState:e,getters:n})};try{const{response:l}=await replacePowerupsRequest(u,o.isGameSubDomainWhiteListed),m=cookServerPowerups(l.powerups),y=m.filter(f=>f.status===Constants.PowerupStatuses.ARCHIVED),d=m.filter(f=>f.status===Constants.PowerupStatuses.AWARDED);return t(MutationTypes.UPDATE_POWERUPS,{powerups:y}),t(MutationTypes.AWARD_POWERUPS,{powerups:d}),{success:!0,archivedPowerups:y,newPowerups:d}}catch(l){return QLogger$1.error("Error at replacePowerups:-",l),{success:!1,powerups:[]}}}async function activatePowerupFromMysteryBox({state:e,dispatch:t,commit:n,getters:r},o){const s=getPowerupActivationPayload({state:e,getters:r,id:o.id,name:o.name}),a=e.flow.gameAppearance,u=r.activatedPowerupEffects,l=PowerupsConfigManager$1.getConfig(),m={...s,powerupId:o.powerupId,status:Constants.PowerupStatuses.ACTIVATED};isEmpty(o.activationSource)||(m.activationSource=o.activationSource),_.isFunction(l[o.name].onActivate)&&l[o.name].onActivate(ActivatePowerupSideEffects$1),n(MutationTypes.ADD_POWERUP_EFFECT,{powerupEffect:{...m}});let y=e.player.previousStreak,d=e.player.currentStreak;const f=PowerupAPICreator$1.createAPI({previousStreak:y,currentStreak:d,gameAppearance:a,activatedPowerupEffects:u});PowerupEffects$1.applySpecialEffects([m],"onActivate",f),PowerupEffects$1.applyEffects([m],f,!0);const v=f.score.getTransformed(),A=r.currentQuestion;y=f.streak.getPreviousStreak(),d=f.streak.getCurrentStreak(),n(MutationTypes.POWERUP_ACTIVATED_FROM_MYSTERY_BOX,{score:v.total,questionId:A.id,attempt:r.currentQuestionCurrentAttemptIndex,scoreBreakup:v,previousStreak:y,currentStreak:d})}async function activatePowerup({state:e,dispatch:t,commit:n,getters:r},{id:o,name:s,meta:a={}}){var d;const u=PowerupsConfigManager$1.getConfig(),l=e.flow.gameAppearance,m=r.activatedPowerupEffects,y=getPowerupActivationPayload({state:e,getters:r,id:o,name:s,meta:a});try{const v=(await activatePowerupCall(y)).response;n(MutationTypes.UPDATE_POWERUPS,{powerups:[{id:o,status:Constants.PowerupStatuses.ACTIVATED}]});const A={};let I=u[s].notification.onActivate||`${u[s].title} activated successfully`;((d=e==null?void 0:e.data)==null?void 0:d.gameMode)===Constants.GameMode.MYSTIC_PEAK&&s==="glitch"&&(I=getTranslatedText("Avalanche is applied")),A.title=u[s].title,A.message=getTranslatedText("{$1}",[I]),A.type="powerup-effect",A.styles=u[s].styles,A.name=s,A.type="powerup-effect",t("togglePowerupToast",{isVisible:!0,options:A}),_.isFunction(u[s].onActivate)&&u[s].onActivate(ActivatePowerupSideEffects$1);const P={name:v.powerupEffect.name,meta:v.powerupEffect.meta,powerupId:v.powerupEffect.powerupId,status:v.powerupEffect.status,id:v.powerupEffect._id},O=e.player.previousStreak,R=e.player.currentStreak;n(MutationTypes.ADD_POWERUP_EFFECT,{powerupEffect:{...P}});const M=PowerupAPICreator$1.createAPI({previousStreak:O,currentStreak:R,gameAppearance:l,activatedPowerupEffects:m,activatedPowerupEffect:P});PowerupEffects$1.applySpecialEffects([P],"onActivate",M),v.powerupEffect&&["question","game"].includes(u[v.powerupEffect.name].applicationScope)&&setTimeout(()=>{const k=r.questionScopePowerupEffects,U=r.gameScopePowerupEffects,Q=_.concat(k,U);PowerupEffects$1.applyEffects(Q,M)})}catch(f){QLogger$1.error("Error at activatePowerup: ",f),t("toggleSnackBar",{isVisible:!0,options:{message:"Powerup already activated."}})}}function addPowerupEffectsToDestroyList({state:e,dispatch:t,commit:n},r=[]){n(MutationTypes.ADD_POWERUP_EFFECTS_TO_DESTROY_LIST,{powerupEffects:r})}async function destroyPowerupEffect({state:e,getters:t,rootState:n,dispatch:r,commit:o},s){const a=e.player.playerId,u=e.data.roomHash,l={},m=e.flow.gameAppearance,y=t.activatedPowerupEffects,f=PowerupsConfigManager$1.getConfig()[s.name].powerupType,v={playerId:a,roomHash:u,powerupEffectId:s.id,gameType:e.data.gameType,meta:{}};if(f===Constants.PowerupTypes.ACTIVATOR&&(v.shouldDiscardActivatorPowerup=s.shouldDiscardActivatorPowerup,v.meta.isActivatorPowerupEffect=!0,!s.shouldDiscardActivatorPowerup)){l.name=t.powerupToActivateFromMysteryBox(s.id);const A=getPowerupActivationPayload({state:e,getters:t,name:l.name});v.meta={...v.meta,...A.meta}}try{const{response:A}=await destroyPowerupEffectRequest(v,f),I={gameAppearance:m,activatedPowerupEffects:y},P=f===Constants.PowerupTypes.ACTIVATOR;if(!P||P&&s.shouldDiscardActivatorPowerup){r("triggerDestructionEffect",{powerupEffect:s,createAPIValues:I});return}const O=_.get(A,"activatedPowerups",[]);l.id=O[0]._id,l.powerupId=O[0].powerupId,I.powerupToActivate=l,setTimeout(()=>{r("triggerDestructionEffect",{powerupEffect:s,createAPIValues:I})},2e3)}catch(A){QLogger$1.error("Error at destroyPowerupEffect",A),r("triggerDestructionEffect",{powerupEffect:s})}}function triggerDestructionEffect({commit:e},{powerupEffect:t,createAPIValues:n={}}){PowerupsConfigManager$1.getConfig(),t=_.cloneDeep(t),t.status=Constants.PowerupEffectStatuses.DESTROYED;const r=PowerupAPICreator$1.createAPI(n);PowerupEffects$1.destroyEffects([t],r),PowerupEffects$1.applySpecialEffects([t],"onDestroy",r),e(MutationTypes.UPDATE_POWERUP_EFFECT,{powerupEffect:t})}async function handleProceedingGame({state:e,rootState:t,commit:n,dispatch:r,getters:o},{responseOfLastAttempt:s,gameType:a,powerupsToDestroy:u=[]}){let l=a;a||(l=e.data.gameType);const m=_.concat(t.powerupEffect.destroyList,u),y=proceedGameInProgressCooker(e,o,s);if(!y.isCallRequired)return;n(MutationTypes.PROCEED_GAME_IN_PROGRESS,y);const d=l===Constants.GameType.SOLO?proceedSoloGame:proceedGame;try{const{response:f}=await d(t,o,y.responseToBeSent,m),v=handleProceedingGameCooker(t,o,f,y.isCallBatched),A=v.powerupEffects,I=v.powerupEffectsDestroyed;if(isEmpty(I)||n(MutationTypes.ADD_POWERUP_EFFECTS_TO_DESTROY_LIST,{powerupEffects:I}),A.length>0){const R=_.cloneDeep(t.powerupEffect.list),M=_.merge(_.keyBy(R,"id"),_.keyBy(A,"id")),k={powerupEffects:Object.values(M)};n(MutationTypes.UPDATE_POWERUP_EFFECTS,k)}n(MutationTypes.REMOVE_QUESTION_FROM_INCORRECT_ATTEMPT),isEmpty(v.updatedSlide)||r("updateSlide",v.updatedSlide),n(MutationTypes.PROCEED_GAME_RESPONDED,v),n(MutationTypes.UPDATE_POWERUP_EFFECT_DESTROY_LIST,{powerupEffects:[]}),_.includes(["proceedGame.timeout|confirm","proceedGame.defaultError|confirm"],t.rootReducer.dialog.name)&&r("toggleDialog"),await r("handleAnswerLaterQuestion",{responseOfLastAttempt:s,isCorrect:v.updatedResponse.isCorrect});const P=t.game.data.gameOptions.hasRedemptionPass===Constants.GameOptionsValues.hasRedemptionPass.YES,O=y.responseToBeSent.attempt>0;return P&&O&&InHouseEventLogger$1.logEvent(WebEvents.SUMBIT_PASS_2_RESPONSE,{questionId:t.game.questions.currentId,isCorrect:v.updatedResponse.isCorrect}),{didAnswer:!0}}catch(f){QLogger$1.logForSession(["Error at handleProceedingGame",f],"error");const v=getResponseErrorType(f);let A,I=!1;switch(v){case"room.NOT_FOUND":case"room.NOT_STARTED":case"game.NOT_FOUND":case"room.NO_ASSIGNMENTS":const P=`ROOM_${v.split(".")[1]}`,O=`pg-${v}`;r("handleRejoinRelatedNetworkErrors",{reason:P,errorCode:O});break;case"room.EXPIRED":I=!0,r("handleGameExpiry");break;case"room.COMPLETED":I=!0,r("gameCompleted");break;case"room.STOPPED":I=!0,r("gameStopped");break;case"room.PAUSED":r("pauseGame",f.response.pauseFor),r("handleGameLockFails"),I=!0;break;case"player.DELETED":I=!0,r("handleCurrentPlayerDeleted");break;case"player.GAME_OVER":I=!0;const R=t.routing.currentPage;PageNames.matches(R,PageNames.List.IN_GAME.QUIZ,2)&&r("requestToChangePage",{to:PageNames.get(PageNames.List.IN_GAME.GAME_OVER)});break;case"room.FORCE_REJOIN":case"lock_fail.GAME":case"lock_fail.REPOPULATE":r("handleGameLockFails");break;case"room.QUIZ_MODIFIED":r("handleGameLockFails",{name:"game.quizModified|confirm"});break;case"room.SETTINGS_OUT_OF_SYNC":r("handleGameLockFails",{name:"game.settingsOutOfSync|confirm"});break;case"powerups.IMMUNITY_ACTIVATED":r("handleImmunityActivation",{responseOfLastAttempt:s});break;case"response.INVALID_RESPONSE":r("toggleDialog",{name:"proceedGame.invalidResponse|confirm"});break;case"response.ALREADY_ANSWERED":case"question.NON_ANWERABLE":const M=v==="response.ALREADY_ANSWERED",k=e.questions.slidesFlowControlType===Constants.SlidesFlowControlTypes.NONE;A=async()=>{if(k){const Q=e.data.roomHash,B=e.data.gameState;await r("syncGameQuestions",{roomHash:Q,gameType:a,gameState:B})}r("toggleDialog")},r("toggleDialog",{name:"proceedGame.outOfSync|confirm",options:{canSync:k,alreadyAnswered:M},actionCallback:A});break;case"timeout":A=()=>{r("handleProceedingGame",{responseOfLastAttempt:s,gameType:a,powerupsToDestroy:u}),r("toggleDialog")},r("toggleDialog",{name:"proceedGame.timeout|confirm",actionCallback:A});break;default:const U=`#pg-${v}`;A=Q=>{Q===0?r("requestToChangePage",{to:PageNames.get(PageNames.List.LANDING.HOME)}):r("handleProceedingGame",{responseOfLastAttempt:s,gameType:a,powerupsToDestroy:u}),r("toggleDialog")},r("toggleDialog",{name:"proceedGame.defaultError|confirm",options:{errorCode:U},actionCallback:A})}return n(MutationTypes.PROCEED_GAME_RESPONDED_WITH_ERROR,{response:y.responseToBeSent,requestSucceeded:I}),{didAnswer:!1}}}function handleImmunityActivation({state:e,getters:t,dispatch:n},{responseOfLastAttempt:r}){const o=t.activatedPowerupEffects,s=_.find(o,{name:"immunity",status:Constants.PowerupEffectStatuses.ACTIVATED});GlobalEventBus.$emit("question:clearAnswers"),n("clearQuestionResponse",r),n("togglePowerupToast",{isVisible:!0,options:{title:getTranslatedText("Incorrect answer,"),message:getTranslatedText("you get one more chance"),type:"immunity-feedback"}});const a=r.response,u=_.get(r,"metadata.wrongIndices",[]),l=PowerupAPICreator$1.createAPI({isCorrect:!1,actualSelectedIndices:Array.isArray(a)?a:[a],gameAppearance:e.flow.gameAppearance,wrongIndices:u}),m=t.beforeAnswerPowerupEffects;n("triggerDestructionEffect",{powerupEffect:s}),PowerupEffects$1.applyEffects(m,l)}function startQuestions({state:e,commit:t,dispatch:n,getters:r,rootState:o},{isAtGamePlayStart:s=!1,forcePushPageChange:a=!1}={}){const u=showQuestionCooker(o,s,r);if(u.showingAnswerLaterQuestions&&t(MutationTypes.SHOWING_ANSWER_LATER_QUESTIONS,{inProgress:!0}),!u.areThereQuestionsLeftToShow){n("endQuestionsAndMoveOn");return}if(u.isQuestionToShowValid){if(s&&setTimeout(()=>{let l=e.player.previousStreak,m=e.player.currentStreak;const y=e.flow.gameAppearance,d=r.activatedPowerupEffects,f=r.questionScopePowerupEffects,v=r.gameScopePowerupEffects,A=r.answerScopePowerupEffects,I=r.postAnswerPowerupEffects,P=PowerupAPICreator$1.createAPI({previousStreak:l,currentStreak:m,gameAppearance:y,activatedPowerupEffects:d}),O=_.concat(f,v,I),R=_.concat(O,A),M=PowerupsConfigManager$1.getConfig();_.forEach(R,k=>{_.isFunction(M[k.name].onActivate)&&M[k.name].onActivate(ActivatePowerupSideEffects$1),PowerupEffects$1.applySpecialEffects([k],"onActivate",P)}),PowerupEffects$1.applyEffects(O,P),l=P.streak.getPreviousStreak(),m=P.streak.getCurrentStreak(),t(MutationTypes.UPDATE_STREAK,{previousStreak:l,currentStreak:m})}),u.shouldShowRedemptionQuestion){n("handleShowingRedemptionQuestion",u.mutationPayload);return}u.shouldUpdateSlide&&n("updateSlide",u.updatedSlide),n("setCurrentQuestion",u.mutationPayload),n("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ),metaData:{forcePush:a},gameData:u.gameData})}}async function updateMysticLeaderboard({state:e,commit:t}){const{playerId:n}=e.player,{roomHash:r}=e.data;try{const o={playerId:n,roomHash:r},{response:s}=await updateWaitingLeaderboard(o),a=s.mysticPeakBoard;t(MutationTypes.UPDATE_WAITING_MYSTIC_LEADERBOARD,{mysticPeakBoard:a})}catch(o){return QLogger$1.error("Error at Updating leaderboard while student wait for others",o),!1}}async function syncGameQuestions({commit:e,state:t,dispatch:n},{roomHash:r,gameType:o,gameState:s}){try{const{cookedResponse:a}=await n("getGameQuestions",{roomHash:r,gameType:o,gameState:s});Object.keys(t.questions.list).forEach(m=>{a.questions[m].answer=t.questions.list[m].answer}),e(MutationTypes.SET_QUESTIONS,a);const l=syncGameQuestionsCooker(t,a);if(l.shouldEndGame&&(l.areAllPlayerSlidesDone&&e(MutationTypes.PLAYER_QUESTIONS_OVER),n("gameStopped",{})),l.shouldUpdateSlide&&n("setNextQuestion",l.updateSlidePayload),!isEmpty(a.canvas)){const m=a.canvas.host===!0,y=a.canvas.player===!0;n("handleSyncingLiveWhiteboardState",{states:{host:{isVisible:m},player:{isVisible:m,canDraw:y}}})}return!0}catch(a){return QLogger$1.error("Error at action syncGameQuestions: ",a),!1}}async function updateReactionForPlayer({commit:e,dispatch:t},{playerId:n,roomHash:r,hostId:o,questionId:s,triggerType:a,reactionDetail:u}){try{const l={playerId:n,roomHash:r,hostId:o,questionId:s,triggerType:a,reactionDetail:u},{response:m}=await setUpdateReactionRequest(l);return m}catch(l){return QLogger$1.error("Error at action updateReactionForPlayer",l),!1}}function handleSyncingLiveWhiteboardState({commit:e,state:t},{states:{host:n={},player:r={}},shouldUpdate:o=!0,updateDelay:s=0}={}){const a=_.cloneDeep(t.flow.liveWhiteboardState),u={host:{...a.host,...n},player:{...a.player,...r}};if(_.isEqual(a,u)||e(MutationTypes.SET_LIVE_WHITEBOARD_STATES,u),!(!o||u.host.isVisible===!1)){if(u.player.canDraw){setTimeout(()=>{GlobalEventBus.$emit("liveWhiteboard:action",{type:Constants.LiveWhiteboardActions.REFRESH_PLAYER_CANVAS})},s);return}setTimeout(()=>{GlobalEventBus.$emit("liveWhiteboard:action",{type:Constants.LiveWhiteboardActions.REFRESH_HOST_CANVAS})},s)}}function setCurrentQuestion({state:e,commit:t,getters:n,dispatch:r},{questionId:o,doneOrder:s,remainingOrder:a,currentOptionsAppearance:u,powerupScopes:l,doneQuestionsFrequency:m}){t(MutationTypes.SET_CURRENT_QUESTION,{questionId:o,doneOrder:s,remainingOrder:a,currentOptionsAppearance:u,powerupScopes:l,doneQuestionsFrequency:m}),!(e.questions.slidesFlowControlType!==Constants.SlidesFlowControlTypes.FULL||!n.isCurrentSlideInteractable)&&n.currentQuestion.state===Constants.SlideStates.ACTIVE&&n.isCurrentQuestionCurrentAttemptEvaluated&&r("updateSlide",{id:o,state:Constants.SlideStates.REVEAL})}function setNextQuestion({state:e,commit:t,dispatch:n},{nextQuestion:r,remainingOrder:o=null}){const s=Array.isArray(o)?o:e.questions.remainingOrder,a=[r.questionId,...s];t(MutationTypes.CHANGE_REMAINING_QUESTIONS_ORDER,{remainingOrder:a}),n("startQuestions")}function resetRemainingQuestionsOrder({state:e,commit:t,dispatch:n,getters:r},{remainingOrder:o}){const{slidesFlowControlType:s}=e.questions;s===Constants.SlidesFlowControlTypes.FULL&&n("doPlayerMetadataUpdation",{questionId:o[0]}),t(MutationTypes.CHANGE_REMAINING_QUESTIONS_ORDER,{remainingOrder:o}),n("startQuestions")}function addQuestionToDoneOrder({state:e,commit:t,dispatch:n,getters:r},{questionId:o}){t(MutationTypes.ADD_QUESTION_TO_DONE_ORDER,{questionId:o})}function updateSlide({state:e,commit:t},n){var u,l,m,y,d,f;const r={id:n.id||n.questionId||""},o=!isEmpty(r.id)&&_.includes(e.questions.initSequence,r.id);QLogger$1.invariant(o,["Slide id provided to `updateSlide` is not valid or does not exist in current slides. Found in -",n]);const s=n.options||_.get(n,"structure.options"),a=n.answer||_.get(n,"structure.answer");if(_.includes(Object.values(Constants.SlideStates),n.state)&&(r.state=n.state),Array.isArray(s)&&(r.options=s),(_.isString(a)||_.isNumber(a)||Array.isArray(a))&&(r.answer=a),_.isPlainObject(n.metadata)&&(r.metadata=n.metadata),(u=n==null?void 0:n.structure)!=null&&u.graphs&&((l=n==null?void 0:n.structure)!=null&&l.answer)){const v=((y=(m=n==null?void 0:n.structure)==null?void 0:m.answer)==null?void 0:y[0])||((d=n==null?void 0:n.structure)==null?void 0:d.answer);r.answerGraph=(((f=n==null?void 0:n.structure)==null?void 0:f.graphs)||[]).find(A=>(A==null?void 0:A.plotId)===v)}t(MutationTypes.UPDATE_SLIDE,{slide:r})}async function handleMasteryMode({state:e,commit:t,getters:n,dispatch:r,rootState:o}){const s=e.flow.hasReachedMasteryAtLeastOnce,a=n.hasReachedMastery;if(!s&&a)return await r("handleMasteryReached")}async function setHasReachedMasteryAtLeastOnce({commit:e},{hasReachedMasteryAtLeastOnce:t}){e(MutationTypes.HAS_REACHED_MASTERY,{hasReachedMasteryAtLeastOnce:t})}async function handleMasteryReached({state:e,rootState:t,getters:n,commit:r,dispatch:o}){const{questions:s,data:{roomHash:a,gameType:u,gameState:l},player:{playerId:m}}=t.game,y={roomHash:a,gameType:u,gameState:l,playerId:m,gameId:a},d=[...n.doneOrderForEvaluatedQuestions];s.currentId&&d.push(s.currentId);const f=[...e.questions.remainingOrder],v=s.incorrectQuestionAttempts,A={questionId:"",doneOrder:d,remainingOrder:f,currentOptionsAppearance:[],powerupScopes:["game"]},I=[];return f.forEach(P=>{v.has(P)||I.push(P)}),I.length===0&&s.currentId?(await o("setCurrentQuestion",A),o("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ.MASTERY_MODE_CONFIRMATION_SCREEN),metaData:{currentAnimationPreset:ANIMATION_PRESETS.ACHIEVED_WITH_SEEN},gameData:y})):(A.remainingOrder=I,await o("setCurrentQuestion",A),o("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ.MASTERY_MODE_CONFIRMATION_SCREEN),metaData:{currentAnimationPreset:ANIMATION_PRESETS.ACHIEVED_WITH_UNSEEN},gameData:y}))}async function onStartAnsweringUnseenQuestions({dispatch:e}){await e("startQuestions")}async function showMasteryCountdown({dispatch:e,rootState:t}){const{data:{roomHash:n,gameType:r,gameState:o},player:{playerId:s,accuracy:a,previousAccuracy:u}}=t.game,l={roomHash:n,gameType:r,gameState:o,playerId:s,gameId:n},m={currentAnimationPreset:ANIMATION_PRESETS.IN_GAME};return a>u?m.currentAnimationPreset=ANIMATION_PRESETS.INCREASED:a<=u&&(m.currentAnimationPreset=ANIMATION_PRESETS.DECREASED),e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ.MASTERY_MODE_CONFIRMATION_SCREEN),metaData:m,gameData:l})}async function afterMasteryCountdownOver({dispatch:e,rootState:t}){return e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ)})}async function updateDoneQuestionsFrequency({state:{questions:{doneQuestionsFrequency:e,currentId:t}},commit:n}){const r={...e};t in r?r[t]+=1:r[t]=0,n(MutationTypes.UPDATE_DONE_QUESTIONS_FREQUENCY,{doneQuestionsFrequency:r})}async function onCurrentQuestionOver({state:e,commit:t,dispatch:n,getters:r,rootState:o}){const s=e.questions.slidesFlowControlType===Constants.SlidesFlowControlTypes.PARTIAL,a=e.flow.hasReachedMasteryInMysticPeakAtleastOnce;if(!(r.isAnswerLaterQuestion||r.hasCurrentQuestionBeenAnswered||r.hasIncorrectAttemptForQuestion)||!s)return;const{shouldShowRedemptionQuestion:u,mutationPayload:l,shouldShowAnswerLaterQuestions:m,shouldShowReviewQuestions:y,answerLaterMutationPayload:d,shouldShowBreakRoom:f,hasReachedMasteryForMysticPeak:v,shouldShowMasteryCountdown:A}=onCurrentQuestionOverCooker(e,r);if(y){n("handleShowingReviewSection",l),t(MutationTypes.SHOWING_ANSWER_LATER_QUESTIONS,{inProgress:!1});return}if(await n("updateDoneQuestionsFrequency"),u){n("handleShowingRedemptionQuestion",l),t(MutationTypes.SHOWING_ANSWER_LATER_QUESTIONS,{inProgress:!1});return}if(m){n("handleShowingAnswerLaterQuestions",d);return}if(!r.isCurrentQuestionSkipped){const{questionResponses:R,currentId:M}=e.questions;await n("handleIncorrectAttempt",{response:getLastAttemptResponseForQuestion(R,M),gameType:o.game.data.gameType,gameMode:o.game.data.gameMode})}if(f){const R={};if(v&&!a){R.breakoutRoomType=BREAK_ROOM_TYPES.PATH_FINDER,t(MutationTypes.UPDATE_HAS_REACHED_MASTERY_IN_MYSTIC_PEAK_ATLEAST_ONCE,{reached:!0}),await n("handleShowingBreakRoom",R);return}if(!a){R.breakoutRoomType=BREAK_ROOM_TYPES.LEVEL_UP,await n("handleShowingBreakRoom",R);return}}const I=r.isMasteryMode;if(I){if(r.hasReachedMastery&&!o.game.flow.hasReachedMasteryAtLeastOnce){await n("handleMasteryReached");return}if(A&&!o.game.flow.hasReachedMasteryAtLeastOnce){await n("showMasteryCountdown");return}}const O=showQuestionCooker(o,!1,r);if(!O.areThereQuestionsLeftToShow){n("endQuestionsAndMoveOn");return}if(!O.isQuestionToShowValid){I&&(e.questions.remainingOrder.length===1&&e.questions.currentId===""||e.questions.remainingOrder.length===0&&e.questions.currentId!=="")&&(n("setCurrentQuestion",{...O.mutationPayload,questionId:""}),n("startQuestions"));return}n("setCurrentQuestion",O.mutationPayload)}async function endQuestionsAndMoveOn({commit:e,dispatch:t}){const n=await t("moveOnAfterGameComplete");return n&&setTimeout(()=>{e(MutationTypes.PLAYER_QUESTIONS_OVER)},0),n}function handleShowingRedemptionQuestion({commit:e,dispatch:t,getters:n,rootState:r},{questionId:o,doneOrder:s,remainingOrder:a,powerupScopes:u}){if(t("setCurrentQuestion",{questionId:o,doneOrder:s,remainingOrder:a,powerupScopes:u}),r.game.data.gameOptions.hasRedemptionPass!==Constants.GameOptionsValues.hasRedemptionPass.YES){t("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ.REDEMPTION_QUESTION_SELECTOR),gameData:{roomHash:r.game.data.roomHash,playerId:r.game.player.playerId,gameType:r.game.data.gameType}});return}if(n.orderedRedemptionResponses.length===0)InHouseEventLogger$1.logEvent(WebEvents.COMPLETE_PASS_1,{total:Object.keys(r.game.questions.list).length,incorrect:RedemptionQuizConfig.getTotalOriginallyIncorrectQuestionIds().length}),t("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ.BEFORE_REDEMPTION_SECTION),gameData:{roomHash:r.game.data.roomHash,playerId:r.game.player.playerId,gameType:r.game.data.gameType}}),beforeRedemptionQuizScreenTimeout&&clearTimeout(beforeRedemptionQuizScreenTimeout),beforeRedemptionQuizScreenTimeout=setTimeout(()=>{const l=showQuestionCooker(r,!1,n);t("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ),metaData:{},gameData:l.gameData});const m=RedemptionQuizConfig.selectQuestionsForRedemption()[0];t("onRedemptionQuestionSelection",{questionId:m}),e(MutationTypes.SET_REDEMPTION_CURRENT_QUESTION_NUMBER,{count:1})},7750);else{const l=n.orderedRedemptionResponses.length+1,m=RedemptionQuizConfig.selectQuestionsForRedemption()[0];t("onRedemptionQuestionSelection",{questionId:m}),e(MutationTypes.SET_REDEMPTION_CURRENT_QUESTION_NUMBER,{count:l})}}function onRedemptionQuestionSelection({dispatch:e,commit:t,state:n},{questionId:r}){QLogger$1.invariant(!isEmpty(r),`Redemption question's id cannot be blank - ${r}`),isEmpty(r)||t(MutationTypes.CHANGE_REMAINING_QUESTIONS_ORDER,{remainingOrder:[r,...n.questions.remainingOrder]}),e("updateSlide",{id:r,state:Constants.SlideStates.ACTIVE}),e("startQuestions")}async function proceedFullPlayerControlledGames({dispatch:e,commit:t,getters:n,rootState:r},{direction:o="forward"}){const s=proceedFullPlayerControlledGamesCooker(r,n,o);s.isNotAllowedToProceed||(s.areQuestionsOver&&e("endQuestionsAndMoveOn"),s.shouldUpdateSlideState&&e("updateSlide",s.updateSlidePayload),s.shouldUpdateCurrentSlide&&e("setCurrentQuestion",s.setCurrentQuestionMutationPayload),s.shouldUpdatePlayerMetadata&&e("doPlayerMetadataUpdation",s.updateMetadataPayload))}const updatePlayerMetadataThrottled=_.throttle(async(e,t,n,r)=>{try{const o=e.data.roomHash,s=e.player.playerId,u=convertToServerGameTypeWrapperForMastery(t.isMasteryMode)(e.data.gameType,e.data.gameMode),{response:l}=await updatePlayerMetadata(o,s,u,{qId:n,qIdIndex:r});return l}catch(o){return QLogger$1.error("Error at updatePlayerMetadata",o),null}},1500);async function doPlayerMetadataUpdation({state:e,getters:t},{questionId:n=""}={}){const r=n||e.questions.currentId,o=_.findIndex(e.questions.initSequence,s=>s===r);isEmpty(r)||updatePlayerMetadataThrottled(e,t,r,o)}async function currentQuestionReEdited({state:e,commit:t,getters:n},{answer:r}){const o=currentQuestionReEditedCooker(e,n,r);if(QLogger$1.invariant(o.hasCurrentQuestionBeenAnswered,`Not Allowed: Trying to ReEdit answer to a question with no response. Found ${n.currentQuestionCurrentAttemptResponse}`,{logOnSentry:!0}),!!o.hasCurrentQuestionBeenAnswered){t(MutationTypes.ANSWERED_CURRENT_QUESTION,o.mutationPayload);try{const{response:s}=await updateResponse(o.updateResponsePayload)}catch(s){QLogger$1.error("Error at currentQuestionReEdited",s)}}}function setTestTimerCounter({commit:e},t){const n=t>=0?t:0;e(MutationTypes.SET_TEST_TIMER_COUNTER,n)}function updateIsTestTimerEnabled({commit:e},t){e(MutationTypes.SET_IS_TEST_TIMER_ENABLED,t)}const resume=(e,t,n,r)=>{t(MutationTypes.PAUSE_GAME,0)};async function countdownPause321({dispatch:e,commit:t,getters:n,rootState:r}){let o=3;_.get(n,"currentQuestion.type",-1);const s=setInterval(()=>{if(o===0){clearInterval(s),t("COUNTDOWN_PAUSE_321",0),resume(e,t);return}t("COUNTDOWN_PAUSE_321",o--)},1e3)}async function pauseGame({dispatch:e,commit:t,getters:n,rootState:r},o){const s=r.game.questions.currentId,a=n.currentQuestionCurrentAttemptIndex,u=new Date,l=new Date(u.getTime()+(o+3)*1e3);if(t(MutationTypes.UPDATE_QUESTION_TIMER,{forQuestion:{id:s,attempt:a},events:[{type:"start",on:l,for:_.get(n,"currentQuestion.time",-1)}]}),pauseTimeout&&clearTimeout(pauseTimeout),o===0){e("countdownPause321");return}o!==0&&t(MutationTypes.PAUSE_GAME,o),pauseTimeout=setTimeout(()=>{e("countdownPause321")},o*1e3)}function checkIfQuestionCanBeAddedToIncorrectAttempt({attemptsPerQuestion:e,doneQuestionsFrequency:t,questionId:n}){return e===GameConstants.MASTERY_MODE_REATTEMPTS.unlimited?!0:n in t?t[n]<e:!0}async function updateIncorrectAttempt({commit:e,rootState:t}){e(MutationTypes.UPDATE_INCORRECT_ATTEMPT,{rootState:t})}async function handleIncorrectAttempt({getters:e,dispatch:t},{response:n,gameType:r,gameMode:o}){e.isMasteryMode?t("handleIncorrectAttemptForMastery",{response:n,gameType:r,gameMode:o,hasReachedMastery:e.hasReachedMastery}):t("handleIncorrectAttemptForRest",{response:n,gameType:r,gameMode:o})}async function handleIncorrectAttemptForRest({commit:e,dispatch:t,getters:n},{response:r,gameMode:o,gameType:s}){!isCorrectAttempt(r)&&allowAnsweringAfterIncorrectAttempt({gameType:s,gameMode:o,isMasteryMode:n.isMasteryMode})?(await t("updateIncorrectAttempt"),await e(MutationTypes.ADD_QUESTION_TO_INCORRECT_ATTEMPT)):await e(MutationTypes.ADD_QUESTION_TO_CORRECT_ATTEMPT)}async function handleIncorrectAttemptForMastery({commit:e,dispatch:t,state:n,getters:r,rootState:o},{response:s,gameType:a,gameMode:u,hasReachedMastery:l}){var d;const m=GameConstants.MASTERY_MODE_REATTEMPTS[(d=o.game.data.gameOptions.masteryMode)==null?void 0:d.reattempts],y=checkIfQuestionCanBeAddedToIncorrectAttempt({attemptsPerQuestion:m,doneQuestionsFrequency:n.questions.doneQuestionsFrequency,questionId:n.questions.currentId});!isCorrectAttempt(s)&&allowAnsweringAfterIncorrectAttempt({gameType:a,gameMode:u,isMasteryMode:r.isMasteryMode})&&!l&&y?(await t("updateIncorrectAttempt"),await e(MutationTypes.ADD_QUESTION_TO_INCORRECT_ATTEMPT)):await e(MutationTypes.ADD_QUESTION_TO_CORRECT_ATTEMPT)}async function handleAnswerLaterQuestion({rootState:e,state:t,commit:n,dispatch:r},{responseOfLastAttempt:o,isCorrect:s}){try{const{state:a,questionType:u,timeTaken:l}=o,{game:m}=e,{gameMode:y,gameType:d}=m.data,f=GameConstants.ANSWER_LATER_RESPONSE_STATES.includes(a),{answerLaterQuestions:v,currentId:A}=t.questions;return v.includes(A)&&(n(MutationTypes.ATTEMPTED_ANSWER_LATER_QUESTION),InHouseEventLogger$1.logEvent(WebEvents.ANSWER_LATER_QUESTION_ATTEMPTED,{isCorrect:s,questionId:A,state:a,questionType:u,timeTaken:l,gameMode:y,gameType:d})),f&&!v.includes(A)&&(await n(MutationTypes.UPDATE_ANSWER_LATER_QUESTIONS,{id:A}),InHouseEventLogger$1.logEvent(WebEvents.ANSWER_LATER_CLICKED,{questionId:A,state:a,questionType:u,timeTaken:l,gameMode:y,gameType:d}),r("onCurrentQuestionOver"),GlobalEventBus.$emit("controlCenter:updateSubmitState",{skipAnimationInProgress:!0}),await asyncDelay(1500),GlobalEventBus.$emit("controlCenter:onEvaluationComplete",{movedToAnswerLater:!0}),await asyncDelay(1500),GlobalEventBus.$emit("controlCenter:updateSubmitState",{skipAnimationInProgress:!1})),!0}catch(a){return QLogger$1.error("Error at action handleAnswerLaterQuestion: ",a),!1}}function handleShowingReviewSection({commit:e,dispatch:t,rootState:n,getters:r},{questionId:o,doneOrder:s,remainingOrder:a,powerupScopes:u}){t("setCurrentQuestion",{questionId:o,doneOrder:s,remainingOrder:a,powerupScopes:u}),t("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ.REVIEW_QUESTIONS_SCREEN),gameData:{roomHash:n.game.data.roomHash,playerId:n.game.player.playerId,gameType:n.game.data.gameType}}),e(MutationTypes.SHOWING_REVIEW_SCREEN,{isShowing:!0})}function handleShowingAnswerLaterQuestions({commit:e,dispatch:t,rootState:n,getters:r},{questionId:o,doneOrder:s,remainingOrder:a,powerupScopes:u}){t("setCurrentQuestion",{questionId:o,doneOrder:s,remainingOrder:a,powerupScopes:u}),t("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ.ANSWER_LATER_QUESTIONS_SCREEN),gameData:{roomHash:n.game.data.roomHash,playerId:n.game.player.playerId,gameType:n.game.data.gameType}}),InHouseEventLogger$1.logEvent(WebEvents.ANSWER_LATER_RESURFACED,{skippedQuestionsCount:r.totalAnswerLaterQuestions,totalQuestionsInGame:r.totalQuestionsInGame}),e(MutationTypes.SHOWING_ANSWER_LATER_QUESTIONS,{inProgress:!0})}function onLoadAnswerLaterQuestions({dispatch:e,commit:t,state:n}){const r=[...n.questions.answerLaterQuestions];r.length>0&&t(MutationTypes.CHANGE_REMAINING_QUESTIONS_ORDER,{remainingOrder:r}),e("startQuestions")}function updateGameOptions({commit:e},t){const{updates:n}=t;e(MutationTypes.UPDATE_GAME_OPTIONS,{updatedGameOptions:n})}async function handleShowingBreakRoom({dispatch:e,rootState:t,getters:n,commit:r},o){const{questions:s,flow:{breakRoomArr:a},data:{roomHash:u,gameType:l},player:{playerId:m}}=t.game,{breakoutRoomType:y=BREAK_ROOM_TYPES.POWERUP_SELECTION,powerupIndex:d=null,powerupName:f="",type:v="",breakRoomArr:A=a}=o,I=[...n.doneOrderForEvaluatedQuestions];s.currentId&&I.push(s.currentId);const P={questionId:"",doneOrder:I,remainingOrder:[...s.remainingOrder],currentOptionsAppearance:[],powerupScopes:["game"]};await r(MutationTypes.UPDATE_BREAKROOM_TYPE,{breakoutRoomType:y,powerupIndex:d,powerupName:f,type:v,breakRoomArr:A}),await e("setCurrentQuestion",P),await e("changeToInGamePage",{to:PageNames.get(PageNames.List.IN_GAME.QUIZ.BREAK_ROOM_SCREEN),gameData:{roomHash:u,playerId:m,gameType:l}})}function onBreakRoomInteraction({dispatch:e}){e("startQuestions")}function levelUp({dispatch:e},{powerupIndex:t,powerupName:n,type:r}={}){e("handleShowingBreakRoom",{breakoutRoomType:BREAK_ROOM_TYPES.LEVEL_UP,powerupIndex:t,powerupName:n,type:r})}async function updateBreakRoom({rootState:e,getters:t},{powerupIndex:n}){const{game:r,applicationContext:o}=e,{gameMode:s,gameType:a,roomHash:u,mysticPeakLevelMap:l}=r.data,{playerId:m,totalCorrect:y}=r.player,d=l.findIndex(A=>A===y),f=convertToServerGameTypeWrapperForMastery(t.isMasteryMode),v={roomHash:u,playerId:m,gameType:f(a,s),breakoutRoom:{powerUpIndex:n,level:d}};try{return await updateBreakRoomRequest(v,o.isGameSubDomainWhiteListed),{success:!0}}catch(A){return QLogger$1.error("Error at updateBreakRoom:-",A),{success:!1}}}async function updatePathFinder({rootState:e,getters:t},{pathFinder:n}){const{game:r,applicationContext:o}=e,{gameMode:s,gameType:a,roomHash:u}=r.data,{playerId:l}=r.player,m=convertToServerGameTypeWrapperForMastery(t.isMasteryMode),y={roomHash:u,playerId:l,gameType:m(a,s),pathFinder:n.toUpperCase()};try{return await updatePathFinderRequest(y,o.isGameSubDomainWhiteListed),{success:!0}}catch(d){return QLogger$1.error("Error at updatePathFinder:-",d),{success:!1}}}async function updatePlayerObstacle({rootState:e,getters:t}){const{game:n,applicationContext:r}=e,{gameMode:o,gameType:s,roomHash:a}=n.data,{playerId:u}=n.player,l=convertToServerGameTypeWrapperForMastery(t.isMasteryMode),m={roomHash:a,playerId:u,gameType:l(s,o)};try{return await updatePlayerObstacleRequest(m,r.isGameSubDomainWhiteListed),{success:!0}}catch(y){return QLogger$1.error("Error at updatePlayerObstacle:-",y),{success:!1}}}async function breakRoomItemSelected({dispatch:e,commit:t},{breakRoomItem:n,powerupIndex:r=0}){const{name:o,type:s}=n;t(MutationTypes.SHOW_POWERUP_ON_BREAKROOM,{powerupIndex:r}),s===BREAK_ROOM_ITEM_TYPES.powerup&&await e("awardSinglePowerup",{powerupIndex:r,powerupName:o}),(s===BREAK_ROOM_ITEM_TYPES.obstacle||s===BREAK_ROOM_ITEM_TYPES.safeSpot)&&(await e("updateBreakRoom",{powerupIndex:r}),s===BREAK_ROOM_ITEM_TYPES.obstacle?e("handleShowingBreakRoom",{breakoutRoomType:BREAK_ROOM_TYPES.OBSTACLES,powerupIndex:r}):e("onBreakRoomInteraction"))}function handleShowingAnswerFeedback({rootState:e,commit:t}){const{player:{currentDifficulty:n},data:{gameMode:r,gameType:o}}=e.game;isMysticPeakGame(r,o)&&(t(MutationTypes.DISABLE_ANSWER_FEEDBACK),n==="easy"&&t(MutationTypes.ENABLE_ANSWER_FEEDBACK))}function reviewCurrentQuestion({dispatch:e,commit:t,state:n},r){const o=[];o.push(r),isEmpty(o)||(t(MutationTypes.CHANGE_REMAINING_QUESTIONS_ORDER,{remainingOrder:o}),e("startQuestions"))}function gameIssuesUpdate({commit:e},t){e(MutationTypes.GAME_ISSUES_UPDATE,{issue:t})}const inGameActions=Object.freeze(Object.defineProperty({__proto__:null,activatePowerup,activatePowerupFromMysteryBox,addPowerupEffectsToDestroyList,addQuestionToDoneOrder,afterMasteryCountdownOver,awardMultiplePowerups,awardSinglePowerup,breakRoomItemSelected,countdownPause321,currentQuestionReEdited,destroyPowerupEffect,doPlayerMetadataUpdation,endQuestionsAndMoveOn,exitFromSummaryPage,gameCompleted,gameIssuesUpdate,gameStopped,getPowerups,handleAnswerLaterQuestion,handleImmunityActivation,handleIncorrectAttempt,handleIncorrectAttemptForMastery,handleIncorrectAttemptForRest,handleMasteryMode,handleMasteryReached,handleProceedingGame,handleShowingAnswerFeedback,handleShowingAnswerLaterQuestions,handleShowingBreakRoom,handleShowingRedemptionQuestion,handleShowingReviewSection,handleSyncingLiveWhiteboardState,levelUp,onBreakRoomInteraction,onCurrentQuestionOver,onLoadAnswerLaterQuestions,onRedemptionQuestionSelection,onStartAnsweringUnseenQuestions,pauseGame,proceedFullPlayerControlledGames,raiseHandForPlayer,reactionUpdated,reconnectToGame,replacePowerups,resetDroppedStates,resetRemainingQuestionsOrder,reviewCurrentQuestion,setCurrentQuestion,setHasReachedMasteryAtLeastOnce,setNextPossibleMemeSet,setNextQuestion,setTestTimerCounter,showMasteryCountdown,startQuestions,syncGameQuestions,triggerDestructionEffect,triggerSkipQuestion,updateBreakRoom,updateDoneQuestionsFrequency,updateGameOptions,updateIncorrectAttempt,updateIsTestTimerEnabled,updateMysticLeaderboard,updatePathFinder,updatePlayerObstacle,updateReactionForPlayer,updateSlide},Symbol.toStringTag,{value:"Module"}));function createMarkPlayerGameOverWrapper(e,{player:t,data:n,questions:r}){return function(s){return!e||!t.isOver&&n.gameState===Constants.GameState.RUNNING&&r.slidesFlowControlType!==Constants.SlidesFlowControlTypes.NONE&&!s}}function canMarkGameOverForMasteryMode({remainingOrder:e,hasReachedMastery:t,currentId:n}){return t&&e.length===0&&n===""}function markPlayerGameAsOverCooker(e,t={},n,r){const{player:o,data:s,questions:a}=e,u=r.areQuestionAttemptsLeft&&!r.isUserOnReviewScreen,l=r.isMasteryMode,m=t.gameType||s.gameType,y=isAnAssignedGame(m),d={...t};let v=createMarkPlayerGameOverWrapper(n,e)(u);return l&&(v=canMarkGameOverForMasteryMode({remainingOrder:a.remainingOrder,hasReachedMastery:r.hasReachedMastery,currentId:a.currentId})),isEmpty(d)&&(d.roomHash=s.roomHash,d.playerId=o.playerId),d.endedAt=Date.now(),{canMarkPlayerGameOverNow:v,payload:d,isAssignedGame:y}}function playerGameOverResponseCooker(e,t,n,r){const{data:o,player:s}=e;let a=!1,u=!1,l={};const m=o.gameMode===Constants.GameMode.CHALLENGE;return e.questions.initSequence.length,n?(a=t.gameOver,l.roomHash=o.roomHash,u=_.get(s,"lastGamePlayed.roomHash")===_.get(t,"roomHash"),l.teams=o.teams,t.teams&&t.teams.length>0&&(l.teams=t.teams),m&&!isEmpty(t.leaderboard)&&(l.leaderboard=t.leaderboard)):(a=!0,l={roomHash:o.roomHash,gameDetails:{quizId:o.quizId,accuracy:s.accuracy},playerRank:s.rank,gameType:Constants.GameType.SOLO},u=_.get(s,"lastGamePlayed.roomHash")===_.get(t,"data.roomHash")),{isGameOver:a,response:l,shouldClearIncompleteGameData:u,isAChallengeGame:m}}function replayChallengeGameRequestCooker(e,t,n={}){const r=e.game.data.roomHash,o=e.user.profile.mongoId||"",s=e.applicationContext.deviceInfo.quizizzUID||"",a={quizNumQuestions:_.get(n,"numQuestions","12")};return o?a.hostId=o:s&&(a.hostSessionId=s),{quizId:t,roomHash:r,hostId:o,hostSessionId:s,replayMeta:a}}let afterRedemptionQuizScreenTimeout;function moveOnAfterGameComplete({state:e,dispatch:t,commit:n,getters:r,rootState:o}){const s=getQuesIdsForResponseStatus(e.questions.questionResponseStatuses,[Constants.QuestionResponseStatuses.NOT_SENT,Constants.QuestionResponseStatuses.SENDING]),a=_.keys(s).length===0;if(!a){t("toggleOverlay",{type:`responseUnsynced|${Constants.SyncOverlayTypes.PRE_GAMEOVER}`});return}if(o.game.data.gameOptions.hasRedemptionPass!==Constants.GameOptionsValues.hasRedemptionPass.YES){t("requestToChangePage",{to:PageNames.get(PageNames.List.IN_GAME.GAME_OVER)});return}return r.orderedRedemptionResponses.length===0?(t("requestToChangePage",{to:PageNames.get(PageNames.List.IN_GAME.GAME_OVER)}),a):isFirstAttemptAccuracySameAsFinalAccuracy(e.player)?(t("requestToChangePage",{to:PageNames.get(PageNames.List.IN_GAME.GAME_OVER)}),a):(t("requestToChangePage",{to:PageNames.get(PageNames.List.IN_GAME.AFTER_REDEMPTION_SECTION)}),afterRedemptionQuizScreenTimeout&&clearTimeout(afterRedemptionQuizScreenTimeout),InHouseEventLogger$1.logEvent(WebEvents.COMPLETE_PASS_2,{firstPassAccuracy:o.game.player.firstAttemptAccuracy,redemptionPassAccuracy:o.game.player.accuracy}),afterRedemptionQuizScreenTimeout=setTimeout(()=>{t("requestToChangePage",{to:PageNames.get(PageNames.List.IN_GAME.GAME_OVER)})},6e3),a)}async function markPlayerGameOver({state:e,commit:t,rootState:n,dispatch:r,getters:o},{gameDetails:s={},isForCurrentGame:a=!0,source:u=""}={}){const l=markPlayerGameAsOverCooker(e,s,a,o);if(!l.canMarkPlayerGameOverNow)return{markedPlayerOver:!0};try{let m;l.isAssignedGame?m=(await playerGameOverCall(l.payload)).response:m=(await endSoloGame(l.payload)).response;const y=playerGameOverResponseCooker(e,m,l.isAssignedGame);return y.shouldClearIncompleteGameData&&t(MutationTypes.CLEAR_INCOMPLETE_GAME),a&&(y.isAChallengeGame&&t(MutationTypes.SET_CHALLENGE_LIVE_LEADERBOARD,y.response),y.isGameOver?r("gameCompleted",y.response):t(MutationTypes.GAME_ENDED,y.response)),{markedPlayerOver:!0}}catch(m){return QLogger$1.error("Error at action markPlayerGameOver",m),u==="onGameOverPipeline"&&r("setActionErrorTrace",["onGameOverPipeline","markPlayerGameOver"]),{markedPlayerOver:!1}}}async function getRankFromServer({state:e,commit:t,rootState:n}){try{const{applicationContext:r}=n,o=e.team.teamId,{response:s}=await getRankRequest(e.data.roomHash,e.player.playerId,o,r.isGameSubDomainWhiteListed);if(s&&(_.isNumber(s.rank)&&t(MutationTypes.SET_CURRENT_PLAYER_RANK,{currentPlayerRank:s.rank}),Array.isArray(s.teams)&&s.teams.length>0)){const a=s.teams,u=getTeamsAfterUpdatingRank(a),l=e.team.teamId;let m=e.team.rank,y=e.team.score;const d=_.find(u,f=>f.teamId===l);d&&(m=d.rank,y=d.score),t(MutationTypes.SET_CURRENT_TEAM_RANK,{currentTeamRank:m,currentTeamScore:y,teams:a})}}catch(r){QLogger$1.error("Error at action getPlayerRank",r)}}function onSummayMounted({state:e,commit:t,rootState:n,dispatch:r}){e.flow.hasSeenSummaryAtleastOnce===!1&&t(MutationTypes.REACHED_SUMMARY_FOR_FIRST_TIME_IN_GAME),r("triggerEmbedEvent",{eventName:"summaryShown"})}async function replayChallengeGame({state:e,dispatch:t,rootState:n},{quizId:r,quizMeta:o={}}){try{const s=replayChallengeGameRequestCooker(n,r,o),{response:a}=await replayChallengeGameRequest(s.roomHash,{...s});return t("challengeReplayNotifAcceptedPipeline",{roomHash:a.data.roomHash,roomCode:a.data.roomCode}),!0}catch(s){const a=getResponseErrorType(s);let u=getTranslatedText("Some error occurred while starting game!");return a==="game.ALREADY_REPLAYED"&&(u=getTranslatedText("A game has already been started")),t("toggleSnackBar",{isVisible:!0,options:{message:u}}),QLogger$1.error("Error at action replayChallengeGame",s),!1}}async function getFinalChallengeLeaderboard({dispatch:e,commit:t},{roomHash:n}){try{const{response:r}=await getGameDataRequest(n);let o=_.orderBy(_.get(r,"data.players",[]),["score"],["desc"]);o=_.map(o,(s,a)=>({..._.pick(s,["score","origin","currentStreak","totalAttempt","totalCorrect","totalResponses","isOver"]),playerId:s.id,monsterId:s.monster,rank:a+1,isProfane:isProfane(s.id)})),t(MutationTypes.SET_CHALLENGE_LIVE_LEADERBOARD,{leaderboard:o})}catch(r){QLogger$1.error("Error at action getFinalChallengeLeaderboard: ",r)}}async function endChallengeGameHandler({dispatch:e,rootState:t,commit:n},{roomHash:r,shouldResetGame:o=!1,redirectTo:s=""}){const a=t.game.data.gameState;e("toggleDialog",{name:"endChallengeGame|danger",actionCallback:async l=>{if(l===0){e("toggleDialog");return}if(l===1){a===Constants.GameState.RUNNING&&e("getFinalChallengeLeaderboard",{roomHash:r});try{const{response:m}=await getGameReportCall({roomHash:r});e("soc_gameOverAll",{response:m}),e("toggleDialog"),o&&(e("resetGame"),n(MutationTypes.CLEAR_INCOMPLETE_GAME)),isEmpty(s)||e("requestToChangePage",{to:s})}catch(m){switch(QLogger$1.error("Error at action endChallengeGameHandler: ",m),e("toggleDialog"),getResponseErrorType(m)){case"room.NOT_FOUND":case"room.COMPLETED":case"room.STOPPED":case"room.EXPIRED":case"game.NOT_FOUND":e("requestToChangePage",{to:s||PageNames.get(PageNames.List.LANDING.HOME)});break;default:setTimeout(()=>{e("toggleDialog",{name:"misc.errorAndTryAgain|confirm"})},1)}}}}})}async function getAttemptsToDisplayChart({dispatch:e,rootState:t,getters:n}){const{gameState:r,quizId:o,roomHash:s}=t.game.data,a=r===Constants.GameState.COMPLETED||r===Constants.GameState.STOPPED;try{if(a){const{attemptedGames:d}=await e("retrieveSoloGameAttempts",{quizId:o,updatePreGameInfo:!1});return{attempts:_.orderBy(d,"dateJoined","asc")}}const u=[e("retrieveRunningGame",{roomHash:s,updatePreGameInfo:!1})];n.isAdaptiveLearningGame||u.push(e("retrieveSoloGameAttempts",{quizId:o,updatePreGameInfo:!1}));const[l,m]=await Promise.all(u),y=[..._.get(l,"cookedData.currentAttempts",[]),..._.get(m,"soloGameData.attemptedGames",[])];return{attempts:_.orderBy(y,"dateJoined","asc")}}catch(u){return QLogger$1.error("Error at getAttemptsToDisplayChart: ",u),{attempts:[]}}}function setReplayAsyncModalOptions({state:e,commit:t,rootState:n,dispatch:r},o){t(MutationTypes.SET_REPLAY_ASYNC_MODAL_OPTIONS,o)}function setRoomHashBeforeReplay({state:e,commit:t,rootState:n,dispatch:r},o){t(MutationTypes.SET_ROOM_HASH_BEFORE_REPLAY,o)}const postGameActions=Object.freeze(Object.defineProperty({__proto__:null,endChallengeGameHandler,getAttemptsToDisplayChart,getFinalChallengeLeaderboard,getRankFromServer,markPlayerGameOver,moveOnAfterGameComplete,onSummayMounted,replayChallengeGame,setReplayAsyncModalOptions,setRoomHashBeforeReplay},Symbol.toStringTag,{value:"Module"}));async function gameCodeSubmittedPipeline({dispatch:e,rootState:t},{roomCode:n,startSource:r}){return e("togglePreGameErrorMessage"),e("continueCheckRoomPipeline",{roomCode:n,startSource:r})}async function gameCodeQueryParamPipeline({dispatch:e,rootState:t},{roomCode:n,startSource:r}){const o=await e("checkRoom",{roomCode:n,startSource:r,handlePreGameErrorAs:"dialog"});let s="";if(setTimeout(()=>{window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"gc"))},100),!o.success||o.meta.wasCheckRoomDeffered===!0)return{redirectToPreGame:!1,preGameRunningComposite:s};const{game:a}=t;return s=buildPreGameRouteComposite({roomHash:a.data.roomHash,playerId:a.player.playerId,quizId:"",gameState:Constants.GameState.RUNNING}),{redirectToPreGame:!0,preGameRunningComposite:s}}async function googleClassroomParamPipeline({dispatch:e,commit:t,rootState:n},{encodedGCLParam:r}){const o=handleLMSFlowCooker(n,r);let s="";if(InHouseEventLogger$1.logEvent(WebEvents.STUDENT_GCL_FLOW_JOIN),!o.isInValidFlow)return e("handlePreGameErrorMessages",{errorName:"game.expiredLink|confirm",handlePreGameErrorAs:"dialog"}),{redirectToPreGame:!1};t(MutationTypes.ENTER_LMS_FLOW,{encodedParam:o.encodedParam});const a=await e("decodeLMSInfoAndCheckAssignment",{lmsInfo:o.decodedLMSInfo,startSource:GameStartSource.get(GameStartSource.List.LMS),handlePreGameErrorAs:"dialog"});if(!a.success||a.meta.wasCheckAssignmentDeffered===!0)return setTimeout(()=>{window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"c"))},100),{redirectToPreGame:!1,preGameRunningComposite:s};const{room:{hash:u,quizId:l}}=a.response;if(window.history.state.current){const m=window.history.state.current.split("?")[1],y=new URLSearchParams(m),d=y.get("rostered"),f=y.get("lms");if(d){switch(f){case"gcl":InHouseEventLogger$1.logEvent(WebEvents.STUDENT_GCL_ROSTERING_SUCCESFULL);break;case"schoology":InHouseEventLogger$1.logEvent(WebEvents.STUDENT_SCHOOLOGY_ROSTERING_SUCCESFULL);break;case"canvas":InHouseEventLogger$1.logEvent(WebEvents.STUDENT_CANVAS_ROSTERING_SUCCESFULL);break}InHouseEventLogger$1.logEvent(WebEvents.STUDENT_ROSTERING_SUCCESFULL)}}return s=buildPreGameRouteComposite({roomHash:u,quizId:l}),{redirectToPreGame:!0,preGameRunningComposite:s}}async function challengeGamePipeline({dispatch:e,rootState:t,commit:n},{roomHash:r,quizId:o}){try{if(o){const{response:s}=await getQuizData({quizId:o,bypassProfanityCheck:!0,requestPrivileges:!1}),a=preGameQuizDataCooker(t,{},{data:{quiz:s.data.quiz},contestId:null,embedMode:!1});n(MutationTypes.SET_PRE_GAME_INFO,a)}if(await connectSocketIfNeeded({dispatch:e,rootState:t},{gameType:Constants.GameType.LIVE}),r){let s=t.game.data.roomCode;const a=t.game.data.gameMode,u=GameStartSource.get(GameStartSource.List.PRE_GAME_SCREEN);if(isEmpty(s)||a!==Constants.GameMode.CHALLENGE){const{response:l}=await getGameDataRequest(r),m=getGameDataResponseCooker(t,l.data);if(s=m.roomCode,!m.isUserTheGameHost)return await e("resetGame"),await e("togglePreGameErrorMessage"),{success:!1};const y=await e("checkRoom",{roomCode:s,startSource:u});if(!y.success)return await e("resetGame"),await e("togglePreGameErrorMessage"),y;m.hasUserJoinedTheGame&&await e("rejoinAnyGame",{gameData:{roomHash:r,playerId:m.userPlayerId,gameType:Constants.GameMode.CHALLENGE},startSource:u})}return{success:!0}}}catch(s){QLogger$1.error("Error at challengeGamePipeline",s)}}async function startSoloFromPreGamePipeline({dispatch:e,rootState:t,commit:n},{quizId:r,toRoute:o,embedMode:s}){var a;if(r){const{user:u}=t,l=((a=o.params)==null?void 0:a.contestId)||null;if(u.profile.isLoggedIn){const y=u.attempts.commonQuizzesData[r];if(y){const d=soloGameCooker(t,{quizId:r,quizData:y,contestId:l,embedMode:s});return n(MutationTypes.SET_PRE_GAME_INFO,d),{redirectToQuizPage:!0,quizId:r}}}const{success:m}=await e("retrieveCompletedGame",{quizId:r,toRoute:o,embedMode:s});return{redirectToQuizPage:m,quizId:r}}return{redirectToQuizPage:!1}}async function runningGamePipeline({dispatch:e,rootState:t,commit:n},r){const{roomHash:o,playerId:s,gameState:a}=r;if(o)try{const{user:u,game:l}=t,{preGameDetail:m}=t,y=buildPreGameRouteComposite({roomHash:o,playerId:s,gameState:a});let d={success:!1};if(u.profile.isLoggedIn){const f=_.find(u.attempts.runningGames,v=>v.gamesAttempted[0].gameInfo.roomHash===o);if(isEmpty(f))d=await e("retrieveRunningGame",{roomHash:o,playerId:s});else{const v=userRunningGameCooker(t,f);v&&(n(MutationTypes.SET_PRE_GAME_INFO,v),d={success:!0})}}else if(l.player.lastGamePlayed.roomHash===o){const f=lastPlayedGameCooker(l.player.lastGamePlayed);n(MutationTypes.SET_PRE_GAME_INFO,f),d={success:!0}}else d=await e("retrieveRunningGame",{roomHash:o,playerId:s});if(!d.success)return{redirectToPreGame:!1};if(l.data.roomHash&&l.data.roomHash===o)return{redirectToPreGame:!0,preGameRunningComposite:y};if(m.currentGameData.isLMSGame){const f=m.currentGameData.lmsInfo,v=await e("decodeLMSInfoAndCheckAssignment",{lmsInfo:f,startSource:GameStartSource.get(GameStartSource.List.PRE_GAME_SCREEN),handlePreGameErrorAs:"dialog"});if(!v.success||v.meta.wasCheckAssignmentDeffered===!0)return{redirectToPreGame:!1}}else if(m.currentGameData.gameType!==Constants.GameType.SOLO){const f=await e("checkRoom",{roomCode:m.currentGameData.roomCode,startSource:GameStartSource.get(GameStartSource.List.PRE_GAME_SCREEN),handlePreGameErrorAs:"dialog"});if(!f.success||f.meta.wasCheckRoomDeffered===!0)return{redirectToPreGame:!1}}return{redirectToPreGame:!0,preGameRunningComposite:y}}catch(u){return QLogger$1.error("Error at runningGamePipeline",u),{redirectToPreGame:!1}}return{redirectToPreGame:!1}}async function replayGameFromSummaryPipeline({commit:e,state:t,dispatch:n},{gameType:r=Constants.GameType.ASYNC,gameMode:o=Constants.GameMode.NORMAL,startSource:s="",gameOptions:a={}}={}){const u=s||GameStartSource.get(GameStartSource.List.REPLAY),{data:{roomCode:l,classroomInfo:m,quizId:y,gameOptions:d,roomHash:f},player:{playerId:v}}=t,A={...m},I=buildPreGameRouteComposite({roomHash:f,playerId:v}),P=isEmpty(a)?d:a;let O={};switch(await n("resetGame",{classroomInfo:A}),r){case Constants.GameType.ASYNC:case Constants.GameType.LIVE:A&&A.roomHash?O=await n("checkAssignment",{startSource:u}):O=await n("checkRoom",{roomCode:l,startSource:u});break;case Constants.GameType.SOLO:n("joinSoloGame",{quizId:y,playerId:v,gameOptions:P,gameMode:o,gameType:r,startSource:u,forcePageChange:!0});break}O&&O.success&&n("requestToChangePage",{to:PageNames.get(PageNames.List.PRE_GAME_DETAIL.RUNNING),metaData:{params:{preGameRunningComposite:I}}})}async function afterGroupInviteAcceptancePipeline({commit:e,dispatch:t},{groupInviteData:n={}}){const{requestData:r,groupName:o,inviteType:s,sourceRequest:a,sourceRequestMeta:u}=n,{message:l,persistInvite:m,shouldContinueWithFlow:y,flowActionArgs:d,eventData:f,didJoin:v}=await t("joinGroup",{data:r,groupName:o,inviteType:s,sourceRequest:a,sourceRequestMeta:u});return l&&v&&t("toggleDialog",{name:"addedToClass|confirm",options:{message:l},actionCallback:()=>{window.location.href="/join/class"}}),v||t("toggleDialog",{name:"notAddedToClass|confirm",options:{message:l}}),m?{logInviteAcceptance:!1,eventData:f}:s!==Constants.GroupJoinModalTypes.FROM_GAME_CODE||!y?(t("toggleModal"),{logInviteAcceptance:!0,eventData:f}):(a==="checkRoom"&&await t("continueCheckRoomPipeline",{roomCode:d.roomCode,startSource:GameStartSource.get(GameStartSource.List.GAME_CODE.AFTER_GROUP_INVITE_ACCEPT),handlePreGameErrorAs:"dialog"}),a==="checkAssignment"&&await t("continueCheckAssignmentPipeline",{lmsInfo:d.lmsInfo,startSource:GameStartSource.get(GameStartSource.List.LMS.AFTER_GROUP_INVITE_ACCEPT)}),t("toggleModal"),{logInviteAcceptance:!0,eventData:f})}async function classGameAssignedNotificationAcceptancePipeline({dispatch:e},{lmsInfo:t,roomCode:n}){isEmpty(t)?n&&await e("continueCheckRoomPipeline",{roomCode:n,startSource:GameStartSource.get(GameStartSource.List.GROUP_GAME.NOTIFICATION),handlePreGameErrorAs:"dialog"}):await e("continueCheckAssignmentPipeline",{lmsInfo:t,startSource:GameStartSource.get(GameStartSource.List.GROUP_GAME.NOTIFICATION)}),e("toggleModal")}async function replayLiveGameAsyncNotificationAcceptancePipeline({dispatch:e,rootState:t},{lmsInfo:n,roomCode:r,gameType:o,gameMode:s}){const{game:a}=t,u=a.player.playerId,l=s===Constants.GameMode.PRESENTATION?"presentation":"game";let m;if(e("resetGame"),e("toggleOverlay",{type:`rejoinProgress|${l}`}),r&&(m=await e("continueCheckRoomPipeline",{roomCode:r,startSource:GameStartSource.get(GameStartSource.List.GROUP_GAME.NOTIFICATION),handlePreGameErrorAs:"dialog",shouldChangePage:!1})),!m.success||m.meta.wasCheckRoomDeffered===!0||!u){e("toggleOverlay"),e("requestToChangePage",{to:PageNames.get(PageNames.List.LANDING.HOME)});return}await e("rejoinAnyGame",{gameData:{roomHash:a.data.roomHash,playerId:u.trim(),gameType:Constants.GameType.ASYNC,gameState:Constants.GameState.RUNNING}})}async function replayLiveGameNotificationAcceptancePipeline({dispatch:e,rootState:t},{lmsInfo:n,roomCode:r,gameType:o,gameMode:s}){const{game:a}=t,u=a.player.playerId,l=s===Constants.GameMode.PRESENTATION?"presentation":"game";let m;if(e("resetGame"),e("toggleOverlay",{type:`rejoinProgress|${l}`}),isEmpty(n)?r&&(m=await e("continueCheckRoomPipeline",{roomCode:r,startSource:GameStartSource.get(GameStartSource.List.GROUP_GAME.NOTIFICATION),handlePreGameErrorAs:"dialog",shouldChangePage:!1})):m=await e("continueCheckAssignmentPipeline",{lmsInfo:n,startSource:GameStartSource.get(GameStartSource.List.GROUP_GAME.NOTIFICATION),shouldChangePage:!1}),!m.success||m.meta.wasCheckRoomDeffered===!0||!u){e("toggleOverlay"),e("requestToChangePage",{to:PageNames.get(PageNames.List.LANDING.HOME)});return}await e("joinRoom",{roomHash:a.data.roomHash,playerId:u.trim(),startSource:GameStartSource.get(GameStartSource.List.REPLAY.REPLAY_LIVE_GAME),handlePreGameErrorAs:"dialog",forcePageChange:!0})}async function challengeReplayNotifAcceptedPipeline({dispatch:e,commit:t,rootState:n},{roomCode:r,roomHash:o}){const{game:s}=n,a=s.player.playerId,u=GameStartSource.get(GameStartSource.List.REPLAY.REPLAY_CHALLENGE_GAME);e("resetGame"),e("togglePageLoader",!0);try{if(!(await e("checkRoom",{roomCode:r,startSource:u,handlePreGameErrorAs:"dialog"})).success){e("requestToChangePage",{to:PageNames.get(PageNames.List.LANDING.HOME)});return}const m=await e("joinRoom",{roomHash:o,playerId:a.trim(),startSource:u,handlePreGameErrorAs:"dialog",forcePageChange:!0})}catch(l){QLogger$1.error("Error at challengeReplayNotifAcceptedPipeline",l)}}async function continueCheckRoomPipeline({dispatch:e},{roomCode:t,startSource:n,handlePreGameErrorAs:r="inLineMessage",shouldChangePage:o=!0}){const s=await e("checkRoom",{roomCode:t,startSource:n,handlePreGameErrorAs:r});if(!s.success||s.meta.wasCheckRoomDeffered===!0||!o)return s;const{room:{hash:a,quizId:u}}=s.response,l=buildPreGameRouteComposite({roomHash:a,quizId:u});return e("requestToChangePage",{to:PageNames.get(PageNames.List.PRE_GAME_DETAIL.RUNNING),metaData:{params:{preGameRunningComposite:l}}}),s}async function continueCheckAssignmentPipeline({dispatch:e},{lmsInfo:t,startSource:n,handlePreGameErrorAs:r="dialog",shouldChangePage:o=!0}){const s=await e("decodeLMSInfoAndCheckAssignment",{lmsInfo:t,startSource:n,handlePreGameErrorAs:r});if(!s.success||s.meta.wasCheckAssignmentDeffered===!0||!o)return s;const{room:{hash:a,quizId:u,playerId:l}}=s.response,m=buildPreGameRouteComposite({roomHash:a,quizId:u,playerId:l});return e("requestToChangePage",{to:PageNames.get(PageNames.List.PRE_GAME_DETAIL.RUNNING),metaData:{params:{preGameRunningComposite:m}}}),s}const preGameFlows=Object.freeze(Object.defineProperty({__proto__:null,afterGroupInviteAcceptancePipeline,challengeGamePipeline,challengeReplayNotifAcceptedPipeline,classGameAssignedNotificationAcceptancePipeline,continueCheckAssignmentPipeline,continueCheckRoomPipeline,gameCodeQueryParamPipeline,gameCodeSubmittedPipeline,googleClassroomParamPipeline,replayGameFromSummaryPipeline,replayLiveGameAsyncNotificationAcceptancePipeline,replayLiveGameNotificationAcceptancePipeline,runningGamePipeline,startSoloFromPreGamePipeline},Symbol.toStringTag,{value:"Module"}));async function questionAnsweredPipeline({state:e,getters:t,commit:n,dispatch:r,rootState:o},{answer:s,responseTime:a,responseState:u,baseAnswer:l=[]}){const m=e.questions.slidesFlowControlType,y=m===Constants.SlidesFlowControlTypes.NONE&&t.isCurrentSlidePausedByHost,d=t.currentQuestionResponseType,f=e.player.currentStreak,v=doesQuestionHaveCorrectAnswer(t.currentQuestion);let A=[];const I=e.data.gameOptions.hasRedemptionPass===Constants.GameOptionsValues.hasRedemptionPass.YES,P=[e.data.gameType,e.data.gameMode,e.data.gameOptions],O=t.totalQuestionsRemaining===0&&RedemptionQuizConfig.shouldShowRedemptionQuestion(...P),R=e.questions.currentId,M=e.questions.doneQuestionsFrequency,U=t.isMasteryMode&&M[R]>=0,Q=calculateProvisionalScores({responseTime:a,responseType:d,isTimerBonusAllowed:v&&!y&&!t.isAnswerLaterQuestion,questionTime:t.currentQuestion.time,currentStreak:e.player.currentStreak,showTimerGameOption:t.isQuestionTimerOn,isStreakAllowed:m===Constants.SlidesFlowControlTypes.PARTIAL&&e.data.gameMode!==Constants.GameMode.MYSTIC_PEAK,isRedemptionPass:I&&O||U});_.forEach(Q,(fe,ge)=>{const Ge=getProvisionalPowerupsInfo(t,fe,ge==="correct",f,e.flow.gameAppearance);Q[ge]=Ge.transformedScore,A=_.concat(A,Ge.powerupsToDestroy)}),A=_.uniqBy(A,"id");const B=t.currentQuestion;let W;if(t.isUserOnReviewScreen){const fe=e.questions.questionResponses[e.questions.currentId],ge=fe[0];W=GameConstants.ANSWER_LATER_RESPONSE_STATES.includes(ge.state)?0:fe.length}else W=d===Constants.QuestionResponseTypes.ORIGINAL?0:1;const Z=s;let j={correct:0,incorrect:0};if(e.data.gameMode===Constants.GameMode.TEAM&&!isEmpty(e.data.teams)){const fe=e.data.teams,Le=_.maxBy(fe,"totalPlayers").totalPlayers,Ge=e.team.totalPlayers;j=calculateProvisionalTeamAdjustments({provisionalScores:Q,numPlayersInLargestTeam:Le,numPlayersInCurrentTeam:Ge})}const J=o.game.data.gameMode;allowAnsweringAfterIncorrectAttempt({gameType:o.game.data.gameType,gameMode:o.game.data.gameMode,isMasteryMode:t.isMasteryMode})&&(W=t.currentQuestionCurrentAttemptIndex);let ee={scores:{correct:Q.correct.total,incorrect:Q.incorrect.total},scoreBreakups:_.cloneDeep(Q),teamAdjustments:j};if(J===Constants.GameMode.MYSTIC_PEAK){const{selectedPathFinderType:fe,isPathFinder:ge}=e.flow.mysticPeak,Le=calculateProvisionalScoreForMysticPeak({attemptNo:W,isPathFinder:ge,pathFinderType:fe});ee={scores:{correct:Le.correct.total,incorrect:Le.incorrect.total},scoreBreakups:_.cloneDeep(Le),teamAdjustments:{correct:0,incorrect:0}}}const ae={attempt:W,questionId:B.id,questionType:B.type,response:Z,responseType:d,timeTaken:a,answer:l,isEvaluated:!1,state:reduceResponseStateForBackendConsumption(u),provisional:ee};n(MutationTypes.ANSWERED_CURRENT_QUESTION,{response:ae,powerupScopes:["game"]});const{didAnswer:ne}=await r("handleProceedingGame",{responseOfLastAttempt:ae,powerupsToDestroy:A});return r("saveCurrentContext"),{didAnswer:ne}}async function onGameOverPipeline({state:e,dispatch:t}){try{const{markedPlayerOver:n}=await t("markPlayerGameOver",{source:"onGameOverPipeline"});if(!n)return{isPiplelineComplete:!1};const r=e.data.gameOptions.showAnswers,o=e.data.gameOptions.studentQuizReview,s=!isEmpty(e.data.quizId),a=r===Constants.GameOptionsValues.ShowAnswers.ALWAYS||r===Constants.GameOptionsValues.ShowAnswers.PARTIAL&&o!==Constants.GameOptionsValues.StudentQuizReview.YES;return s&&a?{isPiplelineComplete:!0}:{isPiplelineComplete:(await t("updateCurrentGameDataInBackground",{source:"onGameOverPipeline"})).updated}}catch(n){return QLogger$1.error("Error at onGameOverPipeline: ",n),t("setActionErrorTrace",["onGameOverPipeline"]),{isPiplelineComplete:!1}}}function getProvisionalPowerupsInfo(e,t,n,r,o){const s=t.base,a=t.timer,u=t.streak,l=t.total,m=n?r+1:0,y=PowerupAPICreator$1.createAPI({base:s,timer:a,streak:u,total:l,previousStreak:r,currentStreak:m,isCorrect:n,gameAppearance:o}),d=_.concat(e.streakScopePowerupEffects,e.answerScopePowerupEffects,e.beforeAnswerPowerupEffects),{powerupEffectsToDestroy:f}=PowerupEffects$1.applyEffectsPurely(d,y),v=_.reduce(f,(I,P,O)=>O==="response"||O==="immediate"?I.concat(I,P):I,[]),A=ScoreBreakup(y.score.getTransformed());return{powerupsToDestroy:v,transformedScore:A}}function reduceResponseStateForBackendConsumption(e){switch(e){case Constants.QuestionResponseStates.ATTEMPTED:case Constants.QuestionResponseStates.ATTEMPTED_SILENTLY:return Constants.QuestionResponseStates.ATTEMPTED;case Constants.QuestionResponseStates.TIMED_OUT:return Constants.QuestionResponseStates.TIMED_OUT;default:return e}}const inGameFlows=Object.freeze(Object.defineProperty({__proto__:null,onGameOverPipeline,questionAnsweredPipeline},Symbol.toStringTag,{value:"Module"})),getters$6={isPlayerInGame(e){return e.flow.isValidRoom===!0||!isEmpty(e.data.roomHash)},canShowMysteryBoxWaiting(e,t){return!1},getPlayerNameToShow:e=>t=>{const n=e.player.playerId;return t===n?t:isProfane(t)?"Fluffy Puppy":t}},game={modules:{data,flow,player,team,questions},getters:getters$6,actions:{...generalGameActions,...preGameActions,...inGameActions,...postGameActions,...preGameFlows,...inGameFlows}};function getInitialState$a(){return{inviteGroupInfo:{}}}const mutations$9={[MutationTypes.GROUP_INFO_RESPONDED](e,t){e.inviteGroupInfo=t.groupInfo}},actions$9={async handleGroupInvite({dispatch:e},{token:t,type:n,modalOptions:r={}}){e("toggleModal",{type:Constants.W_MODAL_TYPES.GROUP_JOIN,options:{inviteToken:t,type:n,...r}});try{const o=r.sourceRequest||"",s=await e("fetchGroupInfo",{token:t,inviteType:n,sourceRequest:o});if(s.invalidInvite){e("toggleModal"),n===Constants.GroupJoinModalTypes.FROM_LINK&&(window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"class")),window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"t")),window.history.replaceState(window.history.state,document.title,removeURLParameter(window.location.href,"showGroupJoin")));return}InHouseEventLogger$1.logEvent(WebEvents.CLASS_INVITE_SHOWN,s.eventData)}catch(o){QLogger$1.error("Error at action handleGroupInvite",o)}},async fetchGroupInfo({dispatch:e,rootState:t,commit:n},{token:r,inviteType:o,sourceRequest:s=""}){try{const{response:a}=await getGroupInfo(r),u=getGroupInfoResponseCooker(t,a.data,o,s);return u.isValidResponse?(n(MutationTypes.GROUP_INFO_RESPONDED,{groupInfo:u.response}),{data:u.response,invalidInvite:!1,eventData:u.eventData}):(e("toggleDialog",{name:"groupInvite.linkInvalid|confirm",actionCallback:()=>{e("resetGame"),e("toggleDialog")}}),{data:null,invalidInvite:!0})}catch(a){switch(QLogger$1.error("Error at action fetchGroupInfo",a),getResponseErrorType(a)){case"token.INVALID_TOKEN":e("toggleDialog",{name:"groupInvite.linkInvalid|confirm"});break;case"token.EXPIRED":e("toggleDialog",{name:"groupInvite.linkExpired|confirm"});break;case"group.MEMBER_ALREADY_PRESENT":const l=a.response&&a.response.data&&a.response.data.groups&&a.response.data.groups[0].name||"";e("toggleDialog",{name:"groupInvite.alreadyInGroup|confirm",options:{message:`You are already a member of the class: ${l}`}});break}return{data:null,invalidInvite:!0}}},async joinGroup({rootState:e,commit:t},{data:n,groupName:r,inviteType:o="",sourceRequest:s="",sourceRequestMeta:a={}}){try{const{response:u}=await joinGroupRequest(n),l=joinGroupResponseCooker(e,u.data,n,o,s,a),m=_.get(u,"data.assignmentData.totalAssignedGames",0),y=_.get(u,"data.assignmentData.teacher.title",""),d=_.get(u,"data.assignmentData.teacher.firstName",""),f=_.get(u,"data.assignmentData.teacher.lastName","");let v="";return o!==Constants.GroupJoinModalTypes.FROM_GAME_CODE&&(m>0?v=getTranslatedText("{$1} {$2} {$3} has assigned you {$4} game(s). Refresh the page to see them now.",[y,d,f,m]):v=getTranslatedText("{$1} {$2} {$3} hasn't assigned any games yet, but you can always check for updates on your homepage.",[y,d,f])),t(MutationTypes.JOIN_GROUP_RESPONDED,l.mutationPayload),{...l.returnData,message:v,eventData:l.eventData,didJoin:!0}}catch(u){QLogger$1.error("Error at action joinGroup",u);const l=getResponseErrorType(u);let m="",y=!0;const d=joinGroupErrorResponseCooker(e,n,o,s),f=_.get(e,"user.profile.email",""),v=_.get(e,"user.profile.isUnderAge",!1);switch(l){case"group.MEMBER_ALREADY_PRESENT":m=getTranslatedText("Great! You are already a part of this class"),y=!1;break;case"group.MEMBER_DELETED":m=getTranslatedText("You were removed from this class."),y=!1;break;case"user.CANVAS_NOT_LINKED":case"user.SCHOOLOGY_NOT_LINKED":const A=l.includes("SCHOOLOGY")?"Schoology":"Canvas";m=getTranslatedText("You need to link your {$1} account to join this game.",[A]),y=!1;break;case"user.GCL_NOT_LINKED":m=getTranslatedText("You need to link your {$1} account to join this game.",["Google Classroom"]),y=!1;break;case"user.NOT_PART_OF_GCL_COURSE":case"user.NOT_PART_OF_CANVAS_COURSE":case"user.NOT_PART_OF_SCHOOLOGY_COURSE":let I="Google Classroom";l.includes("CANVAS")?I="Canvas":l.includes("SCHOOLOGY")&&(I="Schoology"),v?m=getTranslatedText("You cannot join this class because you are not a part of it on {$1}.",[I]):m=getTranslatedText("Your account ({$1}) cannot join this class because you are not a member of it on {$2}. Please check with your teacher.",[f,I]),y=!1;break;default:m=getTranslatedText("There was an error in joining the class. Please try again!")}return{didJoin:!1,message:m,persistInvite:y,eventData:d.eventData,shouldContinueWithFlow:!1}}}},groups={state:getInitialState$a(),getters:{},mutations:mutations$9,actions:actions$9};function gameAssignedNotifResponseCooker(e,t){const{user:n,routing:{currentPage:r},notification:{showOnceList:o}}=e,s=t.notification;let a=!0,u=!1,l=!1,m=!1,y={},d={};const f=runningGamesListResponseCooker({quizzes:s.quizzes,users:s.users,items:s.assigned}),v=_.get(s.assigned,"[0]._id");for(let A=0;A<n.attempts.groupAssignedGames.length;A++)if(n.attempts.groupAssignedGames[A].gamesAttempted[0].gameInfo.roomHash===v){a=!1;break}for(let A=0;A<o.length;A++)if(o[A].type==="gameAssigned"){m=!0;break}if(a&&!m){y={groupAssignedGames:[...f.groupAssignedItems,...n.attempts.groupAssignedGames],totalGroupAssignedGames:f.groupAssignedTotal+n.attempts.totalGroupAssignedGames,commonQuizzesData:{...f.quizzes,...n.attempts.commonQuizzesData},commonUsersData:{...f.users,...n.attempts.commonUsersData}};const A=PageNames.isExactly(r,PageNames.List.IN_GAME.SUMMARY);if(l=A||!isScreenForInGame(r),l){u=!A;const I=f.quizzes[_.get(f.groupAssignedItems,"[0].quizInfo.quizId","")]||{},P=_.get(f.groupAssignedItems,"[0].gamesAttempted[0].gameInfo",{}),O=P.assignmentTitle||"";let R=P.lmsInfo,M=!1;s.assigned[0]&&_.isString(s.assigned[0].replayOf)&&s.assigned[0].replayOf!==""&&(M=!0),R&&R.lmsName&&(R={...R,roomHash:P.roomHash,roomCode:P.gameCode}),d={id:`gameAssigned.${Date.now()}`,showAs:"modal",type:Constants.W_MODAL_TYPES.GAME_ASSIGNED_NOTIF,data:{assignedBy:f.users[P.host&&P.host.id]||null,gameSubject:I.subjects||[],gameInfo:P,lmsInfo:R,assignmentTitle:O,isReplayLiveGameModal:M}}}}return{mutationPayload:y,isANewAssignedGame:a,canShowNotification:l,notifItem:d,shouldUpdateGroupGames:u,isNotificationAlreadyPresent:m}}function getInitialState$9(){return{isListening:!1,showOnceList:[]}}const mutations$8={[MutationTypes.NOTIFICATION_SUBSCRIBED](e,t){e.isListening=!0},[MutationTypes.TOGGLE_SHOW_ONCE_NOTIFICATION](e,t){const n=_.findIndex(e.showOnceList,{id:t.id});n>=0?e.showOnceList.splice(n,1):e.showOnceList.push(t)}},actions$8={async subscribeForNotifications({rootState:e}){const t=e.user.profile.mongoId;try{const n=await subscribeCall({userId:t})}catch(n){QLogger$1.error("Error at action subscribeForNotifications",n)}},gameAssignedNotifHandler({rootState:e,commit:t,dispatch:n},{response:r}){const o=gameAssignedNotifResponseCooker(e,r);!o.isANewAssignedGame||o.isNotificationAlreadyPresent||(o.canShowNotification&&(n("toggleShowOnceNotification",o.notifItem),n("handleShowOnceNotifsUpdate")),o.shouldUpdateGroupGames&&_.delay(t,0,MutationTypes.UPDATE_GROUP_ASSIGNED_GAMES,o.mutationPayload))},handleShowOnceNotifsUpdate({state:e,dispatch:t}){const n=e.showOnceList[0];if(!isEmpty(n))switch(n.showAs){case"modal":t("toggleModal",{type:n.type,options:{notifId:n.id,...n.data}});break;default:QLogger$1.warn(`handleShowOnceNotifsUpdate: No 'showAs' handler for notification id(${n.id})`)}},toggleShowOnceNotification({commit:e},t){e(MutationTypes.TOGGLE_SHOW_ONCE_NOTIFICATION,t)}},notification={state:getInitialState$9(),getters:{},mutations:mutations$8,actions:actions$8};function getInitialState$8(){return{results:[],totalResults:0,featuredResults:[],totalFeaturedResults:0,quizRecommendations:[],similarQuizzes:[],similarQuizzesPage:1,similarQuizzesPageSize:0,recVersion:"",recTimeTaken:"",recExperiment:"",featuredRecommendations:[],queryDetails:{query:"",id:"",source:Constants.SearchSources.BROWSER_LOAD}}}const getters$5={},mutations$7={[MutationTypes.PLAYER_JOINED_THE_GAME](e){const t=["featuredResults","totalFeaturedResults","featuredRecommendations"];stateResetter(e,getInitialState$8(),t)},[MutationTypes.RESET_QUIZZES](e){e.results=getInitialState$8().results,e.totalResults=getInitialState$8().totalResults},[MutationTypes.UPDATE_SEARCH_QUERY_DETAILS](e,t){e.queryDetails={...e.queryDetails,...t.queryDetails}},[MutationTypes.SEARCH_IN_PROGRESS](e,t){e.queryDetails={...t.queryDetails}},[MutationTypes.SEARCH_RESPONDED](e,t){e.results=e.results.concat(t.result),e.totalResults=t.total},[MutationTypes.SEARCH_FEATURED_RESPONDED](e,t){e.featuredResults=[...t.result],e.totalFeaturedResults=t.total},[MutationTypes.GET_QUIZ_RECOMMENDATIONS_RESPONDED](e,t){e.quizRecommendations=[...e.quizRecommendations,...t.list],e.recVersion=t.version,e.recTimeTaken=t.timeTaken,e.recExperiment=t.experiment},[MutationTypes.GET_SIMILAR_QUIZZES_RESPONDED](e,t){e.similarQuizzes=[...e.similarQuizzes,...t.list],e.recVersion=t.version,e.similarQuizzesPage=t.page,e.similarQuizzesPageSize=t.pageSize,e.recTimeTaken=t.timeTaken,e.recExperiment=t.experiment},[MutationTypes.UPDATE_RECOMENDATION_QUIZ_DATA](e,t){isEmpty(t.quizData)||(Array.isArray(t.currentRecomendations)?e.quizRecommendations=[...t.currentRecomendations]:e.quizRecommendations=[...t.quizData.currentRecomendations])},[MutationTypes.FEATURED_RECOMMENDATIONS_RESPONDED](e,t){e.featuredRecommendations=[...t.recommendedSections]}},actions$7={async searchFeaturedQuizzes({commit:e}){try{const{response:t}=await getFeaturedResult(),n=featuredSearchResponseCooker(t);return e(MutationTypes.SEARCH_FEATURED_RESPONDED,n),n}catch(t){QLogger$1.error("Error at action searchFeaturedQuizzes: ",t)}},async searchQuizzes({commit:e,rootState:t},{searchText:n,from:r,pageSize:o,gradesFilter:s=[],subjectFilter:a=[],languageFilter:u=[],questionNumRange:l="",metaData:m={}}){const y=searchQuizzesCooker({rootState:t,searchText:n,from:r,pageSize:o,gradesFilter:s,subjectFilter:a,languageFilter:u,questionNumRange:l,metaData:m});e(MutationTypes.SEARCH_IN_PROGRESS,y.mutationPayload);try{const{response:d}=await getSearchResult({...y.requestArgs}),f=searchResponseCooker(d);return e(MutationTypes.SEARCH_RESPONDED,f),f}catch(d){QLogger$1.error("Error at action searchQuizzes: ",d)}},resetAllQuizzes({commit:e}){e(MutationTypes.RESET_QUIZZES)},resetSearchQueryDetails({commit:e}){e(MutationTypes.UPDATE_SEARCH_QUERY_DETAILS,{queryDetails:getInitialState$8().queryDetails})},updateSearchQueryDetails({commit:e},t={}){e(MutationTypes.UPDATE_SEARCH_QUERY_DETAILS,{queryDetails:t})},async setQuizRecommendations({commit:e,rootState:t},{gameId:n,gameState:r,gameType:o}){try{const a=t.user.profile.mongoId,{response:u}=await getQuizRecommendationsResult(n,r,o,a),l=quizRecommendationResponseCooker(u);e(MutationTypes.GET_QUIZ_RECOMMENDATIONS_RESPONDED,l)}catch(s){QLogger$1.error("Error at action setQuizRecommendations: ",s)}},async setSimilarQuizzes({commit:e},{gameId:t,gameState:n,page:r,pageSize:o,gameType:s}){try{const{response:a}=await getSimilarQuizzesResult(t,n,s,r,o),u=similarQuizzesResponseCooker(a),{version:l,list:m,timeTaken:y,experiment:d}=u;e(MutationTypes.GET_SIMILAR_QUIZZES_RESPONDED,{timeTaken:y,version:l,list:m,page:r,pageSize:o,experiment:d})}catch(a){QLogger$1.error("Error at action setSimilarQuizzes: ",a)}},async getDataForQuiz({commit:e,state:t},{quizId:n}){try{const{response:r}=await getQuizData({quizId:n}),o=recomendationGetQuizDataResponseCooker(r,t);return e(MutationTypes.UPDATE_RECOMENDATION_QUIZ_DATA,o),o.quizData}catch(r){QLogger$1.error("Error at action getDataForQuiz: ",r)}},async setFeaturedPageRecommendations({commit:e}){try{const{response:t}=await getFeaturedRecommendations(),n=featuredRecommendationsResponseCooker(t);e(MutationTypes.FEATURED_RECOMMENDATIONS_RESPONDED,n)}catch(t){QLogger$1.error("Error at action setFeaturedPageRecommendations: ",t)}},async getFeaturedTopicRecommendations({commit:e},{topicId:t,page:n,pageSize:r}){if(!t)return{};try{const o=`featuredRecommendation_${t}`;let s=!1,a=null;if(n===1&&SessionStorage$1.isPresent()&&(a=SessionStorage$1.getItem(o,{parseFromJSON:!0}),s=!isEmpty(a)),s)return{name:a.topicName,quizzes:a.quizzes,fromCache:!0};const{response:u}=await getRecommendationsForTopic(t,n,r),l=featuredTopicRecommendationsResponseCooker(u);return n===1&&SessionStorage$1.isPresent()&&SessionStorage$1.setItem(o,{topicName:l.recommendedTopicData.name,quizzes:l.recommendedTopicData.quizzes},{storeAsJSON:!0}),l.recommendedTopicData}catch(o){QLogger$1.error("Error at action getFeaturedTopicRecommendations: ",o)}},async getEventQuizzesList(){try{const e=await getEventQuizzes();return featuredTopicRecommendationsResponseCooker(e.response).recommendedTopicData}catch(e){QLogger$1.error("Error at action getEventQuizzes: ",e)}}},search={state:getInitialState$8(),getters:getters$5,mutations:mutations$7,actions:actions$7};function quizStartRouteResolverCooker(e,t){const n=e.data.quiz,r=t.query&&t.query.from,o=t.query&&t.query.startSource,s=t.query&&t.query.referrer||"",a=t.query&&t.query.studentShare==="true";let u="",l="",m="",y=1;isEmpty(n.info)?isEmpty(e.data.draft)||(l=e.data.draft.name,m=e.data.draft.image,y=e.data.draft.questions&&e.data.draft.questions.length||1):(l=n.info.name,m=n.info.image,y=n.info.questions&&n.info.questions.length||1);const d={quizId:n._id,quizName:l,quizImage:m,quizNumQuestions:y};switch(a&&(u=GameStartSource.get(GameStartSource.List.FROM_SHARE.VIA_JOIN)),r){case"admin":u=GameStartSource.get(GameStartSource.List.FROM_ADMIN.PARAM.DIRECT);break;case"join_admin_share":u=GameStartSource.get(GameStartSource.List.FROM_SHARE.VIA_ADMIN);break;case"soloLinkShare":u=GameStartSource.get(GameStartSource.List.FROM_ADMIN.PARAM.SOLO_LINK_SHARE),o&&(u+=`|${o}`);case"parentEmail":u=GameStartSource.get(GameStartSource.List.FROM_ADMIN.PARAM.PARENT_EMAIL);break;case"parentEmailLink":u=GameStartSource.get(GameStartSource.List.FROM_ADMIN.PARAM.PARENT_EMAIL_LINK);break}return{quizDetails:d,startSource:u,soloLinkReferrerId:s}}function getInitialState$7(){return{source:"",soloLinkReferrer:"",featuredMemesets:[],screenOpenSource:"",currentGameData:{},currentQuizData:{},currentAttempts:[],contestId:null,embedMode:!1}}const getters$4={areAllAttemptsDoneInTestMode(e){const t=e.currentAttempts;if(t.length===0)return!1;let n=!0;return _.forEach(t,r=>{if(r.gameMode!==Constants.GameMode.TEST)return n=!1,!1}),n},isUserAllowedToReattemptQuiz(e,t){return!t.areAllAttemptsDoneInTestMode&&e.currentGameData.didLatestGameHaveLimitedAttempts!==!0},isContestMode(e){return!!e.contestId}},mutations$6={[MutationTypes.UPDATE_PRE_GAME_COMPOSITE_BREAKDOWN](e,t){e.routeCompositeBreakdown=Object.assign({},t.routeCompositeBreakdown)},[MutationTypes.SET_PRE_GAME_INFO](e,t){stateAssigner(e,t)},[MutationTypes.CLEAR_PRE_GAME_QUIZ_INFO](e){stateResetter(e,getInitialState$7())},[MutationTypes.SET_PRE_GAME_OPTIONS](e,t){e.gameOptions=t.gameOptions||{}},[MutationTypes.GET_FEATURED_MEMESETS_RESPONDED](e,t){e.featuredMemesets=t.memesets}},actions$6={async retrieveRunningGame({commit:e,dispatch:t},{roomHash:n="",quizId:r="",updatePreGameInfo:o=!0}){try{const{response:s}=await getRunningGame(n),a=runningGamesListResponseCooker(s.data),u=gclInfoCooker(s.data),l=preGameRunningQuizInfoCooker(a,u);return o&&e(MutationTypes.SET_PRE_GAME_INFO,l),{success:!0,cookedData:l}}catch(s){QLogger$1.error("Error at action retrieveRunningGame ",s);const a=getResponseErrorType(s),u="dialog",l=`rrg-${a}`;switch(a){case"game.NOT_FOUND":t("handlePreGameErrorMessages",{errorName:"game.notRunning|confirm",handlePreGameErrorAs:u});break;default:t("handlePreGameErrorMessages",{errorName:"game.retrieveRunningGameDefaultError|confirm",options:{errorType:a},handlePreGameErrorAs:u,errorCode:l});break}return{success:!1,error:{type:a}}}},async retrieveCompletedGame({commit:e,rootState:t,dispatch:n},{quizId:r,toRoute:o,embedMode:s=!1}){var a;if(r)try{const u=((a=o.params)==null?void 0:a.contestId)||null,{response:l}=await getQuizData({quizId:r,bypassProfanityCheck:!0,requestPrivileges:!0}),m=quizStartRouteResolverCooker(l,o),y=_.get(l.data,"creatorPrivileges"),d=preGameQuizDataCooker(t,m,{data:l.data,creatorPrivileges:y,contestId:u,embedMode:s});return e(MutationTypes.SET_GAME_START_SOURCE,{startSource:d.screenOpenSource}),e(MutationTypes.SET_PRE_GAME_INFO,d),{success:!0}}catch(u){const l=getResponseErrorType(u),m=`rcg-${l}`;switch(QLogger$1.error("Error at action retrieveCompletedGame - ",l,u),l){case"quiz.NOT_FOUND":n("handlePreGameErrorMessages",{errorName:"quiz.notFound|confirm",handlePreGameErrorAs:"dialog"});break;case"user.NOT_ALLOWED":n("handlePreGameErrorMessages",{errorName:"quiz.notFound|confirm",handlePreGameErrorAs:"dialog",errorCode:m});break;case"user.VALIDATION":n("handlePreGameErrorMessages",{errorName:"game.cannotStartGameOnPrivateQuiz|confirm",handlePreGameErrorAs:"dialog"});break;default:n("handlePreGameErrorMessages",{errorName:"misc.errorAndTryAgain|confirm",handlePreGameErrorAs:"dialog",errorCode:m});break}return{success:!1}}},async retrieveSoloGameAttempts({commit:e,rootState:t},{quizId:n,updatePreGameInfo:r=!0}){if(QLogger$1.invariant(!!n,"Cannot fetch attempts for empty quizId"),!n)return{success:!1};try{const{response:o}=await allQuizAttempts(n);if(isEmpty(o)||_.isString(o.data))return;const s=allQuizAttemptsResponseCooker({completedGames:[{quizInfo:o.data.quizInfo}]},o.data),a=filterAttemptsWithAnyResponse(s.updatedCompletedGames[0].gamesAttempted);if(r){const u=s.didLatestGameHaveLimitedAttempts;e(MutationTypes.SET_PRE_GAME_INFO,{currentAttempts:a,currentGameData:{...t.preGameDetail.currentGameData,didLatestGameHaveLimitedAttempts:u}})}return{success:!1,attemptedGames:a}}catch(o){return QLogger$1.error("error at action retrieveSoloGameAttempts",o),{success:!1,error:o}}},async discardAttempt({commit:e,dispatch:t,rootState:n,state:r},{roomHash:o,playerId:s,gameType:a,gameMode:u,gameState:l}){try{const{applicationContext:m}=n;InHouseEventLogger$1.logEvent(WebEvents.KICKED_OUT_ISSUE,{source:"discardAttempt",rH:o,pId:s,gd:`${a}-${u}-${l}`}),await discardPlayerAttempt({roomHash:o,playerId:s,endedAt:Date.now(),shouldDiscard:!0},m.isGameSubDomainWhiteListed);const y=attemptsAfterDiscardCooker({roomHash:o,playerId:s},r);e(MutationTypes.SET_PRE_GAME_INFO,{currentAttempts:y})}catch(m){switch(getResponseErrorType(m)){case"player.ALREADY_OVER":n.user.profile.isLoggedIn||e(MutationTypes.CLEAR_INCOMPLETE_GAME);break}QLogger$1.error("Error at action discardAttempt",m)}},async clearPreGameQuizInfo({commit:e}){e(MutationTypes.CLEAR_PRE_GAME_QUIZ_INFO)},async fetchFeaturedMemesets({commit:e,state:t}){if(!(t.featuredMemesets.length>0))try{const{response:n}=await getFeaturedMemesets();isEmpty(n)||e(MutationTypes.GET_FEATURED_MEMESETS_RESPONDED,{memesets:n})}catch(n){QLogger$1.error("Error at action fetchFeaturedMemesets",n)}},handleUnableToStartFlashcards({dispatch:e}){e("toggleDialog",{name:"flashcard.cannotStart|confirm",actionCallback:n=>{e("requestToChangePage",{to:PageNames.get(PageNames.List.LANDING.HOME)}),e("toggleDialog")}})}},preGameDetail={state:getInitialState$7(),getters:getters$4,mutations:mutations$6,actions:actions$6};function getInitialState$6(){return{list:[],currentScopes:[],nudgesInteracted:{},powerupBoxAwardProgress:Constants.PowerupBoxAwardProgress.NIL,nudgesQuestionProbabilityMap:{}}}const getters$3={canPowerupsBeAwardedInThisGame(e,t,n){const r=[Constants.GameMode.TEST,Constants.GameMode.PRESENTATION,Constants.GameMode.TEACHER_PACED,Constants.GameMode.FLASHCARD,Constants.GameMode.MYSTIC_PEAK],{gameMode:o}=n.game.data;return t.isPowerupsOn&&!t.doesMysteryPowerupEffectExist&&!r.includes(o)},powerupsGameplay(e,t){return{normalBeltSize:3,maxInitialShufflesAllowed:3,nudges:{ratioOfQuestionTimeLeftToShowNudge:50/100,maxSecondsToWaitForWhileAnsweNudge:25},rewardPositions:getAllRewardPositions(t.totalInteractiveSlidesInGame)}},availablePowerups(e,t){return e.list.filter(n=>n.status===Constants.PowerupStatuses.AWARDED)},currentPowerupsBeltId(e,t){return t.beltLastRewardedOnQuestion},powerupsInBelt(e,t,n){const r=_.filter(e.list,a=>{const u=a.meta.questionNum;return _.isNumber(u)?_.range(t.beltLastRewardedOnQuestion,t.questionNumberForAwardOrGameEnd).includes(u):!0}),o=_.groupBy(r,a=>a.meta.beltPosition),s=_.sortBy(Object.keys(o),parseInt);for(let a=0,u=s.length;a<u;a++)o[s[a]]=_.orderBy(o[s[a]],[l=>l.questionNum,l=>l.status===Constants.PowerupStatuses.AWARDED],["asc","asc"]);return s.map(a=>_.last(o[a])||{})},payloadForActivateValidation(e,t){if(!t.canPowerupsBeAwardedInThisGame)return{};const n=t.currentQuestion.type||"";return{scopes:e.currentScopes||[],isQuestionTypeMCQ:n===Constants.QuestionTypes.MCQ,isQuestionTypeOpen:n===Constants.QuestionTypes.MCQ,isQuestionTypeBlank:n===Constants.QuestionTypes.MCQ,doesQuestionHaveCorrectAnswer:doesQuestionHaveCorrectAnswer(t.currentQuestion),options:t.currentQuestion.options||[],activePlayersList:t.activePlayersList}},isPowerupActivatedForCurrentQuestionAndAttempt(e,t,n){return!!_.find(n.powerupEffect.list,o=>o.meta.questionId===n.game.questions.currentId&&o.meta.attempt===t.currentQuestionCurrentAttemptIndex)},usuablePowerupsBelt(e,t,n){const r=PowerupsConfigManager$1.getConfig();return t.powerupsInBelt.map(o=>{const s=r[o.name],a=t.beltLastRewardedOnQuestion,u=t.questionNumberForAwardOrGameEnd-a,l=100-Math.floor((t.currentQuestionNumber-a)/u*100);if(o.status===Constants.PowerupStatuses.ACTIVATED)return{...o,isUsed:!0,isDisabled:!0,powerupAvailablityPerc:l};if(isEmpty(s))return{...o,powerupAvailablityPerc:l};let m=s.validateToActivate(t.payloadForActivateValidation)&&!t.isPowerupActivatedForCurrentQuestionAndAttempt&&!doesActivatedPowerupEffectExistsForThisPowerup(n,o.name,t.activatedPowerupEffects);const y=n.game.data,d=y.gameOptions.hasRedemptionPass===Constants.GameOptionsValues.hasRedemptionPass.YES,f=[y.gameType,y.gameMode,y.gameOptions],v=t.totalQuestionsRemaining===0&&RedemptionQuizConfig.isPass1Completed(...f);return d&&v&&(m=m&&!["streak-booster","streak-saver","time-freeze"].includes(o.name)),{...o,isDisabled:!m,powerupAvailablityPerc:l}})},questionNumForNextPowerupReplace(e,t){const n=t.powerupsGameplay.rewardPositions,r=_.find(n,o=>t.hasCurrentQuestionBeenAnswered?t.currentQuestionNumber<o:t.currentQuestionNumber<=o);return _.isNumber(r)?r:-1},beltLastRewardedOnQuestion(e,t){const n=t.powerupsGameplay.rewardPositions,r=_.find(_.reverse([...n]),o=>t.hasCurrentQuestionBeenAnswered?t.currentQuestionNumber>=o:t.currentQuestionNumber>o);return _.isNumber(r)?r:-1},willNewPowerupsBeltBeAwardedThisQuestion(e,t){return t.isCurrentQuestionForRedemptionAttempt||!t.canPowerupsBeAwardedInThisGame||t.previousQuestionAddedToAnswerLater?!1:t.powerupsInBelt.length===0?t.questionNumberForAwardOrGameEnd-t.currentQuestionNumber>=t.powerupsGameplay.normalBeltSize:t.questionNumForNextPowerupReplace===t.currentQuestionNumber},questionNumberForAwardOrGameEnd(e,t){return t.questionNumForNextPowerupReplace>-1?t.questionNumForNextPowerupReplace:t.totalQuestionsInGame},nudgesInteractedOnCurrentQuestion(e,t){const n=e.nudgesInteracted[t.currentPowerupsBeltId]||[];return _.filter(n,{questionNumber:t.currentQuestionNumber})},wasANudgeInteractedOnThisQuestion(e,t){return!isEmpty(t.nudgesInteractedOnCurrentQuestion)},canShowNudgeOnThisQuestion(e,t){const n=t.currentQuestionNumber-t.beltLastRewardedOnQuestion;if(n<3)return!1;const r=66/100,o=t.powerupsGameplay.normalBeltSize*t.powerupsGameplay.rewardPositions.length,s=Math.floor(r*o);if((e.nudgesInteracted[t.currentPowerupsBeltId]||[]).length>=s)return!1;const u=t.questionNumberForAwardOrGameEnd-t.beltLastRewardedOnQuestion,l=_.filter(t.usuablePowerupsBelt,v=>!v.isDisabled).length,m=l>=t.powerupsGameplay.normalBeltSize;let y=0;return n===3&&m?y=l/(2*t.powerupsGameplay.normalBeltSize-l):y=r*(l/(2*t.powerupsGameplay.normalBeltSize-l))*(n/u),e.nudgesQuestionProbabilityMap[t.currentQuestion.id]<=y&&!t.wasANudgeInteractedOnThisQuestion&&!t.hasCurrentQuestionBeenAnswered&&!t.previousQuestionAddedToAnswerLater},isPowerupBoxAwardInProgress(e,t){return e.powerupBoxAwardProgress>=Constants.PowerupBoxAwardProgress.START},powerupNumberAnimatingInBoxAward(e,t){if(!t.isPowerupBoxAwardInProgress)return-1;const n=e.powerupBoxAwardProgress;for(let r=0,o=Constants.PowerupBoxAwardProgress.Powerups.length;r<o;r++){const s=_.first(Constants.PowerupBoxAwardProgress.Powerups[r]),a=_.last(Constants.PowerupBoxAwardProgress.Powerups[r]);if(n>=s&&n<=a)return r+1}return-1},getPowerupsToShowNudgeFor:(e,t)=>n=>{const r=t.usuablePowerupsBelt,o=givePowerupsForNudgeType(n);return r.filter(s=>!s.isDisabled&&o.includes(s.name))},evaluateNudgeForPowerup:(e,t,n)=>r=>{const o=t.usuablePowerupsBelt,s=givePowerupsForNudgeType(r),a=o.filter(m=>!m.isDisabled&&s.includes(m.name));if(a.length<=0)return{};const u=_.sortBy(a,m=>_.findIndex(a,y=>y===m.name));let l=u[0];if(l.name===POWER_UPS.STREAK_SAVER&&n.game.player.currentStreak<1){if(u.length===1)return{shouldShow:!1,powerup:""};l=u[1]}return{shouldShow:!isEmpty(l),powerup:l}},canShowPreQuestionNudgeOnThisQuestion(e,t){const n=_.random(1,10);return!t.canShowNudgeOnThisQuestion||n<=5?{shouldShow:!1,powerup:""}:t.evaluateNudgeForPowerup(Constants.PowerupNudgeTypes.PRE_QUESTION)}},mutations$5={[MutationTypes.AWARD_POWERUPS](e,t){e.list=e.list.concat(t.powerups)},[MutationTypes.UPDATE_POWERUPS](e,t){_.forEach(t.powerups,n=>{const r=_.find(e.list,o=>o.id===n.id);r&&_.forEach(n,(o,s)=>{r[s]=o})})},[MutationTypes.ANSWERED_CURRENT_QUESTION](e,t){e.currentScopes=t.powerupScopes},[MutationTypes.SET_CURRENT_QUESTION](e,t){e.currentScopes=isEmpty(t.powerupScopes)?e.currentScopes:t.powerupScopes},[MutationTypes.REJOIN_GAME_RESPONDED]:handlePlayerJoining,[MutationTypes.S_JOIN_ROOM_RESPONDED]:handlePlayerJoining,[MutationTypes.JOIN_SOLO_GAME_RESPONDED]:handlePlayerJoining,[MutationTypes.EXIT_GAME](e){stateResetter(e,getInitialState$6())},[MutationTypes.RESET_GAME](e){stateResetter(e,getInitialState$6())},[MutationTypes.ADD_POWERUP_NUDGE_INTERACTION](e,t){Array.isArray(e.nudgesInteracted[t.beltId])&&(e.nudgesInteracted[t.beltId]=[]),e.nudgesInteracted[t.beltId].push(t.nudge)},[MutationTypes.SET_BOX_AWARD_PROGRESS](e,t){e.powerupBoxAwardProgress=t.progress}},actions$5={hideOption({rootState:e,dispatch:t},n){t("changeOptionAppearance",{optionIndex:n,appearanceChanges:{isVisible:!1}})},showOption({rootState:e,dispatch:t},n){t("changeOptionAppearance",{optionIndex:n,appearanceChanges:{isVisible:!0}})},setOptionsAsPreviouslySelected({rootState:e,dispatch:t},n){const r=_.cloneDeep(e.game.flow.currentOptionsAppearance);_.forEach(n,o=>{r[o]={...r[o],wasPreviouslySelected:!0}}),t("changeCurrentOptionsAppearance",{currentOptionsAppearance:r})},clearTypedAnswer(){GlobalEventBus.$emit("question:clearTypedAnswer")},resetOptions(){GlobalEventBus.$emit("question:resetOptions")},powerupNudgeInteracted({rootState:e,commit:t,getters:n},{type:r,questionNumber:o,forPowerup:s}){t(MutationTypes.ADD_POWERUP_NUDGE_INTERACTION,{beltId:n.currentPowerupsBeltId,nudge:{type:r,questionNumber:o,forPowerup:s}})},setBoxAwardProgress({commit:e},{progress:t}){e(MutationTypes.SET_BOX_AWARD_PROGRESS,{progress:t})}},powerup={state:getInitialState$6(),getters:getters$3,mutations:mutations$5,actions:actions$5};function handlePlayerJoining(e,t){const n=getAllRewardPositions(t.room.questionIds.length),r={};_.forEach(n,o=>{r[o]=[]}),e.list=t.player.powerups,e.nudgesInteracted=r,e.nudgesQuestionProbabilityMap=_.reduce(t.room.questionIds,(o,s)=>(o[s]=Math.random(),o),{})}function getAllRewardPositions(e){return calculatePowerupAwardPositions(e,{rewardBeforeQuestionStart:!0,beltSize:3,minimumBufferBetweenEnd:0})}function doesActivatedPowerupEffectExistsForThisPowerup(e,t,n){const r=_.find(n,a=>a.name===t);return!r?!1:!new Targetting({rootState:e}).isCurrentPlayerTheTarget(r.meta)}function getInitialState$5(){return{list:[],destroyList:[]}}const getters$2={streakScopePowerupEffects(e){const t=PowerupsConfigManager$1.getConfig();return _.keys(t).length>0?_.filter(e.list,n=>t[n.name].applicationScope==="streak"&&n.status!==Constants.PowerupEffectStatuses.DESTROYED):[]},answerScopePowerupEffects(e){const t=PowerupsConfigManager$1.getConfig();return _.keys(t).length>0?_.filter(e.list,n=>t[n.name].applicationScope==="answer"&&n.status!==Constants.PowerupEffectStatuses.DESTROYED):[]},questionScopePowerupEffects(e){const t=PowerupsConfigManager$1.getConfig();return _.keys(t).length>0?_.filter(e.list,n=>t[n.name].applicationScope==="question"&&n.status!==Constants.PowerupEffectStatuses.DESTROYED):[]},gameScopePowerupEffects(e){const t=PowerupsConfigManager$1.getConfig();return _.keys(t).length>0?_.filter(e.list,n=>t[n.name].applicationScope==="game"&&n.status!==Constants.PowerupEffectStatuses.DESTROYED):[]},beforeAnswerPowerupEffects(e){const t=PowerupsConfigManager$1.getConfig();return _.keys(t).length>0?_.filter(e.list,n=>t[n.name].applicationScope==="before-answer"&&n.status!==Constants.PowerupEffectStatuses.DESTROYED):[]},postAnswerPowerupEffects(e){const t=PowerupsConfigManager$1.getConfig();return _.keys(t).length>0?_.filter(e.list,n=>t[n.name].applicationScope==="post-answer"&&n.status!==Constants.PowerupEffectStatuses.DESTROYED):[]},activatedPowerupEffects(e){return _.filter(e.list,t=>t.status==="ACTIVATED")},doesMysteryPowerupEffectExist(e){const t=PowerupsConfigManager$1.getConfig();return _.keys(t).length>0?!1:!!e.list.find(r=>t[r.name].powerupType===Constants.PowerupTypes.ACTIVATOR&&r.status==="ACTIVATED")},powerupToActivateFromMysteryBox(e,t,n){const r=PowerupsConfigManager$1.getConfig();return o=>{const s=_.get(n,"game.player.playerId"),a=e.list.find(u=>r[u.name].powerupType===Constants.PowerupTypes.ACTIVATOR&&u.id===o);return isEmpty(a)?"":a.meta.boxPowerup_0.players.includes(s)?a.meta.boxPowerup_0.name:a.meta.boxPowerup_1.name}}},mutations$4={[MutationTypes.ADD_POWERUP_EFFECT](e,t){e.list.push(t.powerupEffect)},[MutationTypes.UPDATE_POWERUP_EFFECT](e,t){const n=_.find(e.list,r=>r.id===t.powerupEffect.id);n&&(n.status=t.powerupEffect.status)},[MutationTypes.UPDATE_POWERUP_EFFECTS](e,t){e.list=t.powerupEffects},[MutationTypes.UPDATE_POWERUP_EFFECT_DESTROY_LIST](e,t){e.destroyList=t.powerupEffects},[MutationTypes.ADD_POWERUP_EFFECTS_TO_DESTROY_LIST](e,t){e.destroyList=_.concat(e.destroyList,t.powerupEffects)},[MutationTypes.REJOIN_GAME_RESPONDED](e,t){e.list=t.player.powerupEffects},[MutationTypes.EXIT_GAME](e){stateResetter(e,getInitialState$5())},[MutationTypes.RESET_GAME](e){stateResetter(e,getInitialState$5())}},actions$4={},powerupEffect={state:getInitialState$5(),getters:getters$2,mutations:mutations$4,actions:actions$4};function getInitialState$4(){return{shouldShowGoogleSSOGif:!1}}const getters$1={},mutations$3={[MutationTypes.SHOW_GOOGLE_ONETAP](e){e.shouldShowGoogleSSOGif=!0},[MutationTypes.HIDE_GOOGLE_ONETAP](e){e.shouldShowGoogleSSOGif=!1}},actions$3={showGoogleOneTapGIF({commit:e}){e(MutationTypes.SHOW_GOOGLE_ONETAP)},hideGoogleOneTapGIF({commit:e}){e(MutationTypes.HIDE_GOOGLE_ONETAP)}},googleOneTap={state:getInitialState$4(),getters:getters$1,mutations:mutations$3,actions:actions$3};function getInitialState$3(){return{toasts:[]}}const getters={toasts(e){return e.toasts}},mutations$2={[MutationTypes.PUSH_TOAST](e,t){e.toasts.push(t)},[MutationTypes.SHIFT_TOAST](e){e.toasts.shift()}},actions$2={pushToast({commit:e},t){e(MutationTypes.PUSH_TOAST,t)},shiftToast({commit:e}){e(MutationTypes.SHIFT_TOAST)}},toasts={state:getInitialState$3(),getters,mutations:mutations$2,actions:actions$2};function getInitialState$2(){return{isHandDropped:!1,isHandAlreadyRaisedForPlayer:!1,hasHostDisabledRaiseHands:!1,isRaiseHandDisabledForSlide:!1,roomHashForDisabledSlide:null}}const mutations$1={[MutationTypes.DROP_PLAYER_HAND](e){e.isHandDropped=!0},[MutationTypes.TOGGLE_RAISE_HANDS](e,t){e.hasHostDisabledRaiseHands=t},[MutationTypes.PERSIST_RAISE_HAND](e){e.isHandAlreadyRaisedForPlayer=!0},[MutationTypes.RESET_DROPPED_STATES](e){e.isHandDropped=!1},[MutationTypes.TOGGLE_RAISE_HAND_FOR_SLIDE](e,t){e.isRaiseHandDisabledForSlide=t.raiseHandStatusForSlide,e.roomHashForDisabledSlide=t.roomHashForDisabledSlide},[MutationTypes.PREVIOUS_CONTEXT_LOADED](e,t){t.raiseHand&&t.raiseHand.isRaiseHandDisabledForSlide&&(e.isRaiseHandDisabledForSlide=t.raiseHand.isRaiseHandDisabledForSlide,e.roomHashForDisabledSlide=t.raiseHand.roomHashForDisabledSlide)}},actions$1={dropStudentHand({commit:e,rootState:t},n){(n.dropAllHands||n.playerId===t.game.player.playerId)&&e(MutationTypes.DROP_PLAYER_HAND)},toggleRaiseHands({commit:e},t){e(MutationTypes.TOGGLE_RAISE_HANDS,t.isRaiseHandStopped)},raisedHandForPlayer({commit:e,rootState:t},n){n.raisedHandsList&&n.raisedHandsList.filter(o=>o.pId===t.game.player.playerId).length>0&&e(MutationTypes.PERSIST_RAISE_HAND),n.metadata.isRaiseHandStopped&&e(MutationTypes.TOGGLE_RAISE_HANDS,n.metadata.isRaiseHandStopped)},updateRaiseHandStatusForSlide({commit:e},t){e(MutationTypes.TOGGLE_RAISE_HAND_FOR_SLIDE,t)}},raiseHand={state:getInitialState$2(),getters:{},mutations:mutations$1,actions:actions$1};function getInitialState$1(){return{activeRAIds:{},order:DefaultReadAloudOrder,isPlaying:!1,isDisabled:!0,willAutoReadAloudQuestion:!0,rate:1,currentIdBeingRead:""}}const readAloud={state:getInitialState$1(),getters:{},mutations:{[MutationTypes.UPDATE_READ_ALOUD_V2](e,t){stateAssigner(e,t)},[MutationTypes.ADD_READ_ALOUD_ID](e,t){e.activeRAIds[t.raId]=t.text},[MutationTypes.SET_READ_ALOUD_ORDER](e,t){e.order=t},[MutationTypes.PREVIOUS_CONTEXT_LOADED](e,t){const n=_.get(t,"readAloud",{});isEmpty(n)||stateAssigner(e,n)}},actions:{updateReadAloudV2({state:e,commit:t},n){const r=n;t(MutationTypes.UPDATE_READ_ALOUD_V2,r)},addReadAloudIds({state:e,commit:t},n){const r=n;if(!r.raId.includes(ReadAloudIds.SLIDE_BULLET_TEXT)&&!Object.values(ReadAloudIds).includes(r.raId)){QLogger$1.invariant(Object.values(ReadAloudIds).includes(r.raId),`addReadAloudIds: raId '${r.raId}' does not exist in registered ReadAloudIds`);return}t(MutationTypes.ADD_READ_ALOUD_ID,n)},setReadAloudOrder({state:e,commit:t},n){const r=n.order;if(r.length===Object.values(ReadAloudIds).length){for(let o=0;o<r.length;o++)if(!Object.values(ReadAloudIds).includes(r[o])){QLogger$1.invariant(Object.values(ReadAloudIds).includes(r[o]),`setReadAloudOrder: '${r[o]}' does not exist in registered ReadAloudIds`);return}t(MutationTypes.SET_READ_ALOUD_ORDER,n.order)}else QLogger$1.invariant("missing values in order","setReadAloudOrder: order should contains all values from registered ReadAloudIds")}}};function getInitialState(){return{hasTeacherDisabledInGame:!1,roomHash:"",isNewReactionsAnimationDisabled:!1}}const mutations={[MutationTypes.TOGGLE_LIVE_REACTIONS](e,t){e.hasTeacherDisabledInGame=t},[MutationTypes.PREVIOUS_CONTEXT_LOADED](e,t){const n=_.get(t,"liveReactions",{});isEmpty(n)||stateAssigner(e,n)},[MutationTypes.NEW_REACTION_ANIMATION_DISABLED](e,t){stateAssigner(e,{isNewReactionsAnimationDisabled:!0})}},actions={toggleLiveReactions({commit:e},t){e(MutationTypes.TOGGLE_LIVE_REACTIONS,t.reactionStopped)},updateNewReactionsVisibilityStatus({commit:e,dispatch:t},n){e(MutationTypes.NEW_REACTION_ANIMATION_DISABLED,n)}},liveReactions={state:getInitialState(),getters:{},mutations,actions},baseModules={applicationContext,routing,appSettings,rootReducer,overlay,user,game,groups,search,notification,preGameDetail,powerup,powerupEffect,googleOneTap,toasts,raiseHand,readAloud,liveReactions},baseActions=allBaseActions,getStatePlugin=e=>{e.getState=()=>e.state},undefinedCheckerPlugin=e=>{e.subscribe((t,n)=>{traverseAndCheckModuleTree(e._modules.root,"root",t)})};function traverseAndCheckModuleTree(e,t,n){const r=checkForUndefined(e.state,t);if(QLogger$1.invariant(!r.isUndef,`Error after mutation [${n.type}] in the module [${t}], state item [${r.key}] was set UNDEFINED.`),e._children){const o=_.keys(e._children);for(let s=0;s<o.length;s++){const a=o[s];traverseAndCheckModuleTree(e._children[a],a,n)}}}function checkForUndefined(e,t){if(_.isPlainObject(e)){const n=_.keys(e);for(let r=0;r<n.length;r++)if(e[n[r]]===void 0)return{isUndef:!0,key:n[r]}}else if(e===void 0)return{isUndef:!0,key:t};return{isUndef:!1,key:null}}const setBreadcrumbsForSentry=e=>{e.subscribe((t,n)=>{createBreadcrumbs(n,t,e.getters)})};function createBreadcrumbs(e,t,n){const{payload:r}=t;let o="";const s=MutationTypes;switch(t.type){case s.W_TOGGLE_MODAL:o=`type:${r.type}`;break;case s.CHANGE_CURRENT_PAGE:o=`curr:${r.to}`,configureScope(y=>{y.setExtra("CurrentPage",e.routing.currentPage),y.setTag("CurrentPage",e.routing.currentPage)});break;case s.S_JOIN_ROOM_RESPONDED:case s.REJOIN_GAME_RESPONDED:case s.JOIN_SOLO_GAME_RESPONDED:configureScope(y=>{y.setExtra("GameOptions",JSON.stringify(r.room.options))});const a=r.responses&&_.isNumber(r.responses.length)?r.responses.length:"nil";o=`Type:${r.room.type}-State:${r.room.state}-Answered:${a}-roomHash:${r.room.hash}-playerId:${r.player&&r.player.id}`;break;case s.ANSWERED_CURRENT_QUESTION:const u={ic:r.response.isCorrect,time:r.response.timeTaken,qAttempt:r.response.attempt,type:r.questionType,id:r.response.questionId};o=JSON.stringify(u);break;case s.PREVIOUS_CONTEXT_LOADED:isEmpty(r)?o="No Previous Context Found":isEmpty(r.currentPlayer)||r.currentPlayer.lastGamePlayed&&isEmpty(r.currentPlayer.lastGamePlayed);const l=_.get(t.payload,"applicationContext.deviceInfo.experimentSlot",null),m=_.get(t.payload,"applicationContext.deviceInfo.experimentName",null);configureScope(y=>{y.setExtra("experimentSlot",l),y.setExtra("experimentName",m),m!==null&&y.setTag("experimentName",m),y.setTag("sessionId",`${Cookie().get("quizizz_uid")}`)}),setParamsAtAppLoaded(e);break;case s.USER_SIGNED_IN:configureScope(y=>{y.setUser({id:`${t.payload.user.mongoId}`})});break;case s.SET_QUESTIONS:o=`Tot- ${Object.keys(r.questions).length}`;break;case s.PROCEED_GAME_RESPONDED_WITH_ERROR:o=JSON.stringify(r.response);break;case s.UPDATE_CALLS_IN_PROGRESS:o=`call:${r.callBeingUpdated}-type:${r.updationType}-total:${r.callsList.length}-time:${r.callDoneTime}-`;break;case s.UPDATE_INCOMPLETE_GAME:o=`isC:${r.isComplete}-lQId:${r.lastVisibleQuestionId}`;break;case s.FETCH_RUNNING_GAMES_LIST_RESPONDED:case s.FETCH_COMPLETED_GAMES_LIST_RESPONDED:o=`len:${r.items.length}-tot:${r.total}-size:${r.pageSize}-si:${r.startIndex}`;break;case s.SET_OVERLAY_TYPE:case s.TOGGLE_MODAL_TYPE:o=`type:${r.type}`;break;case s.PROCEED_GAME_RESPONDED:o=`fQInd:${r.forQues.id}-fQAttemptInd:${r.forQues.attemptIndex}`;break;case s.S_CHECK_ROOM_IN_PROGRESS:case s.S_CHECK_ASSIGNMENT_IN_PROGRESS:o=`source:${r.startSource}-code:${r.room&&r.room.code}`;break;case s.S_JOIN_ROOM_IN_PROGRESS:case s.REJOIN_GAME_IN_PROGRESS:case s.JOIN_SOLO_GAME_IN_PROGRESS:case s.PLAYER_JOINED_THE_GAME:case s.RESET_GAME:case s.EXIT_GAME:o=JSON.stringify(r);break;case s.COMPLETED_QUES_AUDIO_PREFETCH:o=`for:${r.forQuestionId}`;break;case s.COMPLETED_QUES_IMAGES_PREFETCH:o=`for:${r.forQuestionId}`;break;case s.CHANGE_REMAINING_QUESTIONS_ORDER:o=`qRem:${r.remainingOrder}`;break;case s.SET_CURRENT_QUESTION:configureScope(y=>{const d=n.isCurrentQuestionForRedemptionAttempt?`red:${n.currentQuestionNumber}`:`org:${n.currentQuestionNumber}`;y.setExtra("CurrentQuestionNum",d)})}o!==""&&addBreadcrumb({message:`${t.type}:- ${o}`})}function setParamsAtAppLoaded(e){const{appSettings:t,game:n}=e,r=_.get(n,"data.gameType");configureScope(o=>{o.setExtra("Language",`${t.selectedLanguage}`),o.setExtra("Theme",`${t.selectedTheme}`),o.setExtra("ReadAloud",`${t.readAloud}`),o.setExtra("ShowMemes",`${t.showMemes}`),o.setExtra("PlayMusic",`${t.playMusic}`),o.setExtra("PlaySFX",`${t.playSFX}`),o.setTag("gameType",r)})}const plugins=[getStatePlugin,setBreadcrumbsForSentry];if(QLogger$1.isVueDevToolsAllowed()){const e=createLogger({collapsed:!0,logger:console,filter(t,n,r){return t.type!==MutationTypes.UPDATE_TICKER}});plugins.push(e),plugins.push(undefinedCheckerPlugin)}const ACTION_TO_UPDATE_CALLS_IN_PROGRESS="updateCallInProgressStatus";class QStore{constructor(){const t=createStore({modules:baseModules,actions:baseActions,plugins,strict:Constants.NodeEnvs.PROD!=="production"}),n=getLoggerInitDetails(),r=returnAllModifiers(t);init(t.dispatch,ACTION_TO_UPDATE_CALLS_IN_PROGRESS,r.HTTP),SocketEventBus$1.init(t.dispatch,ACTION_TO_UPDATE_CALLS_IN_PROGRESS,r.SOCKET),GestureEducators$1.init(t.getState),InHouseEventLogger$1.setSessionId(n.sessionId),InHouseEventLogger$1.init(n.modelDetails,getEventsInBuffer,putEventsInBuffer,t.getState),RedemptionQuestionConfig.init(t),RedemptionQuizConfig.init(t),PowerupEffects$1.init(t),PowerupAPICreator$1.init(t),CurrentGameStats$1.init(t),ActivatePowerupSideEffects$1.init(t),StudentForumPrompter$1.init(t),MarketingCampaigns$1.init(t),GoogleOneTapService$1.init(t),this.store=t}get(){return this.store}}const $store=new QStore().get();function returnAllModifiers(e){const t=[requestLoopDetector(),authenticationHeaderModifier,expermentDataModifier],n=[handleNetworkObfuscation(ModuleNames.HTTP,NetworkCallTypes.RESPONSE)],r=[handleNetworkObfuscation(ModuleNames.HTTP,NetworkCallTypes.REQUEST),csrfRequestModifier],o=[],s=[],a=[handleNetworkObfuscation(ModuleNames.SOCKET,NetworkCallTypes.RESPONSE)],u=[handleNetworkObfuscation(ModuleNames.SOCKET,NetworkCallTypes.REQUEST)],l=[];return{HTTP:{request:constructModifiers(t,r,e),response:constructModifiers(n,o,e)},SOCKET:{request:constructModifiers(s,u,e),response:constructModifiers(a,l,e)}}}function constructModifiers(e=[],t=[],n){const r=[],o=_.concat([],e,t);for(let s=0;s<o.length;s++){const a=(...u)=>o[s](...u,n.getState());r.push(a)}return r}const currentValueProp="vLineClampValue";function defaultFallbackFunc(e,t,n){if(n){let r=parseInt(t.arg,10);_.isNaN(r)&&(QLogger$1.warn("line-height argument for vue-line-clamp must be a number (of pixels), falling back to 16px"),r=16);const o=r*n;e.style.maxHeight=o?`${o}px`:"",e.style.overflowX="hidden",e.style.lineHeight=`${r}px`}else e.style.maxHeight="",e.style.overflowX=""}const truncateText=function(e,t,n){const r=parseInt(t.value,10);if(_.isNaN(r)){QLogger$1.error("Parameter for vue-line-clamp must be a number");return}r!==e[currentValueProp]&&(e[currentValueProp]=r,n?n(e,t,r):e.style.webkitLineClamp=r||"")},lineClamp={install(e,t){t=Object.assign({importCss:!1,textOverflow:"ellipsis"},t);const n=`
      display: block;
      display: -webkit-box;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ${t.textOverflow};
    `;if(t.importCss){const o=window.document.styleSheets,s=`.vue-line-clamp{${n}}`;if(o&&o[0]&&o.insertRule)o.insertRule(s);else{const a=window.document.createElement("style");a.id="vue-line-clamp",a.appendChild(window.document.createTextNode(s)),window.document.head.appendChild(a)}}const r="webkitLineClamp"in document.body.style?void 0:t.fallbackFunc||defaultFallbackFunc;e.directive("line-clamp",{currentValue:0,beforeMount(o){t.importCss?o.classList.add("vue-line-clamp"):o.style.cssText+=n},mounted:(o,s)=>truncateText(o,s,r),updated:(o,s)=>truncateText(o,s,r)})}},clickOutside={install(e,t){e.directive("click-outside",{beforeMount(n,r,o){isDirectiveActive(r.value)&&attachEventListener(n,r,o)},unmounted(n){removeEventListener$1(n)},updated(n,r,o,s){if(r.value===r.oldValue)return;const a=isDirectiveActive(r.oldValue),u=isDirectiveActive(r.value);!a&&u?attachEventListener(n,r,o):a&&!u&&removeEventListener$1(n)}})}};function attachEventListener(e,t,n){if(_.isFunction(e.__vueClickOutside__))return;const r=_.isPlainObject(t.value)?t.value.callback:t.value,o=t.value.onlySingleUse===!0;if(typeof r!="function"){const l=n.context.name;let m=`[Vue-click-outside:] provided expression '${t.expression}' is not a function, but has to be`;l&&(m+=`Found in component '${l}'`),QLogger$1.error("Error at clickOutside Directive",m)}let s=0;const a=t.modifiers.bubble,u=l=>{(a||!e.contains(l.target)&&e!==l.target)&&(r(l),o&&(s+=1)),o&&s>=1&&removeEventListener$1(e)};e.__vueClickOutside__=u,document.addEventListener("click",u)}function removeEventListener$1(e,t="click"){document.removeEventListener(t,e.__vueClickOutside__),e.__vueClickOutside__=null}function isDirectiveActive(e){return(e&&e.isActive)!==!1}const KEYBOARD_ANCHOR_INPUT_ID="__anchor-input__",applicationMixin={data(){return{softKeyboard:{isRequired:!1,isVisible:!1,trigerringElement:null,openAnimationTime:-1,height:-1,hasDataBeenCaptured:!1,heightWithoutKeyboard:-1}}},provide(){return{softKeyboard:this.softKeyboard}},computed:{...mapStateToComputed$1()},created(){this.debouncedWindowResizeHandler=_.debounce(this.windowResizeHandler,100,{maxWait:500}),this.onFirstTouchWrapperInstance=this.onFirstTouch,this.lastActiveElement=null,this.currentActiveElement=document.activeElement,this.doesCurrentElementRequireKeyboardFocus=!1,this.addKeyboardCalculationAnchorInput()},mounted(){window.addEventListener("focus",this.onWindowFocus.bind(this)),window.addEventListener("blur",this.onWindowBlur.bind(this)),window.addEventListener("focus",this.onElementFocus.bind(this),!0),window.addEventListener("blur",this.onElementBlur.bind(this),!0),window.addEventListener("beforeunload",this.onWindowKilled.bind(this)),window.addEventListener("resize",this.debouncedWindowResizeHandler),window.addEventListener("touchstart",this.onFirstTouchWrapperInstance,{passive:!1})},watch:{media(e,t){!isEmpty(e)&&isEmpty(t)&&(this.softKeyboard.heightWithoutKeyboard=e.height)}},methods:{...mapActionsToMethods$1(),onWindowFocus(){this.handleAppStateChange({appStateToBe:Constants.AppStates.ACTIVE})},onWindowBlur(){this.handleAppStateChange({appStateToBe:Constants.AppStates.BACKGROUND})},async onElementFocus(){if(this.updateActiveElement(),!this.softKeyboard.isRequired||!this.doesCurrentElementRequireKeyboardFocus||(this.softKeyboard.isVisible=!0,this.softKeyboard.trigerringElement=this.currentActiveElement,this.softKeyboard.hasDataBeenCaptured||this.currentActiveElement.id!==KEYBOARD_ANCHOR_INPUT_ID))return;const e=await this.startKeyboardAnimationCapture();e.didTimeout||(this.softKeyboard.openAnimationTime=e.animationTime,this.softKeyboard.height=e.keyboardHeight,this.softKeyboard.hasDataBeenCaptured=!0)},async onElementBlur(){const e=this.doesCurrentElementRequireKeyboardFocus;this.updateActiveElement(),!(!this.softKeyboard.isRequired||!e)&&(this.softKeyboard.trigerringElement=null,this.softKeyboard.isVisible=!1)},onWindowKilled(e){const t=getQuesIdsForResponseStatus(this.answerResponseStatuses,[Constants.QuestionResponseStatuses.NOT_SENT,Constants.QuestionResponseStatuses.SENDING]);if(!(_.keys(t).length===0)&&this.isValidRoom&&!this.overlayType){this.toggleOverlay({type:`responseUnsynced|${Constants.SyncOverlayTypes.ON_EXIT}`});const r="Unsaved changes remain. Are you sure do you want continue?";return e.returnValue=r,r}this.handleAppStateChange({appStateToBe:Constants.AppStates.KILLED})},windowResizeHandler(){const e=this.media;this.setDeviceMedia(),!(this.softKeyboard.isRequired&&this.doesCurrentElementRequireKeyboardFocus&&e.width===this.media.width)&&(this.softKeyboard.heightWithoutKeyboard=this.media.height)},onFirstTouch(){this.setDeviceMedia({isFirstTouch:!0}),this.softKeyboard.isRequired=!0,window.removeEventListener("touchstart",this.onFirstTouchWrapperInstance,{passive:!1})},updateActiveElement(){this.lastActiveElement!==document.activeElement&&(this.lastActiveElement=this.currentActiveElement,this.currentActiveElement=document.activeElement,this.doesCurrentElementRequireKeyboardFocus=doesElementRequireKeyboardFocus(this.currentActiveElement))},startKeyboardAnimationCapture(){return new Promise((e,t)=>{const r=Date.now(),o=window.innerHeight,s=document.body.clientHeight,a=2;let u=0,l,m=-1,y=-1,d=window.innerHeight,f=document.body.clientHeight,v=0,A=-1;const I=()=>{const P=Math.abs(window.innerHeight-d),O=document.body.clientHeight-f,R=Date.now()-r>750;if(u+=1,d=window.innerHeight,f=document.body.clientHeight,v=Date.now()-r,R){cancelAnimationFrame(l),e({didTimeout:!0,animationTime:v,keyboardHeight:A});return}if((P!==0||O!==0)&&m===-1&&(m=u),m>=0&&m!==u&&P===0&&O===0&&(y===-1&&(y=u),u-y>=a)){const M=Math.abs(o-window.innerHeight),k=Math.abs(s-document.body.clientHeight);A=Math.max(M,k),e({animationTime:v,keyboardHeight:A}),cancelAnimationFrame(l);return}l=requestAnimationFrame(I)};l=requestAnimationFrame(I)})},addKeyboardCalculationAnchorInput(){const e=document.createElement("input");e.style.position="fixed",e.style.bottom="-10vh",e.style.width="10px",e.style.height="20px",e.style.left="50vw",e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),e.setAttribute("id",KEYBOARD_ANCHOR_INPUT_ID),document.body.appendChild(e)}}};function mapStateToComputed$1(){return mapState({answerResponseStatuses:e=>e.game.questions.questionResponseStatuses,isValidRoom:e=>e.game.flow.isValidRoom,overlayType:e=>e.overlay.type,media:e=>e.rootReducer.media})}function mapActionsToMethods$1(){return mapActions(["setDeviceMedia","toggleOverlay","handleAppStateChange"])}class YoutubeApiLoader{loadYoutubeApiScript(){try{const t=document.createElement("script"),n="https://www.youtube.com/iframe_api";t.src=n,t.async=!0,t.defer=!0;const r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}catch{console.log("Error at youtube service")}}}const YoutubeApiLoader$1=new YoutubeApiLoader;function onmessage(e){const t=$store.state.user.profile;!t&&!t.mongoId||e.data==="tick"&&(document.hidden||InHouseEventLogger$1.logSessionTackingEvent(WebEvents.SESSION_ACTIVE,{timeDuration:1,activityType:""}))}const createWorker=e=>{window.URL=window.URL||window.webkitURL;let t;try{t=new Blob([e],{type:"application/javascript"})}catch{window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,t=new window.BlobBuilder,t.append(e),t=t.getBlob()}return new Worker(window.URL.createObjectURL(t))},sessionWorkerCode=`
let timer;
self.onmessage = function (event) {
  switch (event.data) {
    case 'start':
      timer = setInterval(() => {
        self.postMessage('tick');
      }, 1000 * 60);
      break;
    case 'stop':
      clearInterval(timer);
      break;
    default:
  }
};
`,sessionWorker=createWorker(sessionWorkerCode),Overlay_vue_vue_type_style_index_0_scoped_59cba0f5_lang="",_sfc_main$b={__name:"Overlay",props:{targetId:{type:String,deafult:OverlayTargetIds.Root,validator:e=>Object.values(OverlayTargetIds).includes(e)},theme:{type:String,default:"dark",validator:e=>["dark"].includes(e)},transition:{type:String,default:"slide",validator:e=>["fade"].includes(e)},isDismissable:{type:Boolean,default:!1}},emits:{dismissOverlay:({source:e})=>["mask"].includes(e)},setup(e,{emit:t}){const n=e;function r(){n.isDismissable&&t("dismissOverlay",{source:"mask"})}return(o,s)=>(openBlock(),createBlock(Teleport,{to:`#${e.targetId}`},[createVNode(Transition,{name:e.transition,appear:""},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["overlay-container w-full h-full",[`p-th-${e.theme}`]])},[createBaseVNode("div",{class:"mask w-full h-full",onClick:r}),renderSlot(o.$slots,"default",{},void 0,!0)],2)]),_:3},8,["name"])],8,["to"]))}},Overlay=_export_sfc(_sfc_main$b,[["__scopeId","data-v-59cba0f5"]]),PowerupStealPointsBody_vue_vue_type_style_index_0_scoped_68f9ac21_lang="",_hoisted_1$4=["src"],_hoisted_2$3={class:"name"},_hoisted_3$2={class:"description"},_hoisted_4$1={class:"stolen-highlight"},_sfc_main$a={__name:"PowerupStealPointsBody",props:{overlay:{type:Object,required:!0,validator:e=>_.isString(e.name)&&_.isString(e.id)&&_.isPlainObject(e.data)}},setup(e,{expose:t}){const n=e,r=useUI(),o=inject("getTranslatedText"),s=computed(()=>n.overlay.data.applier),a=computed(()=>URLConfig.getBigMonsterURL(s.value.monsterId,Constants.DeviceType.TABLET)),u=computed(()=>s.value.playerId),l=computed(()=>{const v=PowerupsConfigManager$1.getConfig()[n.overlay.data.powerupName];return-1*Math.abs(v.scoreChange)});let m=Date.now();onMounted(()=>{useAutoClearingSetTimeout(y,5e3),Sound$1.playSFX(SoundNames.TRUMPET_LOOSER_SOUND),m=Date.now()});function y({source:f}={}){r.hideOverlay(n.overlay)}function d(){Date.now()-m>1e3&&y()}return t({dissmissOverlay:y}),(f,v)=>(openBlock(),createElementBlock("div",{class:"steal-points-body flex-view flex-column all-center w-full h-full",onClick:d},[createBaseVNode("img",{class:"image",src:unref(a),"aria-disabled":""},null,8,_hoisted_1$4),createBaseVNode("h3",_hoisted_2$3,toDisplayString(unref(u)),1),createBaseVNode("h6",_hoisted_3$2,[createTextVNode(toDisplayString(unref(o)("stole"))+" ",1),createBaseVNode("span",_hoisted_4$1,toDisplayString(unref(l)),1),createTextVNode(" "+toDisplayString(unref(o)("points from you"))+"! ",1)])]))}},PowerupStealPointsBody=_export_sfc(_sfc_main$a,[["__scopeId","data-v-68f9ac21"]]),SimpleHexagon_vue_vue_type_style_index_0_lang="",_sfc_main$9={name:"SimpleHexagon",props:{edgeLength:{type:Number,required:!0},color:{type:String,default:"#000"}},computed:{safeEdgeLength(){return Math.floor(this.edgeLength)},hexagonApothemLength(){return Math.floor(this.safeEdgeLength*(Math.sqrt(3)/2))},containerStyles(){return{width:`${2*this.hexagonApothemLength}px`,height:`${this.safeEdgeLength}px`,backgroundColor:this.color}},baseTriangleStyle(){const e=Math.floor(this.safeEdgeLength/2);return{borderLeftWidth:`${this.hexagonApothemLength}px`,borderRightWidth:`${this.hexagonApothemLength}px`,borderBottom:`${e}px solid ${this.color}`,top:`-${e}px`}},bottomTriangleStyle(){return[this.baseTriangleStyle,{top:`${this.safeEdgeLength}px`}]}}};function _sfc_render$2(e,t,n,r,o,s){return openBlock(),createElementBlock("div",{class:"simple-hexagon",style:normalizeStyle(s.containerStyles)},[createBaseVNode("div",{class:"hex-top-triangle",style:normalizeStyle(s.baseTriangleStyle)},null,4),createBaseVNode("div",{class:"hex-bottom-triangle",style:normalizeStyle(s.bottomTriangleStyle)},null,4),renderSlot(e.$slots,"default")],4)}const SimpleHexagon=_export_sfc(_sfc_main$9,[["render",_sfc_render$2]]),MysteryBoxStructure_vue_vue_type_style_index_0_scoped_d36b3c85_lang="",_withScopeId$1=e=>(pushScopeId("data-v-d36b3c85"),e=e(),popScopeId(),e),_hoisted_1$3={class:"box-content"},_hoisted_2$2=_withScopeId$1(()=>createBaseVNode("div",{class:"face-image"},null,-1)),_hoisted_3$1=[_hoisted_2$2],_sfc_main$8={__name:"MysteryBoxStructure",props:{edgeLength:{type:Number,required:!0},boxNumber:{type:[String,Number],required:!0,validator:e=>_.includes(["default",1,2,3],e)},isGlowVisible:{type:Boolean,default:!0},glowColor:{type:String,default:""},isHoveringOnMount:{type:Boolean,default:!1},faceType:{type:String,default:"textBoltSkull",validator:e=>["textBoltSkull","questionMark"].includes(e)}},setup(e,{expose:t}){const n=e,r=computed(()=>getBoxDetails(n.boxNumber)),o=computed(()=>{switch(n.boxNumber){case 1:return"aqua";case 2:return"orange";case 3:return"green";default:return"yellow"}}),s=computed(()=>n.edgeLength+16),a=computed(()=>isEmpty(n.glowColor)?r.value.glowColor:n.glowColor),u=computed(()=>{const P=(2*Math.sin(Math.PI/3)-1)*n.edgeLength;return{transform:`translate( -${Math.floor(P/2)+(16-4)}px, -8px )`}}),l=computed(()=>{const A=(2*Math.sin(Math.PI/3)-1)*n.edgeLength;return{transform:`translate( -${Math.floor(A/2)}px, 0px )`}}),m=computed(()=>({width:`${n.edgeLength}px`,height:`${n.edgeLength}px`}));function y(A){const I=n.edgeLength<60?2:4,P={border:`${I}px solid #000`};return A===1&&(P["border-bottom-width"]=`${I/2}px`,P["border-left-width"]=`${I/2}px`),A===2&&(P["border-top-width"]=`${I/2}px`,P["border-left-width"]=`${I/2}px`),A===3&&(P["border-top-width"]=`${I/2}px`,P["border-right-width"]=`${I/2}px`),P}const d=ref(!1),f=ref(!1);async function v(A){if(A==="hover"||A==="unhover"){d.value=A==="hover";return}f.value=A==="dissassemble",await asyncDelay(300+20)}return onMounted(()=>{n.isHoveringOnMount&&v("hover")}),t({doBoxAnimation:v}),(A,I)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["mystery-box-structure flex-view all-center",[unref(o),`face-type_${e.faceType}`,{"is-hovering":d.value,"is-disassembled":f.value}]]),style:normalizeStyle(unref(m))},[e.isGlowVisible?(openBlock(),createBlock(SimpleHexagon,{key:0,class:"glow-hex",color:unref(a),style:normalizeStyle(unref(u)),edgeLength:unref(s)},null,8,["color","style","edgeLength"])):createCommentVNode("",!0),createVNode(SimpleHexagon,{class:"shadow-hex",color:"#000",style:normalizeStyle(unref(l)),edgeLength:e.edgeLength},null,8,["style","edgeLength"]),createBaseVNode("div",_hoisted_1$3,[renderSlot(A.$slots,"default",{},void 0,!0)]),(openBlock(),createElementBlock(Fragment,null,renderList(3,P=>createBaseVNode("div",{key:`face_${P}`,class:normalizeClass(`face face_${P}`),style:normalizeStyle(y(P))},_hoisted_3$1,6)),64))],6))}},MysteryBoxStructure=_export_sfc(_sfc_main$8,[["__scopeId","data-v-d36b3c85"]]),PowerupOpenBoxBody_vue_vue_type_style_index_0_scoped_11cc6b79_lang="",_withScopeId=e=>(pushScopeId("data-v-11cc6b79"),e=e(),popScopeId(),e),_hoisted_1$2={class:"powerup-open-box flex-view flex-column all-center w-full h-full"},_hoisted_2$1={key:0,class:"mystery-box-screen flex-view flex-column all-center w-full h-full animated"},_hoisted_3={key:0,class:"gift-container flex-view flex-column all-center"},_hoisted_4=["src"],_hoisted_5={class:"name"},_hoisted_6={class:"description"},_hoisted_7={class:"highlight"},_hoisted_8={key:1},_hoisted_9={class:"box-title description"},_hoisted_10={class:"btns-container flex-view flex-row"},_hoisted_11={key:0,class:"oops-container flex-view flex-column all-center w-full h-full"},_hoisted_12=_withScopeId(()=>createBaseVNode("img",{class:"oops-image",src:"https://cf.quizizz.com/game/img/ui/oops-illustration.png","aria-label":"OOPS"},null,-1)),_hoisted_13={class:"description"},_sfc_main$7={__name:"PowerupOpenBoxBody",props:{overlay:{type:Object,required:!0,validator:e=>_.isString(e.name)&&_.isString(e.id)&&_.isPlainObject(e.data)}},setup(e,{expose:t}){const n=e,r=useUI(),o=inject("getTranslatedText"),s=useDeviceProps(),a=computed(()=>s.value.type===Constants.DeviceType.PHONE),u=computed(()=>n.overlay.data.boxType==="gift"),l=computed(()=>{const O=n.overlay.data.applier,M=PowerupsConfigManager$1.getConfig()[n.overlay.data.powerupName];return{imageUrl:URLConfig.getBigMonsterURL(O.monsterId,Constants.DeviceType.TABLET),name:O.playerId,giftPoints:`+${M.scoreChange}`}}),m=ref(!0),y=ref(!1),d=ref(!1),f=ref(null);let v=-1;onMounted(()=>{_.random(1,3)<=2&&(v=useAutoClearingSetTimeout(I,8e3)),Sound$1.playSFX(SoundNames.EXCITING_GIFT)});async function A(){v&&clearTimeout(v),await asyncDelay(150),f.value.doBoxAnimation("dissassemble"),y.value=!0,await asyncDelay(200),Sound$1.playSFX(SoundNames.MYSTERY_BOX_OPEN_POSITIVE,!0),await asyncDelay(5e3),P("openBtn")}async function I(){m.value=!1,d.value=!0,await asyncDelay(4500),P("skipBtn")}function P({source:O}={}){r.hideOverlay(n.overlay)}return t({dissmissOverlay:P}),(O,R)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode(Transition,{appear:"",enterActiveClass:"animated zoomIn mystery-box-screen-enter",leaveActiveClass:"animated fadeOut anim-100-duration"},{default:withCtx(()=>[m.value?(openBlock(),createElementBlock("div",_hoisted_2$1,[createVNode(MysteryBoxStructure,{ref_key:"mysteryBox",ref:f,edgeLength:unref(a)?102:132,boxNumber:2,isGlowVisible:!0,isHoveringOnMount:!0,faceType:"questionMark"},{default:withCtx(()=>[unref(u)?(openBlock(),createElementBlock("div",_hoisted_3,[createBaseVNode("img",{class:"image",src:unref(l).imageUrl,"aria-disabled":""},null,8,_hoisted_4),createBaseVNode("h3",_hoisted_5,toDisplayString(unref(l).name),1),createBaseVNode("h6",_hoisted_6,[createTextVNode(toDisplayString(unref(o)("gifted"))+" ",1),createBaseVNode("span",_hoisted_7,toDisplayString(unref(l).giftPoints),1),createTextVNode(" "+toDisplayString(unref(o)("points to you!"))+"! ",1)])])):(openBlock(),createElementBlock("div",_hoisted_8))]),_:1},8,["edgeLength"]),y.value?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("h4",_hoisted_9,toDisplayString(unref(o)("You have received a mystery box!")),1),createBaseVNode("div",_hoisted_10,[createBaseVNode("button",{class:"skip-btn strip-default-btn-style",type:"button",onClick:I},toDisplayString(unref(o)("Skip")),1),createBaseVNode("button",{class:"open-btn strip-default-btn-style",type:"button",onClick:A},toDisplayString(unref(o)("Open")),1)])],64))])):createCommentVNode("",!0)]),_:1}),createVNode(Transition,{appear:"",enterActiveClass:"animated fadeIn anim-300-duration",leaveActiveClass:"animated fadeOut anim-300-duration"},{default:withCtx(()=>[d.value?(openBlock(),createElementBlock("div",_hoisted_11,[createVNode(Transition,{enterActiveClass:"animated headShake anim-400-delay",appear:""},{default:withCtx(()=>[_hoisted_12]),_:1}),createBaseVNode("h6",_hoisted_13,toDisplayString(unref(o)("You missed out on extra points!")),1)])):createCommentVNode("",!0)]),_:1})]))}},PowerupOpenBoxBody=_export_sfc(_sfc_main$7,[["__scopeId","data-v-11cc6b79"]]),Overlays2_vue_vue_type_style_index_0_scoped_a8dbbcb9_lang="",_sfc_main$6={__name:"Overlays2",setup(e){const t=useUI(),n=ref({});function r(o,{source:s}){QLogger$1.invariant(_.has(n,o.id),`onOverlayDismiss: ref for overlay with id '${o.id}' and name '${o.name}' does not exist`);const a=n.value[o.id];QLogger$1.invariant(_.isFunction(a.dissmissOverlay),`onOverlayDismiss: Overlay body component mounted against id '${o.id}' and name '${o.name}' does not have 'dissmissOverlay' overlay exposed`),a.dissmissOverlay({source:s})}return(o,s)=>(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t).overlays,a=>(openBlock(),createBlock(Overlay,{key:a.id,targetId:a.targetId,theme:a.options.theme,transition:a.options.transition,isDismissable:a.options.isDissmissable,onDismissOverlay:u=>r(a)},{default:withCtx(()=>[a.name===unref(OverlayNames).POWERUP_STEAL_POINTS?(openBlock(),createBlock(PowerupStealPointsBody,{key:0,ref_for:!0,ref:u=>n.value[a.id]=u,overlay:a},null,8,["overlay"])):createCommentVNode("",!0),a.name===unref(OverlayNames).POWERUP_OPEN_BOX?(openBlock(),createBlock(PowerupOpenBoxBody,{key:1,ref_for:!0,ref:u=>n.value[a.id]=u,overlay:a},null,8,["overlay"])):createCommentVNode("",!0)]),_:2},1032,["targetId","theme","transition","isDismissable","onDismissOverlay"]))),128))}},Overlays2=_export_sfc(_sfc_main$6,[["__scopeId","data-v-a8dbbcb9"]]),RootBootstrapper_vue_vue_type_style_index_0_lang="",_hoisted_1$1={class:"root-bootstrapper-container"},_hoisted_2=["id"],__default__={name:"RootBootstrapper",components:{Loading},mixins:[applicationMixin],inject:["Constants"],provide(){return{getTranslatedText:this.getTranslatedTextWrapper,getTranslatedServerText}},computed:{...mapStateToComputed(),getTranslatedTextWrapper(){return(...e)=>(this.selectedLanguage,getTranslatedText(...e))}},created(){this.$nextTick().then(()=>{FontLoader$1.loadQuicksand(),YoutubeApiLoader$1.loadYoutubeApiScript()})},mounted(){sessionWorker.onmessage=onmessage,sessionWorker.postMessage("start")},unmounted(){sessionWorker.postMessage("stop")},methods:{...mapActionsToMethods()}};function mapStateToComputed(){return mapState({selectedLanguage:e=>e.appSettings.selectedLanguage})}function mapActionsToMethods(){return mapActions([])}const _sfc_main$5=Object.assign(__default__,{setup(e){return(t,n)=>{const r=resolveComponent("GlobalLoader"),o=resolveComponent("RouterView");return openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(r,{name:t.Constants.GlobalLoaderNames.ROUTE_NAVIGATION},{loader:withCtx(()=>[createVNode(Loading)]),_:1},8,["name"]),createVNode(o),createVNode(Overlays2),createBaseVNode("div",{id:unref(OverlayTargetIds).ROOT},null,8,_hoisted_2)])}}}),ThemedContentDiv_vue_vue_type_style_index_0_scoped_1f994144_lang="",_sfc_main$4={name:"ThemedContentDiv",props:{uiVariant:{type:String,default:"black",validator:e=>_.includes(["none","white","black","darkerBlack","lighterBlack","darkestBlack","mysticPeak"],e)}},computed:{currentAppTheme(){return this.$store.state.appSettings.selectedTheme},containerClasses(){return this.uiVariant==="none"?["themed"]:["themed",this.uiVariant]}}};function _sfc_render$1(e,t,n,r,o,s){return openBlock(),createElementBlock("div",{class:normalizeClass(s.containerClasses)},[renderSlot(e.$slots,"default",{},void 0,!0)],2)}const ThemedContentDiv=_export_sfc(_sfc_main$4,[["render",_sfc_render$1],["__scopeId","data-v-1f994144"]]),ThemedBackgroundDiv_vue_vue_type_style_index_0_scoped_22bdc2a9_lang="",_sfc_main$3={name:"ThemedBackgroundDiv",inject:["media"],props:{fixThemeTo:{type:String,default:"",validator:e=>isValidTheme(e)||e===""},applyOnlyBGColor:{type:Boolean,default:!1},assetType:{type:String,default:"auto",validator:e=>_.includes(["auto","1080p","720p","tabletPortrait","mobilePortrait","leaderboardPlayer"],e)},applyTheme:{type:Boolean,default:!0}},data(){return{ctx:null,canvas:null,flakes:[],angle:0}},computed:{...mapGettersToComputed(),currentAppTheme(){return this.$store.state.appSettings.selectedTheme},themeToShow(){return isEmpty(this.fixThemeTo)?this.currentAppTheme:this.fixThemeTo},containerClasses(){if(!this.applyTheme)return["no-theme-background"];const e=["themed-background",this.themeToShow];return this.applyOnlyBGColor&&e.push("only-bg-color"),e},containerStyles(){const e=doesThemeHaveBackgroundImage(this.themeToShow);return this.pauseFor>0||this.pauseCountdownCount>0?{backgroundImage:"none !important",backgroundColor:"black !important"}:!e||!this.applyTheme?null:{backgroundImage:`url("${this.themeImageUrl}")`}},themeImageUrl(){let e=this.assetType;return this.assetType==="auto"&&(e=this.calculateAssetType()),URLConfig.getThemeAssetsUrl(this.themeToShow,this.getThemeFileName(e))}},methods:{getThemeFileName(e=this.assetType){switch(e){case"1080p":case"720p":case"tabletPortrait":case"mobilePortrait":return`bg_image_${e}`;case"leaderboardPlayer":return"leaderboard_image";case"auto":default:return"bg_image"}},calculateAssetType(){let e=1080;switch(!isEmpty(window.screen)&&_.isNumber(window.screen.availWidth)&&(e=window.screen.height*window.devicePixelRatio),this.media.type){case Constants.DeviceType.PHONE:return"mobilePortrait";case Constants.DeviceType.DESKTOP:case Constants.DeviceType.TABLET:default:return e>720?"1080p":"720p"}}}};function mapGettersToComputed(){return mapGetters({pauseFor:"pauseFor",pauseCountdownCount:"pauseCountdownCount"})}function _sfc_render(e,t,n,r,o,s){return openBlock(),createElementBlock("div",{class:normalizeClass(s.containerClasses),style:normalizeStyle(s.containerStyles)},[renderSlot(e.$slots,"default",{},void 0,!0)],6)}const ThemedBackgroundDiv=_export_sfc(_sfc_main$3,[["render",_sfc_render],["__scopeId","data-v-22bdc2a9"]]),QLoader_vue_vue_type_style_index_0_scoped_152de0e9_lang="",_hoisted_1={class:"q-circle",viewBox:"25 25 50 50"},_sfc_main$2={__name:"QLoader",props:{size:{type:[Number,String],default:"12"},theme:{type:String,default:"",validator:e=>["","white","lilac","dark","red","fadedWhite"].includes(e)},isAnimating:{type:Boolean,default:!0}},setup(e){const t=e,n=ref(!1),r=ref({}),o=ref(null),s=ref(null),a=ref(null);function u(){if(!window.CSS||!window.CSS.supports||!window.CSS.supports("stroke","#FFFFFF")){n.value=!0,nextTick$1().then(()=>{const y=o.value.style.borderWidth;r.value={height:`${t.size-y}px `,width:`${t.size-y}px`}});return}const l=Math.ceil(Number(t.size)/5);try{s.value.setAttribute("style",`width: ${t.size}px; height: ${t.size}px`),a.value.setAttribute("style",`width: ${l}px; height: ${l}px`)}catch(m){QLogger$1.error("Error at QLoader mounted",m)}}return onMounted(()=>{u()}),watch(()=>t.size,()=>{u()}),(l,m)=>(openBlock(),createElementBlock("div",{ref_key:"loader",ref:s,class:normalizeClass(["q-loader",[{"original-loader":!n.value,animate:e.isAnimating}]])},[n.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"fallbackLoader",ref:o,class:normalizeClass(["q-fallback-loader",[e.theme]]),style:normalizeStyle(r.value)},null,6)):(openBlock(),createElementBlock(Fragment,{key:1},[(openBlock(),createElementBlock("svg",_hoisted_1,[createBaseVNode("circle",{class:normalizeClass(["q-path",[e.theme]]),cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"10","stroke-miterlimit":"0"},null,2)])),createBaseVNode("div",{ref_key:"dot",ref:a,class:normalizeClass(["q-dot",[e.theme]])},null,2)],64))],2))}},QLoader=_export_sfc(_sfc_main$2,[["__scopeId","data-v-152de0e9"]]);var MicrosoftTeams_min={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:commonjsGlobal,()=>(()=>{var n={302:(a,u,l)=>{u.formatArgs=function(y){if(y[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+y[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;y.splice(1,0,d,"color: inherit");let f=0,v=0;y[0].replace(/%[a-zA-Z%]/g,A=>{A!=="%%"&&(f++,A==="%c"&&(v=f))}),y.splice(v,0,d)},u.save=function(y){try{y?u.storage.setItem("debug",y):u.storage.removeItem("debug")}catch{}},u.load=function(){let y;try{y=u.storage.getItem("debug")}catch{}return!y&&typeof process<"u"&&"env"in process&&(y={CODEBUILD_LAST_EXIT:"0",CODEBUILD_VPC_AZ:"us-east-1a",MAVEN_OPTS:"-Dmaven.wagon.httpconnectionManager.maxPerRoute=2",CODEBUILD_START_TIME:"1683550054659",B_NOTIFICATION_BASE:"https://notif.quizizz.com",Q_BUILD_BUCKET:"quizizz-static-content",CODEBUILD_BMR_URL:"https://CODEBUILD_AGENT:3000",npm_config_user_agent:"npm/8.5.0 node/v16.14.2 linux x64 workspaces/false ci/aws-codebuild",Q_JS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",CODEBUILD_AGENT_ENDPOINT:"http://127.0.0.1:7831",CODEBUILD_SOURCE_VERSION:"1df0a832da4ee0fda46abb3bb154fd4528525045",NODE_VERSION:"16.14.2",HOSTNAME:"ip-10-192-20-20.ec2.internal",YARN_VERSION:"1.22.18",CODEBUILD_KMS_KEY_ID:"arn:aws:kms:us-east-1:399771530480:alias/aws/s3",CTS_LINK_LOCAL_ADDR:"169.254.170.3",CODEBUILD_BUILD_ID:"prod-join-v2:5510ff5d-4478-4a46-b8b5-0f257268e380",npm_node_execpath:"/usr/local/bin/node",SHLVL:"8",npm_config_noproxy:"",HOME:"/root",OLDPWD:"/codebuild/readonly",CODEBUILD_GOPATH:"/codebuild/output/src530479650",npm_package_json:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web/package.json",PYTHONUNBUFFERED:"1",CODEBUILD_CI:"true",CODEBUILD_RESOLVED_SOURCE_VERSION:"1df0a832da4ee0fda46abb3bb154fd4528525045",CODEBUILD_BUILD_NUMBER:"1715",CODEBUILD_BUILD_SUCCEEDING:"1",NODE_OPTIONS:"--max_old_space_size=5120",AWS_CONTAINER_CREDENTIALS_RELATIVE_URI:"/v2/credentials/c158c0ca-67f2-45ae-819b-68c4902fdd5b",version:"1df0a83_lheu8f69",CODEBUILD_BUILD_ARN:"arn:aws:codebuild:us-east-1:399771530480:build/prod-join-v2:5510ff5d-4478-4a46-b8b5-0f257268e380",npm_config_userconfig:"/root/.npmrc",npm_config_local_prefix:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web",AWS_EXECUTION_ENV:"AWS_ECS_EC2",CODEBUILD_ACTION_RUNNER_URL:"https://codefactory-us-east-1-prod-default-build-agent-executor.s3.amazonaws.com/cawsrunner.zip",COLOR:"0",CODEBUILD_INITIATOR:"infra-service/4eb751d3418b442ca5192a9d610ff54c",npm_config_metrics_registry:"https://registry.npmjs.org/",ECS_AGENT_URI:"http://169.254.170.2/api/dbf6e2dd-fc38-4ef1-8c6b-b7ca109fea89",B_REQUEST:"https://quizizz.com/_api/main",AWS_DEFAULT_REGION:"us-east-1",_:"/usr/local/bin/npm",npm_config_prefix:"/usr/local",B_GAME:"https://game.quizizz.com",image_repository:"399771530480.dkr.ecr.us-east-1.amazonaws.com",componentType:"join",B_BASE:"https://quizizz.com",ECS_CONTAINER_METADATA_URI_V4:"http://169.254.170.2/v4/dbf6e2dd-fc38-4ef1-8c6b-b7ca109fea89",npm_config_cache:"/root/.npm",Q_BUILD_META_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts/buildMeta",ECS_CONTAINER_METADATA_URI:"http://169.254.170.2/v3/dbf6e2dd-fc38-4ef1-8c6b-b7ca109fea89",CODEBUILD_EXECUTION_ROLE_BUILD:"true",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/node_modules/.bin:/codebuild/output/src530479650/src/node_modules/.bin:/codebuild/output/src530479650/node_modules/.bin:/codebuild/output/node_modules/.bin:/codebuild/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/node_modules/.bin:/codebuild/output/src530479650/src/node_modules/.bin:/codebuild/output/src530479650/node_modules/.bin:/codebuild/output/node_modules/.bin:/codebuild/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/node_modules/.bin:/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/node_modules/.bin:/codebuild/output/src530479650/src/node_modules/.bin:/codebuild/output/src530479650/node_modules/.bin:/codebuild/output/node_modules/.bin:/codebuild/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/root/.local/bin:/google-cloud-sdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/codebuild/user/bin",FE_REPORT_LINK_LOCAL_ADDR:"169.254.170.8",NODE:"/usr/local/bin/node",npm_package_name:"quizizz_game_web",CODEBUILD_LOG_PATH:"5510ff5d-4478-4a46-b8b5-0f257268e380",CODEBUILD_BUILD_IMAGE:"399771530480.dkr.ecr.us-east-1.amazonaws.com/build-join:v2",componentName:"main",CODEBUILD_SOURCE_REPO_URL:"https://git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web",B_ANALYTICS:"https://analytics.quizizz.com",npm_lifecycle_script:"vite build",commitId:"1df0a832da4ee0fda46abb3bb154fd4528525045",GOPATH:"/codebuild/output/src530479650",npm_package_version:"4.0.0",npm_lifecycle_event:"build-only",B_MAIN:"https://quizizz.com",CODEBUILD_SRC_DIR:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web",AWS_REGION:"us-east-1",CODEBUILD_BUILD_URL:"https://us-east-1.console.aws.amazon.com/codebuild/home?region=us-east-1#/builds/prod-join-v2:5510ff5d-4478-4a46-b8b5-0f257268e380/view/new",B_GAME_SOCKET_PATH:"/_gsocket/sockUpg",CODEBUILD_PROJECT_UUID:"bd3d1695-46ea-41cc-be26-ff64bf794fbf",CODEBUILD_AUTH_TOKEN:"f0decfd1-f23f-46a6-b0a4-e018b4a0fc3c",CODEBUILD_CONTAINER_NAME:"default",npm_config_globalconfig:"/usr/local/etc/npmrc",npm_config_init_module:"/root/.npm-init.js",PWD:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",env:"prod",deploymentLevel:"live",CLOUD_SDK_VERSION:"256.0.0",CODEBUILD_FE_REPORT_ENDPOINT:"https://codebuild.us-east-1.amazonaws.com/",npm_config_global_prefix:"/usr/local",Q_TRANSLATIONS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/translations",npm_command:"run-script",B_SOCKET:"https://socket.quizizz.com",B_APIS:"main",NODE_ENV:"production",INIT_CWD:"/codebuild/output/src530479650/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/quizizz_game_v3_web",EDITOR:"vi",BACKEND_ENV:"prod",ARE_TRANSLATIONS_REQUIRED:"true",SHELL_LOGS_ALLOWED:"true",IS_BUNDLE_UPLOADING_PROCEDURE:"false",STRIPE_PUBLIC_KEY:"pk_live_FwrYQJLoT8QEcGoiPtO8TvJH",SENTRY_ORG:"quizizz",SENTRY_PROJECT:"game-web",SENTRY_AUTH_TOKEN:"7b48e89e2b864f2cae36780ca55a7b8f973c46dab3754b11bb6805c9e60e5c92",SENTRY_URL:"https://sentry.io/",SENTRY_LOG_LEVEL:"debug",SENTRY_VCS_REMOTE:"bitbucket",IS_BUNDLE_GENERATION_PROCEDURE:"false",SENTRY_DSN:"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987",Q_CSS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_USER_NODE_ENV:"production"}.DEBUG),y},u.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},u.storage=function(){try{return localStorage}catch{}}(),u.destroy=(()=>{let y=!1;return()=>{y||(y=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],u.log=console.debug||console.log||(()=>{}),a.exports=l(65)(u);const{formatters:m}=a.exports;m.j=function(y){try{return JSON.stringify(y)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}},65:(a,u,l)=>{a.exports=function(m){function y(v){let A,I,P,O=null;function R(...M){if(!R.enabled)return;const k=R,U=Number(new Date),Q=U-(A||U);k.diff=Q,k.prev=A,k.curr=U,A=U,M[0]=y.coerce(M[0]),typeof M[0]!="string"&&M.unshift("%O");let B=0;M[0]=M[0].replace(/%([a-zA-Z%])/g,(W,Z)=>{if(W==="%%")return"%";B++;const j=y.formatters[Z];if(typeof j=="function"){const J=M[B];W=j.call(k,J),M.splice(B,1),B--}return W}),y.formatArgs.call(k,M),(k.log||y.log).apply(k,M)}return R.namespace=v,R.useColors=y.useColors(),R.color=y.selectColor(v),R.extend=d,R.destroy=y.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:()=>O!==null?O:(I!==y.namespaces&&(I=y.namespaces,P=y.enabled(v)),P),set:M=>{O=M}}),typeof y.init=="function"&&y.init(R),R}function d(v,A){const I=y(this.namespace+(A===void 0?":":A)+v);return I.log=this.log,I}function f(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}return y.debug=y,y.default=y,y.coerce=function(v){return v instanceof Error?v.stack||v.message:v},y.disable=function(){const v=[...y.names.map(f),...y.skips.map(f).map(A=>"-"+A)].join(",");return y.enable(""),v},y.enable=function(v){let A;y.save(v),y.namespaces=v,y.names=[],y.skips=[];const I=(typeof v=="string"?v:"").split(/[\s,]+/),P=I.length;for(A=0;A<P;A++)I[A]&&((v=I[A].replace(/\*/g,".*?"))[0]==="-"?y.skips.push(new RegExp("^"+v.slice(1)+"$")):y.names.push(new RegExp("^"+v+"$")))},y.enabled=function(v){if(v[v.length-1]==="*")return!0;let A,I;for(A=0,I=y.skips.length;A<I;A++)if(y.skips[A].test(v))return!1;for(A=0,I=y.names.length;A<I;A++)if(y.names[A].test(v))return!0;return!1},y.humanize=l(247),y.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(m).forEach(v=>{y[v]=m[v]}),y.names=[],y.skips=[],y.formatters={},y.selectColor=function(v){let A=0;for(let I=0;I<v.length;I++)A=(A<<5)-A+v.charCodeAt(I),A|=0;return y.colors[Math.abs(A)%y.colors.length]},y.enable(y.load()),y}},247:a=>{var u=1e3,l=60*u,m=60*l,y=24*m,d=7*y,f=365.25*y;function v(O){if(!((O=String(O)).length>100)){var R=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(O);if(R){var M=parseFloat(R[1]);switch((R[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return M*f;case"weeks":case"week":case"w":return M*d;case"days":case"day":case"d":return M*y;case"hours":case"hour":case"hrs":case"hr":case"h":return M*m;case"minutes":case"minute":case"mins":case"min":case"m":return M*l;case"seconds":case"second":case"secs":case"sec":case"s":return M*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return M;default:return}}}}function A(O){var R=Math.abs(O);return R>=y?Math.round(O/y)+"d":R>=m?Math.round(O/m)+"h":R>=l?Math.round(O/l)+"m":R>=u?Math.round(O/u)+"s":O+"ms"}function I(O){var R=Math.abs(O);return R>=y?P(O,R,y,"day"):R>=m?P(O,R,m,"hour"):R>=l?P(O,R,l,"minute"):R>=u?P(O,R,u,"second"):O+" ms"}function P(O,R,M,k){var U=R>=1.5*M;return Math.round(O/M)+" "+k+(U?"s":"")}a.exports=function(O,R){R=R||{};var M=typeof O;if(M==="string"&&O.length>0)return v(O);if(M==="number"&&isFinite(O))return R.long?I(O):A(O);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(O))}}},r={};function o(a){var u=r[a];if(u!==void 0)return u.exports;var l=r[a]={exports:{}};return n[a](l,l.exports,o),l.exports}o.d=(a,u)=>{for(var l in u)o.o(u,l)&&!o.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:u[l]})},o.o=(a,u)=>Object.prototype.hasOwnProperty.call(a,u),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var s={};return(()=>{o.r(s),o.d(s,{ActionObjectType:()=>Ge,ChannelType:()=>ze,ChildAppWindow:()=>is,ContainerState:()=>ie,DialogDimension:()=>Me,ErrorCode:()=>me,FileOpenPreference:()=>Le,FrameContexts:()=>G,HostClientType:()=>le,HostName:()=>De,LiveShareHost:()=>Fa,NotificationTypes:()=>$r,ParentAppWindow:()=>va,SecondaryM365ContentIdName:()=>rt,TaskModuleDimension:()=>je,TeamType:()=>Ee,UserMeetingRole:()=>Bn,UserSettingTypes:()=>ho,UserTeamRole:()=>Fe,ViewerActionTypes:()=>Hr,app:()=>Vt,appEntity:()=>Ot,appInitialization:()=>Ar,appInstallDialog:()=>yo,authentication:()=>Lr,barCode:()=>Vr,calendar:()=>lr,call:()=>vr,chat:()=>Qr,conversations:()=>qr,dialog:()=>bn,enablePrintCapability:()=>cs,executeDeepLink:()=>dr,files:()=>_e,geoLocation:()=>Wr,getAdaptiveCardSchemaVersion:()=>Sa,getContext:()=>ba,getMruTabInstances:()=>Na,getTabInstances:()=>wa,initialize:()=>ls,initializeWithFrameContext:()=>ms,isSupported:()=>Kt,location:()=>yr,logs:()=>Dn,mail:()=>Fn,media:()=>wn,meeting:()=>Io,meetingRoom:()=>qe,menus:()=>_r,monetization:()=>jr,navigateBack:()=>xa,navigateCrossDomain:()=>ka,navigateToTab:()=>La,notifications:()=>nt,openFilePreview:()=>ca,pages:()=>Rt,people:()=>Ro,print:()=>Aa,profile:()=>Kr,registerAppButtonClickHandler:()=>Ra,registerAppButtonHoverEnterHandler:()=>cr,registerAppButtonHoverLeaveHandler:()=>Da,registerBackButtonHandler:()=>Oa,registerBeforeUnloadHandler:()=>ds,registerChangeSettingsHandler:()=>Xr,registerCustomHandler:()=>Eo,registerFocusEnterHandler:()=>Gn,registerFullScreenHandler:()=>Ia,registerOnLoadHandler:()=>No,registerOnThemeChangeHandler:()=>Ca,registerUserSettingsChangeHandler:()=>la,remoteCamera:()=>Et,returnFocus:()=>Ma,search:()=>Tr,sendCustomEvent:()=>ua,sendCustomMessage:()=>ia,setFrameContext:()=>dn,settings:()=>Oo,shareDeepLink:()=>Pa,sharing:()=>Sr,stageView:()=>Jr,tasks:()=>Po,teams:()=>Tt,teamsCore:()=>Cn,uploadCustomApp:()=>aa,version:()=>kr,video:()=>Yn,videoEx:()=>Cr,webStorage:()=>Do});var a="2.0.1",u="2.0.2",l="2.0.3",m="2.0.4",y="2.0.1",d="1.9.0",f="2.0.0",v="1.7.0",A="1.8.0",I="1.9.0",P=["teams.microsoft.com","teams.microsoft.us","gov.teams.microsoft.us","dod.teams.microsoft.us","int.teams.microsoft.com","teams.live.com","devspaces.skype.com","ssauth.skype.com","local.teams.live.com","local.teams.live.com:8080","local.teams.office.com","local.teams.office.com:8080","outlook.office.com","outlook-sdf.office.com","outlook.office365.com","outlook-sdf.office365.com","outlook.live.com","outlook-sdf.live.com","*.teams.microsoft.com","*.www.office.com","www.office.com","word.office.com","excel.office.com","powerpoint.office.com","www.officeppe.com","*.www.microsoft365.com","www.microsoft365.com"],O=/^https:\/\//,R="https",M="teams.microsoft.com",k="The library has not yet been initialized",U="The runtime has not yet been initialized",Q="The runtime version is not supported",B=function(){function C(){}return C.initializeCalled=!1,C.initializeCompleted=!1,C.additionalValidOrigins=[],C.isFramelessWindow=!1,C.printCapabilityEnabled=!1,C}(),W=(0,o(302).debug)("teamsJs");function Z(C){return W.extend(C)}const j={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let J;const ee=new Uint8Array(16);function ae(){if(!J&&(J=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!J))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return J(ee)}const ne=[];for(let C=0;C<256;++C)ne.push((C+256).toString(16).slice(1));function fe(C,L=0){return(ne[C[L+0]]+ne[C[L+1]]+ne[C[L+2]]+ne[C[L+3]]+"-"+ne[C[L+4]]+ne[C[L+5]]+"-"+ne[C[L+6]]+ne[C[L+7]]+"-"+ne[C[L+8]]+ne[C[L+9]]+"-"+ne[C[L+10]]+ne[C[L+11]]+ne[C[L+12]]+ne[C[L+13]]+ne[C[L+14]]+ne[C[L+15]]).toLowerCase()}const ge=function(C,L,N){if(j.randomUUID&&!L&&!C)return j.randomUUID();const x=(C=C||{}).random||(C.rng||ae)();if(x[6]=15&x[6]|64,x[8]=63&x[8]|128,L){N=N||0;for(let $=0;$<16;++$)L[N+$]=x[$];return L}return fe(x)};var Le,Ge,rt,me,pe,le,De,G,Ee,Fe,Me;(function(C){C.Inline="inline",C.Desktop="desktop",C.Web="web"})(Le||(Le={})),function(C){C.M365Content="m365content"}(Ge||(Ge={})),function(C){C.DriveId="driveId",C.GroupId="groupId",C.SiteId="siteId",C.UserId="userId"}(rt||(rt={})),function(C){C[C.NOT_SUPPORTED_ON_PLATFORM=100]="NOT_SUPPORTED_ON_PLATFORM",C[C.INTERNAL_ERROR=500]="INTERNAL_ERROR",C[C.NOT_SUPPORTED_IN_CURRENT_CONTEXT=501]="NOT_SUPPORTED_IN_CURRENT_CONTEXT",C[C.PERMISSION_DENIED=1e3]="PERMISSION_DENIED",C[C.NETWORK_ERROR=2e3]="NETWORK_ERROR",C[C.NO_HW_SUPPORT=3e3]="NO_HW_SUPPORT",C[C.INVALID_ARGUMENTS=4e3]="INVALID_ARGUMENTS",C[C.UNAUTHORIZED_USER_OPERATION=5e3]="UNAUTHORIZED_USER_OPERATION",C[C.INSUFFICIENT_RESOURCES=6e3]="INSUFFICIENT_RESOURCES",C[C.THROTTLE=7e3]="THROTTLE",C[C.USER_ABORT=8e3]="USER_ABORT",C[C.OPERATION_TIMED_OUT=8001]="OPERATION_TIMED_OUT",C[C.OLD_PLATFORM=9e3]="OLD_PLATFORM",C[C.FILE_NOT_FOUND=404]="FILE_NOT_FOUND",C[C.SIZE_EXCEEDED=1e4]="SIZE_EXCEEDED"}(me||(me={})),function(C){C.GeoLocation="geolocation",C.Media="media"}(pe||(pe={})),function(C){C.desktop="desktop",C.web="web",C.android="android",C.ios="ios",C.ipados="ipados",C.rigel="rigel",C.surfaceHub="surfaceHub",C.teamsRoomsWindows="teamsRoomsWindows",C.teamsRoomsAndroid="teamsRoomsAndroid",C.teamsPhones="teamsPhones",C.teamsDisplays="teamsDisplays"}(le||(le={})),function(C){C.office="Office",C.outlook="Outlook",C.outlookWin32="OutlookWin32",C.orange="Orange",C.teams="Teams",C.teamsModern="TeamsModern"}(De||(De={})),function(C){C.settings="settings",C.content="content",C.authentication="authentication",C.remove="remove",C.task="task",C.sidePanel="sidePanel",C.stage="stage",C.meetingStage="meetingStage"}(G||(G={})),function(C){C[C.Standard=0]="Standard",C[C.Edu=1]="Edu",C[C.Class=2]="Class",C[C.Plc=3]="Plc",C[C.Staff=4]="Staff"}(Ee||(Ee={})),function(C){C[C.Admin=0]="Admin",C[C.User=1]="User",C[C.Guest=2]="Guest"}(Fe||(Fe={})),function(C){C.Large="large",C.Medium="medium",C.Small="small"}(Me||(Me={}));var ze,je=Me;(function(C){C.Regular="Regular",C.Private="Private",C.Shared="Shared"})(ze||(ze={}));var Te={errorCode:me.NOT_SUPPORTED_ON_PLATFORM},Ke={majorVersion:1,minorVersion:5};function Y(C,L){if(C.substring(0,2)==="*."){var N=C.substring(1);if(L.length>N.length&&L.split(".").length===N.split(".").length&&L.substring(L.length-N.length)===N)return!0}else if(C===L)return!0;return!1}function te(C){if(C.protocol!=="https:")return!1;var L=C.host;if(P.some(function(q){return Y(q,L)}))return!0;for(var N=0,x=B.additionalValidOrigins;N<x.length;N++){var $=x[N];if(Y($.substring(0,8)==="https://"?$.substring(8):$,L))return!0}return!1}function de(C){return function(L,N){if(!L)throw new Error(C||N)}}function ye(C,L){if(typeof C!="string"||typeof L!="string")return NaN;var N=C.split("."),x=L.split(".");function $(K){return/^\d+$/.test(K)}if(!N.every($)||!x.every($))return NaN;for(;N.length<x.length;)N.push("0");for(;x.length<N.length;)x.push("0");for(var q=0;q<N.length;++q)if(Number(N[q])!=Number(x[q]))return Number(N[q])>Number(x[q])?1:-1;return 0}function Ae(){return ge()}function we(C){return Object.keys(C).forEach(function(L){typeof C[L]=="object"&&we(C[L])}),Object.freeze(C)}function Be(C,L){for(var N=[],x=2;x<arguments.length;x++)N[x-2]=arguments[x];var $=C.apply(void 0,N);return $.then(function(q){L&&L(void 0,q)}).catch(function(q){L&&L(q)}),$}function ke(C,L){for(var N=[],x=2;x<arguments.length;x++)N[x-2]=arguments[x];var $=C.apply(void 0,N);return $.then(function(){L&&L(null)}).catch(function(q){L&&L(q)}),$}function Se(C,L){for(var N=[],x=2;x<arguments.length;x++)N[x-2]=arguments[x];var $=C.apply(void 0,N);return $.then(function(q){L&&L(null,q)}).catch(function(q){L&&L(q,null)}),$}function he(C,L,N){return new Promise(function(x,$){var q=setTimeout($,L,N);C().then(function(K){clearTimeout(q),x(K)}).catch(function(K){clearTimeout(q),$(K)})})}function xe(C){var L=new URL("https://teams.microsoft.com/l/entity/"+encodeURIComponent(C.appId)+"/"+encodeURIComponent(C.pageId));return C.webUrl&&L.searchParams.append("webUrl",C.webUrl),(C.channelId||C.subPageId)&&L.searchParams.append("context",JSON.stringify({channelId:C.channelId,subEntityId:C.subPageId})),L.toString()}function He(C){return!(ye("".concat(C.majorVersion,".").concat(C.minorVersion),"".concat(Ke.majorVersion,".").concat(Ke.minorVersion))>=0)}var Ve=function(){return Ve=Object.assign||function(C){for(var L,N=1,x=arguments.length;N<x;N++)for(var $ in L=arguments[N])Object.prototype.hasOwnProperty.call(L,$)&&(C[$]=L[$]);return C},Ve.apply(this,arguments)},Je=Z("runtime"),at=2;function _t(C){return C.apiVersion===at}var dt={apiVersion:-1,supports:{}};function It(C){if(_t(C))return!0;throw C.apiVersion===-1?new Error(U):new Error(Q)}var V=dt,gn={apiVersion:2,hostVersionsInfo:void 0,isLegacyTeams:!0,supports:{appInstallDialog:{},appEntity:{},call:{},chat:{},conversations:{},dialog:{url:{bot:{}},update:{}},interactive:{},logs:{},meetingRoom:{},menus:{},monetization:{},notifications:{},pages:{appButton:{},tabs:{},config:{},backStack:{},fullTrust:{}},remoteCamera:{},stageView:{},teams:{fullTrust:{}},teamsCore:{},video:{}}},Qn=[le.desktop,le.web,le.android,le.ios,le.rigel,le.surfaceHub,le.teamsRoomsWindows,le.teamsRoomsAndroid,le.teamsPhones,le.teamsDisplays];function An(C){var L=C;if(L.apiVersion<at&&or.forEach(function(N){L.apiVersion===N.versionToUpgradeFrom&&(L=N.upgradeToNextVersion(L))}),_t(L))return L;throw new Error("Received a runtime that could not be upgraded to the latest version")}var or=[{versionToUpgradeFrom:1,upgradeToNextVersion:function(C){var L;return{apiVersion:2,hostVersionsInfo:void 0,isLegacyTeams:C.isLegacyTeams,supports:Ve(Ve({},C.supports),{dialog:C.supports.dialog?{card:void 0,url:C.supports.dialog,update:(L=C.supports.dialog)===null||L===void 0?void 0:L.update}:void 0})}}}],kt={"1.9.0":[{capability:{location:{}},hostClientTypes:Qn}],"2.0.0":[{capability:{people:{}},hostClientTypes:Qn},{capability:{sharing:{}},hostClientTypes:[le.desktop,le.web]}],"2.0.1":[{capability:{teams:{fullTrust:{joinedTeams:{}}}},hostClientTypes:[le.android,le.desktop,le.ios,le.teamsRoomsAndroid,le.teamsPhones,le.teamsDisplays,le.web]},{capability:{webStorage:{}},hostClientTypes:[le.desktop]}],"2.0.5":[{capability:{webStorage:{}},hostClientTypes:[le.android,le.desktop,le.ios]}]},Ut=Je.extend("generateBackCompatRuntimeConfig");function ar(C){Ut("generating back compat runtime config for %s",C);var L=Ve({},gn.supports);Ut("Supported capabilities in config before updating based on highestSupportedVersion: %o",L),Object.keys(kt).forEach(function(x){ye(C,x)>=0&&kt[x].forEach(function($){$.hostClientTypes.includes(B.hostClientType)&&(L=Ve(Ve({},L),$.capability))})});var N={apiVersion:2,isLegacyTeams:!0,supports:L};return Ut("Runtime config after updating based on highestSupportedVersion: %o",N),N}var uo=Je.extend("applyRuntimeConfig");function lo(C){typeof C.apiVersion=="string"&&(uo("Trying to apply runtime with string apiVersion, processing as v1: %o",C),C=Ve(Ve({},C),{apiVersion:1})),uo("Fast-forwarding runtime %o",C);var L=An(C);uo("Applying runtime %o",L),V=we(L)}var Lr,bn,_r,Cn,Vt,Rt,kr="2.11.0",co=Z("internal"),$s=co.extend("ensureInitializeCalled"),Hs=co.extend("ensureInitialized");function In(){if(!B.initializeCalled)throw $s(k),new Error(k)}function oe(C){for(var L=[],N=1;N<arguments.length;N++)L[N-1]=arguments[N];if(!B.initializeCompleted)throw Hs("%s. initializeCalled: %s",k,B.initializeCalled.toString()),new Error(k);if(L&&L.length>0){for(var x=!1,$=0;$<L.length;$++)if(L[$]===B.frameContext){x=!0;break}if(!x)throw new Error("This call is only allowed in following contexts: ".concat(JSON.stringify(L),". ")+'Current context: "'.concat(B.frameContext,'".'))}return It(C)}function cn(C){C===void 0&&(C=a);var L=ye(B.clientSupportedSDKVersion,C);return!isNaN(L)&&L>=0}function mo(){return B.hostClientType==le.android||B.hostClientType==le.ios||B.hostClientType==le.ipados}function xr(C){if(C===void 0&&(C=a),!mo())throw{errorCode:me.NOT_SUPPORTED_ON_PLATFORM};if(!cn(C))throw{errorCode:me.OLD_PLATFORM}}function qs(C){var L=B.additionalValidOrigins.concat(C.filter(function(x){return typeof x=="string"&&O.test(x)})),N={};L=L.filter(function(x){return!N[x]&&(N[x]=!0,!0)}),B.additionalValidOrigins=L}function Vs(C){return{actionInfo:C.actionInfo,app:{locale:C.locale,sessionId:C.appSessionId?C.appSessionId:"",theme:C.theme?C.theme:"default",iconPositionVertical:C.appIconPosition,osLocaleInfo:C.osLocaleInfo,parentMessageId:C.parentMessageId,userClickTime:C.userClickTime,userFileOpenPreference:C.userFileOpenPreference,host:{name:C.hostName?C.hostName:De.teams,clientType:C.hostClientType?C.hostClientType:le.web,sessionId:C.sessionId?C.sessionId:"",ringId:C.ringId},appLaunchId:C.appLaunchId},page:{id:C.entityId,frameContext:C.frameContext?C.frameContext:B.frameContext,subPageId:C.subEntityId,isFullScreen:C.isFullScreen,isMultiWindow:C.isMultiWindow,sourceOrigin:C.sourceOrigin},user:{id:C.userObjectId,displayName:C.userDisplayName,isCallingAllowed:C.isCallingAllowed,isPSTNCallingAllowed:C.isPSTNCallingAllowed,licenseType:C.userLicenseType,loginHint:C.loginHint,userPrincipalName:C.userPrincipalName,tenant:C.tid?{id:C.tid,teamsSku:C.tenantSKU}:void 0},channel:C.channelId?{id:C.channelId,displayName:C.channelName,relativeUrl:C.channelRelativeUrl,membershipType:C.channelType,defaultOneNoteSectionId:C.defaultOneNoteSectionId,ownerGroupId:C.hostTeamGroupId,ownerTenantId:C.hostTeamTenantId}:void 0,chat:C.chatId?{id:C.chatId}:void 0,meeting:C.meetingId?{id:C.meetingId}:void 0,sharepoint:C.sharepoint,team:C.teamId?{internalId:C.teamId,displayName:C.teamName,type:C.teamType,groupId:C.groupId,templateId:C.teamTemplateId,isArchived:C.isTeamArchived,userRole:C.userTeamRole}:void 0,sharePointSite:C.teamSiteUrl||C.teamSiteDomain||C.teamSitePath||C.mySitePath||C.mySiteDomain?{teamSiteUrl:C.teamSiteUrl,teamSiteDomain:C.teamSiteDomain,teamSitePath:C.teamSitePath,teamSiteId:C.teamSiteId,mySitePath:C.mySitePath,mySiteDomain:C.mySiteDomain}:void 0}}function Qs(){return typeof window>"u"}(function(C){var L,N,x;function $(Ue){return new Promise(function(tt,St){if(B.hostClientType===le.desktop||B.hostClientType===le.android||B.hostClientType===le.ios||B.hostClientType===le.ipados||B.hostClientType===le.rigel||B.hostClientType===le.teamsRoomsWindows||B.hostClientType===le.teamsRoomsAndroid||B.hostClientType===le.teamsPhones||B.hostClientType===le.teamsDisplays){var ht=document.createElement("a");ht.href=Ue.url,tt(Rn("authentication.authenticate",[ht.href,Ue.width,Ue.height,Ue.isExternal]).then(function(_n){var Un=_n[0],zn=_n[1];if(Un)return zn;throw new Error(zn)}))}else L={success:tt,fail:St},Oe(Ue)})}function q(Ue){return new Promise(function(tt){tt(Rn("authentication.getAuthToken",[Ue==null?void 0:Ue.resources,Ue==null?void 0:Ue.claims,Ue==null?void 0:Ue.silent]))}).then(function(tt){var St=tt[0],ht=tt[1];if(St)return ht;throw new Error(ht)})}function K(){return new Promise(function(Ue){Ue(Rn("authentication.getUser"))}).then(function(Ue){var tt=Ue[0],St=Ue[1];if(tt)return St;throw new Error(St)})}function ce(){be();try{Ne.childWindow&&Ne.childWindow.close()}finally{Ne.childWindow=null,Ne.childOrigin=null}}function Oe(Ue){ce();var tt=Ue.width||600,St=Ue.height||400;tt=Math.min(tt,Ne.currentWindow.outerWidth-400),St=Math.min(St,Ne.currentWindow.outerHeight-200);var ht=document.createElement("a");ht.href=Ue.url.replace("{oauthRedirectMethod}","web");var _n=Ne.currentWindow.screenLeft!==void 0?Ne.currentWindow.screenLeft:Ne.currentWindow.screenX,Un=Ne.currentWindow.screenTop!==void 0?Ne.currentWindow.screenTop:Ne.currentWindow.screenY;_n+=Ne.currentWindow.outerWidth/2-tt/2,Un+=Ne.currentWindow.outerHeight/2-St/2,Ne.childWindow=Ne.currentWindow.open(ht.href,"_blank","toolbar=no, location=yes, status=no, menubar=no, scrollbars=yes, top="+Un+", left="+_n+", width="+tt+", height="+St),Ne.childWindow?Qe():pt("FailedToOpenWindow")}function be(){N&&(clearInterval(N),N=0),zt("initialize"),zt("navigateCrossDomain")}function Qe(){be(),N=Ne.currentWindow.setInterval(function(){if(!Ne.childWindow||Ne.childWindow.closed)pt("CancelledByUser");else{var Ue=Ne.childOrigin;try{Ne.childOrigin="*",On("ping")}finally{Ne.childOrigin=Ue}}},100),ot("initialize",function(){return[G.authentication,B.hostClientType]}),ot("navigateCrossDomain",function(){return!1})}function mt(Ue){try{L&&L.success(Ue)}finally{L=null,ce()}}function pt(Ue){try{L&&L.fail(new Error(Ue))}finally{L=null,ce()}}function We(Ue,tt,St){if(Ue){var ht=document.createElement("a");ht.href=decodeURIComponent(Ue),ht.host&&ht.host!==window.location.host&&ht.host==="outlook.office.com"&&ht.search.indexOf("client_type=Win32_Outlook")>-1&&(tt&&tt==="result"&&(St&&(ht.href=it(ht.href,"result",St)),Ne.currentWindow.location.assign(it(ht.href,"authSuccess",""))),tt&&tt==="reason"&&(St&&(ht.href=it(ht.href,"reason",St)),Ne.currentWindow.location.assign(it(ht.href,"authFailure",""))))}}function it(Ue,tt,St){var ht=Ue.indexOf("#"),_n=ht===-1?"#":Ue.substr(ht);return _n=_n+"&"+tt+(St!==""?"="+St:""),(Ue=ht===-1?Ue:Ue.substr(0,ht))+_n}C.initialize=function(){ot("authentication.authenticate.success",mt,!1),ot("authentication.authenticate.failure",pt,!1)},C.registerAuthenticationHandlers=function(Ue){x=Ue},C.authenticate=function(Ue){var tt=Ue!==void 0,St=tt?Ue:x;if(!St)throw new Error("No parameters are provided for authentication");return oe(V,G.content,G.sidePanel,G.settings,G.remove,G.task,G.stage,G.meetingStage),$(St).then(function(ht){try{return St&&St.successCallback?(St.successCallback(ht),""):ht}finally{tt||(x=null)}}).catch(function(ht){try{if(St&&St.failureCallback)return St.failureCallback(ht.message),"";throw ht}finally{tt||(x=null)}})},C.getAuthToken=function(Ue){return In(),q(Ue).then(function(tt){return Ue&&Ue.successCallback?(Ue.successCallback(tt),""):tt}).catch(function(tt){if(Ue&&Ue.failureCallback)return Ue.failureCallback(tt.message),"";throw tt})},C.getUser=function(Ue){return In(),K().then(function(tt){return Ue&&Ue.successCallback?(Ue.successCallback(tt),null):tt}).catch(function(tt){if(Ue&&Ue.failureCallback)return Ue.failureCallback(tt.message),null;throw tt})},C.notifySuccess=function(Ue,tt){We(tt,"result",Ue),oe(V,G.authentication),Ie("authentication.authenticate.success",[Ue]),_o(Ne.parentWindow,function(){return setTimeout(function(){return Ne.currentWindow.close()},200)})},C.notifyFailure=function(Ue,tt){We(tt,"reason",Ue),oe(V,G.authentication),Ie("authentication.authenticate.failure",[Ue]),_o(Ne.parentWindow,function(){return setTimeout(function(){return Ne.currentWindow.close()},200)})},function(Ue){Ue.Public="public",Ue.EUDB="eudb",Ue.Other="other"}(C.DataResidency||(C.DataResidency={}))})(Lr||(Lr={})),function(C){var L=[];function N(x){B.frameContext&&(B.frameContext===G.task?L.push(x):zt("messageForChild"))}C.initialize=function(){ot("messageForChild",N,!1)},function(x){function $(){return oe(V)&&(V.supports.dialog&&V.supports.dialog.url)!==void 0}function q(ce){return{url:ce.url,height:ce.size?ce.size.height:Me.Small,width:ce.size?ce.size.width:Me.Small,title:ce.title,fallbackUrl:ce.fallbackUrl}}function K(ce){var Oe=q(ce);return Oe.completionBotId=ce.completionBotId,Oe}x.open=function(ce,Oe,be){if(oe(V,G.content,G.sidePanel,G.meetingStage),!$())throw Te;be&&ot("messageForParent",be),Ie("tasks.startTask",[q(ce)],function(Qe,mt){Oe==null||Oe({err:Qe,result:mt}),zt("messageForParent")})},x.submit=function(ce,Oe){if(oe(V,G.content,G.task),!$())throw Te;Ie("tasks.completeTask",[ce,Oe?Array.isArray(Oe)?Oe:[Oe]:[]])},x.sendMessageToParentFromDialog=function(ce){if(oe(V,G.task),!$())throw Te;Ie("messageForParent",[ce])},x.sendMessageToDialog=function(ce){if(oe(V,G.content,G.sidePanel,G.meetingStage),!$())throw Te;Ie("messageForChild",[ce])},x.registerOnMessageFromParent=function(ce){if(oe(V,G.task),!$())throw Te;for(zt("messageForChild"),ot("messageForChild",ce),L.reverse();L.length>0;)ce(L.pop())},x.isSupported=$,function(ce){function Oe(){return oe(V)&&(V.supports.dialog&&V.supports.dialog.url&&V.supports.dialog.url.bot)!==void 0}ce.open=function(be,Qe,mt){if(oe(V,G.content,G.sidePanel,G.meetingStage),!Oe())throw Te;mt&&ot("messageForParent",mt),Ie("tasks.startTask",[K(be)],function(pt,We){Qe==null||Qe({err:pt,result:We}),zt("messageForParent")})},ce.isSupported=Oe}(x.bot||(x.bot={})),x.getDialogInfoFromUrlDialogInfo=q,x.getDialogInfoFromBotUrlDialogInfo=K}(C.url||(C.url={})),C.isSupported=function(){return!(!oe(V)||!V.supports.dialog)},function(x){function $(){return!(!oe(V)||!V.supports.dialog)&&!!V.supports.dialog.update}x.resize=function(q){if(oe(V,G.content,G.sidePanel,G.task,G.meetingStage),!$())throw Te;Ie("tasks.updateTask",[q])},x.isSupported=$}(C.update||(C.update={})),function(x){function $(){var ce=V.hostVersionsInfo&&V.hostVersionsInfo.adaptiveCardSchemaVersion&&!He(V.hostVersionsInfo.adaptiveCardSchemaVersion);return oe(V)&&(ce&&V.supports.dialog&&V.supports.dialog.card)!==void 0}function q(ce){return{card:ce.card,height:ce.size?ce.size.height:Me.Small,width:ce.size?ce.size.width:Me.Small,title:ce.title}}function K(ce){var Oe=q(ce);return Oe.completionBotId=ce.completionBotId,Oe}x.open=function(ce,Oe){if(oe(V,G.content,G.sidePanel,G.meetingStage),!$())throw Te;Ie("tasks.startTask",[q(ce)],function(be,Qe){Oe==null||Oe({err:be,result:Qe})})},x.isSupported=$,function(ce){function Oe(){var be=V.hostVersionsInfo&&V.hostVersionsInfo.adaptiveCardSchemaVersion&&!He(V.hostVersionsInfo.adaptiveCardSchemaVersion);return oe(V)&&(be&&V.supports.dialog&&V.supports.dialog.card&&V.supports.dialog.card.bot)!==void 0}ce.open=function(be,Qe){if(oe(V,G.content,G.sidePanel,G.meetingStage),!Oe())throw Te;Ie("tasks.startTask",[K(be)],function(mt,pt){Qe==null||Qe({err:mt,result:pt})})},ce.isSupported=Oe}(x.bot||(x.bot={})),x.getDialogInfoFromAdaptiveCardDialogInfo=q,x.getDialogInfoFromBotAdaptiveCardDialogInfo=K,x.getAdaptiveCardDialogInfoFromTaskInfo=function(ce){return{card:ce.card,size:{height:ce.height?ce.height:Me.Small,width:ce.width?ce.width:Me.Small},title:ce.title}},x.getBotAdaptiveCardDialogInfoFromTaskInfo=function(ce){return{card:ce.card,size:{height:ce.height?ce.height:Me.Small,width:ce.width?ce.width:Me.Small},title:ce.title,completionBotId:ce.completionBotId}}}(C.adaptiveCard||(C.adaptiveCard={}))}(bn||(bn={})),function(C){(function(be){be[be.ifRoom=0]="ifRoom",be[be.overflowOnly=1]="overflowOnly"})(C.DisplayMode||(C.DisplayMode={}));var L,N,x,$=function(){return function(){this.enabled=!0,this.selected=!1}}();function q(be){x&&x(be)||(oe(V),Ie("viewConfigItemPress",[be]))}function K(be){L&&L(be)||(oe(V),Ie("handleNavBarMenuItemPress",[be]))}function ce(be){N&&N(be)||(oe(V),Ie("handleActionMenuItemPress",[be]))}function Oe(){return!(!oe(V)||!V.supports.menus)}C.MenuItem=$,function(be){be.dropDown="dropDown",be.popOver="popOver"}(C.MenuListType||(C.MenuListType={})),C.initialize=function(){ot("navBarMenuItemPress",K,!1),ot("actionMenuItemPress",ce,!1),ot("setModuleView",q,!1)},C.setUpViews=function(be,Qe){if(oe(V),!Oe())throw Te;x=Qe,Ie("setUpViews",[be])},C.setNavBarMenu=function(be,Qe){if(oe(V),!Oe())throw Te;L=Qe,Ie("setNavBarMenu",[be])},C.showActionMenu=function(be,Qe){if(oe(V),!Oe())throw Te;N=Qe,Ie("showActionMenu",[be])},C.isSupported=Oe}(_r||(_r={})),function(C){function L(){if(typeof window>"u")throw new Error("window object undefined at print call");window.print()}function N(q,K){q&&oe(V),q&&K&&K(),Js(q)}function x(q,K){q&&oe(V),q&&K&&K(),Xs(q)}function $(){return!(!oe(V)||!V.supports.teamsCore)}C.enablePrintCapability=function(){if(!B.printCapabilityEnabled){if(oe(V),!$())throw Te;B.printCapabilityEnabled=!0,document.addEventListener("keydown",function(q){(q.ctrlKey||q.metaKey)&&q.keyCode===80&&(L(),q.cancelBubble=!0,q.preventDefault(),q.stopImmediatePropagation())})}},C.print=L,C.registerOnLoadHandler=function(q){N(q,function(){if(q&&!$())throw Te})},C.registerOnLoadHandlerHelper=N,C.registerBeforeUnloadHandler=function(q){x(q,function(){if(q&&!$())throw Te})},C.registerBeforeUnloadHandlerHelper=x,C.isSupported=$}(Cn||(Cn={})),function(C){var L=Z("app");C.Messages={AppLoaded:"appInitialization.appLoaded",Success:"appInitialization.success",Failure:"appInitialization.failure",ExpectedFailure:"appInitialization.expectedFailure"},function(K){K.AuthFailed="AuthFailed",K.Timeout="Timeout",K.Other="Other"}(C.FailedReason||(C.FailedReason={})),function(K){K.PermissionError="PermissionError",K.NotFound="NotFound",K.Throttling="Throttling",K.Offline="Offline",K.Other="Other"}(C.ExpectedFailureReason||(C.ExpectedFailureReason={})),C.isInitialized=function(){return B.initializeCompleted},C.getFrameContext=function(){return B.frameContext};var N=5e3;C.initialize=function(K){return Qs()?(L.extend("initialize")("window object undefined at initialization"),Promise.resolve()):he(function(){return $(K)},N,new Error("SDK initialization timed out."))};var x=L.extend("initializeHelper");function $(K){return new Promise(function(ce){B.initializeCalled||(B.initializeCalled=!0,Ys(),B.initializePromise=ea(K).then(function(Oe){var be=Oe.context,Qe=Oe.clientType,mt=Oe.runtimeConfig,pt=Oe.clientSupportedSDKVersion,We=pt===void 0?a:pt;B.frameContext=be,B.hostClientType=Qe,B.clientSupportedSDKVersion=We;try{x("Parsing %s",mt);var it=JSON.parse(mt);if(x("Checking if %o is a valid runtime object",it??"null"),!it||!it.apiVersion)throw new Error("Received runtime config is invalid");mt&&lo(it)}catch(Ue){if(!(Ue instanceof SyntaxError))throw Ue;try{if(x("Attempting to parse %s as an SDK version",mt),isNaN(ye(mt,a))||(B.clientSupportedSDKVersion=mt),it=JSON.parse(We),x("givenRuntimeConfig parsed to %o",it??"null"),!it)throw new Error("givenRuntimeConfig string was successfully parsed. However, it parsed to value of null");lo(it)}catch(tt){if(!(tt instanceof SyntaxError))throw tt;lo(ar(B.clientSupportedSDKVersion))}}B.initializeCompleted=!0}),Lr.initialize(),_r.initialize(),Rt.config.initialize(),bn.initialize()),Array.isArray(K)&&qs(K),ce(B.initializePromise)})}function q(K){K&&In(),Ks(K)}C._initialize=function(K){Ne.currentWindow=K},C._uninitialize=function(){B.initializeCalled&&(B.frameContext&&(q(null),Rt.backStack.registerBackButtonHandler(null),Rt.registerFullScreenHandler(null),Cn.registerBeforeUnloadHandler(null),Cn.registerOnLoadHandler(null),Dn.registerGetLogHandler(null)),B.frameContext===G.settings&&Rt.config.registerOnSaveHandler(null),B.frameContext===G.remove&&Rt.config.registerOnRemoveHandler(null),B.initializeCalled=!1,B.initializeCompleted=!1,B.initializePromise=null,B.additionalValidOrigins=[],B.frameContext=null,B.hostClientType=null,B.isFramelessWindow=!1,ta())},C.getContext=function(){return new Promise(function(K){In(),K(Wn("getContext"))}).then(function(K){return Vs(K)})},C.notifyAppLoaded=function(){In(),Ie(C.Messages.AppLoaded,[kr])},C.notifySuccess=function(){In(),Ie(C.Messages.Success,[kr])},C.notifyFailure=function(K){In(),Ie(C.Messages.Failure,[K.reason,K.message])},C.notifyExpectedFailure=function(K){In(),Ie(C.Messages.ExpectedFailure,[K.reason,K.message])},C.registerOnThemeChangeHandler=q,C.openLink=function(K){return new Promise(function(ce){oe(V,G.content,G.sidePanel,G.settings,G.task,G.stage,G.meetingStage),ce(Ht("executeDeepLink",K))})}}(Vt||(Vt={})),function(C){function L(x){if(oe(V,G.content),!N())throw Te;Ie("setFrameContext",[x])}function N(){return!(!oe(V)||!V.supports.pages)}C.returnFocus=function(x){if(oe(V),!N())throw Te;Ie("returnFocus",[x])},C.registerFocusEnterHandler=function(x){en("focusEnter",x,[],function(){if(!N())throw Te})},C.setCurrentFrame=L,C.initializeWithFrameContext=function(x,$,q){Vt.initialize(q).then(function(){return $&&$()}),L(x)},C.getConfig=function(){return new Promise(function(x){if(oe(V,G.content,G.settings,G.remove,G.sidePanel),!N())throw Te;x(Wn("settings.getSettings"))})},C.navigateCrossDomain=function(x){return new Promise(function($){if(oe(V,G.content,G.sidePanel,G.settings,G.remove,G.task,G.stage,G.meetingStage),!N())throw Te;$(Ur("navigateCrossDomain","Cross-origin navigation is only supported for URLs matching the pattern registered in the manifest.",x))})},C.navigateToApp=function(x){return new Promise(function($){if(oe(V,G.content,G.sidePanel,G.settings,G.task,G.stage,G.meetingStage),!N())throw Te;V.isLegacyTeams?$(Ht("executeDeepLink",xe(x))):$(Ht("pages.navigateToApp",x))})},C.shareDeepLink=function(x){if(oe(V,G.content,G.sidePanel,G.meetingStage),!N())throw Te;Ie("shareDeepLink",[x.subPageId,x.subPageLabel,x.subPageWebUrl])},C.registerFullScreenHandler=function(x){en("fullScreenChange",x,[],function(){if(x&&!N())throw Te})},C.isSupported=N,function(x){function $(){return!(!oe(V)||!V.supports.pages)&&!!V.supports.pages.tabs}x.navigateToTab=function(q){return new Promise(function(K){if(oe(V),!$())throw Te;K(Ur("navigateToTab","Invalid internalTabInstanceId and/or channelId were/was provided",q))})},x.getTabInstances=function(q){return new Promise(function(K){if(oe(V),!$())throw Te;K(Wn("getTabInstances",q))})},x.getMruTabInstances=function(q){return new Promise(function(K){if(oe(V),!$())throw Te;K(Wn("getMruTabInstances",q))})},x.isSupported=$}(C.tabs||(C.tabs={})),function(x){var $,q;function K(We,it){We&&oe(V,G.settings),it&&it(),$=We,We&&Ie("registerHandler",["save"])}function ce(We,it){We&&oe(V,G.remove,G.settings),it&&it(),q=We,We&&Ie("registerHandler",["remove"])}function Oe(We){var it=new be(We);$?$(it):Ne.childWindow?On("settings.save",[We]):it.notifySuccess()}x.initialize=function(){ot("settings.save",Oe,!1),ot("settings.remove",Qe,!1)},x.setValidityState=function(We){if(oe(V,G.settings,G.remove),!pt())throw Te;Ie("settings.setValidityState",[We])},x.setConfig=function(We){return new Promise(function(it){if(oe(V,G.content,G.settings,G.sidePanel),!pt())throw Te;it(Ht("settings.setSettings",We))})},x.registerOnSaveHandler=function(We){K(We,function(){if(We&&!pt())throw Te})},x.registerOnSaveHandlerHelper=K,x.registerOnRemoveHandler=function(We){ce(We,function(){if(We&&!pt())throw Te})},x.registerOnRemoveHandlerHelper=ce,x.registerChangeConfigHandler=function(We){en("changeSettings",We,[G.content],function(){if(!pt())throw Te})};var be=function(){function We(it){this.notified=!1,this.result=it||{}}return We.prototype.notifySuccess=function(){this.ensureNotNotified(),Ie("settings.save.success"),this.notified=!0},We.prototype.notifyFailure=function(it){this.ensureNotNotified(),Ie("settings.save.failure",[it]),this.notified=!0},We.prototype.ensureNotNotified=function(){if(this.notified)throw new Error("The SaveEvent may only notify success or failure once.")},We}();function Qe(){var We=new mt;q?q(We):Ne.childWindow?On("settings.remove",[]):We.notifySuccess()}var mt=function(){function We(){this.notified=!1}return We.prototype.notifySuccess=function(){this.ensureNotNotified(),Ie("settings.remove.success"),this.notified=!0},We.prototype.notifyFailure=function(it){this.ensureNotNotified(),Ie("settings.remove.failure",[it]),this.notified=!0},We.prototype.ensureNotNotified=function(){if(this.notified)throw new Error("The removeEventType may only notify success or failure once.")},We}();function pt(){return!(!oe(V)||!V.supports.pages)&&!!V.supports.pages.config}x.isSupported=pt}(C.config||(C.config={})),function(x){var $;function q(){return new Promise(function(be){if(oe(V),!Oe())throw Te;be(Ur("navigateBack","Back navigation is not supported in the current client or context."))})}function K(be,Qe){be&&oe(V),Qe&&Qe(),$=be,be&&Ie("registerHandler",["backButton"])}function ce(){$&&$()||(Ne.childWindow?On("backButtonPress",[]):q())}function Oe(){return!(!oe(V)||!V.supports.pages)&&!!V.supports.pages.backStack}x._initialize=function(){ot("backButtonPress",ce,!1)},x.navigateBack=q,x.registerBackButtonHandler=function(be){K(be,function(){if(be&&!Oe())throw Te})},x.registerBackButtonHandlerHelper=K,x.isSupported=Oe}(C.backStack||(C.backStack={})),function(x){function $(){return!(!oe(V)||!V.supports.pages)&&!!V.supports.pages.fullTrust}x.enterFullscreen=function(){if(oe(V,G.content),!$())throw Te;Ie("enterFullscreen",[])},x.exitFullscreen=function(){if(oe(V,G.content),!$())throw Te;Ie("exitFullscreen",[])},x.isSupported=$}(C.fullTrust||(C.fullTrust={})),function(x){function $(){return!(!oe(V)||!V.supports.pages)&&!!V.supports.pages.appButton}x.onClick=function(q){en("appButtonClick",q,[G.content],function(){if(!$())throw Te})},x.onHoverEnter=function(q){en("appButtonHoverEnter",q,[G.content],function(){if(!$())throw Te})},x.onHoverLeave=function(q){en("appButtonHoverLeave",q,[G.content],function(){if(!$())throw Te})},x.isSupported=$}(C.appButton||(C.appButton={})),function(x){function $(){return!(!oe(V)||!V.supports.pages)&&!!V.supports.pages.currentApp}x.navigateTo=function(q){return new Promise(function(K){if(oe(V,G.content,G.sidePanel,G.settings,G.task,G.stage,G.meetingStage),!$())throw Te;K(At("pages.currentApp.navigateTo",q))})},x.navigateToDefaultPage=function(){return new Promise(function(q){if(oe(V,G.content,G.sidePanel,G.settings,G.task,G.stage,G.meetingStage),!$())throw Te;q(At("pages.currentApp.navigateToDefaultPage"))})},x.isSupported=$}(C.currentApp||(C.currentApp={}))}(Rt||(Rt={}));var Qo=function(C,L,N){if(N||arguments.length===2)for(var x,$=0,q=L.length;$<q;$++)!x&&$ in L||(x||(x=Array.prototype.slice.call(L,0,$)),x[$]=L[$]);return C.concat(x||Array.prototype.slice.call(L))},Ws=Z("handlers"),Ft=function(){function C(){}return C.handlers={},C}();function Ys(){Ft.handlers.themeChange=Fr,Ft.handlers.load=Gr,Ft.handlers.beforeUnload=Zs,Rt.backStack._initialize()}var fo=Ws.extend("callHandler");function Wo(C,L){var N=Ft.handlers[C];return N?(fo("Invoking the registered handler for message %s with arguments %o",C,L),[!0,N.apply(this,L)]):Ne.childWindow?(On(C,[L]),[!1,void 0]):(fo("Handler for action message %s not found.",C),[!1,void 0])}function ot(C,L,N,x){N===void 0&&(N=!0),x===void 0&&(x=[]),L?(Ft.handlers[C]=L,N&&Ie("registerHandler",Qo([C],x,!0))):delete Ft.handlers[C]}function zt(C){delete Ft.handlers[C]}function js(C){return Ft.handlers[C]!=null}function en(C,L,N,x){L&&oe.apply(void 0,Qo([V],N,!1)),x&&x(),ot(C,L)}function Ks(C){Ft.themeChangeHandler=C,C&&Ie("registerHandler",["themeChange"])}function Fr(C){Ft.themeChangeHandler&&Ft.themeChangeHandler(C),Ne.childWindow&&On("themeChange",[C])}function Js(C){Ft.loadHandler=C,C&&Ie("registerHandler",["load"])}function Gr(C){Ft.loadHandler&&Ft.loadHandler(C),Ne.childWindow&&On("load",[C])}function Xs(C){Ft.beforeUnloadHandler=C,C&&Ie("registerHandler",["beforeUnload"])}function Zs(){var C=function(){Ie("readyToUnload",[])};Ft.beforeUnloadHandler&&Ft.beforeUnloadHandler(C)||(Ne.childWindow?On("beforeUnload"):C())}var Yo=function(C,L,N){if(N||arguments.length===2)for(var x,$=0,q=L.length;$<q;$++)!x&&$ in L||(x||(x=Array.prototype.slice.call(L,0,$)),x[$]=L[$]);return C.concat(x||Array.prototype.slice.call(L))},Br=Z("communication"),Ne=function(){return function(){}}(),xt=function(){function C(){}return C.parentMessageQueue=[],C.childMessageQueue=[],C.nextMessageId=0,C.callbacks={},C.promiseCallbacks={},C}();function ea(C){if(xt.messageListener=function(N){return Ko(N)},Ne.currentWindow=Ne.currentWindow||window,Ne.parentWindow=Ne.currentWindow.parent!==Ne.currentWindow.self?Ne.currentWindow.parent:Ne.currentWindow.opener,(Ne.parentWindow||C)&&Ne.currentWindow.addEventListener("message",xt.messageListener,!1),!Ne.parentWindow){var L=Ne.currentWindow;if(!L.nativeInterface)return Promise.reject(new Error("Initialization Failed. No Parent window found."));B.isFramelessWindow=!0,L.onNativeMessage=zr}try{return Ne.parentOrigin="*",Rn("initialize",[kr,at]).then(function(N){return{context:N[0],clientType:N[1],runtimeConfig:N[2],clientSupportedSDKVersion:N[3]}})}finally{Ne.parentOrigin=null}}function ta(){Ne.currentWindow&&Ne.currentWindow.removeEventListener("message",xt.messageListener,!1),Ne.currentWindow=null,Ne.parentWindow=null,Ne.parentOrigin=null,Ne.childWindow=null,Ne.childOrigin=null,xt.parentMessageQueue=[],xt.childMessageQueue=[],xt.nextMessageId=0,xt.callbacks={},xt.promiseCallbacks={}}function Wn(C){for(var L=[],N=1;N<arguments.length;N++)L[N-1]=arguments[N];return Rn(C,L).then(function(x){return x[0]})}function Ht(C){for(var L=[],N=1;N<arguments.length;N++)L[N-1]=arguments[N];return Rn(C,L).then(function(x){var $=x[0],q=x[1];if(!$)throw new Error(q)})}function Ur(C,L){for(var N=[],x=2;x<arguments.length;x++)N[x-2]=arguments[x];return Rn(C,N).then(function($){var q=$[0],K=$[1];if(!q)throw new Error(K||L)})}function At(C){for(var L=[],N=1;N<arguments.length;N++)L[N-1]=arguments[N];return Rn(C,L).then(function(x){var $=x[0],q=x[1];if($)throw $;return q})}function Rn(C,L){return L===void 0&&(L=void 0),new Promise(function(N){N(po(Er(C,L).id))})}function po(C){return new Promise(function(L){xt.promiseCallbacks[C]=L})}function Ie(C,L,N){var x;L instanceof Function?N=L:L instanceof Array&&(x=L);var $=Er(C,x);N&&(xt.callbacks[$.id]=N)}var jo=Br.extend("sendMessageToParentHelper");function Er(C,L){var N=jo,x=Ne.parentWindow,$=oa(C,L);if(N("Message %i information: %o",$.id,{actionName:C,args:L}),B.isFramelessWindow)Ne.currentWindow&&Ne.currentWindow.nativeInterface&&(N("Sending message %i to parent via framelessPostMessage interface",$.id),Ne.currentWindow.nativeInterface.framelessPostMessage(JSON.stringify($)));else{var q=ur(x);x&&q?(N("Sending message %i to parent via postMessage",$.id),x.postMessage($,q)):(N("Adding message %i to parent message queue",$.id),ir(x).push($))}return $}function Ko(C){if(C&&C.data&&typeof C.data=="object"){var L=C.source||C.originalEvent&&C.originalEvent.source,N=C.origin||C.originalEvent&&C.originalEvent.origin;na(L,N)&&(Jo(L,N),L===Ne.parentWindow?zr(C):L===Ne.childWindow&&Zo(C))}}function na(C,L){return(!Ne.currentWindow||C!==Ne.currentWindow)&&(!!(Ne.currentWindow&&Ne.currentWindow.location&&L&&L===Ne.currentWindow.location.origin)||te(new URL(L)))}function Jo(C,L){B.isFramelessWindow||Ne.parentWindow&&!Ne.parentWindow.closed&&C!==Ne.parentWindow?Ne.childWindow&&!Ne.childWindow.closed&&C!==Ne.childWindow||(Ne.childWindow=C,Ne.childOrigin=L):(Ne.parentWindow=C,Ne.parentOrigin=L),Ne.parentWindow&&Ne.parentWindow.closed&&(Ne.parentWindow=null,Ne.parentOrigin=null),Ne.childWindow&&Ne.childWindow.closed&&(Ne.childWindow=null,Ne.childOrigin=null),go(Ne.parentWindow),go(Ne.childWindow)}var Xo=Br.extend("handleParentMessage");function zr(C){var L=Xo;if("id"in C.data&&typeof C.data.id=="number"){var N=C.data,x=xt.callbacks[N.id];L("Received a response from parent for message %i",N.id),x&&(L("Invoking the registered callback for message %i with arguments %o",N.id,N.args),x.apply(null,Yo(Yo([],N.args,!0),[N.isPartialResponse],!1)),ra(C)||(L("Removing registered callback for message %i",N.id),delete xt.callbacks[N.id]));var $=xt.promiseCallbacks[N.id];$&&(L("Invoking the registered promise callback for message %i with arguments %o",N.id,N.args),$(N.args),L("Removing registered promise callback for message %i",N.id),delete xt.promiseCallbacks[N.id])}else"func"in C.data&&typeof C.data.func=="string"?(L("Received an action message %s from parent",(N=C.data).func),Wo(N.func,N.args)):L("Received an unknown message: %O",C)}function ra(C){return C.data.isPartialResponse===!0}function Zo(C){if("id"in C.data&&"func"in C.data){var L=C.data,N=Wo(L.func,L.args),x=N[0],$=N[1];x&&$!==void 0?ts(L.id,Array.isArray($)?$:[$]):Ie(L.func,L.args,function(){for(var q=[],K=0;K<arguments.length;K++)q[K]=arguments[K];if(Ne.childWindow){var ce=q.pop();ts(L.id,q,ce)}})}}function ir(C){return C===Ne.parentWindow?xt.parentMessageQueue:C===Ne.childWindow?xt.childMessageQueue:[]}function ur(C){return C===Ne.parentWindow?Ne.parentOrigin:C===Ne.childWindow?Ne.childOrigin:null}var Dn,$r,Hr,ho,qr,es=Br.extend("flushMessageQueue");function go(C){for(var L=ur(C),N=ir(C),x=C==Ne.parentWindow?"parent":"child";C&&L&&N.length>0;){var $=N.shift();es("Flushing message %i from "+x+" message queue via postMessage.",$.id),C.postMessage($,L)}}function _o(C,L){var N=Ne.currentWindow.setInterval(function(){ir(C).length===0&&(clearInterval(N),L())},100)}function ts(C,L,N){var x=Ne.childWindow,$=ns(C,L,N),q=ur(x);x&&q&&x.postMessage($,q)}function On(C,L){var N=Ne.childWindow,x=sa(C,L),$=ur(N);N&&$?N.postMessage(x,$):ir(N).push(x)}function oa(C,L){return{id:xt.nextMessageId++,func:C,timestamp:Date.now(),args:L||[]}}function ns(C,L,N){return{id:C,args:L||[],isPartialResponse:N}}function sa(C,L){return{func:C,args:L||[]}}function aa(C,L){oe(V),Ie("uploadCustomApp",[C],L||de())}function ia(C,L,N){oe(V),Ie(C,L,N)}function ua(C,L){if(oe(V),!Ne.childWindow)throw new Error("The child window has not yet been initialized or is not present");On(C,L)}function Eo(C,L){var N=this;oe(V),ot(C,function(){for(var x=[],$=0;$<arguments.length;$++)x[$]=arguments[$];return L.apply(N,x)})}function la(C,L){oe(V),ot("userSettingsChange",L,!0,[C])}function ca(C){oe(V,G.content,G.task),Ie("openFilePreview",[C.entityId,C.title,C.description,C.type,C.objectUrl,C.downloadUrl,C.webPreviewUrl,C.webEditUrl,C.baseUrl,C.editFile,C.subEntityId,C.viewerAction,C.fileOpenPreference,C.conversationId])}(function(C){function L(){return!(!oe(V)||!V.supports.logs)}C.registerGetLogHandler=function(N){if(N&&oe(V),N&&!L())throw Te;N?ot("log.request",function(){Ie("log.receive",[N()])}):zt("log.request")},C.isSupported=L})(Dn||(Dn={})),function(C){C.fileDownloadStart="fileDownloadStart",C.fileDownloadComplete="fileDownloadComplete"}($r||($r={})),function(C){C.view="view",C.edit="edit",C.editNew="editNew"}(Hr||(Hr={})),function(C){C.fileOpenPreference="fileOpenPreference",C.theme="theme"}(ho||(ho={})),function(C){function L(){return!(!oe(V)||!V.supports.conversations)}C.openConversation=function(N){return new Promise(function(x){if(oe(V,G.content),!L())throw Te;var $=Ht("conversations.openConversation",{title:N.title,subEntityId:N.subEntityId,conversationId:N.conversationId,channelId:N.channelId,entityId:N.entityId});N.onStartConversation&&ot("startConversation",function(q,K,ce,Oe){return N.onStartConversation({subEntityId:q,conversationId:K,channelId:ce,entityId:Oe})}),N.onCloseConversation&&ot("closeConversation",function(q,K,ce,Oe){return N.onCloseConversation({subEntityId:q,conversationId:K,channelId:ce,entityId:Oe})}),x($)})},C.closeConversation=function(){if(oe(V,G.content),!L())throw Te;Ie("conversations.closeConversation"),zt("startConversation"),zt("closeConversation")},C.getChatMembers=function(){return new Promise(function(N){if(oe(V),!L())throw Te;N(Wn("getChatMembers"))})},C.isSupported=L}(qr||(qr={}));var yo,da="/l/app/",ma="/l/meeting/new",Ct="attendees",bt="startTime",fa="endTime",pa="subject",ha="content",ga="/l/call/0/0",_a="source",Ea="withVideo",rs="/l/chat/0/0",os="users",Gt="topicName",To="message";function kn(C,L,N){if(C.length===0)throw new Error("Must have at least one user when creating a chat deep link");var x="".concat(os,"=")+C.map(function(K){return encodeURIComponent(K)}).join(","),$=L===void 0?"":"&".concat(Gt,"=").concat(encodeURIComponent(L)),q=N===void 0?"":"&".concat(To,"=").concat(encodeURIComponent(N));return"".concat(R,"://").concat(M).concat(rs,"?").concat(x).concat($).concat(q)}function ss(C,L,N){if(C.length===0)throw new Error("Must have at least one target when creating a call deep link");var x="".concat(os,"=")+C.map(function(K){return encodeURIComponent(K)}).join(","),$=L===void 0?"":"&".concat(Ea,"=").concat(encodeURIComponent(L)),q=N===void 0?"":"&".concat(_a,"=").concat(encodeURIComponent(N));return"".concat(R,"://").concat(M).concat(ga,"?").concat(x).concat($).concat(q)}function So(C,L,N,x,$){var q=C===void 0?"":"".concat(Ct,"=")+C.map(function(Qe){return encodeURIComponent(Qe)}).join(","),K=L===void 0?"":"&".concat(bt,"=").concat(encodeURIComponent(L)),ce=N===void 0?"":"&".concat(fa,"=").concat(encodeURIComponent(N)),Oe=x===void 0?"":"&".concat(pa,"=").concat(encodeURIComponent(x)),be=$===void 0?"":"&".concat(ha,"=").concat(encodeURIComponent($));return"".concat(R,"://").concat(M).concat(ma,"?").concat(q).concat(K).concat(ce).concat(Oe).concat(be)}function tn(C){if(!C)throw new Error("App ID must be set when creating an app install dialog deep link");return"".concat(R,"://").concat(M).concat(da).concat(encodeURIComponent(C))}(function(C){function L(){return!(!oe(V)||!V.supports.appInstallDialog)}C.openAppInstallDialog=function(N){return new Promise(function(x){if(oe(V,G.content,G.sidePanel,G.settings,G.task,G.stage,G.meetingStage),!L())throw new Error("Not supported");V.isLegacyTeams?x(Ht("executeDeepLink",tn(N.appId))):(Ie("appInstallDialog.openAppInstallDialog",[N]),x())})},C.isSupported=L})(yo||(yo={}));var wn,Vr,Qr,Wr,vo=function(){var C=function(L,N){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,$){x.__proto__=$}||function(x,$){for(var q in $)Object.prototype.hasOwnProperty.call($,q)&&(x[q]=$[q])},C(L,N)};return function(L,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function x(){this.constructor=L}C(L,N),L.prototype=N===null?Object.create(N):(x.prototype=N.prototype,new x)}}();function Ao(C,L){if(C==null||L==null||C.length<=0)return null;var N,x=1;return C.sort(function($,q){return $.sequence>q.sequence?1:-1}),C.forEach(function($){$.sequence==x&&(N=N?new Blob([N,$.file],{type:L}):new Blob([$.file],{type:L}),x++)}),N}function Qt(C,L){if(C==null||L==null)return null;for(var N=atob(C.chunk),x=new Array(N.length),$=0;$<N.length;$++)x[$]=N.charCodeAt($);var q=new Uint8Array(x),K=new Blob([q],{type:L});return{sequence:C.chunkSequence,file:K}}function ya(C){xn(C)?xr(u):Yr(C)?xr(l):as(C)&&xr(m)}function nn(C){return!(C.mediaType!=wn.MediaType.Video||!C.videoProps||!C.videoProps.videoController)}function Ta(C){return!(C==null||C.maxMediaCount>10)}function as(C){var L;return!((C==null?void 0:C.mediaType)!=wn.MediaType.Image||!(!((L=C==null?void 0:C.imageProps)===null||L===void 0)&&L.imageOutputFormats))}function xn(C){return!(!C||C.mediaType!=wn.MediaType.VideoAndImage&&!C.videoAndImageProps)}function Yr(C){return!(!C||C.mediaType!=wn.MediaType.Video||!C.videoProps||C.videoProps.isFullScreenMode)}function bo(C,L,N){return C!=null&&L!=null&&L==wn.FileFormat.ID&&N!=null}function Dt(C){return!(C==null||C.length<=0||C.length>10)}function Nn(C){return!C||!(C.timeOutIntervalInSec===null||C.timeOutIntervalInSec<=0||C.timeOutIntervalInSec>60)}function Co(C){return!(C&&(C.title&&typeof C.title!="string"||C.setSelected&&typeof C.setSelected!="object"||C.openOrgWideSearchInChatOrChannel&&typeof C.openOrgWideSearchInChatOrChannel!="boolean"||C.singleSelect&&typeof C.singleSelect!="boolean"))}function Sa(){return V.hostVersionsInfo?V.hostVersionsInfo.adaptiveCardSchemaVersion:void 0}(function(C){(function(K){K.Base64="base64",K.ID="id"})(C.FileFormat||(C.FileFormat={}));var L=function(){return function(){}}();C.File=L,C.captureImage=function(K){if(!K)throw new Error("[captureImage] Callback cannot be null");oe(V,G.content,G.task),B.isFramelessWindow?cn(v)?Ie("captureImage",K):K({errorCode:me.OLD_PLATFORM},void 0):K({errorCode:me.NOT_SUPPORTED_ON_PLATFORM},void 0)};var N=function(K){function ce(Oe){Oe===void 0&&(Oe=null);var be=K.call(this)||this;return Oe&&(be.content=Oe.content,be.format=Oe.format,be.mimeType=Oe.mimeType,be.name=Oe.name,be.preview=Oe.preview,be.size=Oe.size),be}return vo(ce,K),ce.prototype.getMedia=function(Oe){if(!Oe)throw new Error("[get Media] Callback cannot be null");oe(V,G.content,G.task),cn(A)?bo(this.mimeType,this.format,this.content)?cn("2.0.0")?this.getMediaViaCallback(Oe):this.getMediaViaHandler(Oe):Oe({errorCode:me.INVALID_ARGUMENTS},null):Oe({errorCode:me.OLD_PLATFORM},null)},ce.prototype.getMediaViaCallback=function(Oe){var be={mediaMimeType:this.mimeType,assembleAttachment:[]};Ie("getMedia",[this.content],function(Qe){if(Oe)if(Qe&&Qe.error)Oe(Qe.error,null);else if(Qe&&Qe.mediaChunk)if(Qe.mediaChunk.chunkSequence<=0){var mt=Ao(be.assembleAttachment,be.mediaMimeType);Oe(Qe.error,mt)}else{var pt=Qt(Qe.mediaChunk,be.mediaMimeType);be.assembleAttachment.push(pt)}else Oe({errorCode:me.INTERNAL_ERROR,message:"data received is null"},null)})},ce.prototype.getMediaViaHandler=function(Oe){var be=Ae(),Qe={mediaMimeType:this.mimeType,assembleAttachment:[]},mt=[be,this.content];this.content&&Oe&&Ie("getMedia",mt),ot("getMedia"+be,function(pt){if(Oe){var We=JSON.parse(pt);if(We.error)Oe(We.error,null),zt("getMedia"+be);else if(We.mediaChunk)if(We.mediaChunk.chunkSequence<=0){var it=Ao(Qe.assembleAttachment,Qe.mediaMimeType);Oe(We.error,it),zt("getMedia"+be)}else{var Ue=Qt(We.mediaChunk,Qe.mediaMimeType);Qe.assembleAttachment.push(Ue)}else Oe({errorCode:me.INTERNAL_ERROR,message:"data received is null"},null),zt("getMedia"+be)}})},ce}(L);C.Media=N;var x,$,q=function(K){function ce(){return K!==null&&K.apply(this,arguments)||this}return vo(ce,K),ce.prototype.getMediaType=function(){return $.Video},ce.prototype.notifyEventToApp=function(Oe){if(this.controllerCallback)switch(Oe){case x.StartRecording:if(this.controllerCallback.onRecordingStarted){this.controllerCallback.onRecordingStarted();break}}},ce}(function(){function K(ce){this.controllerCallback=ce}return K.prototype.notifyEventToHost=function(ce,Oe){oe(V,G.content,G.task);try{xr(l)}catch(be){return void(Oe&&Oe(be))}Ie("media.controller",[{mediaType:this.getMediaType(),mediaControllerEvent:ce}],function(be){Oe&&Oe(be)})},K.prototype.stop=function(ce){this.notifyEventToHost(x.StopRecording,ce)},K}());C.VideoController=q,function(K){K[K.StartRecording=1]="StartRecording",K[K.StopRecording=2]="StopRecording"}(x=C.MediaControllerEvent||(C.MediaControllerEvent={})),function(K){K[K.Photo=1]="Photo",K[K.Document=2]="Document",K[K.Whiteboard=3]="Whiteboard",K[K.BusinessCard=4]="BusinessCard"}(C.CameraStartMode||(C.CameraStartMode={})),function(K){K[K.Camera=1]="Camera",K[K.Gallery=2]="Gallery"}(C.Source||(C.Source={})),function(K){K[K.Image=1]="Image",K[K.Video=2]="Video",K[K.VideoAndImage=3]="VideoAndImage",K[K.Audio=4]="Audio"}($=C.MediaType||(C.MediaType={})),function(K){K[K.ID=1]="ID",K[K.URL=2]="URL"}(C.ImageUriType||(C.ImageUriType={})),function(K){K[K.IMAGE=1]="IMAGE",K[K.PDF=2]="PDF"}(C.ImageOutputFormats||(C.ImageOutputFormats={})),C.selectMedia=function(K,ce){if(!ce)throw new Error("[select Media] Callback cannot be null");if(oe(V,G.content,G.task),cn(A)){try{ya(K)}catch(Qe){return void ce(Qe,null)}if(Ta(K))Ie("selectMedia",[K],function(Qe,mt,pt){if(pt)nn(K)&&K.videoProps.videoController.notifyEventToApp(pt);else if(mt){for(var We=[],it=0,Ue=mt;it<Ue.length;it++){var tt=Ue[it];We.push(new N(tt))}ce(Qe,We)}else ce(Qe,null)});else{var Oe={errorCode:me.INVALID_ARGUMENTS};ce(Oe,null)}}else{var be={errorCode:me.OLD_PLATFORM};ce(be,null)}},C.viewImages=function(K,ce){if(!ce)throw new Error("[view images] Callback cannot be null");oe(V,G.content,G.task),cn(A)?Dt(K)?Ie("viewImages",[K],ce):ce({errorCode:me.INVALID_ARGUMENTS}):ce({errorCode:me.OLD_PLATFORM})},C.scanBarCode=function(K,ce){if(!K)throw new Error("[media.scanBarCode] Callback cannot be null");oe(V,G.content,G.task),B.hostClientType!==le.desktop&&B.hostClientType!==le.web&&B.hostClientType!==le.rigel&&B.hostClientType!==le.teamsRoomsWindows&&B.hostClientType!==le.teamsRoomsAndroid&&B.hostClientType!==le.teamsPhones&&B.hostClientType!==le.teamsDisplays?cn(I)?Nn(ce)?Ie("media.scanBarCode",[ce],K):K({errorCode:me.INVALID_ARGUMENTS},null):K({errorCode:me.OLD_PLATFORM},null):K({errorCode:me.NOT_SUPPORTED_ON_PLATFORM},null)}})(wn||(wn={})),function(C){function L(){return!!(oe(V)&&V.supports.barCode&&V.supports.permissions)}C.scanBarCode=function(N){return new Promise(function(x){if(oe(V,G.content,G.task),!L())throw Te;if(!Nn(N))throw{errorCode:me.INVALID_ARGUMENTS};x(At("media.scanBarCode",N))})},C.hasPermission=function(){if(oe(V,G.content,G.task),!L())throw Te;var N=pe.Media;return new Promise(function(x){x(At("permissions.has",N))})},C.requestPermission=function(){if(oe(V,G.content,G.task),!L())throw Te;var N=pe.Media;return new Promise(function(x){x(At("permissions.request",N))})},C.isSupported=L}(Vr||(Vr={})),function(C){function L(x){return new Promise(function($){if(oe(V,G.content,G.task),!N())throw Te;V.isLegacyTeams?$(Ht("executeDeepLink",kn([x.user],void 0,x.message))):$(Ht("chat.openChat",{members:x.user,message:x.message}))})}function N(){return!(!oe(V)||!V.supports.chat)}C.openChat=L,C.openGroupChat=function(x){return new Promise(function($){if(x.users.length<1)throw Error("OpenGroupChat Failed: No users specified");if(x.users.length===1)L({user:x.users[0],message:x.message});else{if(oe(V,G.content,G.task),!N())throw Te;V.isLegacyTeams?$(Ht("executeDeepLink",kn(x.users,x.topic,x.message))):$(Ht("chat.openChat",{members:x.users,message:x.message,topic:x.topic}))}})},C.isSupported=N}(Qr||(Qr={})),function(C){function L(){return!!(oe(V)&&V.supports.geoLocation&&V.supports.permissions)}C.getCurrentLocation=function(){if(oe(V,G.content,G.task),!L())throw Te;return At("location.getLocation",{allowChooseLocation:!1,showMap:!1})},C.hasPermission=function(){if(oe(V,G.content,G.task),!L())throw Te;var N=pe.GeoLocation;return new Promise(function(x){x(At("permissions.has",N))})},C.requestPermission=function(){if(oe(V,G.content,G.task),!L())throw Te;var N=pe.GeoLocation;return new Promise(function(x){x(At("permissions.request",N))})},C.isSupported=L,function(N){function x(){return!!(oe(V)&&V.supports.geoLocation&&V.supports.geoLocation.map&&V.supports.permissions)}N.chooseLocation=function(){if(oe(V,G.content,G.task),!x())throw Te;return At("location.getLocation",{allowChooseLocation:!0,showMap:!0})},N.showLocation=function($){if(oe(V,G.content,G.task),!x())throw Te;if(!$)throw{errorCode:me.INVALID_ARGUMENTS};return At("location.showLocation",$)},N.isSupported=x}(C.map||(C.map={}))}(Wr||(Wr={}));var yr,is=function(){function C(){}return C.prototype.postMessage=function(L,N){oe(V),Ie("messageForChild",[L],N||de())},C.prototype.addEventListener=function(L,N){oe(V),L==="message"&&ot("messageForParent",N)},C}(),va=function(){function C(){}return Object.defineProperty(C,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!1,configurable:!0}),C.prototype.postMessage=function(L,N){oe(V,G.task),Ie("messageForParent",[L],N||de())},C.prototype.addEventListener=function(L,N){oe(V,G.task),L==="message"&&ot("messageForChild",N)},C}();(function(C){function L(){return!(!oe(V)||!V.supports.location)}C.getLocation=function(N,x){if(!x)throw new Error("[location.getLocation] Callback cannot be null");if(oe(V,G.content,G.task),!cn(d))throw{errorCode:me.OLD_PLATFORM};if(!N)throw{errorCode:me.INVALID_ARGUMENTS};if(!L())throw Te;Ie("location.getLocation",[N],x)},C.showLocation=function(N,x){if(!x)throw new Error("[location.showLocation] Callback cannot be null");if(oe(V,G.content,G.task),!cn(d))throw{errorCode:me.OLD_PLATFORM};if(!N)throw{errorCode:me.INVALID_ARGUMENTS};if(!L())throw Te;Ie("location.showLocation",[N],x)},C.isSupported=L})(yr||(yr={}));var Io,jr,lr,Fn,Ro,Kr,Yn,Tr,Sr,Jr,Do,vr,Ar,Oo,us=function(C,L,N,x){function $(q){return q instanceof N?q:new N(function(K){K(q)})}return new(N||(N=Promise))(function(q,K){function ce(Qe){try{be(x.next(Qe))}catch(mt){K(mt)}}function Oe(Qe){try{be(x.throw(Qe))}catch(mt){K(mt)}}function be(Qe){Qe.done?q(Qe.value):$(Qe.value).then(ce,Oe)}be((x=x.apply(C,L||[])).next())})},jt=function(C,L){var N,x,$,q,K={label:0,sent:function(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return q={next:ce(0),throw:ce(1),return:ce(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function ce(be){return function(Qe){return Oe([be,Qe])}}function Oe(be){if(N)throw new TypeError("Generator is already executing.");for(;q&&(q=0,be[0]&&(K=0)),K;)try{if(N=1,x&&($=2&be[0]?x.return:be[0]?x.throw||(($=x.return)&&$.call(x),0):x.next)&&!($=$.call(x,be[1])).done)return $;switch(x=0,$&&(be=[2&be[0],$.value]),be[0]){case 0:case 1:$=be;break;case 4:return K.label++,{value:be[1],done:!1};case 5:K.label++,x=be[1],be=[0];continue;case 7:be=K.ops.pop(),K.trys.pop();continue;default:if($=K.trys,!(($=$.length>0&&$[$.length-1])||be[0]!==6&&be[0]!==2)){K=0;continue}if(be[0]===3&&(!$||be[1]>$[0]&&be[1]<$[3])){K.label=be[1];break}if(be[0]===6&&K.label<$[1]){K.label=$[1],$=be;break}if($&&K.label<$[2]){K.label=$[2],K.ops.push(be);break}$[2]&&K.ops.pop(),K.trys.pop();continue}be=L.call(C,K)}catch(Qe){be=[6,Qe],x=0}finally{N=$=0}if(5&be[0])throw be[1];return{value:be[0]?be[1]:void 0,done:!0}}};function wo(C){return C?C.modality&&typeof C.modality!="string"?[!1,"modality must be a string"]:C.targetElementBoundingRect&&typeof C.targetElementBoundingRect=="object"?C.triggerType&&typeof C.triggerType=="string"?br(C.persona):[!1,"triggerType must be a valid string"]:[!1,"targetElementBoundingRect must be a DOMRect"]:[!1,"A request object is required"]}function br(C){return C?C.displayName&&typeof C.displayName!="string"?[!1,"displayName must be a string"]:C.identifiers&&typeof C.identifiers=="object"?C.identifiers.AadObjectId||C.identifiers.Smtp||C.identifiers.Upn?C.identifiers.AadObjectId&&typeof C.identifiers.AadObjectId!="string"?[!1,"AadObjectId identifier must be a string"]:C.identifiers.Smtp&&typeof C.identifiers.Smtp!="string"?[!1,"Smtp identifier must be a string"]:C.identifiers.Upn&&typeof C.identifiers.Upn!="string"?[!1,"Upn identifier must be a string"]:[!0,void 0]:[!1,"at least one valid identifier must be provided"]:[!1,"persona identifiers object must be provided"]:[!1,"persona object must be provided"]}function ls(C,L){Vt.initialize(L).then(function(){C&&C()})}function cs(){Cn.enablePrintCapability()}function Aa(){Cn.print()}function ba(C){In(),Ie("getContext",function(L){L.frameContext||(L.frameContext=B.frameContext),C(L)})}function Ca(C){Vt.registerOnThemeChangeHandler(C)}function Ia(C){en("fullScreenChange",C,[])}function Ra(C){en("appButtonClick",C,[G.content])}function cr(C){en("appButtonHoverEnter",C,[G.content])}function Da(C){en("appButtonHoverLeave",C,[G.content])}function Oa(C){Rt.backStack.registerBackButtonHandlerHelper(C)}function No(C){Cn.registerOnLoadHandlerHelper(C)}function ds(C){Cn.registerBeforeUnloadHandlerHelper(C)}function Gn(C){en("focusEnter",C,[])}function Xr(C){en("changeSettings",C,[G.content])}function wa(C,L){oe(V),Rt.tabs.getTabInstances(L).then(function(N){C(N)})}function Na(C,L){oe(V),Rt.tabs.getMruTabInstances(L).then(function(N){C(N)})}function Pa(C){Rt.shareDeepLink({subPageId:C.subEntityId,subPageLabel:C.subEntityLabel,subPageWebUrl:C.subEntityWebUrl})}function dr(C,L){oe(V,G.content,G.sidePanel,G.settings,G.task,G.stage,G.meetingStage),L=L||de(),Vt.openLink(C).then(function(){L(!0)}).catch(function(N){L(!1,N.message)})}function dn(C){Rt.setCurrentFrame(C)}function ms(C,L,N){Rt.initializeWithFrameContext(C,L,N)}function Ma(C){Rt.returnFocus(C)}function La(C,L){oe(V),L=L||de(),Rt.tabs.navigateToTab(C).then(function(){L(!0)}).catch(function(N){L(!1,N.message)})}function ka(C,L){oe(V,G.content,G.sidePanel,G.settings,G.remove,G.task,G.stage,G.meetingStage),L=L||de(),Rt.navigateCrossDomain(C).then(function(){L(!0)}).catch(function(N){L(!1,N.message)})}function xa(C){oe(V),C=C||de(),Rt.backStack.navigateBack().then(function(){C(!0)}).catch(function(L){C(!1,L.message)})}(function(C){var L;function N(q,K){var ce=this;Ie("meeting.requestAppAudioHandling",[q.isAppHandlingAudio],function(Oe,be){if(Oe&&be!=null)throw new Error("[requestAppAudioHandling] Callback response - both parameters cannot be set");if(Oe)throw new Error("[requestAppAudioHandling] Callback response - SDK error ".concat(Oe.errorCode," ").concat(Oe.message));if(typeof be!="boolean")throw new Error("[requestAppAudioHandling] Callback response - isHostAudioless must be a boolean");ot("meeting.micStateChanged",function(Qe){return us(ce,void 0,void 0,function(){var mt,pt;return jt(this,function(We){switch(We.label){case 0:return We.trys.push([0,2,,3]),[4,q.micMuteStateChangedCallback(Qe)];case 1:return mt=We.sent(),pt=mt.isMicMuted===Qe.isMicMuted,$(mt,pt?L.HostInitiated:L.AppDeclinedToChange),[3,3];case 2:return We.sent(),$(Qe,L.AppFailedToChange),[3,3];case 3:return[2]}})})}),K(be)})}function x(q,K){Ie("meeting.requestAppAudioHandling",[q.isAppHandlingAudio],function(ce,Oe){if(ce&&Oe!=null)throw new Error("[requestAppAudioHandling] Callback response - both parameters cannot be set");if(ce)throw new Error("[requestAppAudioHandling] Callback response - SDK error ".concat(ce.errorCode," ").concat(ce.message));if(typeof Oe!="boolean")throw new Error("[requestAppAudioHandling] Callback response - isHostAudioless must be a boolean");js("meeting.micStateChanged")&&zt("meeting.micStateChanged"),K(Oe)})}function $(q,K){oe(V,G.sidePanel,G.meetingStage),Ie("meeting.updateMicState",[q,K])}(function(q){q[q.HostInitiated=0]="HostInitiated",q[q.AppInitiated=1]="AppInitiated",q[q.AppDeclinedToChange=2]="AppDeclinedToChange",q[q.AppFailedToChange=3]="AppFailedToChange"})(L||(L={})),function(q){q.like="like",q.heart="heart",q.laugh="laugh",q.surprised="surprised",q.applause="applause"}(C.MeetingReactionType||(C.MeetingReactionType={})),function(q){q.Unknown="Unknown",q.Adhoc="Adhoc",q.Scheduled="Scheduled",q.Recurring="Recurring",q.Broadcast="Broadcast",q.MeetNow="MeetNow"}(C.MeetingType||(C.MeetingType={})),function(q){q.OneOnOneCall="oneOnOneCall",q.GroupCall="groupCall"}(C.CallType||(C.CallType={})),C.getIncomingClientAudioState=function(q){if(!q)throw new Error("[get incoming client audio state] Callback cannot be null");oe(V,G.sidePanel,G.meetingStage),Ie("getIncomingClientAudioState",q)},C.toggleIncomingClientAudio=function(q){if(!q)throw new Error("[toggle incoming client audio] Callback cannot be null");oe(V,G.sidePanel,G.meetingStage),Ie("toggleIncomingClientAudio",q)},C.getMeetingDetails=function(q){if(!q)throw new Error("[get meeting details] Callback cannot be null");oe(V,G.sidePanel,G.meetingStage,G.settings,G.content),Ie("meeting.getMeetingDetails",q)},C.getAuthenticationTokenForAnonymousUser=function(q){if(!q)throw new Error("[get Authentication Token For AnonymousUser] Callback cannot be null");oe(V,G.sidePanel,G.meetingStage,G.task),Ie("meeting.getAuthenticationTokenForAnonymousUser",q)},C.getLiveStreamState=function(q){if(!q)throw new Error("[get live stream state] Callback cannot be null");oe(V,G.sidePanel),Ie("meeting.getLiveStreamState",q)},C.requestStartLiveStreaming=function(q,K,ce){if(!q)throw new Error("[request start live streaming] Callback cannot be null");oe(V,G.sidePanel),Ie("meeting.requestStartLiveStreaming",[K,ce],q)},C.requestStopLiveStreaming=function(q){if(!q)throw new Error("[request stop live streaming] Callback cannot be null");oe(V,G.sidePanel),Ie("meeting.requestStopLiveStreaming",q)},C.registerLiveStreamChangedHandler=function(q){if(!q)throw new Error("[register live stream changed handler] Handler cannot be null");oe(V,G.sidePanel),ot("meeting.liveStreamChanged",q)},C.shareAppContentToStage=function(q,K){if(!q)throw new Error("[share app content to stage] Callback cannot be null");oe(V,G.sidePanel,G.meetingStage),Ie("meeting.shareAppContentToStage",[K],q)},C.getAppContentStageSharingCapabilities=function(q){if(!q)throw new Error("[get app content stage sharing capabilities] Callback cannot be null");oe(V,G.sidePanel,G.meetingStage),Ie("meeting.getAppContentStageSharingCapabilities",q)},C.stopSharingAppContentToStage=function(q){if(!q)throw new Error("[stop sharing app content to stage] Callback cannot be null");oe(V,G.sidePanel,G.meetingStage),Ie("meeting.stopSharingAppContentToStage",q)},C.getAppContentStageSharingState=function(q){if(!q)throw new Error("[get app content stage sharing state] Callback cannot be null");oe(V,G.sidePanel,G.meetingStage),Ie("meeting.getAppContentStageSharingState",q)},C.registerSpeakingStateChangeHandler=function(q){if(!q)throw new Error("[registerSpeakingStateChangeHandler] Handler cannot be null");oe(V,G.sidePanel,G.meetingStage),ot("meeting.speakingStateChanged",q)},C.registerRaiseHandStateChangedHandler=function(q){if(!q)throw new Error("[registerRaiseHandStateChangedHandler] Handler cannot be null");oe(V,G.sidePanel,G.meetingStage),ot("meeting.raiseHandStateChanged",q)},C.registerMeetingReactionReceivedHandler=function(q){if(!q)throw new Error("[registerMeetingReactionReceivedHandler] Handler cannot be null");oe(V,G.sidePanel,G.meetingStage),ot("meeting.meetingReactionReceived",q)},function(q){q.setOptions=function(K){oe(V,G.sidePanel),K.contentUrl&&new URL(K.contentUrl),Ie("meeting.appShareButton.setOptions",[K])}}(C.appShareButton||(C.appShareButton={})),C.requestAppAudioHandling=function(q,K){if(!K)throw new Error("[requestAppAudioHandling] Callback response cannot be null");if(!q.micMuteStateChangedCallback)throw new Error("[requestAppAudioHandling] Callback Mic mute state handler cannot be null");oe(V,G.sidePanel,G.meetingStage),q.isAppHandlingAudio?N(q,K):x(q,K)},C.updateMicState=function(q){$(q,L.AppInitiated)}})(Io||(Io={})),function(C){function L(){return!(!oe(V)||!V.supports.monetization)}C.openPurchaseExperience=function(N,x){var $,q;return typeof N=="function"?($=N,q=x):q=N,oe(V,G.content),Se(function(){return new Promise(function(K){if(!L())throw Te;K(At("monetization.openPurchaseExperience",q))})},$)},C.isSupported=L}(jr||(jr={})),function(C){function L(){return!(!oe(V)||!V.supports.calendar)}C.openCalendarItem=function(N){return new Promise(function(x){if(oe(V,G.content),!L())throw new Error("Not supported");if(!N.itemId||!N.itemId.trim())throw new Error("Must supply an itemId to openCalendarItem");x(Ht("calendar.openCalendarItem",N))})},C.composeMeeting=function(N){return new Promise(function(x){if(oe(V,G.content),!L())throw new Error("Not supported");V.isLegacyTeams?x(Ht("executeDeepLink",So(N.attendees,N.startTime,N.endTime,N.subject,N.content))):x(Ht("calendar.composeMeeting",N))})},C.isSupported=L}(lr||(lr={})),function(C){function L(){return!(!oe(V)||!V.supports.mail)}C.openMailItem=function(N){return new Promise(function(x){if(oe(V,G.content),!L())throw new Error("Not supported");if(!N.itemId||!N.itemId.trim())throw new Error("Must supply an itemId to openMailItem");x(Ht("mail.openMailItem",N))})},C.composeMail=function(N){return new Promise(function(x){if(oe(V,G.content),!L())throw new Error("Not supported");x(Ht("mail.composeMail",N))})},C.isSupported=L,function(N){N.New="new",N.Reply="reply",N.ReplyAll="replyAll",N.Forward="forward"}(C.ComposeMailType||(C.ComposeMailType={}))}(Fn||(Fn={})),function(C){function L(x){return new Promise(function($){if(!cn(f))throw{errorCode:me.OLD_PLATFORM};if(!Co(x))throw{errorCode:me.INVALID_ARGUMENTS};if(!N())throw Te;$(At("people.selectPeople",x))})}function N(){return!(!oe(V)||!V.supports.people)}C.selectPeople=function(x,$){var q,K,ce;return oe(V,G.content,G.task,G.settings),typeof x=="function"?(K=(q=[x,$])[0],ce=q[1]):ce=x,Be(L,K,ce)},C.isSupported=N}(Ro||(Ro={})),function(C){C.showProfile=function(L){return oe(V,G.content),new Promise(function(N){var x=wo(L),$=x[0],q=x[1];if(!$)throw{errorCode:me.INVALID_ARGUMENTS,message:q};N(At("profile.showProfile",{modality:L.modality,persona:L.persona,triggerType:L.triggerType,targetRectangle:{x:L.targetElementBoundingRect.x,y:L.targetElementBoundingRect.y,width:L.targetElementBoundingRect.width,height:L.targetElementBoundingRect.height}}))})},C.isSupported=function(){return!(!oe(V)||!V.supports.profile)}}(Kr||(Kr={})),function(C){var L;function N(q){Ie("video.videoFrameProcessed",[q])}function x(q){Ie("video.notifyError",[q])}function $(){return!(!oe(V)||!V.supports.video)}(function(q){q[q.NV12=0]="NV12"})(C.VideoFrameFormat||(C.VideoFrameFormat={})),function(q){q[q.EffectChanged=0]="EffectChanged",q[q.EffectDisabled=1]="EffectDisabled"}(C.EffectChangeType||(C.EffectChangeType={})),function(q){q.InvalidEffectId="InvalidEffectId",q.InitializationFailure="InitializationFailure"}(L=C.EffectFailureReason||(C.EffectFailureReason={})),C.registerForVideoFrame=function(q,K){if(oe(V,G.sidePanel),!$())throw Te;ot("video.newVideoFrame",function(ce){if(ce){var Oe=ce.timestamp;q(ce,function(){N(Oe)},x)}},!1),Ie("video.registerForVideoFrame",[K])},C.notifySelectedVideoEffectChanged=function(q,K){if(oe(V,G.sidePanel),!$())throw Te;Ie("video.videoEffectChanged",[q,K])},C.registerForVideoEffect=function(q){if(oe(V,G.sidePanel),!$())throw Te;ot("video.effectParameterChange",function(K){q(K).then(function(){Ie("video.videoEffectReadiness",[!0,K])}).catch(function(ce){var Oe=ce in L?ce:L.InitializationFailure;Ie("video.videoEffectReadiness",[!1,K,Oe])})},!1),Ie("video.registerForVideoEffect")},C.isSupported=$}(Yn||(Yn={})),function(C){var L="search.queryChange",N="search.queryClose",x="search.queryExecute";function $(){return!(!oe(V)||!V.supports.search)}C.registerHandlers=function(q,K,ce){if(oe(V,G.content),!$())throw Te;ot(N,q),ot(x,K),ce&&ot(L,ce)},C.unregisterHandlers=function(){if(oe(V,G.content),!$())throw Te;Ie("search.unregister"),zt(L),zt(N),zt(x)},C.isSupported=$}(Tr||(Tr={})),function(C){function L(K){return new Promise(function(ce){if(!q())throw Te;ce(At(C.SharingAPIMessages.shareWebContent,K))})}function N(K){if(!(K&&K.content&&K.content.length))throw{errorCode:me.INVALID_ARGUMENTS,message:"Shared content is missing"}}function x(K){if(K.content.some(function(ce){return!ce.type}))throw{errorCode:me.INVALID_ARGUMENTS,message:"Shared content type cannot be undefined"};if(K.content.some(function(ce){return ce.type!==K.content[0].type}))throw{errorCode:me.INVALID_ARGUMENTS,message:"Shared content must be of the same type"}}function $(K){if(K.content[0].type!=="URL")throw{errorCode:me.INVALID_ARGUMENTS,message:"Content type is unsupported"};if(K.content.some(function(ce){return!ce.url}))throw{errorCode:me.INVALID_ARGUMENTS,message:"URLs are required for URL content types"}}function q(){return!(!oe(V)||!V.supports.sharing)}C.SharingAPIMessages={shareWebContent:"sharing.shareWebContent"},C.shareWebContent=function(K,ce){try{N(K),x(K),$(K)}catch(Oe){return ke(function(){return Promise.reject(Oe)},ce)}return oe(V,G.content,G.sidePanel,G.task,G.stage,G.meetingStage),ke(L,ce,K)},C.isSupported=q}(Sr||(Sr={})),function(C){function L(){return!(!oe(V)||!V.supports.stageView)}C.open=function(N){return new Promise(function(x){if(oe(V,G.content),!L())throw Te;if(!N)throw new Error("[stageView.open] Stage view params cannot be null");x(At("stageView.open",N))})},C.isSupported=L}(Jr||(Jr={})),function(C){function L(){return!(!oe(V)||!V.supports.webStorage)}C.isWebStorageClearedOnUserLogOut=function(){return oe(V),L()},C.isSupported=L}(Do||(Do={})),function(C){var L;function N(){return!(!oe(V)||!V.supports.call)}(function(x){x.Unknown="unknown",x.Audio="audio",x.Video="video",x.VideoBasedScreenSharing="videoBasedScreenSharing",x.Data="data"})(L=C.CallModalities||(C.CallModalities={})),C.startCall=function(x){return new Promise(function($){var q;if(oe(V,G.content,G.task),!N())throw Te;if(!V.isLegacyTeams)return Ie("call.startCall",[x],$);$(At("executeDeepLink",ss(x.targets,(q=x.requestedModalities)===null||q===void 0?void 0:q.includes(L.Video),x.source)))})},C.isSupported=N}(vr||(vr={})),function(C){C.Messages=Vt.Messages,C.FailedReason=Vt.FailedReason,C.ExpectedFailureReason=Vt.ExpectedFailureReason,C.notifyAppLoaded=function(){Vt.notifyAppLoaded()},C.notifySuccess=function(){Vt.notifySuccess()},C.notifyFailure=function(L){Vt.notifyFailure(L)},C.notifyExpectedFailure=function(L){Vt.notifyExpectedFailure(L)}}(Ar||(Ar={})),function(C){C.setValidityState=function(L){Rt.config.setValidityState(L)},C.getSettings=function(L){oe(V,G.content,G.settings,G.remove,G.sidePanel),Rt.getConfig().then(function(N){L(N)})},C.setSettings=function(L,N){oe(V,G.content,G.settings,G.sidePanel),N=N||de(),Rt.config.setConfig(L).then(function(){N(!0)}).catch(function(x){N(!1,x.message)})},C.registerOnSaveHandler=function(L){Rt.config.registerOnSaveHandlerHelper(L)},C.registerOnRemoveHandler=function(L){Rt.config.registerOnRemoveHandlerHelper(L)}}(Oo||(Oo={}));var Po,Bn,ie,ve=function(C,L){var N={};for(var x in C)Object.prototype.hasOwnProperty.call(C,x)&&L.indexOf(x)<0&&(N[x]=C[x]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var $=0;for(x=Object.getOwnPropertySymbols(C);$<x.length;$++)L.indexOf(x[$])<0&&Object.prototype.propertyIsEnumerable.call(C,x[$])&&(N[x[$]]=C[x[$]])}return N};(function(C){function L($){return{url:$.url,size:{height:$.height?$.height:je.Small,width:$.width?$.width:je.Small},title:$.title,fallbackUrl:$.fallbackUrl}}function N($){return{url:$.url,size:{height:$.height?$.height:je.Small,width:$.width?$.width:je.Small},title:$.title,fallbackUrl:$.fallbackUrl,completionBotId:$.completionBotId}}function x($){return $.height=$.height?$.height:je.Small,$.width=$.width?$.width:je.Small,$}C.startTask=function($,q){var K=q?function(ce){return q(ce.err,ce.result)}:void 0;return $.card===void 0&&$.url===void 0||$.card?(oe(V,G.content,G.sidePanel,G.meetingStage),Ie("tasks.startTask",[$],q)):$.completionBotId!==void 0?bn.url.bot.open(N($),K):bn.url.open(L($),K),new is},C.updateTask=function($){($=x($)).width,$.height;var q=ve($,["width","height"]);if(Object.keys(q).length)throw new Error("resize requires a TaskInfo argument containing only width and height");bn.update.resize($)},C.submitTask=function($,q){bn.url.submit($,q)},C.getDefaultSizeIfNotProvided=x})(Po||(Po={})),function(C){C.guest="Guest",C.attendee="Attendee",C.presenter="Presenter",C.organizer="Organizer"}(Bn||(Bn={})),function(C){C.added="Added",C.alreadyExists="AlreadyExists",C.conflict="Conflict",C.notFound="NotFound"}(ie||(ie={}));var _e,qe,nt,Et,Ot,Tt,Cr,Fa=function(){function C(){}return C.prototype.getFluidTenantInfo=function(){return rn(),new Promise(function(L){L(At("interactive.getFluidTenantInfo"))})},C.prototype.getFluidToken=function(L){return rn(),new Promise(function(N){N(At("interactive.getFluidToken",L))})},C.prototype.getFluidContainerId=function(){return rn(),new Promise(function(L){L(At("interactive.getFluidContainerId"))})},C.prototype.setFluidContainerId=function(L){return rn(),new Promise(function(N){N(At("interactive.setFluidContainerId",L))})},C.prototype.getNtpTime=function(){return rn(),new Promise(function(L){L(At("interactive.getNtpTime"))})},C.prototype.registerClientId=function(L){return rn(),new Promise(function(N){N(At("interactive.registerClientId",L))})},C.prototype.getClientRoles=function(L){return rn(),new Promise(function(N){N(At("interactive.getClientRoles",L))})},C.prototype.getClientInfo=function(L){return rn(),new Promise(function(N){N(At("interactive.getClientInfo",L))})},C.create=function(){return rn(),new C},C}();function Kt(){return!(!oe(V,G.meetingStage,G.sidePanel)||!V.supports.interactive)}function rn(){if(!Kt())throw new Error("LiveShareHost Not supported")}(function(C){function L(N,x){return{errorCode:N,message:x}}(function(N){N.Dropbox="DROPBOX",N.Box="BOX",N.Sharefile="SHAREFILE",N.GoogleDrive="GOOGLEDRIVE",N.Egnyte="EGNYTE",N.SharePoint="SharePoint"})(C.CloudStorageProvider||(C.CloudStorageProvider={})),function(N){N[N.Sharepoint=0]="Sharepoint",N[N.WopiIntegration=1]="WopiIntegration",N[N.Google=2]="Google",N[N.OneDrive=3]="OneDrive",N[N.Recent=4]="Recent",N[N.Aggregate=5]="Aggregate",N[N.FileSystem=6]="FileSystem",N[N.Search=7]="Search",N[N.AllFiles=8]="AllFiles",N[N.SharedWithMe=9]="SharedWithMe"}(C.CloudStorageProviderType||(C.CloudStorageProviderType={})),function(N){N.ClassMaterials="classMaterials"}(C.SpecialDocumentLibraryType||(C.SpecialDocumentLibraryType={})),function(N){N.Readonly="readonly"}(C.DocumentLibraryAccessType||(C.DocumentLibraryAccessType={})),function(N){N.Downloaded="Downloaded",N.Downloading="Downloading",N.Failed="Failed"}(C.FileDownloadStatus||(C.FileDownloadStatus={})),function(N){N.Download="DOWNLOAD",N.Upload="UPLOAD",N.Delete="DELETE"}(C.CloudStorageProviderFileAction||(C.CloudStorageProviderFileAction={})),C.getCloudStorageFolders=function(N,x){if(oe(V,G.content),!N||N.length===0)throw new Error("[files.getCloudStorageFolders] channelId name cannot be null or empty");if(!x)throw new Error("[files.getCloudStorageFolders] Callback cannot be null");Ie("files.getCloudStorageFolders",[N],x)},C.addCloudStorageFolder=function(N,x){if(oe(V,G.content),!N||N.length===0)throw new Error("[files.addCloudStorageFolder] channelId name cannot be null or empty");if(!x)throw new Error("[files.addCloudStorageFolder] Callback cannot be null");Ie("files.addCloudStorageFolder",[N],x)},C.deleteCloudStorageFolder=function(N,x,$){if(oe(V,G.content),!N)throw new Error("[files.deleteCloudStorageFolder] channelId name cannot be null or empty");if(!x)throw new Error("[files.deleteCloudStorageFolder] folderToDelete cannot be null or empty");if(!$)throw new Error("[files.deleteCloudStorageFolder] Callback cannot be null");Ie("files.deleteCloudStorageFolder",[N,x],$)},C.getCloudStorageFolderContents=function(N,x,$){if(oe(V,G.content),!N||!x)throw new Error("[files.getCloudStorageFolderContents] folder/providerCode name cannot be null or empty");if(!$)throw new Error("[files.getCloudStorageFolderContents] Callback cannot be null");if("isSubdirectory"in N&&!N.isSubdirectory)throw new Error("[files.getCloudStorageFolderContents] provided folder is not a subDirectory");Ie("files.getCloudStorageFolderContents",[N,x],$)},C.openCloudStorageFile=function(N,x,$){if(oe(V,G.content),!N||!x)throw new Error("[files.openCloudStorageFile] file/providerCode cannot be null or empty");if(N.isSubdirectory)throw new Error("[files.openCloudStorageFile] provided file is a subDirectory");Ie("files.openCloudStorageFile",[N,x,$])},C.getExternalProviders=function(N,x){if(N===void 0&&(N=!1),oe(V,G.content),!x)throw new Error("[files.getExternalProviders] Callback cannot be null");Ie("files.getExternalProviders",[N],x)},C.copyMoveFiles=function(N,x,$,q,K,ce){if(K===void 0&&(K=!1),oe(V,G.content),!N||N.length===0)throw new Error("[files.copyMoveFiles] selectedFiles cannot be null or empty");if(!x)throw new Error("[files.copyMoveFiles] providerCode cannot be null or empty");if(!$)throw new Error("[files.copyMoveFiles] destinationFolder cannot be null or empty");if(!q)throw new Error("[files.copyMoveFiles] destinationProviderCode cannot be null or empty");if(!ce)throw new Error("[files.copyMoveFiles] callback cannot be null");Ie("files.copyMoveFiles",[N,x,$,q,K],ce)},C.getFileDownloads=function(N){if(oe(V,G.content),!N)throw new Error("[files.getFileDownloads] Callback cannot be null");Ie("files.getFileDownloads",[],N)},C.openDownloadFolder=function(N,x){if(N===void 0&&(N=void 0),oe(V,G.content),!x)throw new Error("[files.openDownloadFolder] Callback cannot be null");Ie("files.openDownloadFolder",[N],x)},C.addCloudStorageProvider=function(N){if(oe(V,G.content),!N)throw L(me.INVALID_ARGUMENTS,"[files.addCloudStorageProvider] callback cannot be null");Ie("files.addCloudStorageProvider",[],N)},C.removeCloudStorageProvider=function(N,x){if(oe(V,G.content),!x)throw L(me.INVALID_ARGUMENTS,"[files.removeCloudStorageProvider] callback cannot be null");if(!N||!N.content)throw L(me.INVALID_ARGUMENTS,"[files.removeCloudStorageProvider] 3P cloud storage provider request content is missing");Ie("files.removeCloudStorageProvider",[N],x)},C.addCloudStorageProviderFile=function(N,x){if(oe(V,G.content),!x)throw L(me.INVALID_ARGUMENTS,"[files.addCloudStorageProviderFile] callback cannot be null");if(!N||!N.content)throw L(me.INVALID_ARGUMENTS,"[files.addCloudStorageProviderFile] 3P cloud storage provider request content is missing");Ie("files.addCloudStorageProviderFile",[N],x)},C.renameCloudStorageProviderFile=function(N,x){if(oe(V,G.content),!x)throw L(me.INVALID_ARGUMENTS,"[files.renameCloudStorageProviderFile] callback cannot be null");if(!N||!N.content)throw L(me.INVALID_ARGUMENTS,"[files.renameCloudStorageProviderFile] 3P cloud storage provider request content is missing");Ie("files.renameCloudStorageProviderFile",[N],x)},C.deleteCloudStorageProviderFile=function(N,x){if(oe(V,G.content),!x)throw L(me.INVALID_ARGUMENTS,"[files.deleteCloudStorageProviderFile] callback cannot be null");if(!(N&&N.content&&N.content.itemList&&N.content.itemList.length>0))throw L(me.INVALID_ARGUMENTS,"[files.deleteCloudStorageProviderFile] 3P cloud storage provider request content details are missing");Ie("files.deleteCloudStorageProviderFile",[N],x)},C.downloadCloudStorageProviderFile=function(N,x){if(oe(V,G.content),!x)throw L(me.INVALID_ARGUMENTS,"[files.downloadCloudStorageProviderFile] callback cannot be null");if(!(N&&N.content&&N.content.itemList&&N.content.itemList.length>0))throw L(me.INVALID_ARGUMENTS,"[files.downloadCloudStorageProviderFile] 3P cloud storage provider request content details are missing");Ie("files.downloadCloudStorageProviderFile",[N],x)},C.uploadCloudStorageProviderFile=function(N,x){if(oe(V,G.content),!x)throw L(me.INVALID_ARGUMENTS,"[files.uploadCloudStorageProviderFile] callback cannot be null");if(!(N&&N.content&&N.content.itemList&&N.content.itemList.length>0))throw L(me.INVALID_ARGUMENTS,"[files.uploadCloudStorageProviderFile] 3P cloud storage provider request content details are missing");if(!N.content.destinationFolder)throw L(me.INVALID_ARGUMENTS,"[files.uploadCloudStorageProviderFile] Invalid destination folder details");Ie("files.uploadCloudStorageProviderFile",[N],x)},C.registerCloudStorageProviderListChangeHandler=function(N){if(oe(V),!N)throw new Error("[registerCloudStorageProviderListChangeHandler] Handler cannot be null");ot("files.cloudStorageProviderListChange",N)},C.registerCloudStorageProviderContentChangeHandler=function(N){if(oe(V),!N)throw new Error("[registerCloudStorageProviderContentChangeHandler] Handler cannot be null");ot("files.cloudStorageProviderContentChange",N)}})(_e||(_e={})),function(C){function L(){return!(!oe(V)||!V.supports.meetingRoom)}C.getPairedMeetingRoomInfo=function(){return new Promise(function(N){if(oe(V),!L())throw Te;N(At("meetingRoom.getPairedMeetingRoomInfo"))})},C.sendCommandToPairedMeetingRoom=function(N){return new Promise(function(x){if(!N||N.length==0)throw new Error("[meetingRoom.sendCommandToPairedMeetingRoom] Command name cannot be null or empty");if(oe(V),!L())throw Te;x(At("meetingRoom.sendCommandToPairedMeetingRoom",N))})},C.registerMeetingRoomCapabilitiesUpdateHandler=function(N){if(!N)throw new Error("[meetingRoom.registerMeetingRoomCapabilitiesUpdateHandler] Handler cannot be null");if(oe(V),!L())throw Te;ot("meetingRoom.meetingRoomCapabilitiesUpdate",function(x){oe(V),N(x)})},C.registerMeetingRoomStatesUpdateHandler=function(N){if(!N)throw new Error("[meetingRoom.registerMeetingRoomStatesUpdateHandler] Handler cannot be null");if(oe(V),!L())throw Te;ot("meetingRoom.meetingRoomStatesUpdate",function(x){oe(V),N(x)})},C.isSupported=L}(qe||(qe={})),function(C){function L(){return!(!oe(V)||!V.supports.notifications)}C.showNotification=function(N){if(oe(V,G.content),!L())throw Te;Ie("notifications.showNotification",[N])},C.isSupported=L}(nt||(nt={})),function(C){function L(){return!(!oe(V)||!V.supports.remoteCamera)}(function(N){N.Reset="Reset",N.ZoomIn="ZoomIn",N.ZoomOut="ZoomOut",N.PanLeft="PanLeft",N.PanRight="PanRight",N.TiltUp="TiltUp",N.TiltDown="TiltDown"})(C.ControlCommand||(C.ControlCommand={})),function(N){N[N.CommandResetError=0]="CommandResetError",N[N.CommandZoomInError=1]="CommandZoomInError",N[N.CommandZoomOutError=2]="CommandZoomOutError",N[N.CommandPanLeftError=3]="CommandPanLeftError",N[N.CommandPanRightError=4]="CommandPanRightError",N[N.CommandTiltUpError=5]="CommandTiltUpError",N[N.CommandTiltDownError=6]="CommandTiltDownError",N[N.SendDataError=7]="SendDataError"}(C.ErrorReason||(C.ErrorReason={})),function(N){N[N.None=0]="None",N[N.ControlDenied=1]="ControlDenied",N[N.ControlNoResponse=2]="ControlNoResponse",N[N.ControlBusy=3]="ControlBusy",N[N.AckTimeout=4]="AckTimeout",N[N.ControlTerminated=5]="ControlTerminated",N[N.ControllerTerminated=6]="ControllerTerminated",N[N.DataChannelError=7]="DataChannelError",N[N.ControllerCancelled=8]="ControllerCancelled",N[N.ControlDisabled=9]="ControlDisabled",N[N.ControlTerminatedToAllowOtherController=10]="ControlTerminatedToAllowOtherController"}(C.SessionTerminatedReason||(C.SessionTerminatedReason={})),C.getCapableParticipants=function(N){if(!N)throw new Error("[remoteCamera.getCapableParticipants] Callback cannot be null");if(oe(V,G.sidePanel),!L())throw Te;Ie("remoteCamera.getCapableParticipants",N)},C.requestControl=function(N,x){if(!N)throw new Error("[remoteCamera.requestControl] Participant cannot be null");if(!x)throw new Error("[remoteCamera.requestControl] Callback cannot be null");if(oe(V,G.sidePanel),!L())throw Te;Ie("remoteCamera.requestControl",[N],x)},C.sendControlCommand=function(N,x){if(!N)throw new Error("[remoteCamera.sendControlCommand] ControlCommand cannot be null");if(!x)throw new Error("[remoteCamera.sendControlCommand] Callback cannot be null");if(oe(V,G.sidePanel),!L())throw Te;Ie("remoteCamera.sendControlCommand",[N],x)},C.terminateSession=function(N){if(!N)throw new Error("[remoteCamera.terminateSession] Callback cannot be null");if(oe(V,G.sidePanel),!L())throw Te;Ie("remoteCamera.terminateSession",N)},C.registerOnCapableParticipantsChangeHandler=function(N){if(!N)throw new Error("[remoteCamera.registerOnCapableParticipantsChangeHandler] Handler cannot be null");if(oe(V,G.sidePanel),!L())throw Te;ot("remoteCamera.capableParticipantsChange",N)},C.registerOnErrorHandler=function(N){if(!N)throw new Error("[remoteCamera.registerOnErrorHandler] Handler cannot be null");if(oe(V,G.sidePanel),!L())throw Te;ot("remoteCamera.handlerError",N)},C.registerOnDeviceStateChangeHandler=function(N){if(!N)throw new Error("[remoteCamera.registerOnDeviceStateChangeHandler] Handler cannot be null");if(oe(V,G.sidePanel),!L())throw Te;ot("remoteCamera.deviceStateChange",N)},C.registerOnSessionStatusChangeHandler=function(N){if(!N)throw new Error("[remoteCamera.registerOnSessionStatusChangeHandler] Handler cannot be null");if(oe(V,G.sidePanel),!L())throw Te;ot("remoteCamera.sessionStatusChange",N)},C.isSupported=L}(Et||(Et={})),function(C){function L(){return!(!oe(V)||!V.supports.appEntity)}C.selectAppEntity=function(N,x,$,q){if(oe(V,G.content),!L())throw Te;if(!N||N.length==0)throw new Error("[appEntity.selectAppEntity] threadId name cannot be null or empty");if(!q)throw new Error("[appEntity.selectAppEntity] Callback cannot be null");Ie("appEntity.selectAppEntity",[N,x,$],q)},C.isSupported=L}(Ot||(Ot={})),function(C){function L(){return!(!oe(V)||!V.supports.teams)}(function(N){N[N.Regular=0]="Regular",N[N.Private=1]="Private",N[N.Shared=2]="Shared"})(C.ChannelType||(C.ChannelType={})),C.getTeamChannels=function(N,x){if(oe(V,G.content),!L())throw Te;if(!N)throw new Error("[teams.getTeamChannels] groupId cannot be null or empty");if(!x)throw new Error("[teams.getTeamChannels] Callback cannot be null");Ie("teams.getTeamChannels",[N],x)},C.refreshSiteUrl=function(N,x){if(oe(V),!L())throw Te;if(!N)throw new Error("[teams.refreshSiteUrl] threadId cannot be null or empty");if(!x)throw new Error("[teams.refreshSiteUrl] Callback cannot be null");Ie("teams.refreshSiteUrl",[N],x)},C.isSupported=L,function(N){function x(){return!(!oe(V)||!V.supports.teams)&&!!V.supports.teams.fullTrust}(function($){function q(){return!(!oe(V)||!V.supports.teams)&&!!V.supports.teams.fullTrust&&!!V.supports.teams.fullTrust.joinedTeams}$.getUserJoinedTeams=function(K){return new Promise(function(ce){if(oe(V),!q())throw Te;if((B.hostClientType===le.android||B.hostClientType===le.teamsRoomsAndroid||B.hostClientType===le.teamsPhones||B.hostClientType===le.teamsDisplays)&&!cn(y)){var Oe={errorCode:me.OLD_PLATFORM};throw new Error(JSON.stringify(Oe))}ce(Wn("getUserJoinedTeams",K))})},$.isSupported=q})(N.joinedTeams||(N.joinedTeams={})),N.getConfigSetting=function($){return new Promise(function(q){if(oe(V),!x())throw Te;q(Wn("getConfigSetting",$))})},N.isSupported=x}(C.fullTrust||(C.fullTrust={}))}(Tt||(Tt={})),function(C){var L;function N(){return oe(V),Yn.isSupported()}function x(q){Ie("video.videoFrameProcessed",[q])}function $(q,K){K===void 0&&(K=L.Warn),Ie("video.notifyError",[q,K])}(function(q){q.Fatal="fatal",q.Warn="warn"})(L=C.ErrorLevel||(C.ErrorLevel={})),C.registerForVideoFrame=function(q,K){if(oe(V,G.sidePanel),!N())throw Te;ot("video.newVideoFrame",function(ce){if(ce){var Oe=ce.timestamp;q(ce,function(){x(Oe)},$)}},!1),Ie("video.registerForVideoFrame",[K])},C.notifySelectedVideoEffectChanged=function(q,K,ce){if(oe(V,G.sidePanel),!N())throw Te;Ie("video.videoEffectChanged",[q,K,ce])},C.registerForVideoEffect=function(q){if(oe(V,G.sidePanel),!N())throw Te;ot("video.effectParameterChange",q,!1),Ie("video.registerForVideoEffect")},C.updatePersonalizedEffects=function(q){if(oe(V,G.sidePanel),!Yn.isSupported())throw Te;Ie("video.personalizedEffectsChanged",[q])},C.isSupported=N,C.notifyFatalError=function(q){if(oe(V),!Yn.isSupported())throw Te;$(q,L.Fatal)}}(Cr||(Cr={}))})(),s})())})(MicrosoftTeams_min);var MicrosoftTeams_minExports=MicrosoftTeams_min.exports;const MSTeams={init(){QLogger$1.log("MsTeams.init: Initializing Teams sdk..."),MicrosoftTeams_minExports.initialize(()=>{this.notifyAuthSuccess(),QLogger$1.log("MsTeams.init: Initialization done.")})},notifyAuthSuccess(){try{const e=LocalStorage$1.getItem("msftConfigAuthStartedFrom");if(e&&this.isUserLoggedIn()){QLogger$1.log("MsTeams.notifyAuthSuccess: Auth started from config page. Redirecting back..."),LocalStorage$1.removeItem("msftConfigAuthStartedFrom"),window.location.href=e;return}LocalStorage$1.getItem("shouldNotifyMsft")&&(QLogger$1.log("MsTeams.notifyAuthSuccess: notifying auth success!"),LocalStorage$1.removeItem("shouldNotifyMsft"),MicrosoftTeams_minExports.authentication.notifySuccess()),document.location.href.includes("msftTeamsAuthNotify")&&(QLogger$1.log("MsTeams.notifyAuthSuccess: notifying auth success!"),MicrosoftTeams_minExports.authentication.notifySuccess())}catch(e){QLogger$1.error(`MsTeams.notifyAuthSuccess: Error!
`,e)}},initiateAuthFlow(e,t=()=>{}){const n=getQueryParamsFromURL(e);n.msftTeamsAuthNotify=!0;const r=getPathnameFromURL(e),o=generateQueryString(n);try{LocalStorage$1.setItem("shouldNotifyMsft",!0)}catch(s){QLogger$1.error(`MsTeams.notifyAuthSuccess: Error!
`,s)}MicrosoftTeams_minExports.authentication.authenticate({url:`${r}?${o}`,successCallback:()=>{t(!0)},failureCallback:()=>{t(!1)},width:800,height:600})},isUserLoggedIn(){return!0},getTeamsAppId(){return Constants.NodeEnvs.PROD==="production"?"a22fbd93-4ad1-4842-b88d-bef47690f909":"766e7536-be7a-40f2-afd0-2c716c3ce6bd"},openStageView(e){if(!e)return;QLogger$1.log("MsTeams.openStageView: Opening app url in teams stage view ",e);const t={contentUrl:e,websiteUrl:e},n=`https://teams.microsoft.com/l/stage/${this.getTeamsAppId()}/0?context=${encodeURIComponent(JSON.stringify(t))}`;MicrosoftTeams_minExports.executeDeepLink(n)},getSession(){let e=null;try{window.sessionStorage&&(e=window.sessionStorage.getItem("msftContext"),e&&(e=JSON.parse(e)))}catch(t){QLogger$1.log("Error while accessing session, ",t)}return e},createSession(){try{const e={init:!0};window.sessionStorage&&window.sessionStorage.setItem("msftContext",JSON.stringify(e))}catch(e){QLogger$1.log("Error while creating session, ",e)}}},MSTeamsHandler={install(e,t){let n=!1;if(!n){let r=MSTeams.getSession();const o=getQueryParamsFromURL(window.location.href)["ms-teams"];!r&&o&&(r=MSTeams.createSession()),r&&(QLogger$1.log("MSTeams: Initializing Teams session"),MSTeams.init(),n=!0,QLogger$1.log("MSTeams: Teams session initialized")),e.config.globalProperties.$msTeams={isTeamApp:()=>n,...MSTeams}}}},QButton_vue_vue_type_style_index_0_scoped_362bc461_lang="",_sfc_main$1={__name:"QButton",props:{title:{type:String,default:""},type:{type:String,default:"primary",validator:e=>["super-secondary","primary","danger","other"].includes(e)},size:{type:String,default:"md"}},setup(e){return(t,n)=>(openBlock(),createElementBlock("button",{class:normalizeClass(["relative flex-view justify-center items-center strip-default-btn-style",e.type])},[createBaseVNode("span",null,toDisplayString(e.title),1)],2))}},QButton=_export_sfc(_sfc_main$1,[["__scopeId","data-v-362bc461"]]),_sfc_main={__name:"GlobalLoader",props:{name:{type:String,required:!0}},setup(e){const t=e,n=computed(()=>{const o=$store.state.applicationContext.globalLoaders;return(t.name?o.find(a=>a.name===t.name):null)||{}}),r=computed(()=>!isEmpty(n.value));return(o,s)=>unref(r)?renderSlot(o.$slots,"loader",normalizeProps(mergeProps({key:0},unref(n))),()=>[createTextVNode(" Loading... ")]):renderSlot(o.$slots,"default",{key:1})}},timer=`
  let timer;
  self.onmessage = function (event) {
    switch (event.data) {
      case 'start':
        timer = setInterval(() => {
            self.postMessage('tick');
          }, 1000 );
        break;
      case 'stop':
        clearInterval(timer);
        break;
      default:
    }
  };
`,timerWorker=createWorker(timer),TimerWorker={install(e){e.provide("$timerWorker",timerWorker)}},ToastPlugin={install(e){e.config.globalProperties.$toasts=ToastService,e.provide("$toasts",ToastService)}},app$1="";QLogger$1.log("Bootstrapping Application ver 4.0.0");const app=createApp({render:()=>h(_sfc_main$5)}),pinia=createPinia();pinia.use(piniaLogger.PiniaLogger({expanded:!1,disabled:Constants.NodeEnvs.PROD==="production"}));app.use($store);app.use($router);app.use(pinia);app.use(lineClamp,{});app.use(clickOutside,{});app.use(TimerWorker);app.use(ToastPlugin);app.use(MSTeamsHandler,{});app.use(plugin,{themes:{"read-aloud-tooltip":{$extend:"tooltip",$resetCss:!0}}});app.directive("tooltip",VTooltip);app.directive("close-popper",VClosePopper);app.component("GlobalLoader",_sfc_main);app.component("ThemedContentDiv",ThemedContentDiv);app.component("ThemedBackgroundDiv",ThemedBackgroundDiv);app.component("QLoader",QLoader);app.component("QButton",QButton);app.component("VTooltip",Tooltip$1);app.component("VDropdown",Dropdown);app.component("Tooltip",Tooltip);app.provide("Constants",Constants);app.provide("PageNames",PageNames);Hotjar(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv=");app.mount("#root");initializeSentry();async function initializeSentry(){const e=URLConfig.getSentryDsnURL();isEmpty(e)||init$1({app,dsn:e,sampleRate:.15,beforeSend:t=>beforeSendingEventToSentry(t,$store),beforeBreadcrumb:t=>["console","dom","xhr","fetch","beacon","history","navigation"].includes(t.category||"")?null:t,tracesSampleRate:0})}export{getTranslatedText as $,withModifiers as A,createBlock as B,Constants as C,lastGamePlayedToAttemptsFormat as D,checkIfCallInProgress as E,Fragment as F,GameStartSource as G,buildPreGameRouteComposite as H,asyncDelay as I,InHouseEventLogger$1 as J,isSpeechSynthesisPresent as K,mapActions as L,Modal as M,mapState as N,mapGetters as O,PageNames as P,QLogger$1 as Q,mergeProps as R,requiredArgs as S,Transition as T,toDate as U,getIntentPageCountry as V,WebEvents as W,attachParamForType as X,renderList as Y,TransitionGroup as Z,_export_sfc as _,useRouter as a,isReactive as a$,MarketingCampaigns$1 as a0,startOfDay as a1,endOfDay as a2,URLConfig as a3,isValidRoomCode as a4,QButton$1 as a5,getRecentActivityItem as a6,PausableInterval as a7,OnboardingUtils$1 as a8,removeURLParameter as a9,createHydrationRenderer as aA,createPropsRestProxy as aB,createRenderer as aC,createSSRApp as aD,createSlots as aE,customRef as aF,defineAsyncComponent as aG,defineComponent as aH,defineCustomElement as aI,defineEmits as aJ,defineExpose as aK,defineProps as aL,defineSSRCustomElement as aM,devtools as aN,effect as aO,effectScope as aP,getCurrentInstance as aQ,getCurrentScope as aR,getTransitionRawChildren as aS,guardReactiveProps as aT,h as aU,handleError as aV,hydrate as aW,initCustomFormatter as aX,initDirectivesForSSR as aY,isMemoSame as aZ,isProxy as a_,vModelSelect as aa,getFormattedDate as ab,isUserATeacher as ac,nameValidator as ad,getThemeDisplayName as ae,kFormatter as af,useStore as ag,isCorporateUser as ah,BaseTransition as ai,Comment as aj,EffectScope as ak,KeepAlive as al,ReactiveEffect as am,Static as an,Suspense as ao,Teleport as ap,Text as aq,VueElement as ar,assertNumber as as,callWithAsyncErrorHandling as at,callWithErrorHandling as au,camelize as av,capitalize as aw,cloneVNode as ax,compatUtils as ay,createApp as az,createElementBlock as b,watchPostEffect as b$,isReadonly as b0,isRef as b1,isRuntimeOnly as b2,isShallow as b3,isVNode as b4,markRaw as b5,mergeDefaults as b6,nextTick$1 as b7,normalizeProps as b8,onActivated as b9,setTransitionHooks as bA,shallowReactive as bB,shallowReadonly as bC,shallowRef as bD,ssrContextKey as bE,ssrUtils as bF,stop as bG,toHandlerKey as bH,toHandlers as bI,toRaw as bJ,toRef as bK,toRefs as bL,transformVNodeArgs as bM,triggerRef as bN,useAttrs as bO,useCssModule as bP,useCssVars as bQ,useSSRContext as bR,useSlots as bS,useTransitionState as bT,vModelCheckbox as bU,vModelDynamic as bV,vModelRadio as bW,version as bX,warn as bY,watch as bZ,watchEffect as b_,onBeforeMount as ba,onBeforeUnmount as bb,onBeforeUpdate as bc,onDeactivated as bd,onErrorCaptured as be,onMounted as bf,onRenderTracked as bg,onRenderTriggered as bh,onScopeDispose as bi,onServerPrefetch as bj,onUnmounted as bk,onUpdated as bl,provide as bm,proxyRefs as bn,queuePostFlushCb as bo,reactive as bp,readonly as bq,ref as br,registerRuntimeCompiler as bs,render$2 as bt,renderSlot as bu,resolveDynamicComponent as bv,resolveFilter as bw,resolveTransitionHooks as bx,setBlockTracking as by,setDevtoolsHook as bz,computed as c,ReadAloudIds as c$,watchSyncEffect as c0,withAsyncContext as c1,withDefaults as c2,withMemo as c3,withScopeId as c4,useAddEventToWindow as c5,createTestGameActivity as c6,isValidTheme as c7,isPresentationGame as c8,CurrentGameStats$1 as c9,GameViewConfig as cA,isMysticPeakGame as cB,PROCEED_GAME_REQUEST_TIMEOUT as cC,shownPowerupBonusScore as cD,SoundStatuses as cE,getPowerupsUsingGlowSpecialEffect as cF,useAutoClearingSetInterval as cG,addClassesToElement as cH,removeClassesToElement as cI,GameConstants as cJ,SoundCategories as cK,isOptionsBasedQuestion as cL,getImageBoundedDimensions as cM,isProfane as cN,QLoader as cO,YoutubeApiLoader$1 as cP,getQuestionElementVideoTimes as cQ,getQuestionVideoId as cR,getQuestionElementVideoSource as cS,getQuestionGoogleDriveFileId as cT,getIdForQuestionSound as cU,replaceKatexElementsWithHTML as cV,SlidesAudio as cW,getQuestionVideo as cX,isValidImageOption as cY,isValidTextOption as cZ,replaceBlankTagsWithPlaceholders as c_,HotjarService as ca,HotjarEvents as cb,closeWebview as cc,commonjsGlobal as cd,getDefaultExportFromCjs as ce,addGameQuestionIssue as cf,ToastService as cg,GlobalEventBus as ch,Tooltip as ci,PowerupsConfigManager$1 as cj,getPowerupImageUrl as ck,getPowerupGradientCSS as cl,useListItemToggler as cm,useGetters as cn,getPowerupTargettingDetails as co,Sound$1 as cp,SoundNames as cq,givePowerupsForNudgeType as cr,useDeviceProps as cs,addOrReplaceParam as ct,GameModeConfigs as cu,ScoreBreakup as cv,PowerupScoreBreakup as cw,isMatchOrReorderQuestion as cx,isQuestionForDragAndDropOrDropdown as cy,useAutoClearingSetTimeout as cz,createBaseVNode as d,RedemptionQuestionConfig as d$,splitBlankElementsAndHtml as d0,getLatexHTML as d1,isQuestionForDropdown as d2,doesQuestionHaveValidImage as d3,doesQuestionHaveValidVideo as d4,doesQuestionHaveValidAudio as d5,getAllQuestionMediaOfType as d6,nanoid as d7,isResponse2Point0 as d8,require$$0 as d9,doesQuestionHaveValidMedia as dA,updatePlayerLiveWhiteboard as dB,getPlayerLiveWhiteboard as dC,__vitePreload as dD,getScaleFromAspectRatios as dE,isDrawingBasedQuestion as dF,isQuestionForDndImage as dG,isQuestionForGraphing as dH,isQuestionForHotspot as dI,doesOptionHaveValidImage as dJ,getAllOptionMediaOfType as dK,useTicker as dL,MysteryBoxStructure as dM,spendMinTimeResolving as dN,isValidTouchObject as dO,doesElementRequireKeyboardFocus as dP,isSlideForQuestion as dQ,isQuestionForEquation as dR,isQuestionForClassification as dS,isQuestionForMatch as dT,isQuestionForReOrder as dU,getTimingsFromMediaObject as dV,PausableTimeout as dW,didQuestionVirtuallyTimedOut as dX,doesQuestionHaveCorrectAnswer as dY,isValidPowerup as dZ,selectUpcomingMemeToShow as d_,getAugmentedNamespace as da,humanizeSeconds as db,uploadFileToS3 as dc,canMediaBePlayedInBrowser as dd,checkMediaOptionUrlExists as de,getMediaUrlData as df,GestureEducatorConfig as dg,isMediaBasedQuestion as dh,isTypingBasedQuestion as di,getAttemptSuperScript as dj,doesQuestionRequireASubmitButton as dk,getQuestionResponseState as dl,prepareReadAloudQuestion as dm,prepareReadAloudOptions as dn,getCookedSlideTheme as dp,getFontSizeForSlideContentType as dq,SlideThemeConstants as dr,getWebsiteLogo as ds,getNumberFromCSSValue as dt,getSanitizedTextForTTS as du,copyTextToClipboard as dv,getQuestionElementVideoId as dw,scaleDimensionsForABox as dx,getBlankIdsMappingFromHTML as dy,getCookedAnswerResponse as dz,unref as e,BREAK_ROOM_ITEM_TYPES as e0,LocalStorage$1 as e1,isQuestionForAudio as e2,isQuestionForVideo as e3,replaceBlankElementsWithHTML as e4,isQuestionUngraded as e5,getAnswerValueFromResponse as e6,isCurrentTargetMatchedWithRightOption as e7,colorCodesForAnswerType as e8,getColorForPartialCorrectness as e9,BREAK_ROOM_TYPES as eA,OverlayTargetIds as eB,makeMemeUrlsToFetch as eC,isQuizWithoutCorrectAnswers as eD,copyInputContentToClipboard as eE,fetchSingleVideo as eF,getPlayerAccuracyTier as eG,DateUtils$1 as eH,isUserDeleted as eI,redirectToApp as eJ,canShowVideoWarningMessage as eK,isScreenForInGame as eL,RedemptionQuizConfig as eM,Loading as eN,sanitizePlayerId as eO,$store as eP,isValidEmail as ea,getGameTypeDisplayNameAndIcon as eb,getOrdinalSuffix as ec,isRunningInWebview as ed,withOrdinalSuffix as ee,GoogleOneTapService$1 as ef,generateGameChangerCertificate as eg,SummaryAudio as eh,getGameOptionsForFlashcards as ei,isWindowInFullScreen as ej,StudentForumPrompter$1 as ek,cacheMediaAndExecute as el,Cookie as em,tryNativeBrowserShare as en,differenceInCalendarMonths as eo,themesToShowInOrder as ep,doesThemeRequireLogin as eq,getStreakForTheme as er,getRandomItemFromArray as es,MAP_IMAGES_ARRAY as et,GAME_OUTCOMES as eu,MINI_GAME_TYPES as ev,obstacleConfig as ew,BREAK_ROOM_ITEM_TYPE_ICONS as ex,MysticPeakPowerupsConfig as ey,LatestPowerupsConfig as ez,createCommentVNode as f,createStaticVNode as g,popScopeId as h,inject as i,_ as j,isEmpty as k,resolveDirective as l,createTextVNode as m,normalizeClass as n,openBlock as o,pushScopeId as p,normalizeStyle as q,resolveComponent as r,withKeys as s,toDisplayString as t,useRoute as u,vModelText as v,withDirectives as w,vShow as x,createVNode as y,withCtx as z};
//# sourceMappingURL=main.234397f1.js.map
